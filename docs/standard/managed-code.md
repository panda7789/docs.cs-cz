---
title: Co je spravovaný kód?
description: Přečtěte si, jak spravovaný kód je kód, jehož provádění je spravováno modulem CLR (Common Language Runtime).
ms.date: 06/20/2016
ms.technology: dotnet-standard
ms.assetid: 20bb7ea8-192e-4a96-8ef3-e10e1950fd3d
ms.openlocfilehash: 2d89fd48e4c05dc7ec7c27846a3580ee36b1886f
ms.sourcegitcommit: 33deec3e814238fb18a49b2a7e89278e27888291
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 06/02/2020
ms.locfileid: "84290081"
---
# <a name="what-is-managed-code"></a><span data-ttu-id="fb611-103">Co je spravovaný kód?</span><span class="sxs-lookup"><span data-stu-id="fb611-103">What is "managed code"?</span></span>

<span data-ttu-id="fb611-104">Při práci se .NET Framework se často setkáte s termínem "spravovaný kód".</span><span class="sxs-lookup"><span data-stu-id="fb611-104">When working with .NET Framework, you will often encounter the term "managed code".</span></span> <span data-ttu-id="fb611-105">Tento dokument vysvětluje, co tento pojem znamená a jaké jsou další informace.</span><span class="sxs-lookup"><span data-stu-id="fb611-105">This document will explain what this term means and additional information around it.</span></span>

<span data-ttu-id="fb611-106">Aby byl spravovaný kód velmi jednoduchý, je pouze ten, který: kód, jehož spuštění je spravováno modulem runtime.</span><span class="sxs-lookup"><span data-stu-id="fb611-106">To put it very simply, managed code is just that: code whose execution is managed by a runtime.</span></span> <span data-ttu-id="fb611-107">V tomto případě se za modul runtime říká modul CLR ( **Common Language Runtime** ) nebo CLR bez ohledu na implementaci ([mono](https://www.mono-project.com/) nebo .NET Framework nebo .NET Core).</span><span class="sxs-lookup"><span data-stu-id="fb611-107">In this case, the runtime in question is called the **Common Language Runtime** or CLR, regardless of the implementation ([Mono](https://www.mono-project.com/) or .NET Framework or .NET Core).</span></span> <span data-ttu-id="fb611-108">CLR má za následek přebírání spravovaného kódu, kompilování do strojového kódu a jeho následné spuštění.</span><span class="sxs-lookup"><span data-stu-id="fb611-108">CLR is in charge of taking the managed code, compiling it into machine code and then executing it.</span></span> <span data-ttu-id="fb611-109">Na základě toho modul runtime poskytuje několik důležitých služeb, jako je automatická správa paměti, hranice zabezpečení, bezpečnost typů atd.</span><span class="sxs-lookup"><span data-stu-id="fb611-109">On top of that, runtime provides several important services such as automatic memory management, security boundaries, type safety etc.</span></span>

<span data-ttu-id="fb611-110">Na rozdíl od toho, jak byste spustili program jazyka C/C++, označovaný také jako "nespravovaný kód".</span><span class="sxs-lookup"><span data-stu-id="fb611-110">Contrast this to the way you would run a C/C++ program, also called "unmanaged code".</span></span> <span data-ttu-id="fb611-111">V nespravovaném světě je programátor v platně hodně všeho.</span><span class="sxs-lookup"><span data-stu-id="fb611-111">In the unmanaged world, the programmer is in charge of pretty much everything.</span></span> <span data-ttu-id="fb611-112">Skutečný program je v podstatě binární soubor, který operační systém (OS) načte do paměti a spustí se.</span><span class="sxs-lookup"><span data-stu-id="fb611-112">The actual program is, essentially, a binary that the operating system (OS) loads into memory and starts.</span></span> <span data-ttu-id="fb611-113">Všechno ostatní, od správy paměti až po požadavky na zabezpečení, jsou režie programátora.</span><span class="sxs-lookup"><span data-stu-id="fb611-113">Everything else, from memory management to security considerations are a burden of the programmer.</span></span>

<span data-ttu-id="fb611-114">Spravovaný kód je napsán v jednom z jazyků vysoké úrovně, které lze spustit nad .NET, jako je C#, Visual Basic, F # a dalších.</span><span class="sxs-lookup"><span data-stu-id="fb611-114">Managed code is written in one of the high-level languages that can be run on top of .NET, such as C#, Visual Basic, F# and others.</span></span> <span data-ttu-id="fb611-115">Při kompilaci kódu napsaného v těchto jazycích pomocí příslušného kompilátoru nezískáte kód počítače.</span><span class="sxs-lookup"><span data-stu-id="fb611-115">When you compile code written in those languages with their respective compiler, you don’t get machine code.</span></span> <span data-ttu-id="fb611-116">Získáte kód **zprostředkujícího jazyka** , který modul runtime pak zkompiluje a spustí.</span><span class="sxs-lookup"><span data-stu-id="fb611-116">You get **Intermediate Language** code which the runtime then compiles and executes.</span></span> <span data-ttu-id="fb611-117">C++ je jedinou výjimkou z tohoto pravidla, protože může také vydávat nativní nespravované binární soubory, které běží ve Windows.</span><span class="sxs-lookup"><span data-stu-id="fb611-117">C++ is the one exception to this rule, as it can also produce native, unmanaged binaries that run on Windows.</span></span>

## <a name="intermediate-language--execution"></a><span data-ttu-id="fb611-118">Provádění zprostředkujícího jazyka &</span><span class="sxs-lookup"><span data-stu-id="fb611-118">Intermediate Language & execution</span></span>

<span data-ttu-id="fb611-119">Co je "zprostředkující jazyk" (nebo IL pro krátké)?</span><span class="sxs-lookup"><span data-stu-id="fb611-119">What is "Intermediate Language" (or IL for short)?</span></span> <span data-ttu-id="fb611-120">Jedná se o produktovou kompilaci kódu napsaného v jazycích .NET na vysoké úrovni.</span><span class="sxs-lookup"><span data-stu-id="fb611-120">It is a product of compilation of code written in high-level .NET languages.</span></span> <span data-ttu-id="fb611-121">Po zkompilování kódu napsaného v jednom z těchto jazyků získáte binární soubor, který se stane z IL.</span><span class="sxs-lookup"><span data-stu-id="fb611-121">Once you compile your code written in one of these languages, you will get a binary that is made out of IL.</span></span> <span data-ttu-id="fb611-122">Je důležité si uvědomit, že IL je nezávislý na konkrétním jazyku, který běží nad modulem runtime; pro něj je k dispozici i samostatná specifikace, kterou si můžete přečíst, pokud budete mít na starosti.</span><span class="sxs-lookup"><span data-stu-id="fb611-122">It is important to note that the IL is independent from any specific language that runs on top of the runtime; there is even a separate specification for it that you can read if you’re so inclined.</span></span>

<span data-ttu-id="fb611-123">Jakmile vytvoříte IL z vašeho kódu na nejvyšší úrovni, pravděpodobně ho budete chtít spustit.</span><span class="sxs-lookup"><span data-stu-id="fb611-123">Once you produce IL from your high-level code, you will most likely want to run it.</span></span> <span data-ttu-id="fb611-124">To je místo, kde modul CLR přebírá a spouští proces **kompilace za běhu nebo** **JIT** kódu z Il až po strojový kód, který se dá ve skutečnosti spustit na procesoru.</span><span class="sxs-lookup"><span data-stu-id="fb611-124">This is where the CLR takes over and starts the process of **Just-In-Time** compiling, or **JIT-ing** your code from IL to machine code that can actually be run on a CPU.</span></span> <span data-ttu-id="fb611-125">Tímto způsobem CLR ví přesně, co váš kód dělá, a může ho efektivně _Spravovat_ .</span><span class="sxs-lookup"><span data-stu-id="fb611-125">In this way, the CLR knows exactly what your code is doing and can effectively _manage_ it.</span></span>

<span data-ttu-id="fb611-126">Zprostředkující jazyk se někdy také označuje jako Common Intermediate Language (CIL) nebo Microsoft Intermediate Language (MSIL).</span><span class="sxs-lookup"><span data-stu-id="fb611-126">Intermediate Language is sometimes also called Common Intermediate Language (CIL) or Microsoft Intermediate Language (MSIL).</span></span>

## <a name="unmanaged-code-interoperability"></a><span data-ttu-id="fb611-127">Interoperabilita nespravovaného kódu</span><span class="sxs-lookup"><span data-stu-id="fb611-127">Unmanaged code interoperability</span></span>

<span data-ttu-id="fb611-128">Modul CLR samozřejmě umožňuje předávat hranice mezi spravovaným a nespravovaným světem a existuje velké množství kódu, který provede i v [knihovnách základních tříd](framework-libraries.md).</span><span class="sxs-lookup"><span data-stu-id="fb611-128">Of course, the CLR allows passing the boundaries between managed and unmanaged world, and there is a lot of code that does that, even in the [Base Class Libraries](framework-libraries.md).</span></span> <span data-ttu-id="fb611-129">Tato metoda se nazývá **interoperabilita** nebo se jedná o stručnou **spolupráci** .</span><span class="sxs-lookup"><span data-stu-id="fb611-129">This is called **interoperability** or just **interop** for short.</span></span> <span data-ttu-id="fb611-130">Tato ustanovení vám umožní například zabalit nespravovanou knihovnu a volat do ní.</span><span class="sxs-lookup"><span data-stu-id="fb611-130">These provisions would allow you to, for example, wrap up an unmanaged library and call into it.</span></span> <span data-ttu-id="fb611-131">Je však důležité si uvědomit, že jakmile kód přesáhne hranice modulu runtime, je skutečná správa spuštění znovu v rukou nespravovaného kódu, a proto spadá pod stejné omezení.</span><span class="sxs-lookup"><span data-stu-id="fb611-131">However, it is important to note that once you do this, when the code passes the boundaries of the runtime, the actual management of the execution is again in the hand of unmanaged code, and thus falls under the same restrictions.</span></span>

<span data-ttu-id="fb611-132">Podobně jako v jazyce C# je jeden jazyk, který umožňuje používat nespravované konstrukce, jako jsou ukazatele přímo v kódu, pomocí toho, co je známé jako **nezabezpečený kontext** , který určuje část kódu, pro kterou není modul CLR spravován.</span><span class="sxs-lookup"><span data-stu-id="fb611-132">Similar to this, C# is one language that allows you to use unmanaged constructs such as pointers directly in code by utilizing what is known as **unsafe context** which designates a piece of code for which the execution is not managed by the CLR.</span></span>

## <a name="more-resources"></a><span data-ttu-id="fb611-133">Další zdroje informací</span><span class="sxs-lookup"><span data-stu-id="fb611-133">More resources</span></span>

* [<span data-ttu-id="fb611-134">Přehled rozhraní .NET Framework</span><span class="sxs-lookup"><span data-stu-id="fb611-134">Overview of the .NET Framework</span></span>](../framework/get-started/overview.md)
* [<span data-ttu-id="fb611-135">Nezabezpečený kód a ukazatele</span><span class="sxs-lookup"><span data-stu-id="fb611-135">Unsafe Code and Pointers</span></span>](../csharp/programming-guide/unsafe-code-pointers/index.md)
* [<span data-ttu-id="fb611-136">Nativní interoperabilita</span><span class="sxs-lookup"><span data-stu-id="fb611-136">Native interoperability</span></span>](./native-interop/index.md)
