---
title: Doporučené postupy pro vývoj aplikací připravených k použití
ms.date: 03/30/2017
ms.technology: dotnet-standard
helpviewer_keywords:
- global applications, best practices
- world-ready applications, best practices
- globalization [.NET Framework], best practices
- international applications [.NET Framework], best practices
ms.assetid: f08169c7-aad8-4ec3-9a21-9ebd3b89986c
ms.openlocfilehash: f0e5ccf999b6aa96b6317b88e25f3cd9d9fbc899
ms.sourcegitcommit: 33deec3e814238fb18a49b2a7e89278e27888291
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 06/02/2020
ms.locfileid: "84279877"
---
# <a name="best-practices-for-developing-world-ready-applications"></a><span data-ttu-id="e7c8d-102">Osvědčené postupy pro vývoj aplikací připravených pro použití ve světě</span><span class="sxs-lookup"><span data-stu-id="e7c8d-102">Best practices for developing world-ready applications</span></span>

<span data-ttu-id="e7c8d-103">Tato část popisuje osvědčené postupy, které je třeba provést při vývoji aplikací připravených pro použití ve světě.</span><span class="sxs-lookup"><span data-stu-id="e7c8d-103">This section describes the best practices to follow when developing world-ready applications.</span></span>

## <a name="globalization-best-practices"></a><span data-ttu-id="e7c8d-104">Osvědčené postupy globalizace</span><span class="sxs-lookup"><span data-stu-id="e7c8d-104">Globalization best practices</span></span>

1. <span data-ttu-id="e7c8d-105">Zajistěte, aby byla aplikace Unicode interně.</span><span class="sxs-lookup"><span data-stu-id="e7c8d-105">Make your application Unicode internally.</span></span>

2. <span data-ttu-id="e7c8d-106">Použijte třídy podporující jazykovou verzi poskytované <xref:System.Globalization> oborem názvů k manipulaci s daty a jejich formátování.</span><span class="sxs-lookup"><span data-stu-id="e7c8d-106">Use the culture-aware classes provided by the <xref:System.Globalization> namespace to manipulate and format data.</span></span>

    - <span data-ttu-id="e7c8d-107">Pro řazení použijte <xref:System.Globalization.SortKey> třídu a <xref:System.Globalization.CompareInfo> třídu.</span><span class="sxs-lookup"><span data-stu-id="e7c8d-107">For sorting, use the <xref:System.Globalization.SortKey> class and the <xref:System.Globalization.CompareInfo> class.</span></span>

    - <span data-ttu-id="e7c8d-108">Pro porovnávání řetězců použijte <xref:System.Globalization.CompareInfo> třídu.</span><span class="sxs-lookup"><span data-stu-id="e7c8d-108">For string comparisons, use the <xref:System.Globalization.CompareInfo> class.</span></span>

    - <span data-ttu-id="e7c8d-109">Pro formátování data a času použijte <xref:System.Globalization.DateTimeFormatInfo> třídu.</span><span class="sxs-lookup"><span data-stu-id="e7c8d-109">For date and time formatting, use the <xref:System.Globalization.DateTimeFormatInfo> class.</span></span>

    - <span data-ttu-id="e7c8d-110">Pro formátování čísel použijte <xref:System.Globalization.NumberFormatInfo> třídu.</span><span class="sxs-lookup"><span data-stu-id="e7c8d-110">For numeric formatting, use the <xref:System.Globalization.NumberFormatInfo> class.</span></span>

    - <span data-ttu-id="e7c8d-111">U gregoriánských a negregoriánských kalendářů použijte <xref:System.Globalization.Calendar> třídu nebo jednu z konkrétních implementací kalendáře.</span><span class="sxs-lookup"><span data-stu-id="e7c8d-111">For Gregorian and non-Gregorian calendars, use the <xref:System.Globalization.Calendar> class or one of the specific calendar implementations.</span></span>

3. <span data-ttu-id="e7c8d-112">Použijte nastavení vlastností jazykové verze poskytované <xref:System.Globalization.CultureInfo?displayProperty=nameWithType> třídou v příslušných situacích.</span><span class="sxs-lookup"><span data-stu-id="e7c8d-112">Use the culture property settings provided by the <xref:System.Globalization.CultureInfo?displayProperty=nameWithType> class in the appropriate situations.</span></span> <span data-ttu-id="e7c8d-113">Použijte <xref:System.Globalization.CultureInfo.CurrentCulture%2A?displayProperty=nameWithType> vlastnost pro formátování úkolů, jako je datum a čas nebo formátování čísel.</span><span class="sxs-lookup"><span data-stu-id="e7c8d-113">Use the <xref:System.Globalization.CultureInfo.CurrentCulture%2A?displayProperty=nameWithType> property for formatting tasks, such as date and time or numeric formatting.</span></span> <span data-ttu-id="e7c8d-114"><xref:System.Globalization.CultureInfo.CurrentUICulture%2A?displayProperty=nameWithType>K načtení prostředků použijte vlastnost.</span><span class="sxs-lookup"><span data-stu-id="e7c8d-114">Use the <xref:System.Globalization.CultureInfo.CurrentUICulture%2A?displayProperty=nameWithType> property to retrieve resources.</span></span> <span data-ttu-id="e7c8d-115">Všimněte si, `CurrentCulture` že `CurrentUICulture` vlastnosti a lze nastavit na vlákno.</span><span class="sxs-lookup"><span data-stu-id="e7c8d-115">Note that the `CurrentCulture` and `CurrentUICulture` properties can be set per thread.</span></span>

4. <span data-ttu-id="e7c8d-116">Umožněte vaší aplikaci číst a zapisovat data z různých kódování pomocí tříd kódování v <xref:System.Text> oboru názvů.</span><span class="sxs-lookup"><span data-stu-id="e7c8d-116">Enable your application to read and write data to and from a variety of encodings by using the encoding classes in the <xref:System.Text> namespace.</span></span> <span data-ttu-id="e7c8d-117">Nepředpokládají data ASCII.</span><span class="sxs-lookup"><span data-stu-id="e7c8d-117">Do not assume ASCII data.</span></span> <span data-ttu-id="e7c8d-118">Předpokládá, že mezinárodní znaky budou dodány kdekoliv, kde může uživatel zadat text.</span><span class="sxs-lookup"><span data-stu-id="e7c8d-118">Assume that international characters will be supplied anywhere a user can enter text.</span></span> <span data-ttu-id="e7c8d-119">Například aplikace by měla přijímat mezinárodní znaky v názvech serverů, adresářích, názvech souborů, uživatelských jménech a adresách URL.</span><span class="sxs-lookup"><span data-stu-id="e7c8d-119">For example, the application should accept international characters in server names, directories, file names, user names, and URLs.</span></span>

5. <span data-ttu-id="e7c8d-120">Při použití <xref:System.Text.UTF8Encoding> třídy z bezpečnostních důvodů použijte funkci detekce chyb, kterou nabízí tato třída.</span><span class="sxs-lookup"><span data-stu-id="e7c8d-120">When using the <xref:System.Text.UTF8Encoding> class, for security reasons, use the error detection feature offered by this class.</span></span> <span data-ttu-id="e7c8d-121">Chcete-li zapnout funkci detekce chyb, vytvořte instanci třídy pomocí konstruktoru, který převezme `throwOnInvalidBytes` parametr a nastavte hodnotu tohoto parametru na `true` .</span><span class="sxs-lookup"><span data-stu-id="e7c8d-121">To turn on the error detection feature, create an instance of the class using the constructor that takes a `throwOnInvalidBytes` parameter and set the value of this parameter to `true`.</span></span>

6. <span data-ttu-id="e7c8d-122">Kdykoli je to možné, zpracujte řetězce jako celé řetězce namísto řady jednotlivých znaků.</span><span class="sxs-lookup"><span data-stu-id="e7c8d-122">Whenever possible, handle strings as entire strings instead of as a series of individual characters.</span></span> <span data-ttu-id="e7c8d-123">To je obzvláště důležité při řazení nebo hledání podřetězců.</span><span class="sxs-lookup"><span data-stu-id="e7c8d-123">This is especially important when sorting or searching for substrings.</span></span> <span data-ttu-id="e7c8d-124">Tím zabráníte problémům spojeným s analýzou kombinovaných znaků.</span><span class="sxs-lookup"><span data-stu-id="e7c8d-124">This will prevent problems associated with parsing combined characters.</span></span> <span data-ttu-id="e7c8d-125">Můžete také pracovat s jednotkami textu namísto jednotlivých znaků pomocí <xref:System.Globalization.StringInfo?displayProperty=nameWithType> třídy.</span><span class="sxs-lookup"><span data-stu-id="e7c8d-125">You can also work with units of text rather than single characters by using the <xref:System.Globalization.StringInfo?displayProperty=nameWithType> class.</span></span>

7. <span data-ttu-id="e7c8d-126">Zobrazí text pomocí tříd poskytovaných <xref:System.Drawing> oborem názvů.</span><span class="sxs-lookup"><span data-stu-id="e7c8d-126">Display text using the classes provided by the <xref:System.Drawing> namespace.</span></span>

8. <span data-ttu-id="e7c8d-127">Pro konzistenci mezi operačními systémy nepovolujte uživatelské nastavení k přepsání <xref:System.Globalization.CultureInfo> .</span><span class="sxs-lookup"><span data-stu-id="e7c8d-127">For consistency across operating systems, do not allow user settings to override <xref:System.Globalization.CultureInfo>.</span></span> <span data-ttu-id="e7c8d-128">Použijte `CultureInfo` konstruktor, který přijímá `useUserOverride` parametr a nastavte jej na `false` .</span><span class="sxs-lookup"><span data-stu-id="e7c8d-128">Use the `CultureInfo` constructor that accepts a `useUserOverride` parameter and set it to `false`.</span></span>

9. <span data-ttu-id="e7c8d-129">Otestujte funkčnost aplikace na mezinárodních verzích operačního systému pomocí mezinárodních dat.</span><span class="sxs-lookup"><span data-stu-id="e7c8d-129">Test your application functionality on international operating system versions, using international data.</span></span>

10. <span data-ttu-id="e7c8d-130">Je-li rozhodnutí o zabezpečení založeno na výsledku porovnání řetězců nebo operaci změny velikosti písmen, použijte operaci s řetězci nezávislou na jazykové verzi.</span><span class="sxs-lookup"><span data-stu-id="e7c8d-130">If a security decision is based on the result of a string comparison or case change operation, use a culture-insensitive string operation.</span></span> <span data-ttu-id="e7c8d-131">Tento postup zajišťuje, že výsledek není ovlivněn hodnotou `CultureInfo.CurrentCulture` .</span><span class="sxs-lookup"><span data-stu-id="e7c8d-131">This practice ensures that the result is not affected by the value of `CultureInfo.CurrentCulture`.</span></span> <span data-ttu-id="e7c8d-132">Viz ["porovnání řetězců, které používají aktuální jazykovou verzi"](../base-types/best-practices-strings.md#string-comparisons-that-use-the-current-culture) v tématu [osvědčené postupy pro použití řetězců](../base-types/best-practices-strings.md) pro příklad, který ukazuje, jak porovnávání řetězců závislé na jazykové verzi může způsobit nekonzistentní výsledky.</span><span class="sxs-lookup"><span data-stu-id="e7c8d-132">See the ["String Comparisons that Use the Current Culture"](../base-types/best-practices-strings.md#string-comparisons-that-use-the-current-culture) section of [Best Practices for Using Strings](../base-types/best-practices-strings.md) for an example that demonstrates how culture-sensitive string comparisons can produce inconsistent results.</span></span>

## <a name="localization-best-practices"></a><span data-ttu-id="e7c8d-133">Osvědčené postupy lokalizace</span><span class="sxs-lookup"><span data-stu-id="e7c8d-133">Localization best practices</span></span>

1. <span data-ttu-id="e7c8d-134">Přesuňte všechny lokalizovatelné prostředky do samostatných knihoven DLL pouze prostředků.</span><span class="sxs-lookup"><span data-stu-id="e7c8d-134">Move all localizable resources to separate resource-only DLLs.</span></span> <span data-ttu-id="e7c8d-135">Lokalizovatelné prostředky zahrnují prvky uživatelského rozhraní, jako jsou například řetězce, chybové zprávy, dialogová okna, nabídky a prostředky vloženého objektu.</span><span class="sxs-lookup"><span data-stu-id="e7c8d-135">Localizable resources include user interface elements, such as strings, error messages, dialog boxes, menus, and embedded object resources.</span></span>

2. <span data-ttu-id="e7c8d-136">Nenekódujte pevně řetězce nebo prostředky uživatelského rozhraní.</span><span class="sxs-lookup"><span data-stu-id="e7c8d-136">Do not hardcode strings or user interface resources.</span></span>

3. <span data-ttu-id="e7c8d-137">Neumísťujte nelokalizovatelné prostředky do knihoven DLL pouze prostředků.</span><span class="sxs-lookup"><span data-stu-id="e7c8d-137">Do not put nonlocalizable resources into the resource-only DLLs.</span></span> <span data-ttu-id="e7c8d-138">To způsobuje nejasnost pro překladatele.</span><span class="sxs-lookup"><span data-stu-id="e7c8d-138">This causes confusion for translators.</span></span>

4. <span data-ttu-id="e7c8d-139">Nepoužívejte složené řetězce, které jsou vytvořeny v době běhu ze zřetězených frází.</span><span class="sxs-lookup"><span data-stu-id="e7c8d-139">Do not use composite strings that are built at run time from concatenated phrases.</span></span> <span data-ttu-id="e7c8d-140">Složené řetězce je obtížné lokalizovat, protože často předpokládají anglickou gramatickou objednávku, která se nevztahuje na všechny jazyky.</span><span class="sxs-lookup"><span data-stu-id="e7c8d-140">Composite strings are difficult to localize because they often assume an English grammatical order that does not apply to all languages.</span></span>

5. <span data-ttu-id="e7c8d-141">Vyhněte se nejednoznačným konstrukcím, jako je "prázdná složka", kde lze řetězce přeložit různě v závislosti na gramatických rolích komponent řetězce.</span><span class="sxs-lookup"><span data-stu-id="e7c8d-141">Avoid ambiguous constructs such as "Empty Folder" where the strings can be translated differently depending on the grammatical roles of the string components.</span></span> <span data-ttu-id="e7c8d-142">Například "Empty" může být buď operace, nebo adjektivum, což může vést k různým překlady v jazycích, jako je italština nebo francouzština.</span><span class="sxs-lookup"><span data-stu-id="e7c8d-142">For example, "empty" can be either a verb or an adjective, which can lead to different translations in languages such as Italian or French.</span></span>

6. <span data-ttu-id="e7c8d-143">Vyhněte se použití obrázků a ikon, které obsahují text v aplikaci.</span><span class="sxs-lookup"><span data-stu-id="e7c8d-143">Avoid using images and icons that contain text in your application.</span></span> <span data-ttu-id="e7c8d-144">Je náročné je lokalizovat.</span><span class="sxs-lookup"><span data-stu-id="e7c8d-144">They are expensive to localize.</span></span>

7. <span data-ttu-id="e7c8d-145">Povolí dostatek místa pro rozšíření řetězců v uživatelském rozhraní na délku.</span><span class="sxs-lookup"><span data-stu-id="e7c8d-145">Allow plenty of room for the length of strings to expand in the user interface.</span></span> <span data-ttu-id="e7c8d-146">V některých jazycích můžou fráze vyžadovat 50-75 procent více místa, než potřebují v jiných jazycích.</span><span class="sxs-lookup"><span data-stu-id="e7c8d-146">In some languages, phrases can require 50-75 percent more space than they need in other languages.</span></span>

8. <span data-ttu-id="e7c8d-147">Použijte <xref:System.Resources.ResourceManager?displayProperty=nameWithType> třídu pro načtení prostředků na základě jazykové verze.</span><span class="sxs-lookup"><span data-stu-id="e7c8d-147">Use the <xref:System.Resources.ResourceManager?displayProperty=nameWithType> class to retrieve resources based on culture.</span></span>

9. <span data-ttu-id="e7c8d-148">Pomocí sady [Visual Studio](https://visualstudio.microsoft.com/vs/?utm_medium=microsoft&utm_source=docs.microsoft.com&utm_campaign=inline+link) můžete vytvářet model Windows Forms dialogová okna, aby je bylo možné lokalizovat pomocí [editoru model Windows Forms prostředků (Winres. exe)](../../framework/tools/winres-exe-windows-forms-resource-editor.md).</span><span class="sxs-lookup"><span data-stu-id="e7c8d-148">Use [Visual Studio](https://visualstudio.microsoft.com/vs/?utm_medium=microsoft&utm_source=docs.microsoft.com&utm_campaign=inline+link) to create Windows Forms dialog boxes so they can be localized using the [Windows Forms Resource Editor (Winres.exe)](../../framework/tools/winres-exe-windows-forms-resource-editor.md).</span></span> <span data-ttu-id="e7c8d-149">Nevytvářejte kód model Windows Forms dialogová okna ručně.</span><span class="sxs-lookup"><span data-stu-id="e7c8d-149">Do not code Windows Forms dialog boxes by hand.</span></span>

10. <span data-ttu-id="e7c8d-150">Uspořádejte pro profesionální lokalizaci (překlad).</span><span class="sxs-lookup"><span data-stu-id="e7c8d-150">Arrange for professional localization (translation).</span></span>

11. <span data-ttu-id="e7c8d-151">Úplný popis vytváření a lokalizace prostředků najdete v tématu [prostředky v aplikacích](../../framework/resources/index.md).</span><span class="sxs-lookup"><span data-stu-id="e7c8d-151">For a complete description of creating and localizing resources, see [Resources in Applications](../../framework/resources/index.md).</span></span>

## <a name="globalization-best-practices-for-aspnet-applications"></a><span data-ttu-id="e7c8d-152">Osvědčené postupy globalizace pro aplikace ASP.NET</span><span class="sxs-lookup"><span data-stu-id="e7c8d-152">Globalization best practices for ASP.NET applications</span></span>

1. <span data-ttu-id="e7c8d-153">Explicitně nastavte <xref:System.Globalization.CultureInfo.CurrentUICulture%2A> vlastnosti a <xref:System.Globalization.CultureInfo.CurrentCulture%2A> ve vaší aplikaci.</span><span class="sxs-lookup"><span data-stu-id="e7c8d-153">Explicitly set the <xref:System.Globalization.CultureInfo.CurrentUICulture%2A> and <xref:System.Globalization.CultureInfo.CurrentCulture%2A> properties in your application.</span></span> <span data-ttu-id="e7c8d-154">Nespoléhá se na výchozí hodnoty.</span><span class="sxs-lookup"><span data-stu-id="e7c8d-154">Do not rely on defaults.</span></span>

2. <span data-ttu-id="e7c8d-155">Všimněte si, že aplikace ASP.NET jsou spravované aplikace, a proto mohou používat stejné třídy jako jiné spravované aplikace pro načítání, zobrazování a manipulaci s informacemi na základě jazykové verze.</span><span class="sxs-lookup"><span data-stu-id="e7c8d-155">Note that ASP.NET applications are managed applications and therefore can use the same classes as other managed applications for retrieving, displaying, and manipulating information based on culture.</span></span>

3. <span data-ttu-id="e7c8d-156">Mějte na paměti, že v ASP.NET můžete zadat následující tři typy kódování:</span><span class="sxs-lookup"><span data-stu-id="e7c8d-156">Be aware that you can specify the following three types of encodings in ASP.NET:</span></span>

    - <span data-ttu-id="e7c8d-157">requestEncoding určuje kódování přijaté z prohlížeče klienta.</span><span class="sxs-lookup"><span data-stu-id="e7c8d-157">requestEncoding specifies the encoding received from the client's browser.</span></span>

    - <span data-ttu-id="e7c8d-158">responseEncoding určuje kódování, které se odešle do prohlížeče klienta.</span><span class="sxs-lookup"><span data-stu-id="e7c8d-158">responseEncoding specifies the encoding to send to the client browser.</span></span> <span data-ttu-id="e7c8d-159">Ve většině případů by toto kódování mělo být stejné, jako je určeno pro requestEncoding.</span><span class="sxs-lookup"><span data-stu-id="e7c8d-159">In most situations, this encoding should be the same as that specified for requestEncoding.</span></span>

    - <span data-ttu-id="e7c8d-160">Kódování souboru určuje výchozí kódování pro analýzu souborů. aspx,. asmx a. asax.</span><span class="sxs-lookup"><span data-stu-id="e7c8d-160">fileEncoding specifies the default encoding for .aspx, .asmx, and .asax file parsing.</span></span>

4. <span data-ttu-id="e7c8d-161">Zadejte hodnoty pro atributy requestEncoding, responseEncoding, Encoding, Culture a uiCulture na následujících třech místech aplikace ASP.NET:</span><span class="sxs-lookup"><span data-stu-id="e7c8d-161">Specify the values for the requestEncoding, responseEncoding, fileEncoding, culture, and uiCulture attributes in the following three places in an ASP.NET application:</span></span>

    - <span data-ttu-id="e7c8d-162">V sekci globalizace v souboru Web. config.</span><span class="sxs-lookup"><span data-stu-id="e7c8d-162">In the globalization section of a Web.config file.</span></span> <span data-ttu-id="e7c8d-163">Tento soubor je z aplikace ASP.NET externí.</span><span class="sxs-lookup"><span data-stu-id="e7c8d-163">This file is external to the ASP.NET application.</span></span> <span data-ttu-id="e7c8d-164">Další informace naleznete v tématu [ \<globalization> element](https://docs.microsoft.com/previous-versions/dotnet/netframework-4.0/hy4kkhe0(v=vs.100)).</span><span class="sxs-lookup"><span data-stu-id="e7c8d-164">For more information, see [\<globalization> Element](https://docs.microsoft.com/previous-versions/dotnet/netframework-4.0/hy4kkhe0(v=vs.100)).</span></span>

    - <span data-ttu-id="e7c8d-165">V direktivě stránky.</span><span class="sxs-lookup"><span data-stu-id="e7c8d-165">In a page directive.</span></span> <span data-ttu-id="e7c8d-166">Všimněte si, že když je aplikace na stránce, soubor již byl přečten.</span><span class="sxs-lookup"><span data-stu-id="e7c8d-166">Note that, when an application is in a page, the file has already been read.</span></span> <span data-ttu-id="e7c8d-167">Proto je příliš pozdě zadat kódování a requestEncoding.</span><span class="sxs-lookup"><span data-stu-id="e7c8d-167">Therefore, it is too late to specify fileEncoding and requestEncoding.</span></span> <span data-ttu-id="e7c8d-168">V direktivě stránky lze zadat pouze uiCulture, Culture a responseEncoding.</span><span class="sxs-lookup"><span data-stu-id="e7c8d-168">Only uiCulture, Culture, and responseEncoding can be specified in a page directive.</span></span>

    - <span data-ttu-id="e7c8d-169">Programově v kódu aplikace.</span><span class="sxs-lookup"><span data-stu-id="e7c8d-169">Programmatically in application code.</span></span> <span data-ttu-id="e7c8d-170">Toto nastavení se může u jednotlivých požadavků lišit.</span><span class="sxs-lookup"><span data-stu-id="e7c8d-170">This setting can vary per request.</span></span> <span data-ttu-id="e7c8d-171">Stejně jako u direktivy stránky, v době, kdy je dosaženo kódu aplikace, je příliš pozdě zadat kódování a requestEncoding.</span><span class="sxs-lookup"><span data-stu-id="e7c8d-171">As with a page directive, by the time the application's code is reached it is too late to specify fileEncoding and requestEncoding.</span></span> <span data-ttu-id="e7c8d-172">V kódu aplikace lze zadat pouze uiCulture, Culture a responseEncoding.</span><span class="sxs-lookup"><span data-stu-id="e7c8d-172">Only uiCulture, Culture, and responseEncoding can be specified in application code.</span></span>

5. <span data-ttu-id="e7c8d-173">Všimněte si, že hodnota uiCulture může být nastavena na jazyk přijmout prohlížeč.</span><span class="sxs-lookup"><span data-stu-id="e7c8d-173">Note that the uiCulture value can be set to the browser accept language.</span></span>

## <a name="see-also"></a><span data-ttu-id="e7c8d-174">Viz také</span><span class="sxs-lookup"><span data-stu-id="e7c8d-174">See also</span></span>

- [<span data-ttu-id="e7c8d-175">Globalizace a lokalizace</span><span class="sxs-lookup"><span data-stu-id="e7c8d-175">Globalization and Localization</span></span>](index.md)
- [<span data-ttu-id="e7c8d-176">Prostředky v aplikacích klasické pracovní plochy</span><span class="sxs-lookup"><span data-stu-id="e7c8d-176">Resources in Desktop Apps</span></span>](../../framework/resources/index.md)
