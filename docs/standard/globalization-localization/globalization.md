---
title: Globalizace
ms.date: 03/30/2017
ms.technology: dotnet-standard
dev_langs:
- csharp
- vb
helpviewer_keywords:
- globalization [.NET Framework], about globalization
- global applications, globalization
- international applications [.NET Framework], globalization
- world-ready applications, globalization
- application development [.NET Framework], globalization
- culture, globalization
ms.assetid: 4e919934-6b19-42f2-b770-275a4fae87c9
ms.openlocfilehash: adc617362cf3ba07ff63f1095968e2bd88df88d9
ms.sourcegitcommit: 33deec3e814238fb18a49b2a7e89278e27888291
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 06/02/2020
ms.locfileid: "84291913"
---
# <a name="globalization"></a><span data-ttu-id="de345-102">Globalizace</span><span class="sxs-lookup"><span data-stu-id="de345-102">Globalization</span></span>

<span data-ttu-id="de345-103">Globalizace zahrnuje návrh a vývoj špičkové aplikace, které podporují lokalizované rozhraní a regionální data pro uživatele v různých jazykových verzích.</span><span class="sxs-lookup"><span data-stu-id="de345-103">Globalization involves designing and developing a world-ready app that supports localized interfaces and regional data for users in multiple cultures.</span></span> <span data-ttu-id="de345-104">Před zahájením fáze návrhu byste měli určit, které kultury bude vaše aplikace podporovat.</span><span class="sxs-lookup"><span data-stu-id="de345-104">Before beginning the design phase, you should determine which cultures your app will support.</span></span> <span data-ttu-id="de345-105">I když aplikace cílí na jednu jazykovou verzi nebo oblast jako výchozí, můžete ji navrhnout a zapsat, aby ji bylo možné snadno rozšířit na uživatele v jiných jazykových verzích nebo oblastech.</span><span class="sxs-lookup"><span data-stu-id="de345-105">Although an app targets a single culture or region as its default, you can design and write it so that it can easily be extended to users in other cultures or regions.</span></span>

<span data-ttu-id="de345-106">Jako vývojáři máme všechny předpoklady o uživatelských rozhraních a datech, která jsou vytvořená v naší jazykové verzi.</span><span class="sxs-lookup"><span data-stu-id="de345-106">As developers, we all have assumptions about user interfaces and data that are formed by our cultures.</span></span> <span data-ttu-id="de345-107">Například pro vývojáře v angličtině, který je v USA pro angličtinu, je serializace dat data a času jako řetězec ve formátu `MM/dd/yyyy hh:mm:ss` dokonale přiměřená.</span><span class="sxs-lookup"><span data-stu-id="de345-107">For example, for an English-speaking developer in the United States, serializing date and time data as a string in the format `MM/dd/yyyy hh:mm:ss` seems perfectly reasonable.</span></span> <span data-ttu-id="de345-108">Deserializace tohoto řetězce v systému v jiné jazykové verzi však může vyvolat <xref:System.FormatException> výjimku nebo vytvořit nepřesná data.</span><span class="sxs-lookup"><span data-stu-id="de345-108">However, deserializing that string on a system in a different culture is likely to throw a <xref:System.FormatException> exception or produce inaccurate data.</span></span> <span data-ttu-id="de345-109">Globalizace nám umožňuje identifikovat takové předpoklady specifické pro jazykovou verzi a zajistit, aby neovlivnily návrh nebo kód naší aplikace.</span><span class="sxs-lookup"><span data-stu-id="de345-109">Globalization enables us to identify such culture-specific assumptions and ensure that they do not affect our app's design or code.</span></span>

<span data-ttu-id="de345-110">Tento článek popisuje některé hlavní problémy, které byste měli vzít v úvahu, a osvědčené postupy, které můžete sledovat při zpracování řetězců, hodnot data a času a číselných hodnot v globální aplikaci.</span><span class="sxs-lookup"><span data-stu-id="de345-110">This article discusses some of the major issues you should consider and the best practices you can follow when handling strings, date and time values, and numeric values in a globalized app.</span></span>

## <a name="strings"></a><span data-ttu-id="de345-111">Řetězce</span><span class="sxs-lookup"><span data-stu-id="de345-111">Strings</span></span>

<span data-ttu-id="de345-112">Zpracování znaků a řetězců je centrální soustředění na globalizaci, protože každá jazyková verze nebo oblast může používat jiné znaky a znakové sady a řadit je odlišně.</span><span class="sxs-lookup"><span data-stu-id="de345-112">The handling of characters and strings is a central focus of globalization, because each culture or region may use different characters and character sets and sort them differently.</span></span> <span data-ttu-id="de345-113">V této části najdete doporučení pro použití řetězců v globálních aplikacích.</span><span class="sxs-lookup"><span data-stu-id="de345-113">This section provides recommendations for using strings in globalized apps.</span></span>

### <a name="use-unicode-internally"></a><span data-ttu-id="de345-114">Interně používejte Unicode</span><span class="sxs-lookup"><span data-stu-id="de345-114">Use Unicode internally</span></span>

<span data-ttu-id="de345-115">Ve výchozím nastavení používá .NET řetězce Unicode.</span><span class="sxs-lookup"><span data-stu-id="de345-115">By default, .NET uses Unicode strings.</span></span> <span data-ttu-id="de345-116">Řetězec Unicode se skládá z nuly, jednoho nebo více <xref:System.Char> objektů, z nichž každý představuje jednotku kódu UTF-16.</span><span class="sxs-lookup"><span data-stu-id="de345-116">A Unicode string consists of zero, one, or more <xref:System.Char> objects, each of which represents a UTF-16 code unit.</span></span> <span data-ttu-id="de345-117">V každé znakové sadě, která se používá po celém světě, je reprezentace v kódování Unicode pro téměř každý znak.</span><span class="sxs-lookup"><span data-stu-id="de345-117">There is a Unicode representation for almost every character in every character set in use throughout the world.</span></span>

<span data-ttu-id="de345-118">Mnoho aplikací a operačních systémů, včetně operačního systému Windows, může použít také znakové stránky pro reprezentaci znakových sad.</span><span class="sxs-lookup"><span data-stu-id="de345-118">Many applications and operating systems, including the Windows operating system, can use also use code pages to represent character sets.</span></span> <span data-ttu-id="de345-119">Znakové stránky obvykle obsahují standardní hodnoty ASCII od 0x00 do 0x7F a mapují jiné znaky na zbývající hodnoty od 0x80 do 0xFF.</span><span class="sxs-lookup"><span data-stu-id="de345-119">Code pages typically contain the standard ASCII values from 0x00 through 0x7F and map other characters to the remaining values from 0x80 through 0xFF.</span></span> <span data-ttu-id="de345-120">Interpretace hodnot od 0x80 do 0xFF závisí na konkrétní znakové stránce.</span><span class="sxs-lookup"><span data-stu-id="de345-120">The interpretation of values from 0x80 through 0xFF depends on the specific code page.</span></span> <span data-ttu-id="de345-121">Z tohoto důvodu byste se měli vyhnout použití znakových stránek v globální aplikaci, pokud je to možné.</span><span class="sxs-lookup"><span data-stu-id="de345-121">Because of this, you should avoid using code pages in a globalized app if possible.</span></span>

<span data-ttu-id="de345-122">Následující příklad znázorňuje nebezpečí interpretace dat znakové stránky, pokud je výchozí znaková stránka v systému odlišná od znakové stránky, na které byla data uložena.</span><span class="sxs-lookup"><span data-stu-id="de345-122">The following example illustrates the dangers of interpreting code page data when the default code page on a system is different from the code page on which the data was saved.</span></span> <span data-ttu-id="de345-123">(Pro simulaci tohoto scénáře, příklad explicitně určuje různé znakové stránky.) Nejprve příklad definuje pole, které obsahuje velká písmena řecké abecedy.</span><span class="sxs-lookup"><span data-stu-id="de345-123">(To simulate this scenario, the example explicitly specifies different code pages.) First, the example defines an array that consists of the uppercase characters of the Greek alphabet.</span></span> <span data-ttu-id="de345-124">Zakóduje je do bajtového pole pomocí znakové stránky 737 (označované také jako MS-DOS řečtina) a ukládá pole bajtů do souboru.</span><span class="sxs-lookup"><span data-stu-id="de345-124">It encodes them into a byte array by using code page 737 (also known as MS-DOS Greek) and saves the byte array to a file.</span></span> <span data-ttu-id="de345-125">Pokud je soubor načten a jeho bajtové pole je dekódovat pomocí znakové stránky 737, původní znaky budou obnoveny.</span><span class="sxs-lookup"><span data-stu-id="de345-125">If the file is retrieved and its byte array is decoded by using code page 737, the original characters are restored.</span></span> <span data-ttu-id="de345-126">Pokud je však soubor načten a jeho bajtové pole je dekódovat pomocí znakové stránky 1252 (nebo Windows-1252, která představuje znaky v abecední abecedě), jsou původní znaky ztraceny.</span><span class="sxs-lookup"><span data-stu-id="de345-126">However, if the file is retrieved and its byte array is decoded by using code page 1252 (or Windows-1252, which represents characters in the Latin alphabet), the original characters are lost.</span></span>

[!code-csharp[Conceptual.Globalization#1](../../../samples/snippets/csharp/VS_Snippets_CLR/conceptual.globalization/cs/codepages1.cs#1)]
[!code-vb[Conceptual.Globalization#1](../../../samples/snippets/visualbasic/VS_Snippets_CLR/conceptual.globalization/vb/codepages1.vb#1)]

<span data-ttu-id="de345-127">Použití kódování Unicode zajistí, že stejné jednotky kódu vždy budou namapovány na stejné znaky a že stejné znaky vždy budou namapovány na stejná Bajtová pole.</span><span class="sxs-lookup"><span data-stu-id="de345-127">The use of Unicode ensures that the same code units always map to the same characters, and that the same characters always map to the same byte arrays.</span></span>

### <a name="use-resource-files"></a><span data-ttu-id="de345-128">Použití souborů prostředků</span><span class="sxs-lookup"><span data-stu-id="de345-128">Use resource files</span></span>

<span data-ttu-id="de345-129">I když vyvíjíte aplikaci, která se zaměřuje na jednu jazykovou verzi nebo oblast, měli byste použít soubory prostředků k ukládání řetězců a dalších prostředků, které se zobrazí v uživatelském rozhraní.</span><span class="sxs-lookup"><span data-stu-id="de345-129">Even if you are developing an app that targets a single culture or region, you should use resource files to store strings and other resources that are displayed in the user interface.</span></span> <span data-ttu-id="de345-130">Nikdy byste je neměli přidávat přímo do kódu.</span><span class="sxs-lookup"><span data-stu-id="de345-130">You should never add them directly to your code.</span></span> <span data-ttu-id="de345-131">Použití souborů prostředků má několik výhod:</span><span class="sxs-lookup"><span data-stu-id="de345-131">Using resource files has a number of advantages:</span></span>

- <span data-ttu-id="de345-132">Všechny řetězce jsou v jednom umístění.</span><span class="sxs-lookup"><span data-stu-id="de345-132">All the strings are in a single location.</span></span> <span data-ttu-id="de345-133">Nemusíte hledat v celém zdrojovém kódu, abyste mohli identifikovat řetězce, které se mají upravit pro konkrétní jazyk nebo jazykovou verzi.</span><span class="sxs-lookup"><span data-stu-id="de345-133">You don't have to search throughout your source code to identify strings to modify for a specific language or culture.</span></span>

- <span data-ttu-id="de345-134">Nemusíte duplikovat řetězce.</span><span class="sxs-lookup"><span data-stu-id="de345-134">There is no need to duplicate strings.</span></span> <span data-ttu-id="de345-135">Vývojáři, kteří nepoužívají soubory prostředků, často nadefinují stejný řetězec ve více souborech zdrojového kódu.</span><span class="sxs-lookup"><span data-stu-id="de345-135">Developers who don't use resource files often define the same string in multiple source code files.</span></span> <span data-ttu-id="de345-136">Tato duplicita zvyšuje pravděpodobnost, že jedna nebo více instancí bude při úpravě řetězce přehledáno.</span><span class="sxs-lookup"><span data-stu-id="de345-136">This duplication increases the probability that one or more instances will be overlooked when a string is modified.</span></span>

- <span data-ttu-id="de345-137">Do souboru prostředků můžete zahrnout neřetězcové prostředky, jako jsou obrázky nebo binární data, místo jejich uložení do samostatného samostatného souboru, aby je bylo možné snadno načíst.</span><span class="sxs-lookup"><span data-stu-id="de345-137">You can include non-string resources, such as images or binary data, in the resource file instead of storing them in a separate standalone file, so they can be retrieved easily.</span></span>

<span data-ttu-id="de345-138">Použití souborů prostředků má zvláštní výhody, pokud vytváříte lokalizovanou aplikaci.</span><span class="sxs-lookup"><span data-stu-id="de345-138">Using resource files has particular advantages if you are creating a localized app.</span></span> <span data-ttu-id="de345-139">Při nasazení prostředků do satelitních sestavení modul CLR (Common Language Runtime) automaticky vybere prostředky odpovídající jazykové verzi na základě aktuální jazykové verze uživatelského rozhraní uživatele, jak je definováno <xref:System.Globalization.CultureInfo.CurrentUICulture%2A?displayProperty=nameWithType> vlastností.</span><span class="sxs-lookup"><span data-stu-id="de345-139">When you deploy resources in satellite assemblies, the common language runtime automatically selects a culture-appropriate resource based on the user's current UI culture as defined by the <xref:System.Globalization.CultureInfo.CurrentUICulture%2A?displayProperty=nameWithType> property.</span></span> <span data-ttu-id="de345-140">Pokud zadáte vhodný prostředek specifický pro jazykovou verzi a správně vytvoříte instanci <xref:System.Resources.ResourceManager> objektu nebo použijete třídu prostředků se silnými typy, modul runtime zpracuje podrobnosti o načítání příslušných prostředků.</span><span class="sxs-lookup"><span data-stu-id="de345-140">As long as you provide an appropriate culture-specific resource and correctly instantiate a <xref:System.Resources.ResourceManager> object or use a strongly typed resource class, the runtime handles the details of retrieving the appropriate resources.</span></span>

<span data-ttu-id="de345-141">Další informace o vytváření souborů prostředků najdete v tématu [vytváření souborů prostředků](../../framework/resources/creating-resource-files-for-desktop-apps.md).</span><span class="sxs-lookup"><span data-stu-id="de345-141">For more information about creating resource files, see [Creating Resource Files](../../framework/resources/creating-resource-files-for-desktop-apps.md).</span></span> <span data-ttu-id="de345-142">Informace o vytváření a nasazování satelitních sestavení naleznete v tématu [Vytváření satelitních sestavení](../../framework/resources/creating-satellite-assemblies-for-desktop-apps.md) a [balení a nasazení prostředků](../../framework/resources/packaging-and-deploying-resources-in-desktop-apps.md).</span><span class="sxs-lookup"><span data-stu-id="de345-142">For information about creating and deploying satellite assemblies, see [Creating Satellite Assemblies](../../framework/resources/creating-satellite-assemblies-for-desktop-apps.md) and [Packaging and Deploying Resources](../../framework/resources/packaging-and-deploying-resources-in-desktop-apps.md).</span></span>

### <a name="search-and-compare-strings"></a><span data-ttu-id="de345-143">Hledat a porovnat řetězce</span><span class="sxs-lookup"><span data-stu-id="de345-143">Search and compare strings</span></span>

<span data-ttu-id="de345-144">Kdykoli je to možné, byste měli zpracovávat řetězce jako celé řetězce místo jejich zpracování jako řady jednotlivých znaků.</span><span class="sxs-lookup"><span data-stu-id="de345-144">Whenever possible, you should handle strings as entire strings instead of handling them as a series of individual characters.</span></span> <span data-ttu-id="de345-145">To je obzvláště důležité při řazení nebo hledání podřetězců, aby nedocházelo k problémům spojeným s analýzou kombinovaných znaků.</span><span class="sxs-lookup"><span data-stu-id="de345-145">This is especially important when you sort or search for substrings, to prevent problems associated with parsing combined characters.</span></span>

> [!TIP]
> <span data-ttu-id="de345-146">Třídu lze použít <xref:System.Globalization.StringInfo> pro práci s textovými prvky namísto jednotlivých znaků v řetězci.</span><span class="sxs-lookup"><span data-stu-id="de345-146">You can use the <xref:System.Globalization.StringInfo> class to work with the text elements rather than the individual characters in a string.</span></span>

<span data-ttu-id="de345-147">V případě vyhledávání a porovnávání řetězců je běžné omylem zacházet s řetězcem jako s kolekcí znaků, z nichž každý je reprezentován <xref:System.Char> objektem.</span><span class="sxs-lookup"><span data-stu-id="de345-147">In string searches and comparisons, a common mistake is to treat the string as a collection of characters, each of which is represented by a <xref:System.Char> object.</span></span> <span data-ttu-id="de345-148">Ve skutečnosti může být jeden znak tvořen jedním, dvěma nebo více <xref:System.Char> objekty.</span><span class="sxs-lookup"><span data-stu-id="de345-148">In fact, a single character may be formed by one, two, or more <xref:System.Char> objects.</span></span> <span data-ttu-id="de345-149">Tyto znaky se nejčastěji nacházejí v řetězcích z kultur, jejichž abecedy se skládají z znaků mimo rozsah znaků Latinské úrovně Basic v kódování Unicode (U + 0021 až U + 007E).</span><span class="sxs-lookup"><span data-stu-id="de345-149">Such characters are found most frequently in strings from cultures whose alphabets consist of characters outside the Unicode Basic Latin character range (U+0021 through U+007E).</span></span> <span data-ttu-id="de345-150">Následující příklad se pokusí najít index pro velké písmeno latinky A s ČÁRKou (U + 00C0) v řetězci.</span><span class="sxs-lookup"><span data-stu-id="de345-150">The following example tries to find the index of the LATIN CAPITAL LETTER A WITH GRAVE character (U+00C0) in a string.</span></span> <span data-ttu-id="de345-151">Tento znak však může být reprezentován dvěma různými způsoby: jako jednou jednotkou kódu (U + 00C0) nebo jako složený znak (dvě jednotky kódu: U + 0041 a U + 0300).</span><span class="sxs-lookup"><span data-stu-id="de345-151">However, this character can be represented in two different ways: as a single code unit (U+00C0) or as a composite character (two code units: U+0041 and U+0300).</span></span> <span data-ttu-id="de345-152">V tomto případě je znak reprezentován v instanci řetězce pomocí dvou <xref:System.Char> objektů, U + 0041 a u + 0300.</span><span class="sxs-lookup"><span data-stu-id="de345-152">In this case, the character is represented in the string instance by two <xref:System.Char> objects, U+0041 and U+0300.</span></span> <span data-ttu-id="de345-153">Vzorový kód volá rozhraní <xref:System.String.IndexOf%28System.Char%29?displayProperty=nameWithType> a <xref:System.String.IndexOf%28System.String%29?displayProperty=nameWithType> přetížení k nalezení pozice tohoto znaku v instanci řetězce, ale vrací různé výsledky.</span><span class="sxs-lookup"><span data-stu-id="de345-153">The example code calls the <xref:System.String.IndexOf%28System.Char%29?displayProperty=nameWithType> and <xref:System.String.IndexOf%28System.String%29?displayProperty=nameWithType> overloads to find the position of this character in the string instance, but these return different results.</span></span> <span data-ttu-id="de345-154">První volání metody má <xref:System.Char> argument, provádí ordinální porovnávání, a proto nemůže najít shodu.</span><span class="sxs-lookup"><span data-stu-id="de345-154">The first method call has a <xref:System.Char> argument; it performs an ordinal comparison and therefore cannot find a match.</span></span> <span data-ttu-id="de345-155">Druhé volání má <xref:System.String> argument, provádí porovnání zohledňující jazykovou verzi, a proto vyhledá shodu.</span><span class="sxs-lookup"><span data-stu-id="de345-155">The second call has a <xref:System.String> argument; it performs a culture-sensitive comparison and therefore finds a match.</span></span>

[!code-csharp[Conceptual.Globalization#18](../../../samples/snippets/csharp/VS_Snippets_CLR/conceptual.globalization/cs/search1.cs#18)]
[!code-vb[Conceptual.Globalization#18](../../../samples/snippets/visualbasic/VS_Snippets_CLR/conceptual.globalization/vb/search1.vb#18)]

<span data-ttu-id="de345-156">Můžete se vyhnout některé z nejednoznačnosti tohoto příkladu (volání dvou podobných přetížení metody vracející různé výsledky) voláním přetížení, které obsahuje <xref:System.StringComparison> parametr, jako je například <xref:System.String.IndexOf%28System.String%2CSystem.StringComparison%29?displayProperty=nameWithType> <xref:System.String.LastIndexOf%28System.String%2CSystem.StringComparison%29?displayProperty=nameWithType> Metoda nebo.</span><span class="sxs-lookup"><span data-stu-id="de345-156">You can avoid some of the ambiguity of this example (calls to two similar overloads of a method returning different results) by calling an overload that includes a <xref:System.StringComparison> parameter, such as the <xref:System.String.IndexOf%28System.String%2CSystem.StringComparison%29?displayProperty=nameWithType> or <xref:System.String.LastIndexOf%28System.String%2CSystem.StringComparison%29?displayProperty=nameWithType> method.</span></span>

<span data-ttu-id="de345-157">Hledání však nejsou vždy závislá na jazykové verzi.</span><span class="sxs-lookup"><span data-stu-id="de345-157">However, searches are not always culture-sensitive.</span></span> <span data-ttu-id="de345-158">Pokud účelem hledání je učinit rozhodnutí zabezpečení nebo povolit nebo zakázat přístup k některému prostředku, porovnání by mělo být ordinální, jak je popsáno v následující části.</span><span class="sxs-lookup"><span data-stu-id="de345-158">If the purpose of the search is to make a security decision or to allow or disallow access to some resource, the comparison should be ordinal, as discussed in the next section.</span></span>

### <a name="test-strings-for-equality"></a><span data-ttu-id="de345-159">Testovací řetězce pro rovnost</span><span class="sxs-lookup"><span data-stu-id="de345-159">Test strings for equality</span></span>

<span data-ttu-id="de345-160">Pokud chcete otestovat rovnost dvou řetězců namísto určení způsobu jejich porovnání v pořadí řazení, použijte <xref:System.String.Equals%2A?displayProperty=nameWithType> metodu namísto metody porovnání řetězců, jako je například <xref:System.String.Compare%2A?displayProperty=nameWithType> nebo <xref:System.Globalization.CompareInfo.Compare%2A?displayProperty=nameWithType> .</span><span class="sxs-lookup"><span data-stu-id="de345-160">If you want to test two strings for equality rather than determine how they compare in the sort order, use the <xref:System.String.Equals%2A?displayProperty=nameWithType> method instead of a string comparison method such as <xref:System.String.Compare%2A?displayProperty=nameWithType> or <xref:System.Globalization.CompareInfo.Compare%2A?displayProperty=nameWithType>.</span></span>

<span data-ttu-id="de345-161">Porovnání rovnosti se obvykle provádí pro podmíněné přístup k určitému prostředku.</span><span class="sxs-lookup"><span data-stu-id="de345-161">Comparisons for equality are typically performed to access some resource conditionally.</span></span> <span data-ttu-id="de345-162">Můžete například provést porovnání rovnosti a ověřit heslo nebo potvrdit, že soubor existuje.</span><span class="sxs-lookup"><span data-stu-id="de345-162">For example, you might perform a comparison for equality to verify a password or to confirm that a file exists.</span></span> <span data-ttu-id="de345-163">Taková nelingvistická porovnání by měla být vždy pořadová a nikoli citlivá na jazykovou verzi.</span><span class="sxs-lookup"><span data-stu-id="de345-163">Such non-linguistic comparisons should always be ordinal rather than culture-sensitive.</span></span> <span data-ttu-id="de345-164">Obecně byste měli zavolat <xref:System.String.Equals%28System.String%2CSystem.StringComparison%29?displayProperty=nameWithType> metodu instance nebo statickou <xref:System.String.Equals%28System.String%2CSystem.String%2CSystem.StringComparison%29?displayProperty=nameWithType> metodu s hodnotou <xref:System.StringComparison.Ordinal?displayProperty=nameWithType> pro řetězce, jako jsou hesla, a hodnotu <xref:System.StringComparison.OrdinalIgnoreCase?displayProperty=nameWithType> pro řetězce, jako jsou názvy souborů nebo identifikátory URI.</span><span class="sxs-lookup"><span data-stu-id="de345-164">In general, you should call the instance <xref:System.String.Equals%28System.String%2CSystem.StringComparison%29?displayProperty=nameWithType> method or the static <xref:System.String.Equals%28System.String%2CSystem.String%2CSystem.StringComparison%29?displayProperty=nameWithType> method with a value of <xref:System.StringComparison.Ordinal?displayProperty=nameWithType> for strings such as passwords, and a value of <xref:System.StringComparison.OrdinalIgnoreCase?displayProperty=nameWithType> for strings such as file names or URIs.</span></span>

<span data-ttu-id="de345-165">Porovnání rovnosti někdy zahrnuje hledání nebo porovnávání podřetězců, nikoli volání <xref:System.String.Equals%2A?displayProperty=nameWithType> metody.</span><span class="sxs-lookup"><span data-stu-id="de345-165">Comparisons for equality sometimes involve searches or substring comparisons rather than calls to the <xref:System.String.Equals%2A?displayProperty=nameWithType> method.</span></span> <span data-ttu-id="de345-166">V některých případech můžete použít hledání podřetězce k určení, zda se tento dílčí řetězec rovná jinému řetězci.</span><span class="sxs-lookup"><span data-stu-id="de345-166">In some cases, you may use a substring search to determine whether that substring equals another string.</span></span> <span data-ttu-id="de345-167">Pokud účelem tohoto porovnání je nelingvistické, hledání by mělo být také ordinální místo, nikoli citlivé na jazykovou verzi.</span><span class="sxs-lookup"><span data-stu-id="de345-167">If the purpose of this comparison is non-linguistic, the search should also be ordinal rather than culture-sensitive.</span></span>

<span data-ttu-id="de345-168">Následující příklad ilustruje nebezpečí vyhledávání zohledňující jazykovou verzi v nelingvistických datech.</span><span class="sxs-lookup"><span data-stu-id="de345-168">The following example illustrates the danger of a culture-sensitive search on non-linguistic data.</span></span> <span data-ttu-id="de345-169">`AccessesFileSystem`Metoda je navržena tak, aby zakázala přístup k systému souborů pro identifikátory URI, které začínají podřetězcem "File".</span><span class="sxs-lookup"><span data-stu-id="de345-169">The `AccessesFileSystem` method is designed to prohibit file system access for URIs that begin with the substring "FILE".</span></span> <span data-ttu-id="de345-170">Za tímto účelem provede porovnání bez rozlišení velkých a malých písmen od začátku identifikátoru URI s řetězcem "FILE".</span><span class="sxs-lookup"><span data-stu-id="de345-170">To do this, it performs a culture-sensitive, case-insensitive comparison of the beginning of the URI with the string "FILE".</span></span> <span data-ttu-id="de345-171">Vzhledem k tomu, že identifikátor URI, který přistupuje k systému souborů, může začínat znakem "FILE:" nebo "File:", implicitní předpokládáme, že "i" (U + 0069) je vždy malým ekvivalentem "I" (U + 0049).</span><span class="sxs-lookup"><span data-stu-id="de345-171">Because a URI that accesses the file system can begin with either "FILE:" or "file:", the implicit assumption is that "i" (U+0069) is always the lowercase equivalent of "I" (U+0049).</span></span> <span data-ttu-id="de345-172">V turečtině a Ázerbájdžánština se však používá velká a malá písmena i verze i (U + 0130).</span><span class="sxs-lookup"><span data-stu-id="de345-172">However, in Turkish and Azerbaijani, the uppercase version of "i" is "İ" (U+0130).</span></span> <span data-ttu-id="de345-173">Z důvodu této nesrovnalosti umožňuje porovnání zohledňující jazykovou verzi přístup k systému souborů, pokud by měl být zakázán.</span><span class="sxs-lookup"><span data-stu-id="de345-173">Because of this discrepancy, the culture-sensitive comparison allows file system access when it should be prohibited.</span></span>

[!code-csharp[Conceptual.Globalization#12](../../../samples/snippets/csharp/VS_Snippets_CLR/conceptual.globalization/cs/equals1.cs#12)]
[!code-vb[Conceptual.Globalization#12](../../../samples/snippets/visualbasic/VS_Snippets_CLR/conceptual.globalization/vb/equals1.vb#12)]

<span data-ttu-id="de345-174">Tomuto problému se lze vyhnout prováděním pořadového porovnání, které ignoruje velikost písmen, jak ukazuje následující příklad.</span><span class="sxs-lookup"><span data-stu-id="de345-174">You can avoid this problem by performing an ordinal comparison that ignores case, as the following example shows.</span></span>

[!code-csharp[Conceptual.Globalization#13](../../../samples/snippets/csharp/VS_Snippets_CLR/conceptual.globalization/cs/equals2.cs#13)]
[!code-vb[Conceptual.Globalization#13](../../../samples/snippets/visualbasic/VS_Snippets_CLR/conceptual.globalization/vb/equals2.vb#13)]

### <a name="order-and-sort-strings"></a><span data-ttu-id="de345-175">Pořadí a řazení řetězců</span><span class="sxs-lookup"><span data-stu-id="de345-175">Order and sort strings</span></span>

<span data-ttu-id="de345-176">Běžně seřazené řetězce, které se mají zobrazit v uživatelském rozhraní, by měly být seřazeny na základě jazykové verze.</span><span class="sxs-lookup"><span data-stu-id="de345-176">Typically, ordered strings that are to be displayed in the user interface should be sorted based on culture.</span></span> <span data-ttu-id="de345-177">Ve většině případů jsou takové porovnávání řetězců zpracovávány implicitně .NET při volání metody, která seřadí řetězce, například <xref:System.Array.Sort%2A?displayProperty=nameWithType> nebo <xref:System.Collections.Generic.List%601.Sort%2A?displayProperty=nameWithType> .</span><span class="sxs-lookup"><span data-stu-id="de345-177">For the most part, such string comparisons are handled implicitly by .NET when you call a method that sorts strings, such as <xref:System.Array.Sort%2A?displayProperty=nameWithType> or <xref:System.Collections.Generic.List%601.Sort%2A?displayProperty=nameWithType>.</span></span> <span data-ttu-id="de345-178">Ve výchozím nastavení jsou řetězce seřazeny pomocí konvencí řazení aktuální jazykové verze.</span><span class="sxs-lookup"><span data-stu-id="de345-178">By default, strings are sorted by using the sorting conventions of the current culture.</span></span> <span data-ttu-id="de345-179">Následující příklad ukazuje rozdíl v případě, že je pole řetězců seřazeno pomocí konvencí jazykové verze Angličtina (USA) a švédské jazykové verze (Švédsko).</span><span class="sxs-lookup"><span data-stu-id="de345-179">The following example illustrates the difference when an array of strings is sorted by using the conventions of the English (United States) culture and the Swedish (Sweden) culture.</span></span>

[!code-csharp[Conceptual.Globalization#14](../../../samples/snippets/csharp/VS_Snippets_CLR/conceptual.globalization/cs/sort1.cs#14)]
[!code-vb[Conceptual.Globalization#14](../../../samples/snippets/visualbasic/VS_Snippets_CLR/conceptual.globalization/vb/sort1.vb#14)]

<span data-ttu-id="de345-180">Porovnání řetězců závislé na jazykové verzi je definováno <xref:System.Globalization.CompareInfo> objektem, který je vrácen vlastností každé jazykové verze <xref:System.Globalization.CultureInfo.CompareInfo%2A?displayProperty=nameWithType> .</span><span class="sxs-lookup"><span data-stu-id="de345-180">Culture-sensitive string comparison is defined by the <xref:System.Globalization.CompareInfo> object, which is returned by each culture's <xref:System.Globalization.CultureInfo.CompareInfo%2A?displayProperty=nameWithType> property.</span></span> <span data-ttu-id="de345-181">Porovnávání řetězců závislé na jazykové verzi, které používá <xref:System.String.Compare%2A?displayProperty=nameWithType> přetížení metody, používá také <xref:System.Globalization.CompareInfo> objekt.</span><span class="sxs-lookup"><span data-stu-id="de345-181">Culture-sensitive string comparisons that use the <xref:System.String.Compare%2A?displayProperty=nameWithType> method overloads also use the <xref:System.Globalization.CompareInfo> object.</span></span>

<span data-ttu-id="de345-182">Rozhraní .NET používá tabulky k provádění řazení zohledňující jazykovou verzi podle řetězcových dat.</span><span class="sxs-lookup"><span data-stu-id="de345-182">.NET uses tables to perform culture-sensitive sorts on string data.</span></span> <span data-ttu-id="de345-183">Obsah těchto tabulek, které obsahují data o váhu řazení a normalizaci řetězců, je určen verzí standardu Unicode implementovaného určitou verzí rozhraní .NET.</span><span class="sxs-lookup"><span data-stu-id="de345-183">The content of these tables, which contain data on sort weights and string normalization, is determined by the version of the Unicode standard implemented by a particular version of .NET.</span></span> <span data-ttu-id="de345-184">V následující tabulce jsou uvedeny verze sady Unicode implementované specifikovanými verzemi .NET Framework a .NET Core.</span><span class="sxs-lookup"><span data-stu-id="de345-184">The following table lists the versions of Unicode implemented by the specified versions of the .NET Framework and by .NET Core.</span></span> <span data-ttu-id="de345-185">Všimněte si, že tento seznam podporovaných verzí Unicode se vztahuje pouze na porovnání znaků a řazení; netýká se klasifikace znaků Unicode podle kategorií.</span><span class="sxs-lookup"><span data-stu-id="de345-185">Note that this list of supported Unicode versions applies to character comparison and sorting only; it does not apply to classification of Unicode characters by category.</span></span> <span data-ttu-id="de345-186">Další informace najdete v části "řetězce a Standard Unicode" v <xref:System.String> článku.</span><span class="sxs-lookup"><span data-stu-id="de345-186">For more information, see the "Strings and The Unicode Standard" section in the <xref:System.String> article.</span></span>

|<span data-ttu-id="de345-187">Verze rozhraní .NET Framework</span><span class="sxs-lookup"><span data-stu-id="de345-187">.NET Framework version</span></span>|<span data-ttu-id="de345-188">Operační systém</span><span class="sxs-lookup"><span data-stu-id="de345-188">Operating system</span></span>|<span data-ttu-id="de345-189">Verze Unicode</span><span class="sxs-lookup"><span data-stu-id="de345-189">Unicode version</span></span>|
|----------------------------|----------------------|---------------------|
|<span data-ttu-id="de345-190">.NET Framework 2,0</span><span class="sxs-lookup"><span data-stu-id="de345-190">.NET Framework 2.0</span></span>|<span data-ttu-id="de345-191">Všechny operační systémy</span><span class="sxs-lookup"><span data-stu-id="de345-191">All operating systems</span></span>|<span data-ttu-id="de345-192">Unicode 4,1</span><span class="sxs-lookup"><span data-stu-id="de345-192">Unicode 4.1</span></span>|
|<span data-ttu-id="de345-193">.NET Framework 3.0</span><span class="sxs-lookup"><span data-stu-id="de345-193">.NET Framework 3.0</span></span>|<span data-ttu-id="de345-194">Všechny operační systémy</span><span class="sxs-lookup"><span data-stu-id="de345-194">All operating systems</span></span>|<span data-ttu-id="de345-195">Unicode 4,1</span><span class="sxs-lookup"><span data-stu-id="de345-195">Unicode 4.1</span></span>|
|<span data-ttu-id="de345-196">.NET Framework 3.5</span><span class="sxs-lookup"><span data-stu-id="de345-196">.NET Framework 3.5</span></span>|<span data-ttu-id="de345-197">Všechny operační systémy</span><span class="sxs-lookup"><span data-stu-id="de345-197">All operating systems</span></span>|<span data-ttu-id="de345-198">Unicode 4,1</span><span class="sxs-lookup"><span data-stu-id="de345-198">Unicode 4.1</span></span>|
|<span data-ttu-id="de345-199">.NET Framework 4</span><span class="sxs-lookup"><span data-stu-id="de345-199">.NET Framework 4</span></span>|<span data-ttu-id="de345-200">Všechny operační systémy</span><span class="sxs-lookup"><span data-stu-id="de345-200">All operating systems</span></span>|<span data-ttu-id="de345-201">Unicode 5,0</span><span class="sxs-lookup"><span data-stu-id="de345-201">Unicode 5.0</span></span>|
|<span data-ttu-id="de345-202">.NET Framework 4,5 a novější ve Windows 7</span><span class="sxs-lookup"><span data-stu-id="de345-202">.NET Framework 4.5 and later on Windows 7</span></span>|<span data-ttu-id="de345-203">Unicode 5,0</span><span class="sxs-lookup"><span data-stu-id="de345-203">Unicode 5.0</span></span>|
|<span data-ttu-id="de345-204">.NET Framework 4,5 a novější ve Windows 8 a novějších operačních systémech</span><span class="sxs-lookup"><span data-stu-id="de345-204">.NET Framework 4.5 and later on Windows 8 and later operating systems</span></span>|<span data-ttu-id="de345-205">6.3.0 Unicode</span><span class="sxs-lookup"><span data-stu-id="de345-205">Unicode 6.3.0</span></span>|
|<span data-ttu-id="de345-206">.NET Core (všechny verze)</span><span class="sxs-lookup"><span data-stu-id="de345-206">.NET Core (all versions)</span></span>|<span data-ttu-id="de345-207">Závisí na verzi standardu Unicode, kterou podporuje základní operační systém.</span><span class="sxs-lookup"><span data-stu-id="de345-207">Depends on the version of the Unicode Standard supported by the underlying operating system.</span></span>|

<span data-ttu-id="de345-208">Počínaje .NET Framework 4,5 a ve všech verzích .NET Core je porovnávání a řazení řetězců závislé na operačním systému.</span><span class="sxs-lookup"><span data-stu-id="de345-208">Starting with .NET Framework 4.5 and in all versions of .NET Core, string comparison and sorting depends on the operating system.</span></span> <span data-ttu-id="de345-209">.NET Framework 4,5 a novější verze spuštěné v systému Windows 7 načte data z vlastních tabulek, které implementují Unicode 5,0.</span><span class="sxs-lookup"><span data-stu-id="de345-209">The .NET Framework 4.5 and later running on Windows 7 retrieves data from its own tables that implement Unicode 5.0.</span></span> <span data-ttu-id="de345-210">.NET Framework 4,5 a novější verze spuštěné v systému Windows 8 a novějších načte data z tabulek operačního systému, které implementují Unicode 6,3.</span><span class="sxs-lookup"><span data-stu-id="de345-210">The .NET Framework 4.5 and later running on Windows 8 and later retrieves data from operating system tables that implement Unicode 6.3.</span></span> <span data-ttu-id="de345-211">V .NET Core závisí podporovaná verze Unicode na podkladovém operačním systému.</span><span class="sxs-lookup"><span data-stu-id="de345-211">On .NET Core, the supported version of Unicode depends on the underlying operating system.</span></span> <span data-ttu-id="de345-212">Pokud jste serializováni data, která jsou závislá na jazykové verzi, můžete použít <xref:System.Globalization.SortVersion> třídu k určení, kdy je potřeba seřadit Serializovaná data tak, aby byla konzistentní s rozhraním .NET a pořadím řazení operačního systému.</span><span class="sxs-lookup"><span data-stu-id="de345-212">If you serialize culture-sensitive sorted data, you can use the <xref:System.Globalization.SortVersion> class to determine when your serialized data needs to be sorted so that it is consistent with .NET and the operating system's sort order.</span></span> <span data-ttu-id="de345-213">Příklad naleznete v <xref:System.Globalization.SortVersion> tématu třídy.</span><span class="sxs-lookup"><span data-stu-id="de345-213">For an example, see the <xref:System.Globalization.SortVersion> class topic.</span></span>

<span data-ttu-id="de345-214">Pokud vaše aplikace provádí rozsáhlou sadu typů řetězcových dat specifických pro jazykovou verzi, můžete pracovat se <xref:System.Globalization.SortKey> třídou pro porovnávání řetězců.</span><span class="sxs-lookup"><span data-stu-id="de345-214">If your app performs extensive culture-specific sorts of string data, you can work with the <xref:System.Globalization.SortKey> class to compare strings.</span></span> <span data-ttu-id="de345-215">Klíč řazení odráží váhu řazení specifickou pro jazykovou verzi, včetně závaží abecedy, písmen a diakritiky určitého řetězce.</span><span class="sxs-lookup"><span data-stu-id="de345-215">A sort key reflects the culture-specific sort weights, including the alphabetic, case, and diacritic weights of a particular string.</span></span> <span data-ttu-id="de345-216">Vzhledem k tomu, že porovnání pomocí klíčů řazení jsou binární, jsou rychlejší než porovnání, které používají <xref:System.Globalization.CompareInfo> objekt implicitně nebo explicitně.</span><span class="sxs-lookup"><span data-stu-id="de345-216">Because comparisons using sort keys are binary, they are faster than comparisons that use a <xref:System.Globalization.CompareInfo> object either implicitly or explicitly.</span></span> <span data-ttu-id="de345-217">Můžete vytvořit klíč řazení specifický pro jazykovou verzi pro konkrétní řetězec předáním řetězce do <xref:System.Globalization.CompareInfo.GetSortKey%2A?displayProperty=nameWithType> metody.</span><span class="sxs-lookup"><span data-stu-id="de345-217">You create a culture-specific sort key for a particular string by passing the string to the <xref:System.Globalization.CompareInfo.GetSortKey%2A?displayProperty=nameWithType> method.</span></span>

<span data-ttu-id="de345-218">Následující příklad je podobný předchozímu příkladu.</span><span class="sxs-lookup"><span data-stu-id="de345-218">The following example is similar to the previous example.</span></span> <span data-ttu-id="de345-219">Namísto volání <xref:System.Array.Sort%28System.Array%29?displayProperty=nameWithType> metody, která implicitně volá <xref:System.Globalization.CompareInfo.Compare%2A?displayProperty=nameWithType> metodu, definuje <xref:System.Collections.Generic.IComparer%601?displayProperty=nameWithType> implementaci, která porovnává klíče řazení, které vytváří instance a předává do <xref:System.Array.Sort%60%601%28%60%600%5B%5D%2CSystem.Collections.Generic.IComparer%7B%60%600%7D%29?displayProperty=nameWithType> metody.</span><span class="sxs-lookup"><span data-stu-id="de345-219">However, instead of calling the <xref:System.Array.Sort%28System.Array%29?displayProperty=nameWithType> method, which implicitly calls the <xref:System.Globalization.CompareInfo.Compare%2A?displayProperty=nameWithType> method, it defines an <xref:System.Collections.Generic.IComparer%601?displayProperty=nameWithType> implementation that compares sort keys, which it instantiates and passes to the <xref:System.Array.Sort%60%601%28%60%600%5B%5D%2CSystem.Collections.Generic.IComparer%7B%60%600%7D%29?displayProperty=nameWithType> method.</span></span>

[!code-csharp[Conceptual.Globalization#15](../../../samples/snippets/csharp/VS_Snippets_CLR/conceptual.globalization/cs/sortkey1.cs#15)]
[!code-vb[Conceptual.Globalization#15](../../../samples/snippets/visualbasic/VS_Snippets_CLR/conceptual.globalization/vb/sortkey1.vb#15)]

### <a name="avoid-string-concatenation"></a><span data-ttu-id="de345-220">Vyhnout se zřetězení řetězců</span><span class="sxs-lookup"><span data-stu-id="de345-220">Avoid string concatenation</span></span>

<span data-ttu-id="de345-221">Pokud je to možné, nepoužívejte složené řetězce, které jsou vytvořeny v době běhu ze zřetězených frází.</span><span class="sxs-lookup"><span data-stu-id="de345-221">If at all possible, avoid using composite strings that are built at run time from concatenated phrases.</span></span> <span data-ttu-id="de345-222">Složené řetězce je obtížné lokalizovat, protože často předpokládají gramatické pořadí v původním jazyce aplikace, které neplatí pro jiné lokalizované jazyky.</span><span class="sxs-lookup"><span data-stu-id="de345-222">Composite strings are difficult to localize, because they often assume a grammatical order in the app's original language that does not apply to other localized languages.</span></span>

## <a name="handle-dates-and-times"></a><span data-ttu-id="de345-223">Zpracování dat a časů</span><span class="sxs-lookup"><span data-stu-id="de345-223">Handle dates and times</span></span>

<span data-ttu-id="de345-224">Způsob zpracování hodnot data a času závisí na tom, zda jsou zobrazeny v uživatelském rozhraní nebo trvale.</span><span class="sxs-lookup"><span data-stu-id="de345-224">How you handle date and time values depends on whether they are displayed in the user interface or persisted.</span></span> <span data-ttu-id="de345-225">V této části jsou zkontrolována obě použití.</span><span class="sxs-lookup"><span data-stu-id="de345-225">This section examines both usages.</span></span> <span data-ttu-id="de345-226">Také popisuje, jak můžete zpracovávat rozdíly v časových pásmech a aritmetické operace při práci s daty a časy.</span><span class="sxs-lookup"><span data-stu-id="de345-226">It also discusses how you can handle time zone differences and arithmetic operations when working with dates and times.</span></span>

### <a name="display-dates-and-times"></a><span data-ttu-id="de345-227">Zobrazit data a časy</span><span class="sxs-lookup"><span data-stu-id="de345-227">Display dates and times</span></span>

<span data-ttu-id="de345-228">Pokud jsou data a časy zobrazeny v uživatelském rozhraní, měli byste použít konvence formátování jazykové verze uživatele, která je definována <xref:System.Globalization.CultureInfo.CurrentCulture%2A?displayProperty=nameWithType> vlastností a <xref:System.Globalization.DateTimeFormatInfo> objektem vráceným `CultureInfo.CurrentCulture.DateTimeFormat` vlastností.</span><span class="sxs-lookup"><span data-stu-id="de345-228">Typically, when dates and times are displayed in the user interface, you should use the formatting conventions of the user's culture, which is defined by the <xref:System.Globalization.CultureInfo.CurrentCulture%2A?displayProperty=nameWithType> property and by the <xref:System.Globalization.DateTimeFormatInfo> object returned by the `CultureInfo.CurrentCulture.DateTimeFormat` property.</span></span> <span data-ttu-id="de345-229">Konvence formátování aktuální jazykové verze se automaticky použijí, když formátujete datum pomocí některé z těchto metod:</span><span class="sxs-lookup"><span data-stu-id="de345-229">The formatting conventions of the current culture are automatically used when you format a date by using any of these methods:</span></span>

- <span data-ttu-id="de345-230">Metoda bez parametrů <xref:System.DateTime.ToString?displayProperty=nameWithType></span><span class="sxs-lookup"><span data-stu-id="de345-230">The parameterless <xref:System.DateTime.ToString?displayProperty=nameWithType> method</span></span>

- <span data-ttu-id="de345-231"><xref:System.DateTime.ToString%28System.String%29?displayProperty=nameWithType>Metoda, která obsahuje formátovací řetězec</span><span class="sxs-lookup"><span data-stu-id="de345-231">The <xref:System.DateTime.ToString%28System.String%29?displayProperty=nameWithType> method, which includes a format string</span></span>

- <span data-ttu-id="de345-232">Metoda bez parametrů <xref:System.DateTimeOffset.ToString?displayProperty=nameWithType></span><span class="sxs-lookup"><span data-stu-id="de345-232">The parameterless <xref:System.DateTimeOffset.ToString?displayProperty=nameWithType> method</span></span>

- <span data-ttu-id="de345-233"><xref:System.DateTimeOffset.ToString%28System.String%29?displayProperty=nameWithType>, Která obsahuje formátovací řetězec</span><span class="sxs-lookup"><span data-stu-id="de345-233">The <xref:System.DateTimeOffset.ToString%28System.String%29?displayProperty=nameWithType>, which includes a format string</span></span>

- <span data-ttu-id="de345-234">Funkce [složeného formátování](../base-types/composite-formatting.md) , když se používá s kalendářními daty</span><span class="sxs-lookup"><span data-stu-id="de345-234">The [composite formatting](../base-types/composite-formatting.md) feature, when it is used with dates</span></span>

<span data-ttu-id="de345-235">Následující příklad zobrazuje data slunce a slunce dvakrát z 11. října 2012.</span><span class="sxs-lookup"><span data-stu-id="de345-235">The following example displays sunrise and sunset data twice for October 11, 2012.</span></span> <span data-ttu-id="de345-236">Nejprve nastaví aktuální jazykovou verzi na chorvatština (Chorvatsko) a pak na angličtinu (Velká Británie).</span><span class="sxs-lookup"><span data-stu-id="de345-236">It first sets the current culture to Croatian (Croatia), and then to English (Great Britain).</span></span> <span data-ttu-id="de345-237">V každém případě jsou data a časy zobrazeny ve formátu, který je vhodný pro danou jazykovou verzi.</span><span class="sxs-lookup"><span data-stu-id="de345-237">In each case, the dates and times are displayed in the format that is appropriate for that culture.</span></span>

[!code-csharp[Conceptual.Globalization#2](../../../samples/snippets/csharp/VS_Snippets_CLR/conceptual.globalization/cs/dates1.cs#2)]
[!code-vb[Conceptual.Globalization#2](../../../samples/snippets/visualbasic/VS_Snippets_CLR/conceptual.globalization/vb/dates1.vb#2)]

### <a name="persist-dates-and-times"></a><span data-ttu-id="de345-238">Zachovat data a časy</span><span class="sxs-lookup"><span data-stu-id="de345-238">Persist dates and times</span></span>

<span data-ttu-id="de345-239">Nikdy byste neměli zachovat data data a času ve formátu, který se může lišit podle jazykové verze.</span><span class="sxs-lookup"><span data-stu-id="de345-239">You should never persist date and time data in a format that can vary by culture.</span></span> <span data-ttu-id="de345-240">Jedná se o běžnou chybu programování, která má za následek poškozená data nebo výjimku za běhu.</span><span class="sxs-lookup"><span data-stu-id="de345-240">This is a common programming error that results in either corrupted data or a run-time exception.</span></span> <span data-ttu-id="de345-241">Následující příklad serializace dvě data, 9. ledna 2013 a 18. srpna 2013 jako řetězce pomocí formátovacích úmluv jazykové verze Angličtina (USA).</span><span class="sxs-lookup"><span data-stu-id="de345-241">The following example serializes two dates, January 9, 2013 and August 18, 2013, as strings by using the formatting conventions of the English (United States) culture.</span></span> <span data-ttu-id="de345-242">Když jsou data načtena a analyzována pomocí konvencí jazykové verze anglické (USA), je úspěšně obnovena.</span><span class="sxs-lookup"><span data-stu-id="de345-242">When the data is retrieved and parsed by using the conventions of the English (United States) culture, it is successfully restored.</span></span> <span data-ttu-id="de345-243">Pokud je však načten a analyzován pomocí konvencí jazykové verze Angličtina (Spojené království), je první datum nesprávně interpretováno jako 1. září a druhý nedokáže analyzovat, protože gregoriánský kalendář nemá osmnáct měsíc.</span><span class="sxs-lookup"><span data-stu-id="de345-243">However, when it is retrieved and parsed by using the conventions of the English (United Kingdom) culture, the first date is wrongly interpreted as September 1, and the second fails to parse because the Gregorian calendar does not have an eighteenth month.</span></span>

[!code-csharp[Conceptual.Globalization#3](../../../samples/snippets/csharp/VS_Snippets_CLR/conceptual.globalization/cs/dates2.cs#3)]
[!code-vb[Conceptual.Globalization#3](../../../samples/snippets/visualbasic/VS_Snippets_CLR/conceptual.globalization/vb/dates2.vb#3)]

<span data-ttu-id="de345-244">Tomuto problému se můžete vyhnout některým ze tří způsobů:</span><span class="sxs-lookup"><span data-stu-id="de345-244">You can avoid this problem in any of three ways:</span></span>

- <span data-ttu-id="de345-245">Serializovat datum a čas v binárním formátu, nikoli jako řetězec.</span><span class="sxs-lookup"><span data-stu-id="de345-245">Serialize the date and time in binary format rather than as a string.</span></span>

- <span data-ttu-id="de345-246">Uložte a analyzujte řetězcovou reprezentaci data a času pomocí vlastního formátovacího řetězce, který je stejný bez ohledu na jazykovou verzi uživatele.</span><span class="sxs-lookup"><span data-stu-id="de345-246">Save and parse the string representation of the date and time by using a custom format string that is the same regardless of the user's culture.</span></span>

- <span data-ttu-id="de345-247">Uložte řetězec pomocí formátovacích konvencí invariantní jazykové verze.</span><span class="sxs-lookup"><span data-stu-id="de345-247">Save the string by using the formatting conventions of the invariant culture.</span></span>

<span data-ttu-id="de345-248">Následující příklad ukazuje poslední přístup.</span><span class="sxs-lookup"><span data-stu-id="de345-248">The following example illustrates the last approach.</span></span> <span data-ttu-id="de345-249">Používá konvence formátování invariantní jazykové verze vrácené statickou <xref:System.Globalization.CultureInfo.InvariantCulture%2A?displayProperty=nameWithType> vlastností.</span><span class="sxs-lookup"><span data-stu-id="de345-249">It uses the formatting conventions of the invariant culture returned by the static <xref:System.Globalization.CultureInfo.InvariantCulture%2A?displayProperty=nameWithType> property.</span></span>

[!code-csharp[Conceptual.Globalization#4](../../../samples/snippets/csharp/VS_Snippets_CLR/conceptual.globalization/cs/dates3.cs#4)]
[!code-vb[Conceptual.Globalization#4](../../../samples/snippets/visualbasic/VS_Snippets_CLR/conceptual.globalization/vb/dates3.vb#4)]

### <a name="serialization-and-time-zone-awareness"></a><span data-ttu-id="de345-250">Serializace a povědomí o časovém pásmu</span><span class="sxs-lookup"><span data-stu-id="de345-250">Serialization and time zone awareness</span></span>

<span data-ttu-id="de345-251">Hodnota data a času může mít několik výkladů v rozsahu od obecné doby ("obchody otevřené 2. ledna 2013, v 9:00 ráno") k určitému časovému okamžiku ("datum narození: 2. ledna 2013 6:32:00 dop.").</span><span class="sxs-lookup"><span data-stu-id="de345-251">A date and time value can have multiple interpretations, ranging from a general time ("The stores open on January 2, 2013, at 9:00 A.M.") to a specific moment in time ("Date of birth: January 2, 2013 6:32:00 A.M.").</span></span> <span data-ttu-id="de345-252">Pokud časová hodnota představuje konkrétní moment v čase a Vy ji obnovíte ze serializované hodnoty, měli byste zajistit, aby to představovalo stejný okamžik v čase bez ohledu na zeměpisnou polohu nebo časové pásmo uživatele.</span><span class="sxs-lookup"><span data-stu-id="de345-252">When a time value represents a specific moment in time and you restore it from a serialized value, you should ensure that it represents the same moment in time regardless of the user's geographical location or time zone.</span></span>

<span data-ttu-id="de345-253">Následující příklad ukazuje tento problém.</span><span class="sxs-lookup"><span data-stu-id="de345-253">The following example illustrates this problem.</span></span> <span data-ttu-id="de345-254">Ukládá jednu hodnotu místního data a času jako řetězec ve třech [standardních formátech](../base-types/standard-date-and-time-format-strings.md) ("G" pro obecné datum, dlouhý čas, "s" pro řazení data a času a "o" pro datum a čas Round-Trip) a také v binárním formátu.</span><span class="sxs-lookup"><span data-stu-id="de345-254">It saves a single local date and time value as a string in three [standard formats](../base-types/standard-date-and-time-format-strings.md) ("G" for general date long time, "s" for sortable date/time, and "o" for round-trip date/time) as well as in binary format.</span></span>

[!code-csharp[Conceptual.Globalization#10](../../../samples/snippets/csharp/VS_Snippets_CLR/conceptual.globalization/cs/dates4.cs#10)]
[!code-vb[Conceptual.Globalization#10](../../../samples/snippets/visualbasic/VS_Snippets_CLR/conceptual.globalization/vb/dates4.vb#10)]

<span data-ttu-id="de345-255">Když se data obnoví v systému ve stejném časovém pásmu jako systém, na kterém byla serializovaná, deserializované hodnoty data a času přesně odrážejí původní hodnotu, jak ukazuje výstup:</span><span class="sxs-lookup"><span data-stu-id="de345-255">When the data is restored on a system in the same time zone as the system on which it was serialized, the deserialized date and time values accurately reflect the original value, as the output shows:</span></span>

```console
'3/30/2013 6:00:00 PM' --> 3/30/2013 6:00:00 PM Unspecified
'2013-03-30T18:00:00' --> 3/30/2013 6:00:00 PM Unspecified
'2013-03-30T18:00:00.0000000-07:00' --> 3/30/2013 6:00:00 PM Local

3/30/2013 6:00:00 PM Local
```

<span data-ttu-id="de345-256">Pokud však obnovíte data v systému v jiném časovém pásmu, pouze hodnota datum a čas, která byla naformátována pomocí standardního formátovacího řetězce "o" (round-trip), zachovává informace o časovém pásmu a proto představuje stejné okamžité v čase.</span><span class="sxs-lookup"><span data-stu-id="de345-256">However, if you restore the data on a system in a different time zone, only the date and time value that was formatted with the "o" (round-trip) standard format string preserves time zone information and therefore represents the same instant in time.</span></span> <span data-ttu-id="de345-257">Zde je výstup, když jsou data a čas obnovena v systému v normálním časovém pásmu románské země:</span><span class="sxs-lookup"><span data-stu-id="de345-257">Here's the output when the date and time data is restored on a system in the Romance Standard Time zone:</span></span>

```console
'3/30/2013 6:00:00 PM' --> 3/30/2013 6:00:00 PM Unspecified
'2013-03-30T18:00:00' --> 3/30/2013 6:00:00 PM Unspecified
'2013-03-30T18:00:00.0000000-07:00' --> 3/31/2013 3:00:00 AM Local

3/30/2013 6:00:00 PM Local
```

<span data-ttu-id="de345-258">Chcete-li přesně odrážet hodnotu data a času, která představuje jediný časový okamžik bez ohledu na časové pásmo systému, ve kterém jsou data deserializována, můžete provést následující akce:</span><span class="sxs-lookup"><span data-stu-id="de345-258">To accurately reflect a date and time value that represents a single moment of time regardless of the time zone of the system on which the data is deserialized, you can do any of the following:</span></span>

- <span data-ttu-id="de345-259">Uložte hodnotu jako řetězec pomocí standardního formátovacího řetězce "o" (round-trip).</span><span class="sxs-lookup"><span data-stu-id="de345-259">Save the value as a string by using the "o" (round-trip) standard format string.</span></span> <span data-ttu-id="de345-260">Pak ho deserializovat v cílovém systému.</span><span class="sxs-lookup"><span data-stu-id="de345-260">Then deserialize it on the target system.</span></span>

- <span data-ttu-id="de345-261">Převeďte ji na čas UTC a uložte ji jako řetězec pomocí standardního formátovacího řetězce "r" (RFC1123).</span><span class="sxs-lookup"><span data-stu-id="de345-261">Convert it to UTC and save it as a string by using the "r" (RFC1123) standard format string.</span></span> <span data-ttu-id="de345-262">Pak ho deserializovat v cílovém systému a převeďte na místní čas.</span><span class="sxs-lookup"><span data-stu-id="de345-262">Then deserialize it on the target system and convert it to local time.</span></span>

- <span data-ttu-id="de345-263">Převeďte ji na čas UTC a uložte ji jako řetězec pomocí standardního formátovacího řetězce "u" (universald).</span><span class="sxs-lookup"><span data-stu-id="de345-263">Convert it to UTC and save it as a string by using the "u" (universal sortable) standard format string.</span></span> <span data-ttu-id="de345-264">Pak ho deserializovat v cílovém systému a převeďte na místní čas.</span><span class="sxs-lookup"><span data-stu-id="de345-264">Then deserialize it on the target system and convert it to local time.</span></span>

- <span data-ttu-id="de345-265">Převeďte ho na čas UTC a uložte ho v binárním formátu.</span><span class="sxs-lookup"><span data-stu-id="de345-265">Convert it to UTC and save it in binary format.</span></span> <span data-ttu-id="de345-266">Pak ho deserializovat v cílovém systému a převeďte na místní čas.</span><span class="sxs-lookup"><span data-stu-id="de345-266">Then deserialize it on the target system and convert it to local time.</span></span>

<span data-ttu-id="de345-267">Následující příklad znázorňuje každou techniku.</span><span class="sxs-lookup"><span data-stu-id="de345-267">The following example illustrates each technique.</span></span>

[!code-csharp[Conceptual.Globalization#11](../../../samples/snippets/csharp/VS_Snippets_CLR/conceptual.globalization/cs/dates8.cs#11)]
[!code-vb[Conceptual.Globalization#11](../../../samples/snippets/visualbasic/VS_Snippets_CLR/conceptual.globalization/vb/dates8.vb#11)]

<span data-ttu-id="de345-268">V případě, že jsou data serializována v systému v tichomořském časovém pásmu a v systému v normálním časovém pásmu, v tomto příkladu se zobrazí následující výstup:</span><span class="sxs-lookup"><span data-stu-id="de345-268">When the data is serialized on a system in the Pacific Standard Time zone and deserialized on a system in the Romance Standard Time zone, the example displays the following output:</span></span>

```console
'2013-03-30T18:00:00.0000000-07:00' --> 3/31/2013 3:00:00 AM Local
'Sun, 31 Mar 2013 01:00:00 GMT' --> 3/31/2013 3:00:00 AM Local
'2013-03-31 01:00:00Z' --> 3/31/2013 3:00:00 AM Local

3/31/2013 3:00:00 AM Local
```

<span data-ttu-id="de345-269">Další informace najdete v tématu [Převod časů mezi časovými pásmy](../datetime/converting-between-time-zones.md).</span><span class="sxs-lookup"><span data-stu-id="de345-269">For more information, see [Converting Times Between Time Zones](../datetime/converting-between-time-zones.md).</span></span>

### <a name="perform-date-and-time-arithmetic"></a><span data-ttu-id="de345-270">Provést aritmetické operace s datem a časem</span><span class="sxs-lookup"><span data-stu-id="de345-270">Perform date and time arithmetic</span></span>

<span data-ttu-id="de345-271"><xref:System.DateTime> <xref:System.DateTimeOffset> Typy i podporují aritmetické operace.</span><span class="sxs-lookup"><span data-stu-id="de345-271">Both the <xref:System.DateTime> and <xref:System.DateTimeOffset> types support arithmetic operations.</span></span> <span data-ttu-id="de345-272">Rozdíl mezi dvěma hodnotami data můžete vypočítat nebo můžete přidat nebo odebrat konkrétní časové intervaly do nebo z hodnoty data.</span><span class="sxs-lookup"><span data-stu-id="de345-272">You can calculate the difference between two date values, or you can add or subtract particular time intervals to or from a date value.</span></span> <span data-ttu-id="de345-273">Aritmetické operace s hodnotami data a času však nevezmou časová pásma a pravidla upravující časová pásma v účtu.</span><span class="sxs-lookup"><span data-stu-id="de345-273">However, arithmetic operations on date and time values do not take time zones and time zone adjustment rules into account.</span></span> <span data-ttu-id="de345-274">Z toho důvodu aritmetické operace s hodnotami data a času, které reprezentují časový okamžik, můžou vracet nepřesné výsledky.</span><span class="sxs-lookup"><span data-stu-id="de345-274">Because of this, date and time arithmetic on values that represent moments in time can return inaccurate results.</span></span>

<span data-ttu-id="de345-275">Například přechod z tichomořského Tichomoří (běžný čas) do Tichomoří (letní čas) se vyskytuje v druhé neděli v březnu, což je 10. března v roce 2013.</span><span class="sxs-lookup"><span data-stu-id="de345-275">For example, the transition from Pacific Standard Time to Pacific Daylight Time occurs on the second Sunday of March, which is March 10 for the year 2013.</span></span> <span data-ttu-id="de345-276">Jak ukazuje následující příklad, pokud vypočítáte datum a čas, který je 48 hodin po 9. března 2013 při 10:30.</span><span class="sxs-lookup"><span data-stu-id="de345-276">As the following example shows, if you calculate the date and time that is 48 hours after March 9, 2013 at 10:30 A.M.</span></span> <span data-ttu-id="de345-277">v systému v tichomořském časovém pásmu, výsledek, 11. března 2013 v 10:30 ráno, nebere v úvahu úpravu v daném čase.</span><span class="sxs-lookup"><span data-stu-id="de345-277">on a system in the Pacific Standard Time zone, the result, March 11, 2013 at 10:30 A.M., does not take the intervening time adjustment into account.</span></span>

[!code-csharp[Conceptual.Globalization#8](../../../samples/snippets/csharp/VS_Snippets_CLR/conceptual.globalization/cs/dates5.cs#8)]
[!code-vb[Conceptual.Globalization#8](../../../samples/snippets/visualbasic/VS_Snippets_CLR/conceptual.globalization/vb/dates5.vb#8)]

<span data-ttu-id="de345-278">Chcete-li zajistit, že aritmetické operace s hodnotami data a času vytváří přesné výsledky, postupujte podle těchto kroků:</span><span class="sxs-lookup"><span data-stu-id="de345-278">To ensure that an arithmetic operation on date and time values produces accurate results, follow these steps:</span></span>

1. <span data-ttu-id="de345-279">Převede čas v časovém pásmu zdroje na čas UTC.</span><span class="sxs-lookup"><span data-stu-id="de345-279">Convert the time in the source time zone to UTC.</span></span>

2. <span data-ttu-id="de345-280">Proveďte aritmetickou operaci.</span><span class="sxs-lookup"><span data-stu-id="de345-280">Perform the arithmetic operation.</span></span>

3. <span data-ttu-id="de345-281">Pokud je výsledkem hodnota data a času, převeďte ji z času UTC na čas v časovém pásmu zdroje.</span><span class="sxs-lookup"><span data-stu-id="de345-281">If the result is a date and time value, convert it from UTC to the time in the source time zone.</span></span>

<span data-ttu-id="de345-282">Následující příklad je podobný předchozímu příkladu s tím rozdílem, že se podle těchto tří kroků správně přidá 48 hodin do 9. března 2013 při 10:30.</span><span class="sxs-lookup"><span data-stu-id="de345-282">The following example is similar to the previous example, except that it follows these three steps to correctly add 48 hours to March 9, 2013 at 10:30 A.M.</span></span>

[!code-csharp[Conceptual.Globalization#9](../../../samples/snippets/csharp/VS_Snippets_CLR/conceptual.globalization/cs/dates6.cs#9)]
[!code-vb[Conceptual.Globalization#9](../../../samples/snippets/visualbasic/VS_Snippets_CLR/conceptual.globalization/vb/dates6.vb#9)]

<span data-ttu-id="de345-283">Další informace najdete v tématu [provádění aritmetických operací s daty a časy](../datetime/performing-arithmetic-operations.md).</span><span class="sxs-lookup"><span data-stu-id="de345-283">For more information, see [Performing Arithmetic Operations with Dates and Times](../datetime/performing-arithmetic-operations.md).</span></span>

### <a name="use-culture-sensitive-names-for-date-elements"></a><span data-ttu-id="de345-284">Použití názvů závislých na jazykové verzi pro prvky data</span><span class="sxs-lookup"><span data-stu-id="de345-284">Use culture-sensitive names for date elements</span></span>

<span data-ttu-id="de345-285">Vaše aplikace může potřebovat zobrazit název měsíce nebo den v týdnu.</span><span class="sxs-lookup"><span data-stu-id="de345-285">Your app may need to display the name of the month or the day of the week.</span></span> <span data-ttu-id="de345-286">V takovém případě jsou běžné následující kódy:</span><span class="sxs-lookup"><span data-stu-id="de345-286">To do this, code such as the following is common.</span></span>

[!code-csharp[Conceptual.Globalization#19](../../../samples/snippets/csharp/VS_Snippets_CLR/conceptual.globalization/cs/monthname1.cs#19)]
[!code-vb[Conceptual.Globalization#19](../../../samples/snippets/visualbasic/VS_Snippets_CLR/conceptual.globalization/vb/monthname1.vb#19)]

<span data-ttu-id="de345-287">Tento kód však vždy vrátí názvy dnů v týdnu v angličtině.</span><span class="sxs-lookup"><span data-stu-id="de345-287">However, this code always returns the names of the days of the week in English.</span></span> <span data-ttu-id="de345-288">Kód, který extrahuje název měsíce, je často ještě více flexibilní.</span><span class="sxs-lookup"><span data-stu-id="de345-288">Code that extracts the name of the month is often even more inflexible.</span></span> <span data-ttu-id="de345-289">Často se předpokládá 12měsíční kalendář s názvy měsíců v konkrétním jazyce.</span><span class="sxs-lookup"><span data-stu-id="de345-289">It frequently assumes a twelve-month calendar with names of months in a specific language.</span></span>

<span data-ttu-id="de345-290">Pomocí [vlastních formátovacích řetězců pro datum a čas](../base-types/custom-date-and-time-format-strings.md) nebo vlastností <xref:System.Globalization.DateTimeFormatInfo> objektu lze snadno extrahovat řetězce, které odráží názvy dnů v týdnu nebo měsíců v jazykové verzi uživatele, jak ukazuje následující příklad.</span><span class="sxs-lookup"><span data-stu-id="de345-290">By using [custom date and time format strings](../base-types/custom-date-and-time-format-strings.md) or the properties of the <xref:System.Globalization.DateTimeFormatInfo> object, it is easy to extract strings that reflect the names of days of the week or months in the user's culture, as the following example illustrates.</span></span> <span data-ttu-id="de345-291">Změní aktuální jazykovou verzi na francouzština (Francie) a zobrazí název dne v týdnu a název měsíce od 1. července 2013.</span><span class="sxs-lookup"><span data-stu-id="de345-291">It changes the current culture to French (France) and displays the name of the day of the week and the name of the month for July 1, 2013.</span></span>

[!code-csharp[Conceptual.Globalization#20](../../../samples/snippets/csharp/VS_Snippets_CLR/conceptual.globalization/cs/monthname2.cs#20)]
[!code-vb[Conceptual.Globalization#20](../../../samples/snippets/visualbasic/VS_Snippets_CLR/conceptual.globalization/vb/monthname2.vb#20)]

## <a name="numeric-values"></a><span data-ttu-id="de345-292">Číselné hodnoty</span><span class="sxs-lookup"><span data-stu-id="de345-292">Numeric values</span></span>

<span data-ttu-id="de345-293">Manipulace s čísly závisí na tom, zda jsou zobrazeny v uživatelském rozhraní nebo trvale.</span><span class="sxs-lookup"><span data-stu-id="de345-293">The handling of numbers depends on whether they are displayed in the user interface or persisted.</span></span> <span data-ttu-id="de345-294">V této části jsou zkontrolována obě použití.</span><span class="sxs-lookup"><span data-stu-id="de345-294">This section examines both usages.</span></span>

> [!NOTE]
> <span data-ttu-id="de345-295">V rámci operací analýzy a formátování rozpoznává .NET pouze základní znaky latinky 0 až 9 (U + 0030 až U + 0039) jako číselné číslice.</span><span class="sxs-lookup"><span data-stu-id="de345-295">In parsing and formatting operations, .NET recognizes only the Basic Latin characters 0 through 9 (U+0030 through U+0039) as numeric digits.</span></span>

### <a name="display-numeric-values"></a><span data-ttu-id="de345-296">Zobrazit číselné hodnoty</span><span class="sxs-lookup"><span data-stu-id="de345-296">Display numeric values</span></span>

<span data-ttu-id="de345-297">V případě, že se čísla zobrazují v uživatelském rozhraní, byste měli použít konvence formátování jazykové verze uživatele, která je definována <xref:System.Globalization.CultureInfo.CurrentCulture%2A?displayProperty=nameWithType> vlastností a <xref:System.Globalization.NumberFormatInfo> objekt vrácený `CultureInfo.CurrentCulture.NumberFormat` vlastností.</span><span class="sxs-lookup"><span data-stu-id="de345-297">Typically, when numbers are displayed in the user interface, you should use the formatting conventions of the user's culture, which is defined by the <xref:System.Globalization.CultureInfo.CurrentCulture%2A?displayProperty=nameWithType> property and by the <xref:System.Globalization.NumberFormatInfo> object returned by the `CultureInfo.CurrentCulture.NumberFormat` property.</span></span> <span data-ttu-id="de345-298">Konvence formátování aktuální jazykové verze se automaticky použijí, když formátujete datum pomocí některé z následujících metod:</span><span class="sxs-lookup"><span data-stu-id="de345-298">The formatting conventions of the current culture are automatically used when you format a date by using any of the following methods:</span></span>

- <span data-ttu-id="de345-299">Metoda bez parametrů `ToString` libovolného číselného typu</span><span class="sxs-lookup"><span data-stu-id="de345-299">The parameterless `ToString` method of any numeric type</span></span>

- <span data-ttu-id="de345-300">`ToString(String)`Metoda libovolného číselného typu, která obsahuje formátovací řetězec jako argument</span><span class="sxs-lookup"><span data-stu-id="de345-300">The `ToString(String)` method of any numeric type, which includes a format string as an argument</span></span>

- <span data-ttu-id="de345-301">Funkce [složeného formátování](../base-types/composite-formatting.md) , když se používá s číselnými hodnotami</span><span class="sxs-lookup"><span data-stu-id="de345-301">The [composite formatting](../base-types/composite-formatting.md) feature, when it is used with numeric values</span></span>

<span data-ttu-id="de345-302">Následující příklad zobrazuje průměrnou teplotu za měsíc v Paříži, Francii.</span><span class="sxs-lookup"><span data-stu-id="de345-302">The following example displays the average temperature per month in Paris, France.</span></span> <span data-ttu-id="de345-303">Před zobrazením dat nejprve nastaví aktuální jazykovou verzi na francouzština (Francie) a pak ji nastaví na angličtinu (USA).</span><span class="sxs-lookup"><span data-stu-id="de345-303">It first sets the current culture to French (France) before displaying the data, and then sets it to English (United States).</span></span> <span data-ttu-id="de345-304">V každém případě jsou názvy měsíců a teploty zobrazeny ve formátu, který je vhodný pro danou jazykovou verzi.</span><span class="sxs-lookup"><span data-stu-id="de345-304">In each case, the month names and temperatures are displayed in the format that is appropriate for that culture.</span></span> <span data-ttu-id="de345-305">Všimněte si, že obě jazykové verze používají jiné oddělovače desetinných míst v hodnotě teploty.</span><span class="sxs-lookup"><span data-stu-id="de345-305">Note that the two cultures use different decimal separators in the temperature value.</span></span> <span data-ttu-id="de345-306">Všimněte si také, že v příkladu se používá vlastní řetězec formátu data a času "MMMM" k zobrazení úplného názvu měsíce a který přiděluje příslušné množství místa pro název měsíce ve výsledném řetězci určením délky názvu nejdelšího měsíce v <xref:System.Globalization.DateTimeFormatInfo.MonthNames%2A?displayProperty=nameWithType> poli.</span><span class="sxs-lookup"><span data-stu-id="de345-306">Also note that the example uses the "MMMM" custom date and time format string to display the full month name, and that it allocates the appropriate amount of space for the month name in the result string by determining the length of the longest month name in the <xref:System.Globalization.DateTimeFormatInfo.MonthNames%2A?displayProperty=nameWithType> array.</span></span>

[!code-csharp[Conceptual.Globalization#5](../../../samples/snippets/csharp/VS_Snippets_CLR/conceptual.globalization/cs/numbers1.cs#5)]
[!code-vb[Conceptual.Globalization#5](../../../samples/snippets/visualbasic/VS_Snippets_CLR/conceptual.globalization/vb/numbers1.vb#5)]

### <a name="persist-numeric-values"></a><span data-ttu-id="de345-307">Zachovat číselné hodnoty</span><span class="sxs-lookup"><span data-stu-id="de345-307">Persist numeric values</span></span>

<span data-ttu-id="de345-308">Nikdy byste neměli zachovat číselná data ve formátu specifickém pro jazykovou verzi.</span><span class="sxs-lookup"><span data-stu-id="de345-308">You should never persist numeric data in a culture-specific format.</span></span> <span data-ttu-id="de345-309">Jedná se o běžnou chybu programování, která má za následek poškozená data nebo výjimku za běhu.</span><span class="sxs-lookup"><span data-stu-id="de345-309">This is a common programming error that results in either corrupted data or a run-time exception.</span></span> <span data-ttu-id="de345-310">Následující příklad generuje deset náhodných čísel s plovoucí desetinnou čárkou a poté je serializován jako řetězce pomocí formátovacích úmluv jazykové verze Angličtina (USA).</span><span class="sxs-lookup"><span data-stu-id="de345-310">The following example generates ten random floating-point numbers, and then serializes them as strings by using the formatting conventions of the English (United States) culture.</span></span> <span data-ttu-id="de345-311">Když jsou data načtena a analyzována pomocí konvencí jazykové verze anglické (USA), je úspěšně obnovena.</span><span class="sxs-lookup"><span data-stu-id="de345-311">When the data is retrieved and parsed by using the conventions of the English (United States) culture, it is successfully restored.</span></span> <span data-ttu-id="de345-312">Nicméně pokud je načten a analyzován pomocí konvencí francouzské jazykové verze (Francie), nelze analyzovat žádné číslo, protože jazykové verze používají jiné oddělovače desetinných míst.</span><span class="sxs-lookup"><span data-stu-id="de345-312">However, when it is retrieved and parsed by using the conventions of the French (France) culture, none of the numbers can be parsed because the cultures use different decimal separators.</span></span>

[!code-csharp[Conceptual.Globalization#6](../../../samples/snippets/csharp/VS_Snippets_CLR/conceptual.globalization/cs/numbers2.cs#6)]
[!code-vb[Conceptual.Globalization#6](../../../samples/snippets/visualbasic/VS_Snippets_CLR/conceptual.globalization/vb/numbers2.vb#6)]

<span data-ttu-id="de345-313">Chcete-li se tomuto problému vyhnout, můžete použít jeden z následujících postupů:</span><span class="sxs-lookup"><span data-stu-id="de345-313">To avoid this problem, you can use one of these techniques:</span></span>

- <span data-ttu-id="de345-314">Uložte a analyzujte řetězcovou reprezentaci čísla pomocí vlastního formátovacího řetězce, který je stejný bez ohledu na jazykovou verzi uživatele.</span><span class="sxs-lookup"><span data-stu-id="de345-314">Save and parse the string representation of the number by using a custom format string that is the same regardless of the user's culture.</span></span>

- <span data-ttu-id="de345-315">Uložte číslo jako řetězec pomocí formátovacích konvencí invariantní jazykové verze, který je vrácen <xref:System.Globalization.CultureInfo.InvariantCulture%2A?displayProperty=nameWithType> vlastností.</span><span class="sxs-lookup"><span data-stu-id="de345-315">Save the number as a string by using the formatting conventions of the invariant culture, which is returned by the <xref:System.Globalization.CultureInfo.InvariantCulture%2A?displayProperty=nameWithType> property.</span></span>

- <span data-ttu-id="de345-316">Serializovat číslo v binárním souboru namísto formátu řetězce.</span><span class="sxs-lookup"><span data-stu-id="de345-316">Serialize the number in binary instead of string format.</span></span>

<span data-ttu-id="de345-317">Následující příklad ukazuje poslední přístup.</span><span class="sxs-lookup"><span data-stu-id="de345-317">The following example illustrates the last approach.</span></span> <span data-ttu-id="de345-318">Serializovat pole <xref:System.Double> hodnot a pak je deserializace a zobrazí pomocí formátovacích úmluv jazykových verzí anglické verze (USA) a francouzština (Francie).</span><span class="sxs-lookup"><span data-stu-id="de345-318">It serializes the array of <xref:System.Double> values, and then deserializes and displays them by using the formatting conventions of the English (United States) and French (France) cultures.</span></span>

[!code-csharp[Conceptual.Globalization#7](../../../samples/snippets/csharp/VS_Snippets_CLR/conceptual.globalization/cs/numbers3.cs#7)]
[!code-vb[Conceptual.Globalization#7](../../../samples/snippets/visualbasic/VS_Snippets_CLR/conceptual.globalization/vb/numbers3.vb#7)]

<span data-ttu-id="de345-319">Serializace hodnot měny je zvláštní případ.</span><span class="sxs-lookup"><span data-stu-id="de345-319">Serializing currency values is a special case.</span></span> <span data-ttu-id="de345-320">Vzhledem k tomu, že hodnota měny závisí na jednotce měny, ve které je vyjádřena; nedoporučujeme ho považovat za nezávislou číselnou hodnotu.</span><span class="sxs-lookup"><span data-stu-id="de345-320">Because a currency value depends on the unit of currency in which it is expressed; it makes little sense to treat it as an independent numeric value.</span></span> <span data-ttu-id="de345-321">Pokud však uložíte hodnotu měny jako formátovaný řetězec, který obsahuje symbol měny, nelze jej deserializovat v systému, jehož výchozí jazyková verze používá jiný symbol měny, jak ukazuje následující příklad.</span><span class="sxs-lookup"><span data-stu-id="de345-321">However, if you save a currency value as a formatted string that includes a currency symbol, it cannot be deserialized on a system whose default culture uses a different currency symbol, as the following example shows.</span></span>

[!code-csharp[Conceptual.Globalization#16](../../../samples/snippets/csharp/VS_Snippets_CLR/conceptual.globalization/cs/currency1.cs#16)]
[!code-vb[Conceptual.Globalization#16](../../../samples/snippets/visualbasic/VS_Snippets_CLR/conceptual.globalization/vb/currency1.vb#16)]

<span data-ttu-id="de345-322">Místo toho byste měli serializovat číselnou hodnotu společně s některými kulturními informacemi, jako je název jazykové verze, aby hodnota a její symbol měny mohli být deserializovány nezávisle na aktuální jazykové verzi.</span><span class="sxs-lookup"><span data-stu-id="de345-322">Instead, you should serialize the numeric value along with some cultural information, such as the name of the culture, so that the value and its currency symbol can be deserialized independently of the current culture.</span></span> <span data-ttu-id="de345-323">Následující příklad provede definováním `CurrencyValue` struktury se dvěma členy: <xref:System.Decimal> hodnotu a název jazykové verze, do které hodnota patří.</span><span class="sxs-lookup"><span data-stu-id="de345-323">The following example does that by defining a `CurrencyValue` structure with two members: the <xref:System.Decimal> value and the name of the culture to which the value belongs.</span></span>

[!code-csharp[Conceptual.Globalization#17](../../../samples/snippets/csharp/VS_Snippets_CLR/conceptual.globalization/cs/currency2.cs#17)]
[!code-vb[Conceptual.Globalization#17](../../../samples/snippets/visualbasic/VS_Snippets_CLR/conceptual.globalization/vb/currency2.vb#17)]

## <a name="work-with-culture-specific-settings"></a><span data-ttu-id="de345-324">Práce s nastaveními specifickými pro jazykovou verzi</span><span class="sxs-lookup"><span data-stu-id="de345-324">Work with culture-specific settings</span></span>

<span data-ttu-id="de345-325">V rozhraní .NET <xref:System.Globalization.CultureInfo> Třída představuje konkrétní jazykovou verzi nebo oblast.</span><span class="sxs-lookup"><span data-stu-id="de345-325">In .NET, the <xref:System.Globalization.CultureInfo> class represents a particular culture or region.</span></span> <span data-ttu-id="de345-326">Některé vlastnosti vrátí objekty, které poskytují konkrétní informace o některém aspektu jazykové verze:</span><span class="sxs-lookup"><span data-stu-id="de345-326">Some of its properties return objects that provide specific information about some aspect of a culture:</span></span>

- <span data-ttu-id="de345-327"><xref:System.Globalization.CultureInfo.CompareInfo%2A?displayProperty=nameWithType>Vlastnost vrátí <xref:System.Globalization.CompareInfo> objekt, který obsahuje informace o tom, jak jazyková verze porovnává a řetězce objednávky.</span><span class="sxs-lookup"><span data-stu-id="de345-327">The <xref:System.Globalization.CultureInfo.CompareInfo%2A?displayProperty=nameWithType> property returns a <xref:System.Globalization.CompareInfo> object that contains information about how the culture compares and orders strings.</span></span>

- <span data-ttu-id="de345-328"><xref:System.Globalization.CultureInfo.DateTimeFormat%2A?displayProperty=nameWithType>Vlastnost vrátí <xref:System.Globalization.DateTimeFormatInfo> objekt, který poskytuje informace specifické pro jazykovou verzi používané při formátování data a času.</span><span class="sxs-lookup"><span data-stu-id="de345-328">The <xref:System.Globalization.CultureInfo.DateTimeFormat%2A?displayProperty=nameWithType> property returns a <xref:System.Globalization.DateTimeFormatInfo> object that provides culture-specific information used in formatting date and time data.</span></span>

- <span data-ttu-id="de345-329"><xref:System.Globalization.CultureInfo.NumberFormat%2A?displayProperty=nameWithType>Vlastnost vrátí <xref:System.Globalization.NumberFormatInfo> objekt, který poskytuje informace specifické pro jazykovou verzi používané při formátování číselných dat.</span><span class="sxs-lookup"><span data-stu-id="de345-329">The <xref:System.Globalization.CultureInfo.NumberFormat%2A?displayProperty=nameWithType> property returns a <xref:System.Globalization.NumberFormatInfo> object that provides culture-specific information used in formatting numeric data.</span></span>

- <span data-ttu-id="de345-330"><xref:System.Globalization.CultureInfo.TextInfo%2A?displayProperty=nameWithType>Vlastnost vrátí <xref:System.Globalization.TextInfo> objekt, který poskytuje informace o systému zápisu jazykové verze.</span><span class="sxs-lookup"><span data-stu-id="de345-330">The <xref:System.Globalization.CultureInfo.TextInfo%2A?displayProperty=nameWithType> property returns a <xref:System.Globalization.TextInfo> object that provides information about the culture's writing system.</span></span>

<span data-ttu-id="de345-331">Obecně neprovádějte žádné předpoklady týkající se hodnot konkrétních <xref:System.Globalization.CultureInfo> vlastností a jejich souvisejících objektů.</span><span class="sxs-lookup"><span data-stu-id="de345-331">In general, do not make any assumptions about the values of specific <xref:System.Globalization.CultureInfo> properties and their related objects.</span></span> <span data-ttu-id="de345-332">Místo toho byste měli zobrazit data specifická pro jazykovou verzi, která se mohou změnit, z těchto důvodů:</span><span class="sxs-lookup"><span data-stu-id="de345-332">Instead, you should view culture-specific data as subject to change, for these reasons:</span></span>

- <span data-ttu-id="de345-333">Jednotlivé hodnoty vlastností se mohou měnit a revisionovat v průběhu času, protože data jsou opravena, lepší data jsou k dispozici nebo se změní konvence specifické pro jazykovou verzi.</span><span class="sxs-lookup"><span data-stu-id="de345-333">Individual property values are subject to change and revision over time, as data is corrected, better data becomes available, or culture-specific conventions change.</span></span>

- <span data-ttu-id="de345-334">Jednotlivé hodnoty vlastností se můžou v různých verzích .NET nebo verzích operačních systémů lišit.</span><span class="sxs-lookup"><span data-stu-id="de345-334">Individual property values may vary across versions of .NET or operating system versions.</span></span>

- <span data-ttu-id="de345-335">Rozhraní .NET podporuje náhradní kultury.</span><span class="sxs-lookup"><span data-stu-id="de345-335">.NET supports replacement cultures.</span></span> <span data-ttu-id="de345-336">Díky tomu je možné definovat novou vlastní jazykovou verzi, která buď doplňuje stávající standardní jazykové verze, nebo zcela nahradí stávající standardní jazykovou verzi.</span><span class="sxs-lookup"><span data-stu-id="de345-336">This makes it possible to define a new custom culture that either supplements existing standard cultures or completely replaces an existing standard culture.</span></span>

- <span data-ttu-id="de345-337">V systémech Windows může uživatel přizpůsobit nastavení specifické pro jazykovou verzi pomocí aplikace **oblast a jazyk** v Ovládacích panelech.</span><span class="sxs-lookup"><span data-stu-id="de345-337">On Windows systems, the user can customize culture-specific settings by using the **Region and Language** app in Control Panel.</span></span> <span data-ttu-id="de345-338">Při vytváření instance <xref:System.Globalization.CultureInfo> objektu můžete určit, zda odráží tyto vlastní uživatelské přizpůsobení voláním <xref:System.Globalization.CultureInfo.%23ctor%28System.String%2CSystem.Boolean%29> konstruktoru.</span><span class="sxs-lookup"><span data-stu-id="de345-338">When you instantiate a <xref:System.Globalization.CultureInfo> object, you can determine whether it reflects these user customizations by calling the <xref:System.Globalization.CultureInfo.%23ctor%28System.String%2CSystem.Boolean%29> constructor.</span></span> <span data-ttu-id="de345-339">Pro aplikace pro koncové uživatele byste obvykle měli respektovat uživatelské preference, takže se uživateli zobrazí data ve formátu, který očekávají.</span><span class="sxs-lookup"><span data-stu-id="de345-339">Typically, for end-user apps, you should respect user preferences so that the user is presented with data in a format that they expect.</span></span>

## <a name="see-also"></a><span data-ttu-id="de345-340">Viz také</span><span class="sxs-lookup"><span data-stu-id="de345-340">See also</span></span>

- [<span data-ttu-id="de345-341">Globalizace a lokalizace</span><span class="sxs-lookup"><span data-stu-id="de345-341">Globalization and Localization</span></span>](index.md)
- [<span data-ttu-id="de345-342">Osvědčené postupy pro používání řetězců</span><span class="sxs-lookup"><span data-stu-id="de345-342">Best Practices for Using Strings</span></span>](../base-types/best-practices-strings.md)
