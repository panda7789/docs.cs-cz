---
title: Nasazení existujících aplikací .NET jako kontejnery Windows
description: Modernizace stávajících aplikací .NET pomocí cloudu Azure a Windows kontejnery | Nasazení existujících aplikací .NET jako kontejnery Windows
author: CESARDELATORRE
ms.author: wiwagn
ms.date: 04/29/2018
ms.openlocfilehash: 646acc6fd14c1ff85593dbf6074f0d03d86f04bd
ms.sourcegitcommit: ccd8c36b0d74d99291d41aceb14cf98d74dc9d2b
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 12/10/2018
ms.locfileid: "53143744"
---
# <a name="deploy-existing-net-apps-as-windows-containers"></a><span data-ttu-id="dbf6f-103">Nasazení existujících aplikací .NET jako kontejnery Windows</span><span class="sxs-lookup"><span data-stu-id="dbf6f-103">Deploy existing .NET apps as Windows containers</span></span>

<span data-ttu-id="dbf6f-104">Nasazení, které jsou založeny na kontejnery Windows se vztahuje na aplikace optimalizované pro Cloud a aplikací nativních pro Cloud.</span><span class="sxs-lookup"><span data-stu-id="dbf6f-104">Deployments that are based on Windows Containers are applicable to Cloud-Optimized applications and Cloud-Native applications.</span></span>

<span data-ttu-id="dbf6f-105">Ale v tomto průvodci a zejména v následujících částech, většinou zaměřuje se na použití kontejnerů Windows pro *optimalizovaných Cloudů* aplikací, kde nemusíte úprava architektury aplikace.</span><span class="sxs-lookup"><span data-stu-id="dbf6f-105">However, in this guide and especially in the following sections, it mostly focuses on using Windows Containers for *Cloud-Optimized* applications where you don’t need to rearchitect your application.</span></span>

## <a name="what-are-containers-linux-or-windows"></a><span data-ttu-id="dbf6f-106">Co jsou kontejnery?</span><span class="sxs-lookup"><span data-stu-id="dbf6f-106">What are containers?</span></span> <span data-ttu-id="dbf6f-107">(S Linuxem nebo Windows)</span><span class="sxs-lookup"><span data-stu-id="dbf6f-107">(Linux or Windows)</span></span>

<span data-ttu-id="dbf6f-108">Kontejnery jsou způsob, jak zabalit aplikace do své vlastní izolované balíčku.</span><span class="sxs-lookup"><span data-stu-id="dbf6f-108">Containers are a way to wrap up an application into its own isolated package.</span></span> <span data-ttu-id="dbf6f-109">V jeho kontejneru nemá vliv aplikaci aplikace nebo procesy, které existují mimo svůj kontejner.</span><span class="sxs-lookup"><span data-stu-id="dbf6f-109">In its container, the application is not affected by applications or processes that exist outside of the container.</span></span> <span data-ttu-id="dbf6f-110">Všechno, co aplikace závisí na spuštění úspěšně proces je uvnitř kontejneru.</span><span class="sxs-lookup"><span data-stu-id="dbf6f-110">Everything the application depends on to run successfully as a process is inside the container.</span></span> <span data-ttu-id="dbf6f-111">Všude, kde může být přesunout kontejneru, aplikace bude vždy být splněny požadavky, z hlediska přímé závislosti, protože je součástí vše, co je nutné ho spustit (závislosti knihovny, moduly runtime a tak dále).</span><span class="sxs-lookup"><span data-stu-id="dbf6f-111">Wherever the container might move, the requirements of the application will always be met, in terms of direct dependencies, because it is bundled with everything that it needs to run (library dependencies, runtimes, and so on).</span></span>

<span data-ttu-id="dbf6f-112">Hlavní charakteristiky kontejner je, že je prostředí stejné různých nasazeních protože samotný kontejner obsahuje všechny potřebné závislé produkty, které potřebuje.</span><span class="sxs-lookup"><span data-stu-id="dbf6f-112">The main characteristic of a container is that it makes the environment the same across different deployments because the container itself comes with all the dependencies it needs.</span></span> <span data-ttu-id="dbf6f-113">Můžete ladit aplikaci na svém počítači a nasadit ho do jiného počítače, s zaručeno, že stejné prostředí.</span><span class="sxs-lookup"><span data-stu-id="dbf6f-113">You can debug the application on your machine, and then deploy it to another machine, with the same environment guaranteed.</span></span>

<span data-ttu-id="dbf6f-114">Kontejner je instance image kontejneru.</span><span class="sxs-lookup"><span data-stu-id="dbf6f-114">A container is an instance of a container image.</span></span> <span data-ttu-id="dbf6f-115">Image kontejneru je způsob, jak zabalit aplikace nebo služby (např. snímek) a pak ji nasadit spolehlivé a reprodukovatelné způsobem.</span><span class="sxs-lookup"><span data-stu-id="dbf6f-115">A container image is a way to package an app or service (like a snapshot), and then deploy it in a reliable and reproducible way.</span></span> <span data-ttu-id="dbf6f-116">Může Řekněme, že Docker není že pouze technologií – it společnosti také filozofií a proces.</span><span class="sxs-lookup"><span data-stu-id="dbf6f-116">You could say that Docker is not only a technology-it's also a philosophy and a process.</span></span>

<span data-ttu-id="dbf6f-117">Kontejnery jsou denně častější, stávají oborové "jednotku nasazení."</span><span class="sxs-lookup"><span data-stu-id="dbf6f-117">As containers daily become more common, they are becoming an industry-wide "unit of deployment."</span></span>

## <a name="benefits-of-containers-docker-engine-on-linux-or-windows"></a><span data-ttu-id="dbf6f-118">Výhody kontejnerů (modul Docker v Linuxu nebo Windows)</span><span class="sxs-lookup"><span data-stu-id="dbf6f-118">Benefits of containers (Docker Engine on Linux or Windows)</span></span>

<span data-ttu-id="dbf6f-119">Vytváření aplikací pomocí kontejnerů, která může být také podle jako jednoduchý stavební bloky offers výrazné zvýšení flexibility pro vytváření, přesouvání a jakékoli aplikace fungovat v různých žádnou infrastrukturu.</span><span class="sxs-lookup"><span data-stu-id="dbf6f-119">Building applications by using containers-which also might be defined as lightweight building blocks-offers a significant increase in agility for building, shipping, and running any application, across any infrastructure.</span></span>

<span data-ttu-id="dbf6f-120">S kontejnery můžete provést všechny aplikace z vývojového do produkčního prostředí s malými či žádnými změnami kódu, díky integraci Docker napříč vývojovými nástroji společnosti Microsoft, operační systémy a cloudu.</span><span class="sxs-lookup"><span data-stu-id="dbf6f-120">With containers, you can take any app from development to production with little or no code change, thanks to Docker integration across Microsoft developer tools, operating systems, and cloud.</span></span>

<span data-ttu-id="dbf6f-121">Při nasazování do prostého virtuální počítače, pravděpodobně již mít metodu nastavené pro nasazování aplikací technologie ASP.NET k vašim virtuálním počítačům.</span><span class="sxs-lookup"><span data-stu-id="dbf6f-121">When you deploy to plain VMs, you probably already have a method in place for deploying ASP.NET apps to your VMs.</span></span> <span data-ttu-id="dbf6f-122">Je pravděpodobné, ale vaše metoda zahrnuje více vyžadováno provedení ručních kroků nebo komplexní automatizované procesy pomocí nástroje nasazení, jako jsou Puppet, nebo něco podobného.</span><span class="sxs-lookup"><span data-stu-id="dbf6f-122">It's likely, though, that your method involves multiple manual steps or complex automated processes by using a deployment tool like Puppet, or a similar tool.</span></span> <span data-ttu-id="dbf6f-123">Můžete potřebovat provádět úlohy, jako je změna položky konfigurace, kopírování obsahu aplikace mezi servery a spouštění programů interaktivní instalace v závislosti na nastavení .msi, za nímž následuje testování.</span><span class="sxs-lookup"><span data-stu-id="dbf6f-123">You might need to perform tasks like modifying configuration items, copying application content between servers, and running interactive setup programs based on .msi setups, followed by testing.</span></span> <span data-ttu-id="dbf6f-124">Všechny tyto kroky v nasazení přidat času a rizika pro nasazení.</span><span class="sxs-lookup"><span data-stu-id="dbf6f-124">All those steps in the deployment add time and risk to deployments.</span></span> <span data-ttu-id="dbf6f-125">Dojde k selhání pokaždé, když se závislost není k dispozici v cílovém prostředí.</span><span class="sxs-lookup"><span data-stu-id="dbf6f-125">You will get failures whenever a dependency is not present in the target environment.</span></span>

<span data-ttu-id="dbf6f-126">V kontejnerech Windows je plně automatizovat proces vytváření balíčků aplikací.</span><span class="sxs-lookup"><span data-stu-id="dbf6f-126">In Windows Containers, the process of packaging applications is fully automated.</span></span> <span data-ttu-id="dbf6f-127">Kontejnery Windows se odvíjí platforma Docker, která nabízí automatické aktualizace, vrácení zpět pro nasazení kontejnerů.</span><span class="sxs-lookup"><span data-stu-id="dbf6f-127">Windows Containers is based on the Docker platform, which offers automatic updates and rollbacks for container deployments.</span></span> <span data-ttu-id="dbf6f-128">Hlavní vylepšení, které získáte pomocí modulu Docker je vytvořit Image, které jsou podobné snímek vaší aplikace, se všemi jeho závislostmi.</span><span class="sxs-lookup"><span data-stu-id="dbf6f-128">The main improvement you get from using the Docker engine is that you create images, which are like snapshots of your application, with all its dependencies.</span></span> <span data-ttu-id="dbf6f-129">Image jsou Image Dockeru (Windows image kontejneru, v tomto případě).</span><span class="sxs-lookup"><span data-stu-id="dbf6f-129">The images are Docker images (a Windows container image, in this case).</span></span> <span data-ttu-id="dbf6f-130">Obrázky spouštění aplikací v ASP.NET v kontejnerech, bez nutnosti vracet se ke zdrojovému kódu.</span><span class="sxs-lookup"><span data-stu-id="dbf6f-130">The images run ASP.NET apps in containers, without going back to source code.</span></span> <span data-ttu-id="dbf6f-131">Snímek kontejneru se změní na jednotku nasazení.</span><span class="sxs-lookup"><span data-stu-id="dbf6f-131">The container snapshot becomes the unit of deployment.</span></span>

<span data-ttu-id="dbf6f-132">Mnoho organizací se kontejnerizování existující monolitických aplikací z následujících důvodů:</span><span class="sxs-lookup"><span data-stu-id="dbf6f-132">Many organizations are containerizing existing monolithic applications for the following reasons:</span></span>

-   <span data-ttu-id="dbf6f-133">**Uvolnění pružné vylepšené nasazování**.</span><span class="sxs-lookup"><span data-stu-id="dbf6f-133">**Release agility through improved deployment**.</span></span> <span data-ttu-id="dbf6f-134">Kontejnery nabízejí konzistentní nasazování kontrakt mezi vývojem a provozem.</span><span class="sxs-lookup"><span data-stu-id="dbf6f-134">Containers offer a consistent deployment contract between development and operations.</span></span> <span data-ttu-id="dbf6f-135">Při použití kontejnerů, Řekněme, že vývojáři nebudou slyšet, "to funguje na mém počítači, případně proč bezpečná není v produkčním prostředí?"</span><span class="sxs-lookup"><span data-stu-id="dbf6f-135">When you use containers, you won't hear developers say, "It works on my machine, why not in production?"</span></span> <span data-ttu-id="dbf6f-136">Můžete říct, "Poběží brána jako kontejner, takže se spustí v produkčním prostředí."</span><span class="sxs-lookup"><span data-stu-id="dbf6f-136">They can say, "It runs as a container, so it will run in production."</span></span> <span data-ttu-id="dbf6f-137">Zabalená aplikace se všemi jeho závislostmi, mohou být provedeny v libovolné podporované prostředí založené na kontejnerech.</span><span class="sxs-lookup"><span data-stu-id="dbf6f-137">The packaged application, with all its dependencies, can be executed in any supported container-based environment.</span></span> <span data-ttu-id="dbf6f-138">Způsob, jakým byl určen ke spuštění v všechny cíle nasazení (vývoj, dotazů a odpovědí, Fázování a výrobu) se spustí.</span><span class="sxs-lookup"><span data-stu-id="dbf6f-138">It will run the way it was intended to run in all deployment targets (dev, QA, staging, production).</span></span> <span data-ttu-id="dbf6f-139">Kontejnery eliminovat většina frictions, když se přesouvají z jedné fáze do druhého, což výrazně zvyšuje nasazení, a rychlejší dodání.</span><span class="sxs-lookup"><span data-stu-id="dbf6f-139">Containers eliminate most frictions when they move from one stage to the next, which greatly improves deployment, and you can ship faster.</span></span>

-   <span data-ttu-id="dbf6f-140">**Snížení nákladů**.</span><span class="sxs-lookup"><span data-stu-id="dbf6f-140">**Cost reductions**.</span></span> <span data-ttu-id="dbf6f-141">Kontejnery vést ke snížení nákladů, buď konsolidace a odebrání stávající hardware nebo z aplikace spuštěné ve vyšší hustota na jednotku hardwaru.</span><span class="sxs-lookup"><span data-stu-id="dbf6f-141">Containers lead to lower costs, either by the consolidation and removal of existing hardware, or from running applications at a higher density per unit of hardware.</span></span>

-   <span data-ttu-id="dbf6f-142">**Přenositelnost**.</span><span class="sxs-lookup"><span data-stu-id="dbf6f-142">**Portability**.</span></span> <span data-ttu-id="dbf6f-143">Kontejnery jsou moduly a přenosné.</span><span class="sxs-lookup"><span data-stu-id="dbf6f-143">Containers are modular and portable.</span></span> <span data-ttu-id="dbf6f-144">Kontejnery dockeru jsou podporovány na serverový operační systém (Linux a Windows), v libovolné významnější veřejná Cloudová (Microsoft Azure, Amazon AWS, Google, IBM) a v místní a privátní nebo hybridní Cloudová prostředí.</span><span class="sxs-lookup"><span data-stu-id="dbf6f-144">Docker containers are supported on any server operating system (Linux and Windows), in any major public cloud (Microsoft Azure, Amazon AWS, Google, IBM), and in on-premises and private or hybrid cloud environments.</span></span>

-   <span data-ttu-id="dbf6f-145">**Ovládací prvek**.</span><span class="sxs-lookup"><span data-stu-id="dbf6f-145">**Control**.</span></span> <span data-ttu-id="dbf6f-146">Kontejnery nabízejí flexibilní a zabezpečené prostředí, které se řídí na úrovni kontejneru.</span><span class="sxs-lookup"><span data-stu-id="dbf6f-146">Containers offer a flexible and secure environment that's controlled at the container level.</span></span> <span data-ttu-id="dbf6f-147">Kontejner můžete zabezpečené, izolované a i omezené tím, že nastavíte zásady omezení spuštění v kontejneru.</span><span class="sxs-lookup"><span data-stu-id="dbf6f-147">A container can be secured, isolated, and even limited by setting execution constraint policies on the container.</span></span> <span data-ttu-id="dbf6f-148">Podle popisu v části o kontejnerech Windows Windows Server 2016 a Hyper-V kontejnery nabízejí možnosti podpory další organizace.</span><span class="sxs-lookup"><span data-stu-id="dbf6f-148">As detailed in the section about Windows Containers, Windows Server 2016 and Hyper-V containers offer additional enterprise support options.</span></span>

<span data-ttu-id="dbf6f-149">Významné zlepšení agility, přenositelnost a ovládací prvek s tvorbou snížení nákladů při použití kontejnerů pro vývoj a údržbu aplikace.</span><span class="sxs-lookup"><span data-stu-id="dbf6f-149">Significant improvements in agility, portability, and control ultimately lead to significant cost reductions when you use containers to develop and maintain applications.</span></span>

## <a name="what-is-docker"></a><span data-ttu-id="dbf6f-150">Co je Docker?</span><span class="sxs-lookup"><span data-stu-id="dbf6f-150">What is Docker?</span></span>

<span data-ttu-id="dbf6f-151">[Docker](https://www.docker.com/) je [open source projektu](https://github.com/docker/docker) , který automatizuje nasazení aplikací jako přenosných a soběstační kontejnerů, které můžou běžet v cloudu nebo místně.</span><span class="sxs-lookup"><span data-stu-id="dbf6f-151">[Docker](https://www.docker.com/) is an [open-source project](https://github.com/docker/docker) that automates the deployment of applications as portable, self-sufficient containers that can run in the cloud or on-premises.</span></span> <span data-ttu-id="dbf6f-152">Docker je také [společnosti](https://www.docker.com/) , který podporuje a vyvíjí tuto technologii.</span><span class="sxs-lookup"><span data-stu-id="dbf6f-152">Docker is also a [company](https://www.docker.com/) that promotes and evolves this technology.</span></span> <span data-ttu-id="dbf6f-153">Společnost funguje ve spolupráci s cloudem, Linux a Windows dodavateli, včetně Microsoft.</span><span class="sxs-lookup"><span data-stu-id="dbf6f-153">The company works in collaboration with cloud, Linux, and Windows vendors, including Microsoft.</span></span>

![](./media/image6.png)

> <span data-ttu-id="dbf6f-154">**Obrázek 4 až 6.**</span><span class="sxs-lookup"><span data-stu-id="dbf6f-154">**Figure 4-6.**</span></span> <span data-ttu-id="dbf6f-155">Dockeru nasadí kontejnery na všech úrovních hybridního cloudu</span><span class="sxs-lookup"><span data-stu-id="dbf6f-155">Docker deploys containers at all layers of the hybrid cloud</span></span>

<span data-ttu-id="dbf6f-156">Někomu obeznámeni s virtuálními počítači, kontejnerů může zobrazit pozoruhodně podobné.</span><span class="sxs-lookup"><span data-stu-id="dbf6f-156">To someone familiar with virtual machines, containers might appear to be remarkably similar.</span></span> <span data-ttu-id="dbf6f-157">Kontejner běží operační systém, je systém souborů a je přístupný přes síť, stejně jako fyzický nebo virtuální počítač systému.</span><span class="sxs-lookup"><span data-stu-id="dbf6f-157">A container runs an operating system, has a file system, and can be accessed over a network, just like a physical or virtual computer system.</span></span> <span data-ttu-id="dbf6f-158">Technologie a principy kontejnery jsou ale výrazně liší od virtuálních počítačů.</span><span class="sxs-lookup"><span data-stu-id="dbf6f-158">However, the technology and concepts behind containers are vastly different from virtual machines.</span></span> <span data-ttu-id="dbf6f-159">Z developer hlediska musí kontejner více zacházet jako s jeden proces.</span><span class="sxs-lookup"><span data-stu-id="dbf6f-159">From a developer point of view, a container must be treated more like a single process.</span></span> <span data-ttu-id="dbf6f-160">Ve skutečnosti kontejner má jeden vstupní bod pro jeden proces.</span><span class="sxs-lookup"><span data-stu-id="dbf6f-160">In fact, a container has a single entry point for one process.</span></span>

<span data-ttu-id="dbf6f-161">Kontejnery dockeru (pro zjednodušení *kontejnery*) můžou nativně běžet na systému Linux a Windows.</span><span class="sxs-lookup"><span data-stu-id="dbf6f-161">Docker containers (for simplicity, *containers*) can run natively on Linux and Windows.</span></span> <span data-ttu-id="dbf6f-162">Při spuštění regulárního kontejnery, kontejnery Windows lze použít pouze v hostitelích Windows (hostitelský server nebo virtuální počítač) a kontejnery Linuxu lze spustit pouze na hostitelích systému Linux.</span><span class="sxs-lookup"><span data-stu-id="dbf6f-162">When running regular containers, Windows containers can run only on Windows hosts (a host server or a VM), and Linux containers can run only on Linux hosts.</span></span> <span data-ttu-id="dbf6f-163">Ale v posledních verzích systému Windows Server a Hyper-V containers kontejneru Linuxu také můžete spustit nativně v systému Windows Server s použitím technologie izolace Hyper-V, která je aktuálně k dispozici pouze v systému Windows Server kontejnery.</span><span class="sxs-lookup"><span data-stu-id="dbf6f-163">However, in recent versions of Windows Server and Hyper-V containers, a Linux container also can run natively on Windows Server by using the Hyper-V isolation technology that currently is available only in Windows Server Containers.</span></span>

<span data-ttu-id="dbf6f-164">Hybridní prostředí, které mají kontejnerů Linuxu a Windows v blízké budoucnosti bude možné a dokonce i běžné.</span><span class="sxs-lookup"><span data-stu-id="dbf6f-164">In the near future, mixed environments that have both Linux and Windows containers will be possible and even common.</span></span>

## <a name="benefits-of-windows-containers-for-your-existing-net-applications"></a><span data-ttu-id="dbf6f-165">Výhody kontejnerů Windows pro existující aplikace .NET</span><span class="sxs-lookup"><span data-stu-id="dbf6f-165">Benefits of Windows Containers for your existing .NET applications</span></span>

<span data-ttu-id="dbf6f-166">Mezi výhody používání kontejnerů Windows jsou v podstatě stejné výhody, které získáte obecně z kontejnerů.</span><span class="sxs-lookup"><span data-stu-id="dbf6f-166">The benefits of using Windows Containers are fundamentally the same benefits you get from containers in general.</span></span> <span data-ttu-id="dbf6f-167">Pomocí kontejnerů Windows je výrazně zlepšuje agilitu, přenositelnost a ovládací prvek.</span><span class="sxs-lookup"><span data-stu-id="dbf6f-167">Using Windows Containers is about greatly improving agility, portability, and control.</span></span>

<span data-ttu-id="dbf6f-168">Stávající aplikace .NET najdete v těchto aplikací, které byly vytvořeny pomocí rozhraní .NET Framework.</span><span class="sxs-lookup"><span data-stu-id="dbf6f-168">Existing .NET applications refer to those applications that were created using the .NET Framework.</span></span> <span data-ttu-id="dbf6f-169">Například může být tradiční webové aplikace ASP.NET-, nepoužívejte .NET Core, která je novější a spouští různé platformy v systému Linux, Windows a MacOS.</span><span class="sxs-lookup"><span data-stu-id="dbf6f-169">For example, they might be traditional ASP.NET web applications-they don't use .NET Core, which is newer and runs cross-platform on Linux, Windows, and MacOS.</span></span>

<span data-ttu-id="dbf6f-170">Hlavní závislost v rozhraní .NET Framework je Windows.</span><span class="sxs-lookup"><span data-stu-id="dbf6f-170">The main dependency in the .NET Framework is Windows.</span></span> <span data-ttu-id="dbf6f-171">Má také sekundární závislosti, jako jsou služby IIS a System.Web v tradiční technologie ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="dbf6f-171">It also has secondary dependencies, like IIS, and System.Web in traditional ASP.NET.</span></span>

<span data-ttu-id="dbf6f-172">Aplikace rozhraní .NET Framework, musíte spustit na Windows, období.</span><span class="sxs-lookup"><span data-stu-id="dbf6f-172">A .NET Framework application must run on Windows, period.</span></span> <span data-ttu-id="dbf6f-173">Pokud chcete kontejnerizace existující aplikace rozhraní .NET Framework a nemůžete nebo nechcete investovat do migrace až po .NET Core ("Pokud funguje správně, nemusíte migrovat"), pouze pro kontejnery je používání kontejnerů Windows.</span><span class="sxs-lookup"><span data-stu-id="dbf6f-173">If you want to containerize existing .NET Framework applications and you can't or don't want to invest in a migration to .NET Core ("If it works properly, don't migrate it"), the only choice you have for containers is to use Windows Containers.</span></span>

<span data-ttu-id="dbf6f-174">Takže jeden z největších výhod kontejnerů Windows je, že tyto funkce poskytují způsob, jak modernizaci stávajících aplikací rozhraní .NET Framework, které běží na Windows prostřednictvím kontejnerizace.</span><span class="sxs-lookup"><span data-stu-id="dbf6f-174">So, one of the main benefits of Windows Containers is that they offer you a way to modernize your existing .NET Framework applications that are running on Windows-through containerization.</span></span> <span data-ttu-id="dbf6f-175">Nakonec kontejnery Windows získáte výhody, které hledáte, s využitím flexibility kontejnerů, přenositelnost a lepší kontrolu.</span><span class="sxs-lookup"><span data-stu-id="dbf6f-175">Ultimately, Windows Containers gets you the benefits that you are looking for by using containers-agility, portability, and better control.</span></span>

## <a name="choose-an-os-to-target-with-net-based-containers"></a><span data-ttu-id="dbf6f-176">Vyberte operační systém na cíl. Kontejnery založené na NET</span><span class="sxs-lookup"><span data-stu-id="dbf6f-176">Choose an OS to target with .NET-based containers</span></span>

<span data-ttu-id="dbf6f-177">Zadaný spektrum operačních systémů, které podporuje Docker, stejně jako rozdíly v rozhraní .NET Framework a .NET Core, by měl cíl konkrétní operační systém a konkrétní verze založené na rozhraní .NET framework, které používáte.</span><span class="sxs-lookup"><span data-stu-id="dbf6f-177">Given the diversity of operating systems that are supported by Docker, as well as the differences between .NET Framework and .NET Core, you should target a specific OS and specific versions based on the framework you are using.</span></span>

<span data-ttu-id="dbf6f-178">Pro Windows můžete použít Windows Server Core nebo Windows Nano Server.</span><span class="sxs-lookup"><span data-stu-id="dbf6f-178">For Windows, you can use Windows Server Core or Windows Nano Server.</span></span> <span data-ttu-id="dbf6f-179">Tyto verze Windows poskytují různé vlastnosti (např. IIS a v místním prostředí webového serveru, jako Kestrel), které mohou být potřebné aplikace rozhraní .NET Framework nebo .NET Core.</span><span class="sxs-lookup"><span data-stu-id="dbf6f-179">These Windows versions provide different characteristics (like IIS versus a self-hosted web server like Kestrel) that might be needed by .NET Framework or .NET Core applications.</span></span>

<span data-ttu-id="dbf6f-180">Více distribuce pro Linux, jsou dostupné a podporované v oficiální Image .NET Dockeru (např. Debian).</span><span class="sxs-lookup"><span data-stu-id="dbf6f-180">For Linux, multiple distros are available and supported in official .NET Docker images (like Debian).</span></span>

<span data-ttu-id="dbf6f-181">Obrázek 4 – 7 znázorňuje verze operačního systému, které chcete, můžete vybrat, v závislosti na verzi aplikace rozhraní .NET Framework.</span><span class="sxs-lookup"><span data-stu-id="dbf6f-181">Figure 4-7 shows OS versions that you can target, depending on the app's version of the .NET Framework.</span></span>

![](./media/image7.png)

> <span data-ttu-id="dbf6f-182">**Obrázek 4 – 7.**</span><span class="sxs-lookup"><span data-stu-id="dbf6f-182">**Figure 4-7.**</span></span> <span data-ttu-id="dbf6f-183">Operační systémy do cíle založené na verzi rozhraní .NET Framework</span><span class="sxs-lookup"><span data-stu-id="dbf6f-183">Operating systems to target based on .NET Framework version</span></span>

<span data-ttu-id="dbf6f-184">Ve scénářích migrace pro existující nebo starší verzi aplikace, které jsou založeny na rozhraní .NET Framework aplikace hlavní závislosti jsou na Windows a služby IIS.</span><span class="sxs-lookup"><span data-stu-id="dbf6f-184">In migration scenarios for existing or legacy applications that are based on .NET Framework applications, the main dependencies are on Windows and IIS.</span></span> <span data-ttu-id="dbf6f-185">Jedinou možností je použití imagí Dockeru založených na Windows Server Core a .NET Framework.</span><span class="sxs-lookup"><span data-stu-id="dbf6f-185">Your only option is to use Docker images based on Windows Server Core and the .NET Framework.</span></span>

<span data-ttu-id="dbf6f-186">Když přidáte název bitové kopie do souboru Dockerfile, můžete vybrat verzi operačního systému a s použitím značky, stejně jako v následujících příkladech týkajících imagí kontejnerů Windows založené na rozhraní .NET Framework:</span><span class="sxs-lookup"><span data-stu-id="dbf6f-186">When you add the image name to your Dockerfile file, you can select the operating system and version by using a tag, as in the following examples for .NET Framework-based Windows container images:</span></span>

> | <span data-ttu-id="dbf6f-187">**Značka**</span><span class="sxs-lookup"><span data-stu-id="dbf6f-187">**Tag**</span></span> | <span data-ttu-id="dbf6f-188">**Systém a verze**</span><span class="sxs-lookup"><span data-stu-id="dbf6f-188">**System and version**</span></span> |
> |---|---|
> | <span data-ttu-id="dbf6f-189">**microsoft/dotnet-framework:4.x-windowsservercore**</span><span class="sxs-lookup"><span data-stu-id="dbf6f-189">**microsoft/dotnet-framework:4.x-windowsservercore**</span></span> | <span data-ttu-id="dbf6f-190">Rozhraní .NET framework 4.x na jádru Windows serveru</span><span class="sxs-lookup"><span data-stu-id="dbf6f-190">.NET Framework 4.x on Windows Server Core</span></span> |
> | <span data-ttu-id="dbf6f-191">**microsoft/aspnet:4.x-windowsservercore**</span><span class="sxs-lookup"><span data-stu-id="dbf6f-191">**microsoft/aspnet:4.x-windowsservercore**</span></span> | <span data-ttu-id="dbf6f-192">Rozhraní .NET framework 4.x s další vlastní nastavení technologie ASP.NET, v systému Windows Server Core</span><span class="sxs-lookup"><span data-stu-id="dbf6f-192">.NET Framework 4.x with additional ASP.NET customization, on Windows Server Core</span></span> |

<span data-ttu-id="dbf6f-193">Pro .NET Core (pro různé platformy pro systémy Linux a Windows) značky by vypadat nějak takto:</span><span class="sxs-lookup"><span data-stu-id="dbf6f-193">For .NET Core (cross-platform for Linux and Windows), the tags would look like the following:</span></span>

> | <span data-ttu-id="dbf6f-194">**Značka**</span><span class="sxs-lookup"><span data-stu-id="dbf6f-194">**Tag**</span></span> | <span data-ttu-id="dbf6f-195">**Systém a verze**</span><span class="sxs-lookup"><span data-stu-id="dbf6f-195">**System and version**</span></span>
> |---|---|
> | <span data-ttu-id="dbf6f-196">**microsoft/dotnet:2.0.0-runtime**</span><span class="sxs-lookup"><span data-stu-id="dbf6f-196">**microsoft/dotnet:2.0.0-runtime**</span></span> | <span data-ttu-id="dbf6f-197">.NET core 2.0 v Linuxu pouze modul runtime</span><span class="sxs-lookup"><span data-stu-id="dbf6f-197">.NET Core 2.0 runtime-only on Linux</span></span> |
> | <span data-ttu-id="dbf6f-198">**microsoft/dotnet:2.0.0-runtime-nanoserver**</span><span class="sxs-lookup"><span data-stu-id="dbf6f-198">**microsoft/dotnet:2.0.0-runtime-nanoserver**</span></span> | <span data-ttu-id="dbf6f-199">.NET core 2.0 pouze modul runtime Windows Nano server</span><span class="sxs-lookup"><span data-stu-id="dbf6f-199">.NET Core 2.0 runtime-only on Windows Nano Server</span></span> |

### <a name="multi-arch-images"></a><span data-ttu-id="dbf6f-200">Více architektury imagí</span><span class="sxs-lookup"><span data-stu-id="dbf6f-200">Multi-arch images</span></span>

<span data-ttu-id="dbf6f-201">Od poloviny 2017, také můžete použít novou funkci v Dockeru volá [více arch](https://github.com/moby/moby/issues/15866) bitové kopie.</span><span class="sxs-lookup"><span data-stu-id="dbf6f-201">Beginning in mid-2017, you also can use a new feature in Docker called [multi-arch](https://github.com/moby/moby/issues/15866) images.</span></span> <span data-ttu-id="dbf6f-202">Více architektury značky můžete použít Image Dockeru .NET core.</span><span class="sxs-lookup"><span data-stu-id="dbf6f-202">.NET Core Docker images can use multi-arch tags.</span></span> <span data-ttu-id="dbf6f-203">Váš soubor Dockerfile souborů už potřeba definovat operační systém, který cílíte.</span><span class="sxs-lookup"><span data-stu-id="dbf6f-203">Your Dockerfile files no longer need to define the operating system that you are targeting.</span></span> <span data-ttu-id="dbf6f-204">Více architektury funkce umožňuje jedné značky, který se má použít napříč konfiguracemi s více počítači.</span><span class="sxs-lookup"><span data-stu-id="dbf6f-204">The multi-arch feature allows a single tag to be used across multiple machine configurations.</span></span> <span data-ttu-id="dbf6f-205">Pro instanci s více arch, můžete použít jednu značku common: **microsoft/dotnet:2.0.0-runtime**.</span><span class="sxs-lookup"><span data-stu-id="dbf6f-205">For instance, with multi-arch, you can use one common tag: **microsoft/dotnet:2.0.0-runtime**.</span></span> <span data-ttu-id="dbf6f-206">Pokud si vyžádáte dané klíčové slovo z prostředí kontejnerů Linux, získáte imagí založených na Debian.</span><span class="sxs-lookup"><span data-stu-id="dbf6f-206">If you pull that tag from a Linux container environment, you get the Debian-based image.</span></span> <span data-ttu-id="dbf6f-207">Pokud si vyžádáte dané klíčové slovo z prostředí kontejneru Windows, získáte imagí založených na Nano serveru.</span><span class="sxs-lookup"><span data-stu-id="dbf6f-207">If you pull that tag from a Windows container environment, you get the Nano Server-based image.</span></span>

<span data-ttu-id="dbf6f-208">Pro rozhraní .NET Framework bitové kopie protože tradiční rozhraní .NET Framework podporuje pouze Windows nelze použít funkci více architektury.</span><span class="sxs-lookup"><span data-stu-id="dbf6f-208">For .NET Framework images, because the traditional .NET Framework supports only Windows, you cannot use the multi-arch feature.</span></span>

## <a name="windows-container-types"></a><span data-ttu-id="dbf6f-209">Typy kontejnerů Windows</span><span class="sxs-lookup"><span data-stu-id="dbf6f-209">Windows container types</span></span>

<span data-ttu-id="dbf6f-210">Jako kontejnery Linux se spravují kontejnery Windows serveru s využitím modulu Docker.</span><span class="sxs-lookup"><span data-stu-id="dbf6f-210">Like Linux containers, Windows Server containers are managed by using Docker Engine.</span></span> <span data-ttu-id="dbf6f-211">Na rozdíl od kontejnery Linuxu kontejnery Windows zahrnují dva typy jiný kontejner nebo spustit doby než Windows Server containers a izolace Hyper-V.</span><span class="sxs-lookup"><span data-stu-id="dbf6f-211">Unlike Linux containers, Windows containers include two different container types, or run times-Windows Server containers and Hyper-V isolation.</span></span>

<span data-ttu-id="dbf6f-212">**Kontejnery Windows serveru**: Poskytuje izolace aplikací prostřednictvím technologie izolace procesu a obor názvů.</span><span class="sxs-lookup"><span data-stu-id="dbf6f-212">**Windows Server containers**: Provides application isolation through process and namespace isolation technology.</span></span> <span data-ttu-id="dbf6f-213">Kontejner Windows Server se sdílí jádro s hostitel s kontejnerem a všechny kontejnery, které běží na hostiteli.</span><span class="sxs-lookup"><span data-stu-id="dbf6f-213">A Windows Server container shares a kernel with the container host and all containers that are running on the host.</span></span> <span data-ttu-id="dbf6f-214">Tyto kontejnery neposkytují hranice nebezpečný zabezpečení a by neměl být použít k izolaci nedůvěryhodného kódu.</span><span class="sxs-lookup"><span data-stu-id="dbf6f-214">These containers do not provide a hostile security boundary and should not be used to isolate untrusted code.</span></span> <span data-ttu-id="dbf6f-215">Z důvodu místa sdílené jádra tyto kontejnery vyžadují stejné verze jádra a konfigurace.</span><span class="sxs-lookup"><span data-stu-id="dbf6f-215">Because of the shared kernel space, these containers require the same kernel version and configuration.</span></span>

<span data-ttu-id="dbf6f-216">**Izolace Hyper-V**: Rozšiřuje možnosti izolace poskytovaná kontejnery Windows serveru spuštěním jednotlivých kontejnerů na virtuálním počítači s vysoce optimalizovaný.</span><span class="sxs-lookup"><span data-stu-id="dbf6f-216">**Hyper-V isolation**: Expands on the isolation provided by Windows Server Containers by running each container on a highly optimized VM.</span></span> <span data-ttu-id="dbf6f-217">V této konfiguraci nesdílí jádro hostitele kontejneru s dalších kontejnerů ve stejném hostiteli.</span><span class="sxs-lookup"><span data-stu-id="dbf6f-217">In this configuration, the kernel of the container host is not shared with other containers on the same host.</span></span> <span data-ttu-id="dbf6f-218">Tyto kontejnery jsou navržené pro nebezpečný víceklientské hostování, se stejnou míru záruky zabezpečení virtuálního počítače.</span><span class="sxs-lookup"><span data-stu-id="dbf6f-218">These containers are designed for hostile multitenant hosting, with the same security assurances of a VM.</span></span> <span data-ttu-id="dbf6f-219">Protože tyto kontejnery Nesdílejte jádro s hostitelem nebo jiných kontejnerů na hostiteli, můžou běžet jader s různými verzemi a konfigurace (s podporovanou verzí).</span><span class="sxs-lookup"><span data-stu-id="dbf6f-219">Because these containers don't share the kernel with the host or other containers on the host, they can run kernels with different versions and configurations (with supported versions).</span></span> <span data-ttu-id="dbf6f-220">Například všechny kontejnery Windows ve Windows 10 pomocí izolace Hyper-V pro využití verze jádra systému Windows Server a konfiguraci.</span><span class="sxs-lookup"><span data-stu-id="dbf6f-220">For example, all Windows containers on Windows 10 use Hyper-V isolation to utilize the Windows Server kernel version and configuration.</span></span>

<span data-ttu-id="dbf6f-221">Spouštění kontejneru na Windows s nebo bez izolace Hyper-V je za běhu rozhodnutí.</span><span class="sxs-lookup"><span data-stu-id="dbf6f-221">Running a container on Windows with or without Hyper-V isolation is a run-time decision.</span></span> <span data-ttu-id="dbf6f-222">Může být zpočátku vytvořit kontejner izolace Hyper-V a v době běhu, zvolte možnost pro spuštění jako kontejner Windows Server.</span><span class="sxs-lookup"><span data-stu-id="dbf6f-222">You might choose to create the container with Hyper-V isolation initially, and at run time, choose to run it as a Windows Server container instead.</span></span>

### <a name="additional-resources"></a><span data-ttu-id="dbf6f-223">Další zdroje</span><span class="sxs-lookup"><span data-stu-id="dbf6f-223">Additional resources</span></span>

-   <span data-ttu-id="dbf6f-224">**Dokumentace ke službě kontejnery Windows**</span><span class="sxs-lookup"><span data-stu-id="dbf6f-224">**Windows Containers documentation**</span></span>

    [https://docs.microsoft.com/virtualization/windowscontainers/](https://docs.microsoft.com/virtualization/windowscontainers/)

-   <span data-ttu-id="dbf6f-225">**Základy kontejnery Windows**</span><span class="sxs-lookup"><span data-stu-id="dbf6f-225">**Windows Containers fundamentals**</span></span>

    [https://docs.microsoft.com/virtualization/windowscontainers/about/](https://docs.microsoft.com/virtualization/windowscontainers/about/)

-   <span data-ttu-id="dbf6f-226">**Infografika: Microsoft a kontejnery**</span><span class="sxs-lookup"><span data-stu-id="dbf6f-226">**Infographic: Microsoft and containers**</span></span>

    [https://info.microsoft.com/rs/157-GQE-382/images/Container%20infographic%201.4.17.pdf](https://info.microsoft.com/rs/157-GQE-382/images/Container%20infographic%201.4.17.pdf)


## <a name="the-container-ecosystem-in-azure"></a><span data-ttu-id="dbf6f-227">Ekosystém kontejneru v Azure</span><span class="sxs-lookup"><span data-stu-id="dbf6f-227">The container ecosystem in Azure</span></span>

<span data-ttu-id="dbf6f-228">V předchozích částech byla vysvětlení, jaké jsou výhody kontejnerů Dockeru a také podrobnosti o imagí kontejneru pro konkrétní pro aplikace .NET.</span><span class="sxs-lookup"><span data-stu-id="dbf6f-228">In previous sections, it’s been explained what the benefits of Docker containers are as well as details on the specific container images for .NET applications.</span></span> <span data-ttu-id="dbf6f-229">Všechno, obecné informace jsou zásadní pro vývoj nebo kontejnerizace aplikace.</span><span class="sxs-lookup"><span data-stu-id="dbf6f-229">All that generic information is fundamental in order to develop or containerize an application.</span></span>
<span data-ttu-id="dbf6f-230">Však při posuzování nasazení prostředí nebo dokonce i prostředí pro řízení kvality a pro vývoj/testování, Microsoft Azure poskytuje otevřít a širokou řadu možností, ekosystém úplné kontejneru v cloudu (viz následující diagram).</span><span class="sxs-lookup"><span data-stu-id="dbf6f-230">However, when thinking about the production deployment environment or even QA and Dev/Test environments, Microsoft Azure provides an open and broad variety of choices, a full container ecosystem in the cloud (shown in the diagram below).</span></span> <span data-ttu-id="dbf6f-231">V závislosti na potřebách vaší konkrétní aplikaci měli byste zvolit jeden nebo druhý produkt Azure.</span><span class="sxs-lookup"><span data-stu-id="dbf6f-231">Depending on your specific application’s needs, you should choose one or another Azure product.</span></span>

![](./media/image7.5.png)

> <span data-ttu-id="dbf6f-232">**Obrázek 4 – 7.5.**</span><span class="sxs-lookup"><span data-stu-id="dbf6f-232">**Figure 4-7.5.**</span></span> <span data-ttu-id="dbf6f-233">Ekosystém kontejneru v Azure</span><span class="sxs-lookup"><span data-stu-id="dbf6f-233">The container ecosystem in Azure</span></span>

<span data-ttu-id="dbf6f-234">Z ekosystému kontejneru v Azure, podporuje kontejnery, které jsou považovány za infrastrukturu následující produkty:</span><span class="sxs-lookup"><span data-stu-id="dbf6f-234">From the container ecosystem in Azure, the following products supporting containers that are considered infrastructure:</span></span>
-   <span data-ttu-id="dbf6f-235">**Azure Container Instances (ACI)**</span><span class="sxs-lookup"><span data-stu-id="dbf6f-235">**Azure Container Instances (ACI)**</span></span>
-   <span data-ttu-id="dbf6f-236">**Azure Virtual Machines** (s podporou kontejneru)</span><span class="sxs-lookup"><span data-stu-id="dbf6f-236">**Azure Virtual Machines** (With container's support)</span></span>
-   <span data-ttu-id="dbf6f-237">**Azure Virtual Machine Scale Sets** (s podporou kontejneru)</span><span class="sxs-lookup"><span data-stu-id="dbf6f-237">**Azure Virtual Machine Scale Sets** (With container's support)</span></span>

<span data-ttu-id="dbf6f-238">Z těchto tří ACI poskytuje skvělé výhody, které je skutečnost, že není nutné k údržbě základní operační systém, nemusíte za vás upgradování, opravování a podobně, ale ACI stále je umístěn na úrovni infrastruktury, jak bylo vysvětleno lépe v nadcházejících částech této příručky.</span><span class="sxs-lookup"><span data-stu-id="dbf6f-238">From those three, ACI provides a great benefit, which is the fact that you don't need to maintain the underlying OS, no need for you to upgrade/patch, etc. but ACI still is positioned in the infrastructure level, as better explained in the upcoming sections of this book.</span></span>

<span data-ttu-id="dbf6f-239">Produkty v podpůrných kontejnery služby Azure, které jsou ve stejnou dobu více umístěn v modelu PaaS (platforma jako služba) úrovně jsou:</span><span class="sxs-lookup"><span data-stu-id="dbf6f-239">The products in Azure supporting containers that are at the same time positioned more in the PaaS (Platform as a Service) level are:</span></span>

-   <span data-ttu-id="dbf6f-240">**Azure App Service**</span><span class="sxs-lookup"><span data-stu-id="dbf6f-240">**Azure App Service**</span></span>
-   <span data-ttu-id="dbf6f-241">**Azure Kubernetes Service (AKS a ACS)**</span><span class="sxs-lookup"><span data-stu-id="dbf6f-241">**Azure Kubernetes Service (AKS and ACS)**</span></span>
-   <span data-ttu-id="dbf6f-242">**Azure Service Fabric**</span><span class="sxs-lookup"><span data-stu-id="dbf6f-242">**Azure Service Fabric**</span></span> 
-   <span data-ttu-id="dbf6f-243">**Služba Azure Batch**</span><span class="sxs-lookup"><span data-stu-id="dbf6f-243">**Azure Batch**</span></span> 

<span data-ttu-id="dbf6f-244">Azure Container Registry je vysoce škálovatelná kontejneru registru hostované v Azure, které můžete použít ze všech předchozích produktů při registrací a nasazením vlastního kontejneru obrázků.</span><span class="sxs-lookup"><span data-stu-id="dbf6f-244">Then, Azure Container Registry is a high scalable container registry hosted in Azure that you can use from all the previous products when registering and deploying your custom container images.</span></span>

<span data-ttu-id="dbf6f-245">Kromě toho můžete ze své kontejnery využívat další spravované služby v Azure jako Azure SQL Database, Azure Redis cache, Azure Cosmos DB, atd.</span><span class="sxs-lookup"><span data-stu-id="dbf6f-245">In addition, from your containers, you can consume other managed services in Azure like Azure SQL Database, Azure Redis cache, Azure Cosmos DB, etc.</span></span> <span data-ttu-id="dbf6f-246">Kromě webu Azure Marketplace, jako je Cloud Foundry a OpenShift, kde můžete také použít kontejnery v Azure jsou k dispozici řešení třetích stran/platformy.</span><span class="sxs-lookup"><span data-stu-id="dbf6f-246">plus there are third-party solutions/platforms available in Azure Marketplace like Cloud Foundry and OpenShift where you can also use containers within Azure.</span></span> 

<span data-ttu-id="dbf6f-247">V následujících částech si můžete projít doporučení Microsoftu týkající se použití každé z těchto řešení a produkty Azure konkrétně při cílení na kontejnery Windows.</span><span class="sxs-lookup"><span data-stu-id="dbf6f-247">In the next sections, you can explore Microsoft's recommendations on when to use each of those Azure products and solutions specifically when targeting Windows Containers.</span></span>

>[!div class="step-by-step"]
><span data-ttu-id="dbf6f-248">[Předchozí](what-about-cloud-native-applications.md)
>[další](when-not-to-deploy-to-windows-containers.md)</span><span class="sxs-lookup"><span data-stu-id="dbf6f-248">[Previous](what-about-cloud-native-applications.md)
[Next](when-not-to-deploy-to-windows-containers.md)</span></span>