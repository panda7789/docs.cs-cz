---
title: Klíčové koncepty zabezpečení
ms.date: 07/15/2020
ms.technology: dotnet-standard
dev_langs:
- csharp
- vb
- cpp
helpviewer_keywords:
- unauthorized access
- permissions [.NET]
- security [.NET], about security
ms.assetid: 3cfced4f-ea02-4e66-ae98-d69286363e98
ms.openlocfilehash: 259723b903377f7e79731e1ff79b3d512581102f
ms.sourcegitcommit: b7a8b09828bab4e90f66af8d495ecd7024c45042
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 08/04/2020
ms.locfileid: "87555264"
---
# <a name="key-security-concepts"></a><span data-ttu-id="48a1d-102">Klíčové koncepty zabezpečení</span><span class="sxs-lookup"><span data-stu-id="48a1d-102">Key Security Concepts</span></span>

> [!NOTE]
> <span data-ttu-id="48a1d-103">Tento článek se týká systému Windows.</span><span class="sxs-lookup"><span data-stu-id="48a1d-103">This article applies to Windows.</span></span>
>
> <span data-ttu-id="48a1d-104">Informace o ASP.NET Core najdete v tématu [Přehled zabezpečení ASP.NET Core](https://docs.microsoft.com/aspnet/core/security/).</span><span class="sxs-lookup"><span data-stu-id="48a1d-104">For information about ASP.NET Core, see [Overview of ASP.NET Core Security](https://docs.microsoft.com/aspnet/core/security/).</span></span>

<span data-ttu-id="48a1d-105">Rozhraní .NET nabízí zabezpečení na základě rolí, které umožňuje řešit problémy zabezpečení mobilního kódu a poskytovat podporu, která umožňuje komponentám určit, kteří uživatelé mají oprávnění k tomu.</span><span class="sxs-lookup"><span data-stu-id="48a1d-105">.NET offers role-based security to help address security concerns about mobile code and to provide support that enables components to determine what users are authorized to do.</span></span>  
  
## <a name="type-safety-and-security"></a><span data-ttu-id="48a1d-106">Bezpečnost typů a zabezpečení</span><span class="sxs-lookup"><span data-stu-id="48a1d-106">Type safety and security</span></span>  

<span data-ttu-id="48a1d-107">Kód zajišťující bezpečnost typů přistupuje pouze k umístěním paměti, ke kterým má oprávnění přistupovat.</span><span class="sxs-lookup"><span data-stu-id="48a1d-107">Type-safe code accesses only the memory locations it is authorized to access.</span></span> <span data-ttu-id="48a1d-108">(Pro tuto diskuzi, bezpečnost typů konkrétně odkazuje na bezpečnost typů paměti a neměla by být zaměňována s bezpečností typů v širším ohledu.) Například kód zajišťující bezpečnost typů nemůže číst hodnoty z privátních polí jiného objektu.</span><span class="sxs-lookup"><span data-stu-id="48a1d-108">(For this discussion, type safety specifically refers to memory type safety and should not be confused with type safety in a broader respect.) For example, type-safe code cannot read values from another object's private fields.</span></span> <span data-ttu-id="48a1d-109">Přistupuje pouze k typům v dobře definovaných, přípustných způsobech.</span><span class="sxs-lookup"><span data-stu-id="48a1d-109">It accesses types only in well-defined, allowable ways.</span></span>  
  
<span data-ttu-id="48a1d-110">Během kompilace just-in-time (JIT) ověří volitelný proces ověření metadata a jazyk MSIL (Microsoft Intermediate Language) metody, která má být zkompilována JIT do nativního strojového kódu, aby ověřil, zda jsou typově bezpečná.</span><span class="sxs-lookup"><span data-stu-id="48a1d-110">During just-in-time (JIT) compilation, an optional verification process examines the metadata and Microsoft intermediate language (MSIL) of a method to be JIT-compiled into native machine code to verify that they are type safe.</span></span> <span data-ttu-id="48a1d-111">Tento proces se přeskočí, pokud má kód oprávnění obejít ověřování.</span><span class="sxs-lookup"><span data-stu-id="48a1d-111">This process is skipped if the code has permission to bypass verification.</span></span> <span data-ttu-id="48a1d-112">Další informace o ověřování najdete v tématu [proces spravovaného spuštění](../managed-execution-process.md).</span><span class="sxs-lookup"><span data-stu-id="48a1d-112">For more information about verification, see [Managed Execution Process](../managed-execution-process.md).</span></span>  
  
<span data-ttu-id="48a1d-113">I když ověření bezpečnosti typu není nutné pro spuštění spravovaného kódu, bezpečnost typů hraje zásadní roli v izolaci sestavení a vynucení zabezpečení.</span><span class="sxs-lookup"><span data-stu-id="48a1d-113">Although verification of type safety is not mandatory to run managed code, type safety plays a crucial role in assembly isolation and security enforcement.</span></span> <span data-ttu-id="48a1d-114">Pokud je kód typově bezpečný, modul CLR (Common Language Runtime) může zcela izolovat sestavení od sebe navzájem.</span><span class="sxs-lookup"><span data-stu-id="48a1d-114">When code is type safe, the common language runtime can completely isolate assemblies from each other.</span></span> <span data-ttu-id="48a1d-115">Tato izolace pomáhá zajistit, že sestavení nemůžou negativně ovlivnit a zvyšuje spolehlivost aplikace.</span><span class="sxs-lookup"><span data-stu-id="48a1d-115">This isolation helps ensure that assemblies cannot adversely affect each other and it increases application reliability.</span></span> <span data-ttu-id="48a1d-116">Typově bezpečné komponenty se můžou bezpečně spouštět ve stejném procesu, i když jsou důvěryhodné na různých úrovních.</span><span class="sxs-lookup"><span data-stu-id="48a1d-116">Type-safe components can execute safely in the same process even if they are trusted at different levels.</span></span> <span data-ttu-id="48a1d-117">Pokud kód není typově bezpečný, může dojít k nežádoucím vedlejším účinkům.</span><span class="sxs-lookup"><span data-stu-id="48a1d-117">When code is not type safe, unwanted side effects can occur.</span></span> <span data-ttu-id="48a1d-118">Modul runtime například nemůže zabránit spravovanému kódu v volání nativního (nespravovaného) kódu a provádění škodlivých operací.</span><span class="sxs-lookup"><span data-stu-id="48a1d-118">For example, the runtime cannot prevent managed code from calling into native (unmanaged) code and performing malicious operations.</span></span> <span data-ttu-id="48a1d-119">Pokud je kód typově bezpečný, mechanismus vynucování zabezpečení modulu runtime zajišťuje, aby nezískal přístup k nativnímu kódu, pokud k tomu nemá oprávnění.</span><span class="sxs-lookup"><span data-stu-id="48a1d-119">When code is type safe, the runtime's security enforcement mechanism ensures that it does not access native code unless it has permission to do so.</span></span> <span data-ttu-id="48a1d-120">Veškerý kód, který není typově bezpečný, musí být udělen <xref:System.Security.Permissions.SecurityPermission> s předaným členem výčtu <xref:System.Security.Permissions.SecurityPermissionAttribute.SkipVerification%2A> ke spuštění.</span><span class="sxs-lookup"><span data-stu-id="48a1d-120">All code that is not type safe must have been granted <xref:System.Security.Permissions.SecurityPermission> with the passed enum member <xref:System.Security.Permissions.SecurityPermissionAttribute.SkipVerification%2A> to run.</span></span>  
  
<span data-ttu-id="48a1d-121">Další informace najdete v tématu [Základy zabezpečení přístupu ke kódu](../../framework/misc/code-access-security-basics.md).</span><span class="sxs-lookup"><span data-stu-id="48a1d-121">For more information, see [Code Access Security Basics](../../framework/misc/code-access-security-basics.md).</span></span>  
  
## <a name="principal"></a><span data-ttu-id="48a1d-122">Objekt zabezpečení</span><span class="sxs-lookup"><span data-stu-id="48a1d-122">Principal</span></span>  

<span data-ttu-id="48a1d-123">Objekt zabezpečení představuje identitu a roli uživatele a pracuje jménem uživatele.</span><span class="sxs-lookup"><span data-stu-id="48a1d-123">A principal represents the identity and role of a user and acts on the user's behalf.</span></span> <span data-ttu-id="48a1d-124">Zabezpečení na základě rolí v rozhraní .NET podporuje tři typy objektů zabezpečení:</span><span class="sxs-lookup"><span data-stu-id="48a1d-124">Role-based security in .NET supports three kinds of principals:</span></span>  
  
- <span data-ttu-id="48a1d-125">Obecné objekty zabezpečení reprezentují uživatele a role, které existují nezávisle na uživatelích a rolích systému Windows.</span><span class="sxs-lookup"><span data-stu-id="48a1d-125">Generic principals represent users and roles that exist independent of Windows users and roles.</span></span>  
  
- <span data-ttu-id="48a1d-126">Objekty zabezpečení systému Windows reprezentují uživatele systému Windows a jejich role (nebo jejich skupiny systému Windows).</span><span class="sxs-lookup"><span data-stu-id="48a1d-126">Windows principals represent Windows users and their roles (or their Windows groups).</span></span> <span data-ttu-id="48a1d-127">Objekt zabezpečení systému Windows může zosobnit jiného uživatele, což znamená, že objekt zabezpečení má přístup k prostředku jménem uživatele, přičemž prezentuje identitu patřící tomuto uživateli.</span><span class="sxs-lookup"><span data-stu-id="48a1d-127">A Windows principal can impersonate another user, which means that the principal can access a resource on a user's behalf while presenting the identity that belongs to that user.</span></span>  
  
- <span data-ttu-id="48a1d-128">Vlastní objekty zabezpečení mohou být definovány aplikací jakýmkoli způsobem, který je potřeba pro konkrétní aplikaci.</span><span class="sxs-lookup"><span data-stu-id="48a1d-128">Custom principals can be defined by an application in any way that is needed for that particular application.</span></span> <span data-ttu-id="48a1d-129">Můžou zvětšit základní pojem identity a rolí objektu zabezpečení.</span><span class="sxs-lookup"><span data-stu-id="48a1d-129">They can extend the basic notion of the principal's identity and roles.</span></span>  
  
<span data-ttu-id="48a1d-130">Další informace najdete v tématu [objekty zabezpečení a identity](principal-and-identity-objects.md).</span><span class="sxs-lookup"><span data-stu-id="48a1d-130">For more information, see [Principal and Identity Objects](principal-and-identity-objects.md).</span></span>  
  
## <a name="authentication"></a><span data-ttu-id="48a1d-131">Ověřování uživatelů</span><span class="sxs-lookup"><span data-stu-id="48a1d-131">Authentication</span></span>  
<span data-ttu-id="48a1d-132">Ověřování je proces zjišťování a ověřování identity objektu zabezpečení prozkoumáním přihlašovacích údajů uživatele a ověřením těchto přihlašovacích údajů proti nějaké autoritě.</span><span class="sxs-lookup"><span data-stu-id="48a1d-132">Authentication is the process of discovering and verifying the identity of a principal by examining the user's credentials and validating those credentials against some authority.</span></span> <span data-ttu-id="48a1d-133">Informace získané během ověřování jsou přímo použitelné vaším kódem.</span><span class="sxs-lookup"><span data-stu-id="48a1d-133">The information obtained during authentication is directly usable by your code.</span></span> <span data-ttu-id="48a1d-134">Můžete také použít zabezpečení založené na rolích .NET k ověření aktuálního uživatele a určení, zda chcete, aby tento objekt zabezpečení měl přístup k vašemu kódu.</span><span class="sxs-lookup"><span data-stu-id="48a1d-134">You can also use .NET role-based security to authenticate the current user and to determine whether to allow that principal to access your code.</span></span> <span data-ttu-id="48a1d-135"><xref:System.Security.Principal.WindowsPrincipal.IsInRole%2A?displayProperty=nameWithType>Příklady ověřování objektu zabezpečení pro konkrétní role naleznete v tématu přetížení metody.</span><span class="sxs-lookup"><span data-stu-id="48a1d-135">See the overloads of the <xref:System.Security.Principal.WindowsPrincipal.IsInRole%2A?displayProperty=nameWithType> method for examples of how to authenticate the principal for specific roles.</span></span> <span data-ttu-id="48a1d-136">Například můžete použít <xref:System.Security.Principal.WindowsPrincipal.IsInRole%28System.String%29?displayProperty=nameWithType> přetížení k určení, zda je aktuální uživatel členem skupiny Administrators.</span><span class="sxs-lookup"><span data-stu-id="48a1d-136">For example, you can use the <xref:System.Security.Principal.WindowsPrincipal.IsInRole%28System.String%29?displayProperty=nameWithType> overload to determine if the current user is a member of the Administrators group.</span></span>  
  
<span data-ttu-id="48a1d-137">Dnes se používá celá řada ověřovacích mechanismů, mnohé z nich je možné použít při zabezpečení na základě rolí .NET.</span><span class="sxs-lookup"><span data-stu-id="48a1d-137">A variety of authentication mechanisms are used today, many of which can be used with .NET role-based security.</span></span> <span data-ttu-id="48a1d-138">Některé z nejčastěji používaných mechanismů jsou Basic, Digest, Passport, operační systém (například NTLM nebo Kerberos) nebo mechanizmy definované aplikací.</span><span class="sxs-lookup"><span data-stu-id="48a1d-138">Some of the most commonly used mechanisms are basic, digest, Passport, operating system (such as NTLM or Kerberos), or application-defined mechanisms.</span></span>  
  
### <a name="example"></a><span data-ttu-id="48a1d-139">Příklad</span><span class="sxs-lookup"><span data-stu-id="48a1d-139">Example</span></span>  

<span data-ttu-id="48a1d-140">Následující příklad vyžaduje, aby aktivní objekt zabezpečení byl správce.</span><span class="sxs-lookup"><span data-stu-id="48a1d-140">The following example requires that the active principal be an administrator.</span></span> <span data-ttu-id="48a1d-141">`name`Parametr je `null` , který umožňuje každému uživateli, který je správcem, předat požadavek.</span><span class="sxs-lookup"><span data-stu-id="48a1d-141">The `name` parameter is `null`, which allows any user who is an administrator to pass the demand.</span></span>  
  
> [!NOTE]
> <span data-ttu-id="48a1d-142">V systému Windows Vista Určuje nástroj řízení uživatelských účtů oprávnění uživatele.</span><span class="sxs-lookup"><span data-stu-id="48a1d-142">In Windows Vista, User Account Control (UAC) determines the privileges of a user.</span></span> <span data-ttu-id="48a1d-143">Pokud jste členem předdefinované skupiny Administrators, máte přiřazeny dva přístupové tokeny run-time: token přístupu uživatele se standardním oprávněním a token přístupu správce.</span><span class="sxs-lookup"><span data-stu-id="48a1d-143">If you are a member of the Built-in Administrators group, you are assigned two run-time access tokens: a standard user access token and an administrator access token.</span></span> <span data-ttu-id="48a1d-144">Ve výchozím nastavení máte roli standardního uživatele.</span><span class="sxs-lookup"><span data-stu-id="48a1d-144">By default, you are in the standard user role.</span></span> <span data-ttu-id="48a1d-145">Chcete-li spustit kód, který vyžaduje, abyste byli správcem, musíte nejprve zvýšit oprávnění ze standardního uživatele na správce.</span><span class="sxs-lookup"><span data-stu-id="48a1d-145">To execute the code that requires you to be an administrator, you must first elevate your privileges from standard user to administrator.</span></span> <span data-ttu-id="48a1d-146">To můžete provést po spuštění aplikace kliknutím pravým tlačítkem myši na ikonu aplikace a označením, že chcete spustit jako správce.</span><span class="sxs-lookup"><span data-stu-id="48a1d-146">You can do this when you start an application by right-clicking the application icon and indicating that you want to run as an administrator.</span></span>  
  
 [!code-cpp[Classic PrincipalPermission Example#1](../../../samples/snippets/cpp/VS_Snippets_CLR_Classic/classic PrincipalPermission Example/CPP/source.cpp#1)]
 [!code-csharp[Classic PrincipalPermission Example#1](../../../samples/snippets/csharp/VS_Snippets_CLR_Classic/classic PrincipalPermission Example/CS/source.cs#1)]
 [!code-vb[Classic PrincipalPermission Example#1](../../../samples/snippets/visualbasic/VS_Snippets_CLR_Classic/classic PrincipalPermission Example/VB/source.vb#1)]  
  
 <span data-ttu-id="48a1d-147">Následující příklad ukazuje, jak určit identitu objektu zabezpečení a role, které jsou k dispozici pro objekt zabezpečení.</span><span class="sxs-lookup"><span data-stu-id="48a1d-147">The following example demonstrates how to determine the identity of the principal and the roles available to the principal.</span></span> <span data-ttu-id="48a1d-148">Účelem tohoto příkladu je ověřit, zda je aktuální uživatel v roli, kterou povolíte pro použití vaší aplikace.</span><span class="sxs-lookup"><span data-stu-id="48a1d-148">An application of this example might be to confirm that the current user is in a role you allow for using your application.</span></span>  
  
 [!code-cpp[System.Security.Principal.WindowsBuiltInRole Example#1](../../../samples/snippets/cpp/VS_Snippets_CLR_System/system.Security.Principal.WindowsBuiltInRole Example/CPP/source.cpp#1)]
 [!code-csharp[System.Security.Principal.WindowsBuiltInRole Example#1](../../../samples/snippets/csharp/VS_Snippets_CLR_System/system.Security.Principal.WindowsBuiltInRole Example/CS/source.cs#1)]
 [!code-vb[System.Security.Principal.WindowsBuiltInRole Example#1](../../../samples/snippets/visualbasic/VS_Snippets_CLR_System/system.Security.Principal.WindowsBuiltInRole Example/VB/source.vb#1)]  
  
## <a name="authorization"></a><span data-ttu-id="48a1d-149">Autorizace</span><span class="sxs-lookup"><span data-stu-id="48a1d-149">Authorization</span></span>  

<span data-ttu-id="48a1d-150">Autorizace je proces určení, zda může objekt zabezpečení provést požadovanou akci.</span><span class="sxs-lookup"><span data-stu-id="48a1d-150">Authorization is the process of determining whether a principal is allowed to perform a requested action.</span></span> <span data-ttu-id="48a1d-151">K ověření dochází po ověření a používá informace o identitě a rolích objektu zabezpečení k určení prostředků, ke kterým má objekt zabezpečení přístup.</span><span class="sxs-lookup"><span data-stu-id="48a1d-151">Authorization occurs after authentication and uses information about the principal's identity and roles to determine what resources the principal can access.</span></span> <span data-ttu-id="48a1d-152">K implementaci autorizace můžete použít zabezpečení založené na rolích .NET.</span><span class="sxs-lookup"><span data-stu-id="48a1d-152">You can use .NET role-based security to implement authorization.</span></span>

## <a name="see-also"></a><span data-ttu-id="48a1d-153">Viz také</span><span class="sxs-lookup"><span data-stu-id="48a1d-153">See also</span></span>

- [<span data-ttu-id="48a1d-154">ASP.NET Core zabezpečení</span><span class="sxs-lookup"><span data-stu-id="48a1d-154">ASP.NET Core Security</span></span>](/aspnet/core/security/)
