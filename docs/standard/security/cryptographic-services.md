---
title: Šifrovací služby
description: Přehled metod šifrování a postupů, které podporuje .NET.
ms.date: 07/14/2020
ms.technology: dotnet-standard
helpviewer_keywords:
- cryptography [.NET]
- pattern of derived class inheritance
- digital signatures
- asymmetric cryptographic algorithms
- digital signatures, public-key systems
- public keys
- decryption [.NET]
- private keys
- MAC algorithms
- cryptographic algorithms
- private keys, overview
- encryption [.NET]
- security [.NET], encryption
- cryptographic services
- symmetric cryptographic algorithms
- hash
- message authentication codes
- derived class inheritance
- cryptography [.NET], about
- random number generation
ms.assetid: f96284bc-7b73-44b5-ac59-fac613ad09f8
ms.openlocfilehash: 4cd4e493e0e7d159b2749dac78b9a560e20fd75c
ms.sourcegitcommit: b7a8b09828bab4e90f66af8d495ecd7024c45042
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 08/04/2020
ms.locfileid: "87557018"
---
# <a name="cryptographic-services"></a><span data-ttu-id="422db-103">Šifrovací služby</span><span class="sxs-lookup"><span data-stu-id="422db-103">Cryptographic Services</span></span>

<span data-ttu-id="422db-104">Veřejné sítě, jako je Internet, neposkytují způsob zabezpečené komunikace mezi entitami.</span><span class="sxs-lookup"><span data-stu-id="422db-104">Public networks such as the Internet do not provide a means of secure communication between entities.</span></span> <span data-ttu-id="422db-105">Komunikace přes tyto sítě je náchylná ke čtení nebo dokonce úpravám neoprávněnými třetími stranami.</span><span class="sxs-lookup"><span data-stu-id="422db-105">Communication over such networks is susceptible to being read or even modified by unauthorized third parties.</span></span> <span data-ttu-id="422db-106">Kryptografie pomáhá chránit data před zobrazením, poskytuje způsoby, jak zjistit, zda byla data upravena, a pomáhá zajistit zabezpečený způsob komunikace v jiném nezabezpečeném kanálu.</span><span class="sxs-lookup"><span data-stu-id="422db-106">Cryptography helps protect data from being viewed, provides ways to detect whether data has been modified, and helps provide a secure means of communication over otherwise nonsecure channels.</span></span> <span data-ttu-id="422db-107">Data mohou být například šifrována pomocí kryptografického algoritmu, přenášena v zašifrovaném stavu a později dešifrována zamýšlenou stranou.</span><span class="sxs-lookup"><span data-stu-id="422db-107">For example, data can be encrypted by using a cryptographic algorithm, transmitted in an encrypted state, and later decrypted by the intended party.</span></span> <span data-ttu-id="422db-108">Pokud třetí strana zachytí zašifrovaná data, bude obtížné je dešifrovat.</span><span class="sxs-lookup"><span data-stu-id="422db-108">If a third party intercepts the encrypted data, it will be difficult to decipher.</span></span>

<span data-ttu-id="422db-109">V rozhraní .NET třídy v <xref:System.Security.Cryptography> oboru názvů spravují mnoho podrobností kryptografie za vás.</span><span class="sxs-lookup"><span data-stu-id="422db-109">In .NET, the classes in the <xref:System.Security.Cryptography> namespace manage many details of cryptography for you.</span></span> <span data-ttu-id="422db-110">Některé jsou obálky pro implementace operačních systémů, zatímco jiné jsou čistě spravované implementace.</span><span class="sxs-lookup"><span data-stu-id="422db-110">Some are wrappers for operating system implementations, while others are purely managed implementations.</span></span> <span data-ttu-id="422db-111">Pro použití těchto tříd nemusíte být odborníkem na kryptografii.</span><span class="sxs-lookup"><span data-stu-id="422db-111">You do not need to be an expert in cryptography to use these classes.</span></span> <span data-ttu-id="422db-112">Když vytváříte novou instanci jedné z tříd šifrovacího algoritmu, klíče se generují automaticky pro snadné použití a výchozí vlastnosti jsou co nejbezpečnější a bezpečné.</span><span class="sxs-lookup"><span data-stu-id="422db-112">When you create a new instance of one of the encryption algorithm classes, keys are autogenerated for ease of use, and default properties are as safe and secure as possible.</span></span>

<span data-ttu-id="422db-113">V tomto přehledu najdete stručný přehled metod šifrování a postupů, které podporuje .NET, včetně manifestů ClickOnce.</span><span class="sxs-lookup"><span data-stu-id="422db-113">This overview provides a synopsis of the encryption methods and practices supported by .NET, including the ClickOnce manifests.</span></span>

## <a name="cryptographic-primitives"></a><span data-ttu-id="422db-114">Kryptografické primitivy</span><span class="sxs-lookup"><span data-stu-id="422db-114">Cryptographic Primitives</span></span>

<span data-ttu-id="422db-115">V typické situaci, kdy se používá kryptografie, dvě strany (Alice a Bob) komunikují přes nezabezpečený kanál.</span><span class="sxs-lookup"><span data-stu-id="422db-115">In a typical situation where cryptography is used, two parties (Alice and Bob) communicate over a nonsecure channel.</span></span> <span data-ttu-id="422db-116">Alice a Bob chtějí zajistit, aby jejich komunikace zůstala nesrozumitelná pro kohokoli, kdo může naslouchat.</span><span class="sxs-lookup"><span data-stu-id="422db-116">Alice and Bob want to ensure that their communication remains incomprehensible by anyone who might be listening.</span></span> <span data-ttu-id="422db-117">Vzhledem k tomu, že Alice a Bob jsou ve vzdálených umístěních, Alice musí zajistit, aby informace, které obdrží od Boba, nebyly během přenosu změněny kýmkoli.</span><span class="sxs-lookup"><span data-stu-id="422db-117">Furthermore, because Alice and Bob are in remote locations, Alice must make sure that the information she receives from Bob has not been modified by anyone during transmission.</span></span> <span data-ttu-id="422db-118">Kromě toho musí mít jistotu, že informace skutečně pocházejí od Boba a nikoli od někoho, kdo zosobňuje Boba.</span><span class="sxs-lookup"><span data-stu-id="422db-118">In addition, she must make sure that the information really does originate from Bob and not from someone who is impersonating Bob.</span></span>

<span data-ttu-id="422db-119">Kryptografie se používá k dosažení následujících cílů:</span><span class="sxs-lookup"><span data-stu-id="422db-119">Cryptography is used to achieve the following goals:</span></span>

- <span data-ttu-id="422db-120">Důvěrné: slouží k ochraně před čtením identity uživatele nebo dat.</span><span class="sxs-lookup"><span data-stu-id="422db-120">Confidentiality: To help protect a user's identity or data from being read.</span></span>

- <span data-ttu-id="422db-121">Integrita dat: pro lepší ochranu dat před změnou.</span><span class="sxs-lookup"><span data-stu-id="422db-121">Data integrity: To help protect data from being changed.</span></span>

- <span data-ttu-id="422db-122">Ověřování: zajistí, že data pocházejí z konkrétní strany.</span><span class="sxs-lookup"><span data-stu-id="422db-122">Authentication: To ensure that data originates from a particular party.</span></span>

- <span data-ttu-id="422db-123">Neodmítnutí: Pokud chcete zabránit určité straně v odepření, že poslali zprávu.</span><span class="sxs-lookup"><span data-stu-id="422db-123">Non-repudiation: To prevent a particular party from denying that they sent a message.</span></span>

<span data-ttu-id="422db-124">Pro dosažení těchto cílů můžete použít kombinaci algoritmů a postupů známých jako kryptografické primitivy k vytvoření kryptografického schématu.</span><span class="sxs-lookup"><span data-stu-id="422db-124">To achieve these goals, you can use a combination of algorithms and practices known as cryptographic primitives to create a cryptographic scheme.</span></span> <span data-ttu-id="422db-125">V následující tabulce jsou uvedeny kryptografické primitivy a jejich použití.</span><span class="sxs-lookup"><span data-stu-id="422db-125">The following table lists the cryptographic primitives and their uses.</span></span>

|<span data-ttu-id="422db-126">Kryptografická primitiva</span><span class="sxs-lookup"><span data-stu-id="422db-126">Cryptographic primitive</span></span>|<span data-ttu-id="422db-127">Použití</span><span class="sxs-lookup"><span data-stu-id="422db-127">Use</span></span>|
|-----------------------------|---------|
|<span data-ttu-id="422db-128">Šifrování tajného klíče (symetrické kryptografie)</span><span class="sxs-lookup"><span data-stu-id="422db-128">Secret-key encryption (symmetric cryptography)</span></span>|<span data-ttu-id="422db-129">Provede transformaci dat za účelem zachování jejich čtení třetími stranami.</span><span class="sxs-lookup"><span data-stu-id="422db-129">Performs a transformation on data to keep it from being read by third parties.</span></span> <span data-ttu-id="422db-130">Tento typ šifrování používá jediný sdílený tajný klíč k šifrování a dešifrování dat.</span><span class="sxs-lookup"><span data-stu-id="422db-130">This type of encryption uses a single shared, secret key to encrypt and decrypt data.</span></span>|
|<span data-ttu-id="422db-131">Šifrování veřejného klíče (asymetrické šifrování)</span><span class="sxs-lookup"><span data-stu-id="422db-131">Public-key encryption (asymmetric cryptography)</span></span>|<span data-ttu-id="422db-132">Provede transformaci dat za účelem zachování jejich čtení třetími stranami.</span><span class="sxs-lookup"><span data-stu-id="422db-132">Performs a transformation on data to keep it from being read by third parties.</span></span> <span data-ttu-id="422db-133">Tento typ šifrování používá k šifrování a dešifrování dat dvojici veřejného a privátního klíče.</span><span class="sxs-lookup"><span data-stu-id="422db-133">This type of encryption uses a public/private key pair to encrypt and decrypt data.</span></span>|
|<span data-ttu-id="422db-134">Kryptografické podepisování</span><span class="sxs-lookup"><span data-stu-id="422db-134">Cryptographic signing</span></span>|<span data-ttu-id="422db-135">Pomáhá ověřit, jestli data pocházejí z konkrétní strany vytvořením digitálního podpisu, který je pro danou stranu jedinečný.</span><span class="sxs-lookup"><span data-stu-id="422db-135">Helps verify that data originates from a specific party by creating a digital signature that is unique to that party.</span></span> <span data-ttu-id="422db-136">Tento proces také používá funkce hash.</span><span class="sxs-lookup"><span data-stu-id="422db-136">This process also uses hash functions.</span></span>|
|<span data-ttu-id="422db-137">Kryptografické hodnoty hash</span><span class="sxs-lookup"><span data-stu-id="422db-137">Cryptographic hashes</span></span>|<span data-ttu-id="422db-138">Mapuje data z libovolné délky na bajtovou sekvenci s pevnou délkou.</span><span class="sxs-lookup"><span data-stu-id="422db-138">Maps data from any length to a fixed-length byte sequence.</span></span> <span data-ttu-id="422db-139">Hodnoty hash jsou statisticky jedinečné; jiná posloupnost dvou bajtů nebude mít hodnotu hash na stejnou hodnotu.</span><span class="sxs-lookup"><span data-stu-id="422db-139">Hashes are statistically unique; a different two-byte sequence will not hash to the same value.</span></span>|

## <a name="secret-key-encryption"></a><span data-ttu-id="422db-140">Šifrování tajného klíče</span><span class="sxs-lookup"><span data-stu-id="422db-140">Secret-Key Encryption</span></span>

<span data-ttu-id="422db-141">Šifrovací algoritmy tajného klíče používají pro šifrování a dešifrování dat jeden tajný klíč.</span><span class="sxs-lookup"><span data-stu-id="422db-141">Secret-key encryption algorithms use a single secret key to encrypt and decrypt data.</span></span> <span data-ttu-id="422db-142">Klíč musíte zabezpečit od přístupu neautorizovanými agenty, protože kterákoli z nich, který klíč obsahuje, ho může použít k dešifrování vašich dat nebo k šifrování svých vlastních dat. Tato deklarace vzniklá od vás.</span><span class="sxs-lookup"><span data-stu-id="422db-142">You must secure the key from access by unauthorized agents, because any party that has the key can use it to decrypt your data or encrypt their own data, claiming it originated from you.</span></span>

<span data-ttu-id="422db-143">Šifrování tajného klíče se také označuje jako symetrické šifrování, protože se ke šifrování a dešifrování používá stejný klíč.</span><span class="sxs-lookup"><span data-stu-id="422db-143">Secret-key encryption is also referred to as symmetric encryption because the same key is used for encryption and decryption.</span></span> <span data-ttu-id="422db-144">Šifrovací algoritmy tajného klíče jsou velmi rychlé (ve srovnání s algoritmy veřejného klíče) a jsou vhodné pro provádění kryptografických transformací velkých proudů dat.</span><span class="sxs-lookup"><span data-stu-id="422db-144">Secret-key encryption algorithms are very fast (compared with public-key algorithms) and are well suited for performing cryptographic transformations on large streams of data.</span></span> <span data-ttu-id="422db-145">Asymetrické šifrovací algoritmy, jako je RSA, jsou omezené matematicky v množství dat, která můžou šifrovat.</span><span class="sxs-lookup"><span data-stu-id="422db-145">Asymmetric encryption algorithms such as RSA are limited mathematically in how much data they can encrypt.</span></span> <span data-ttu-id="422db-146">Algoritmy symetrického šifrování obvykle nemají tyto problémy.</span><span class="sxs-lookup"><span data-stu-id="422db-146">Symmetric encryption algorithms do not generally have those problems.</span></span>

<span data-ttu-id="422db-147">Typ algoritmu tajného klíče, který se nazývá Block šifra, se používá k šifrování jednoho bloku dat najednou.</span><span class="sxs-lookup"><span data-stu-id="422db-147">A type of secret-key algorithm called a block cipher is used to encrypt one block of data at a time.</span></span> <span data-ttu-id="422db-148">Blokové šifry, jako je DES (Data Encryption Standard), TripleDES a standard AES (Advanced Encryption Standard) (AES), kryptograficky transformují vstupní blok *n* bajtů do výstupního bloku šifrovaných bajtů.</span><span class="sxs-lookup"><span data-stu-id="422db-148">Block ciphers such as Data Encryption Standard (DES), TripleDES, and Advanced Encryption Standard (AES) cryptographically transform an input block of *n* bytes into an output block of encrypted bytes.</span></span> <span data-ttu-id="422db-149">Chcete-li zašifrovat nebo dešifrovat sekvenci bajtů, je nutné ji zablokovat blokem.</span><span class="sxs-lookup"><span data-stu-id="422db-149">If you want to encrypt or decrypt a sequence of bytes, you have to do it block by block.</span></span> <span data-ttu-id="422db-150">Vzhledem k tomu, že *n* je malé (8 bajtů pro des a TripleDES; 16 bajtů [výchozí], 24 bajtů nebo 32 bajtů pro AES), hodnoty dat větší než *n* musí být zašifrované po jednom bloku.</span><span class="sxs-lookup"><span data-stu-id="422db-150">Because *n* is small (8 bytes for DES and TripleDES; 16 bytes [the default], 24 bytes, or 32 bytes for AES), data values that are larger than *n* have to be encrypted one block at a time.</span></span> <span data-ttu-id="422db-151">Hodnoty dat, které jsou menší než *n* , musí být rozšířeny na *n* , aby je bylo možné zpracovat.</span><span class="sxs-lookup"><span data-stu-id="422db-151">Data values that are smaller than *n* have to be expanded to *n* in order to be processed.</span></span>

<span data-ttu-id="422db-152">Jedna jednoduchá forma bloku Block je označována jako Codebook režim elektronického šifrování (ECB).</span><span class="sxs-lookup"><span data-stu-id="422db-152">One simple form of block cipher is called the electronic codebook (ECB) mode.</span></span> <span data-ttu-id="422db-153">Režim ECB není považován za zabezpečený, protože nepoužívá inicializační vektor k inicializaci prvního bloku prostého textu.</span><span class="sxs-lookup"><span data-stu-id="422db-153">ECB mode is not considered secure, because it does not use an initialization vector to initialize the first plaintext block.</span></span> <span data-ttu-id="422db-154">Pro daný tajný klíč *k*, jednoduchá bloková šifra, která nepoužívá inicializační vektor, zašifruje stejný vstupní blok prostého textu do stejného výstupního bloku šifrovaného textu.</span><span class="sxs-lookup"><span data-stu-id="422db-154">For a given secret key *k*, a simple block cipher that does not use an initialization vector will encrypt the same input block of plaintext into the same output block of ciphertext.</span></span> <span data-ttu-id="422db-155">Proto pokud máte duplicitní bloky ve vstupním datovém proudu prostého textu, budete mít ve svém výstupním streamu šifrovaných dat duplicitní bloky.</span><span class="sxs-lookup"><span data-stu-id="422db-155">Therefore, if you have duplicate blocks in your input plaintext stream, you will have duplicate blocks in your output ciphertext stream.</span></span> <span data-ttu-id="422db-156">Tyto duplicitní výstupní bloky upozorňují neoprávněné uživatele na slabé šifrování při použití algoritmů, které mohly být zaměstnány, a možných způsobů útoku.</span><span class="sxs-lookup"><span data-stu-id="422db-156">These duplicate output blocks alert unauthorized users to the weak encryption used the algorithms that might have been employed, and the possible modes of attack.</span></span> <span data-ttu-id="422db-157">Režim šifry ECB je proto poměrně zranitelný za účelem analýzy a nakonec pro zjišťování klíčů.</span><span class="sxs-lookup"><span data-stu-id="422db-157">The ECB cipher mode is therefore quite vulnerable to analysis, and ultimately, key discovery.</span></span>

<span data-ttu-id="422db-158">Třídy blokové šifry, které jsou k dispozici v knihovně základních tříd, používají výchozí režim zřetězení s názvem cipher-Blocking Chaining (CBC), i když můžete změnit toto výchozí nastavení, pokud chcete.</span><span class="sxs-lookup"><span data-stu-id="422db-158">The block cipher classes that are provided in the base class library use a default chaining mode called cipher-block chaining (CBC), although you can change this default if you want.</span></span>

<span data-ttu-id="422db-159">CBC šifry překonat problémy spojené s šiframi ECB pomocí inicializačního vektoru (IV) k šifrování prvního bloku prostého textu.</span><span class="sxs-lookup"><span data-stu-id="422db-159">CBC ciphers overcome the problems associated with ECB ciphers by using an initialization vector (IV) to encrypt the first block of plaintext.</span></span> <span data-ttu-id="422db-160">Každý následující blok prostého textu v případě, že `XOR` před jeho zašifrováním projde logickou a () operaci s předchozím blokem šifrovaného textu.</span><span class="sxs-lookup"><span data-stu-id="422db-160">Each subsequent block of plaintext undergoes a bitwise exclusive OR (`XOR`) operation with the previous ciphertext block before it is encrypted.</span></span> <span data-ttu-id="422db-161">Každý blok šifrovaného textu je proto závislý na všech předchozích blocích.</span><span class="sxs-lookup"><span data-stu-id="422db-161">Each ciphertext block is therefore dependent on all previous blocks.</span></span> <span data-ttu-id="422db-162">Při použití tohoto systému se běžná záhlaví zpráv, která mohou být známá neoprávněným uživatelům, nelze použít k zpětnou analýzu klíče.</span><span class="sxs-lookup"><span data-stu-id="422db-162">When this system is used, common message headers that might be known to an unauthorized user cannot be used to reverse-engineer a key.</span></span>

<span data-ttu-id="422db-163">Jedním ze způsobů, jak ohrozit data zašifrovaná pomocí CBC šifry, je provést důkladné prohledávání každého možného klíče.</span><span class="sxs-lookup"><span data-stu-id="422db-163">One way to compromise data that is encrypted with a CBC cipher is to perform an exhaustive search of every possible key.</span></span> <span data-ttu-id="422db-164">V závislosti na velikosti klíče, který se používá k šifrování, je tento druh hledání velmi časově náročný pomocí i nejrychlejších počítačů, a proto je neproveditelný.</span><span class="sxs-lookup"><span data-stu-id="422db-164">Depending on the size of the key that is used to perform encryption, this kind of search is very time-consuming using even the fastest computers and is therefore infeasible.</span></span> <span data-ttu-id="422db-165">Větší velikosti klíčů je obtížné dešifrovat.</span><span class="sxs-lookup"><span data-stu-id="422db-165">Larger key sizes are more difficult to decipher.</span></span> <span data-ttu-id="422db-166">I když při šifrování není teoreticky nemožné, aby nežádoucí osoba načetla šifrovaná data, vyvolají to náklady.</span><span class="sxs-lookup"><span data-stu-id="422db-166">Although encryption does not make it theoretically impossible for an adversary to retrieve the encrypted data, it does raise the cost of doing this.</span></span> <span data-ttu-id="422db-167">Pokud se po uplynutí tří měsíců provede vyčerpávající hledání, aby se načetla data, která jsou smysluplná jenom několik dní, je metoda podrobného vyhledávání nepraktická.</span><span class="sxs-lookup"><span data-stu-id="422db-167">If it takes three months to perform an exhaustive search to retrieve data that is meaningful only for a few days, the exhaustive search method is impractical.</span></span>

<span data-ttu-id="422db-168">Nevýhodou šifrování tajného klíče je to, že se obě strany dohodly na klíči a IV a sdělily jejich hodnoty.</span><span class="sxs-lookup"><span data-stu-id="422db-168">The disadvantage of secret-key encryption is that it presumes two parties have agreed on a key and IV, and communicated their values.</span></span> <span data-ttu-id="422db-169">Velikost IV není považována za tajnou a je možné ji přenést do prostého textu se zprávou.</span><span class="sxs-lookup"><span data-stu-id="422db-169">The IV is not considered a secret and can be transmitted in plaintext with the message.</span></span> <span data-ttu-id="422db-170">Klíč se ale musí uchovávat jako tajný klíč od neautorizovaných uživatelů.</span><span class="sxs-lookup"><span data-stu-id="422db-170">However, the key must be kept secret from unauthorized users.</span></span> <span data-ttu-id="422db-171">Z důvodu těchto problémů se šifrování tajného klíče často používá společně s šifrováním veřejného klíče pro soukromou komunikaci hodnot klíče a IV.</span><span class="sxs-lookup"><span data-stu-id="422db-171">Because of these problems, secret-key encryption is often used together with public-key encryption to privately communicate the values of the key and IV.</span></span>

<span data-ttu-id="422db-172">Za předpokladu, že Alice a Bob jsou dvě strany, které chtějí komunikovat přes nezabezpečený kanál, můžou použít šifrování tajného klíče takto: Alice a Bob souhlasí, že používají jeden konkrétní algoritmus (například AES) s určitým klíčem a IV.</span><span class="sxs-lookup"><span data-stu-id="422db-172">Assuming that Alice and Bob are two parties who want to communicate over a nonsecure channel, they might use secret-key encryption as follows: Alice and Bob agree to use one particular algorithm (AES, for example) with a particular key and IV.</span></span> <span data-ttu-id="422db-173">Alice vytvoří zprávu a vytvoří síťový datový proud (například pojmenovaný kanál nebo síťový e-mail), na který se má zpráva poslat.</span><span class="sxs-lookup"><span data-stu-id="422db-173">Alice composes a message and creates a network stream (perhaps a named pipe or network email) on which to send the message.</span></span> <span data-ttu-id="422db-174">V dalším kroku šifruje text pomocí klíče a IV a pošle šifrovanou zprávu a IV k Bobovi přes intranet.</span><span class="sxs-lookup"><span data-stu-id="422db-174">Next, she encrypts the text using the key and IV, and sends the encrypted message and IV to Bob over the intranet.</span></span> <span data-ttu-id="422db-175">Bob obdrží zašifrovaný text a dešifruje ho pomocí IV a dřív souhlasil na klíči.</span><span class="sxs-lookup"><span data-stu-id="422db-175">Bob receives the encrypted text and decrypts it by using the IV and previously agreed upon key.</span></span> <span data-ttu-id="422db-176">Pokud je přenos zachycen, zachytávací modul nemůže obnovit původní zprávu, protože neznají klíč.</span><span class="sxs-lookup"><span data-stu-id="422db-176">If the transmission is intercepted, the interceptor cannot recover the original message, because they do not know the key.</span></span> <span data-ttu-id="422db-177">V tomto scénáři musí být klíč v tajnosti.</span><span class="sxs-lookup"><span data-stu-id="422db-177">In this scenario, only the key must remain secret.</span></span> <span data-ttu-id="422db-178">Ve scénáři reálného světa buď Alice, nebo Bob vygeneruje tajný klíč a pomocí šifrování veřejného klíče (asymetrického klíče) přenáší tajný klíč (symetrický) na druhou stranu.</span><span class="sxs-lookup"><span data-stu-id="422db-178">In a real world scenario, either Alice or Bob generates a secret key and uses public-key (asymmetric) encryption to transfer the secret (symmetric) key to the other party.</span></span> <span data-ttu-id="422db-179">Další informace o šifrování veřejného klíče najdete v další části.</span><span class="sxs-lookup"><span data-stu-id="422db-179">For more information about public-key encryption, see the next section.</span></span>

<span data-ttu-id="422db-180">Rozhraní .NET poskytuje následující třídy, které implementují šifrovací algoritmy tajného klíče:</span><span class="sxs-lookup"><span data-stu-id="422db-180">.NET provides the following classes that implement secret-key encryption algorithms:</span></span>

- <xref:System.Security.Cryptography.Aes>

- <span data-ttu-id="422db-181"><xref:System.Security.Cryptography.HMACSHA256><xref:System.Security.Cryptography.HMACSHA384>a <xref:System.Security.Cryptography.HMACSHA512> .</span><span class="sxs-lookup"><span data-stu-id="422db-181"><xref:System.Security.Cryptography.HMACSHA256>, <xref:System.Security.Cryptography.HMACSHA384> and <xref:System.Security.Cryptography.HMACSHA512>.</span></span> <span data-ttu-id="422db-182">(Jedná se o technicky algoritmy tajného klíče, protože představují kódy ověřování zpráv, které se počítají pomocí kryptografické funkce hash kombinované s tajným klíčem.</span><span class="sxs-lookup"><span data-stu-id="422db-182">(These are technically secret-key algorithms because they represent message authentication codes that are calculated by using a cryptographic hash function combined with a secret key.</span></span> <span data-ttu-id="422db-183">Viz [hodnoty hash](#hash-values)dále v tomto článku.)</span><span class="sxs-lookup"><span data-stu-id="422db-183">See [Hash Values](#hash-values), later in this article.)</span></span>

## <a name="public-key-encryption"></a><span data-ttu-id="422db-184">Šifrování veřejného klíče</span><span class="sxs-lookup"><span data-stu-id="422db-184">Public-Key Encryption</span></span>

<span data-ttu-id="422db-185">Šifrování s veřejným klíčem používá privátní klíč, který se musí uchovávat jako tajný klíč od neautorizovaných uživatelů a veřejný klíč, který je možné zveřejnit pro kohokoli.</span><span class="sxs-lookup"><span data-stu-id="422db-185">Public-key encryption uses a private key that must be kept secret from unauthorized users and a public key that can be made public to anyone.</span></span> <span data-ttu-id="422db-186">Veřejný klíč a soukromý klíč jsou matematicky propojeny; data zašifrovaná pomocí veřejného klíče lze dešifrovat pouze pomocí privátního klíče a data, která jsou podepsána pomocí privátního klíče, lze ověřit pouze pomocí veřejného klíče.</span><span class="sxs-lookup"><span data-stu-id="422db-186">The public key and the private key are mathematically linked; data that is encrypted with the public key can be decrypted only with the private key, and data that is signed with the private key can be verified only with the public key.</span></span> <span data-ttu-id="422db-187">Veřejný klíč může být zpřístupněn všem uživatelům; slouží k šifrování dat, která se mají zasílat do uchování privátního klíče.</span><span class="sxs-lookup"><span data-stu-id="422db-187">The public key can be made available to anyone; it is used for encrypting data to be sent to the keeper of the private key.</span></span> <span data-ttu-id="422db-188">Kryptografické algoritmy veřejného klíče jsou známé také jako asymetrické algoritmy, protože pro šifrování dat je vyžadován jeden klíč a k dešifrování dat je vyžadován další klíč.</span><span class="sxs-lookup"><span data-stu-id="422db-188">Public-key cryptographic algorithms are also known as asymmetric algorithms because one key is required to encrypt data, and another key is required to decrypt data.</span></span> <span data-ttu-id="422db-189">Základní kryptografické pravidlo zakazuje opakované použití klíče a oba klíče by měly být pro každou relaci komunikace jedinečné.</span><span class="sxs-lookup"><span data-stu-id="422db-189">A basic cryptographic rule prohibits key reuse, and both keys should be unique for each communication session.</span></span> <span data-ttu-id="422db-190">Nicméně v praxi jsou asymetrické klíče všeobecně dlouhodobé.</span><span class="sxs-lookup"><span data-stu-id="422db-190">However, in practice, asymmetric keys are generally long-lived.</span></span>

<span data-ttu-id="422db-191">Dvě strany (Alice a Bob) můžou používat šifrování pomocí veřejného klíče takto: nejdřív Alice vygeneruje pár veřejného a privátního klíče.</span><span class="sxs-lookup"><span data-stu-id="422db-191">Two parties (Alice and Bob) might use public-key encryption as follows: First, Alice generates a public/private key pair.</span></span> <span data-ttu-id="422db-192">Pokud Bob chce odeslat Alici šifrovanou zprávu, požádá o jeho veřejný klíč.</span><span class="sxs-lookup"><span data-stu-id="422db-192">If Bob wants to send Alice an encrypted message, he asks her for her public key.</span></span> <span data-ttu-id="422db-193">Alice pošle Bobovi svůj veřejný klíč přes nezabezpečenou síť a Bob použije tento klíč k zašifrování zprávy.</span><span class="sxs-lookup"><span data-stu-id="422db-193">Alice sends Bob her public key over a nonsecure network, and Bob uses this key to encrypt a message.</span></span> <span data-ttu-id="422db-194">Bob pošle šifrovanou zprávu Alici a dešifruje ji pomocí jejího privátního klíče.</span><span class="sxs-lookup"><span data-stu-id="422db-194">Bob sends the encrypted message to Alice, and she decrypts it by using her private key.</span></span> <span data-ttu-id="422db-195">Pokud Bob přijal klíč Alice přes nezabezpečený kanál, jako je například veřejná síť, Bob je otevřený útok prostředníkem.</span><span class="sxs-lookup"><span data-stu-id="422db-195">If Bob received Alice's key over a nonsecure channel, such as a public network, Bob is open to a man-in-the-middle attack.</span></span> <span data-ttu-id="422db-196">Proto musí Bob ověřit s Alicí, že má správnou kopii jejího veřejného klíče.</span><span class="sxs-lookup"><span data-stu-id="422db-196">Therefore, Bob must verify with Alice that he has a correct copy of her public key.</span></span>

<span data-ttu-id="422db-197">Během přenosu veřejného klíče Alice může klíč zachytit neautorizovaný agent.</span><span class="sxs-lookup"><span data-stu-id="422db-197">During the transmission of Alice's public key, an unauthorized agent might intercept the key.</span></span> <span data-ttu-id="422db-198">Kromě toho může stejný agent zachytit šifrovanou zprávu od Boba.</span><span class="sxs-lookup"><span data-stu-id="422db-198">Furthermore, the same agent might intercept the encrypted message from Bob.</span></span> <span data-ttu-id="422db-199">Agent ale nemůže dešifrovat zprávu pomocí veřejného klíče.</span><span class="sxs-lookup"><span data-stu-id="422db-199">However, the agent cannot decrypt the message with the public key.</span></span> <span data-ttu-id="422db-200">Zpráva může být dešifrována pouze s privátním klíčem Alice, který nebyl přenesen.</span><span class="sxs-lookup"><span data-stu-id="422db-200">The message can be decrypted only with Alice's private key, which has not been transmitted.</span></span> <span data-ttu-id="422db-201">Alice nepoužívá svůj privátní klíč k šifrování zprávy s odpovědí Bobovi, protože kdokoli s veřejným klíčem by mohl zprávu dešifrovat.</span><span class="sxs-lookup"><span data-stu-id="422db-201">Alice does not use her private key to encrypt a reply message to Bob, because anyone with the public key could decrypt the message.</span></span> <span data-ttu-id="422db-202">Pokud Alice chce poslat zprávu zpět Bobovi, požádá Bob o jeho veřejný klíč a zašifruje jeho zprávu pomocí tohoto veřejného klíče.</span><span class="sxs-lookup"><span data-stu-id="422db-202">If Alice wants to send a message back to Bob, she asks Bob for his public key and encrypts her message using that public key.</span></span> <span data-ttu-id="422db-203">Bob pak dešifruje zprávu pomocí jejího přidruženého privátního klíče.</span><span class="sxs-lookup"><span data-stu-id="422db-203">Bob then decrypts the message using his associated private key.</span></span>

<span data-ttu-id="422db-204">V tomto scénáři Alice a Bob používá šifrování veřejného klíče (asymetrické) k přenosu tajného (symetrického) klíče a pro zbytek relace používá šifrování tajného klíče.</span><span class="sxs-lookup"><span data-stu-id="422db-204">In this scenario, Alice and Bob use public-key (asymmetric) encryption to transfer a secret (symmetric) key and use secret-key encryption for the remainder of their session.</span></span>

<span data-ttu-id="422db-205">Následující seznam obsahuje porovnání kryptografických algoritmů veřejného klíče a tajného klíče:</span><span class="sxs-lookup"><span data-stu-id="422db-205">The following list offers comparisons between public-key and secret-key cryptographic algorithms:</span></span>

- <span data-ttu-id="422db-206">Kryptografické algoritmy veřejného klíče používají pevnou velikost vyrovnávací paměti, zatímco kryptografické algoritmy tajného klíče používají vyrovnávací paměť s proměnlivou délkou.</span><span class="sxs-lookup"><span data-stu-id="422db-206">Public-key cryptographic algorithms use a fixed buffer size, whereas secret-key cryptographic algorithms use a variable-length buffer.</span></span>

- <span data-ttu-id="422db-207">Algoritmy veřejného klíče nelze použít k zřetězení dat společně do datových proudů, jako jsou algoritmy tajného klíče, protože je možné šifrovat pouze malé objemy dat.</span><span class="sxs-lookup"><span data-stu-id="422db-207">Public-key algorithms cannot be used to chain data together into streams the way secret-key algorithms can, because only small amounts of data can be encrypted.</span></span> <span data-ttu-id="422db-208">Proto asymetrické operace nepoužívají stejný model streamování jako symetrické operace.</span><span class="sxs-lookup"><span data-stu-id="422db-208">Therefore, asymmetric operations do not use the same streaming model as symmetric operations.</span></span>

- <span data-ttu-id="422db-209">Šifrování veřejného klíče má mnohem větší prostor (rozsah možných hodnot pro klíč) než šifrování tajného klíče.</span><span class="sxs-lookup"><span data-stu-id="422db-209">Public-key encryption has a much larger keyspace (range of possible values for the key) than secret-key encryption.</span></span> <span data-ttu-id="422db-210">Proto je šifrování veřejného klíče méně náchylné k vyčerpávajícím útokům, které se pokoušejí o každý možný klíč.</span><span class="sxs-lookup"><span data-stu-id="422db-210">Therefore, public-key encryption is less susceptible to exhaustive attacks that try every possible key.</span></span>

- <span data-ttu-id="422db-211">Veřejné klíče se snadno distribuují, protože není nutné je zabezpečit, pokud k tomu existuje nějaký způsob, jak ověřit identitu odesilatele.</span><span class="sxs-lookup"><span data-stu-id="422db-211">Public keys are easy to distribute because they do not have to be secured, provided that some way exists to verify the identity of the sender.</span></span>

- <span data-ttu-id="422db-212">Některé algoritmy veřejného klíče (například RSA a DSA, ale ne Diffie-Hellman) se dají použít k vytvoření digitálních podpisů, které ověřují identitu odesilatele dat.</span><span class="sxs-lookup"><span data-stu-id="422db-212">Some public-key algorithms (such as RSA and DSA, but not Diffie-Hellman) can be used to create digital signatures to verify the identity of the sender of data.</span></span>

- <span data-ttu-id="422db-213">Algoritmy veřejného klíče jsou ve srovnání s algoritmy tajného klíče velmi pomalé a nejsou navržené k šifrování velkých objemů dat.</span><span class="sxs-lookup"><span data-stu-id="422db-213">Public-key algorithms are very slow compared with secret-key algorithms, and are not designed to encrypt large amounts of data.</span></span> <span data-ttu-id="422db-214">Algoritmy veřejného klíče jsou užitečné jenom pro přenos velmi malých objemů dat.</span><span class="sxs-lookup"><span data-stu-id="422db-214">Public-key algorithms are useful only for transferring very small amounts of data.</span></span> <span data-ttu-id="422db-215">Šifrování pomocí veřejného klíče se obvykle používá k šifrování klíče a IV pro použití algoritmem tajného klíče.</span><span class="sxs-lookup"><span data-stu-id="422db-215">Typically, public-key encryption is used to encrypt a key and IV to be used by a secret-key algorithm.</span></span> <span data-ttu-id="422db-216">Po přesunu klíče a IV se pro zbytek relace použije šifrování tajného klíče.</span><span class="sxs-lookup"><span data-stu-id="422db-216">After the key and IV are transferred, secret-key encryption is used for the remainder of the session.</span></span>

<span data-ttu-id="422db-217">Rozhraní .NET poskytuje následující třídy, které implementují algoritmy veřejného klíče:</span><span class="sxs-lookup"><span data-stu-id="422db-217">.NET provides the following classes that implement public-key algorithms:</span></span>

- <xref:System.Security.Cryptography.RSA>

- <xref:System.Security.Cryptography.ECDsa>

- <xref:System.Security.Cryptography.ECDiffieHellman>

- <xref:System.Security.Cryptography.DSA>

<span data-ttu-id="422db-218">RSA umožňuje šifrování i podepisování, ale DSA se dá použít jenom k podepisování.</span><span class="sxs-lookup"><span data-stu-id="422db-218">RSA allows both encryption and signing, but DSA can be used only for signing.</span></span> <span data-ttu-id="422db-219">DSA není tak bezpečné jako RSA a doporučujeme RSA.</span><span class="sxs-lookup"><span data-stu-id="422db-219">DSA is not as secure as RSA, and we recommend RSA.</span></span> <span data-ttu-id="422db-220">Algoritmus Diffie-Hellman lze použít pouze pro generování klíče.</span><span class="sxs-lookup"><span data-stu-id="422db-220">Diffie-Hellman can be used only for key generation.</span></span> <span data-ttu-id="422db-221">Obecně platí, že algoritmy veřejného klíče jsou více omezené při jejich použití než algoritmy privátního klíče.</span><span class="sxs-lookup"><span data-stu-id="422db-221">In general, public-key algorithms are more limited in their uses than private-key algorithms.</span></span>

## <a name="digital-signatures"></a><span data-ttu-id="422db-222">Digitální podpisy</span><span class="sxs-lookup"><span data-stu-id="422db-222">Digital Signatures</span></span>

<span data-ttu-id="422db-223">Algoritmy veřejného klíče se dají použít i k vytvoření digitálních podpisů.</span><span class="sxs-lookup"><span data-stu-id="422db-223">Public-key algorithms can also be used to form digital signatures.</span></span> <span data-ttu-id="422db-224">Digitální podpisy ověřují identitu odesilatele (Pokud důvěřujete veřejnému klíči odesílatele) a zajistíte ochranu integrity dat.</span><span class="sxs-lookup"><span data-stu-id="422db-224">Digital signatures authenticate the identity of a sender (if you trust the sender's public key) and help protect the integrity of data.</span></span> <span data-ttu-id="422db-225">Pomocí veřejného klíče vygenerovaného Alicí může příjemce dat Alice ověřit, že je Alice poslala porovnáním digitálního podpisu s daty Alice a veřejným klíčem Alice.</span><span class="sxs-lookup"><span data-stu-id="422db-225">Using a public key generated by Alice, the recipient of Alice's data can verify that Alice sent it by comparing the digital signature to Alice's data and Alice's public key.</span></span>

<span data-ttu-id="422db-226">Chcete-li použít kryptografii veřejného klíče k digitálnímu podpisu zprávy, Alice nejprve pro zprávu použije algoritmus hash k vytvoření výtahu zprávy.</span><span class="sxs-lookup"><span data-stu-id="422db-226">To use public-key cryptography to digitally sign a message, Alice first applies a hash algorithm to the message to create a message digest.</span></span> <span data-ttu-id="422db-227">Hodnota Digest zprávy je kompaktní a jedinečná reprezentace dat.</span><span class="sxs-lookup"><span data-stu-id="422db-227">The message digest is a compact and unique representation of data.</span></span> <span data-ttu-id="422db-228">Alice pak zašifruje výtah zprávy pomocí jeho privátního klíče a vytvoří svůj osobní podpis.</span><span class="sxs-lookup"><span data-stu-id="422db-228">Alice then encrypts the message digest with her private key to create her personal signature.</span></span> <span data-ttu-id="422db-229">Po přijetí zprávy a podpisu Bob dešifruje podpis pomocí veřejného klíče Alice pro obnovení výtahu zprávy a hodnotu hash zprávy pomocí stejného algoritmu hash, který Alice použila.</span><span class="sxs-lookup"><span data-stu-id="422db-229">Upon receiving the message and signature, Bob decrypts the signature using Alice's public key to recover the message digest and hashes the message using the same hash algorithm that Alice used.</span></span> <span data-ttu-id="422db-230">Pokud se výtah zprávy, který Bob počítá, přesně shoduje se výtahem zprávy přijatým od Alice, je zaručeno, že zpráva pochází od držitele privátního klíče a že data nebyla změněna.</span><span class="sxs-lookup"><span data-stu-id="422db-230">If the message digest that Bob computes exactly matches the message digest received from Alice, Bob is assured that the message came from the possessor of the private key and that the data has not been modified.</span></span> <span data-ttu-id="422db-231">Pokud Bob důvěřuje, že Alice je držitelem privátního klíče, ví, že zpráva pochází od Alice.</span><span class="sxs-lookup"><span data-stu-id="422db-231">If Bob trusts that Alice is the possessor of the private key, he knows that the message came from Alice.</span></span>

> [!NOTE]
> <span data-ttu-id="422db-232">Podpis může být ověřený kýmkoli, protože veřejný klíč odesílatele je běžnou znalostí a obvykle je zahrnutý ve formátu digitálního podpisu.</span><span class="sxs-lookup"><span data-stu-id="422db-232">A signature can be verified by anyone because the sender's public key is common knowledge and is typically included in the digital signature format.</span></span> <span data-ttu-id="422db-233">Tato metoda nezachovává tajnost zprávy; zpráva, která má být tajná, musí být také zašifrovaná.</span><span class="sxs-lookup"><span data-stu-id="422db-233">This method does not retain the secrecy of the message; for the message to be secret, it must also be encrypted.</span></span>

<span data-ttu-id="422db-234">Rozhraní .NET poskytuje následující třídy, které implementují algoritmy digitálního podpisu:</span><span class="sxs-lookup"><span data-stu-id="422db-234">.NET provides the following classes that implement digital signature algorithms:</span></span>

- <xref:System.Security.Cryptography.RSA>

- <xref:System.Security.Cryptography.ECDsa>

- <xref:System.Security.Cryptography.DSA>

## <a name="hash-values"></a><span data-ttu-id="422db-235">Hodnoty hash</span><span class="sxs-lookup"><span data-stu-id="422db-235">Hash Values</span></span>

<span data-ttu-id="422db-236">Algoritmy hash mapují binární hodnoty libovolné délky na menší binární hodnoty s pevnou délkou, označované jako hodnoty hash.</span><span class="sxs-lookup"><span data-stu-id="422db-236">Hash algorithms map binary values of an arbitrary length to smaller binary values of a fixed length, known as hash values.</span></span> <span data-ttu-id="422db-237">Hodnota hash je numerická reprezentace části dat.</span><span class="sxs-lookup"><span data-stu-id="422db-237">A hash value is a numerical representation of a piece of data.</span></span> <span data-ttu-id="422db-238">Pokud zadáte hodnotu hash v podobě prostého textu a změníte dokonce i jedno písmeno odstavce, další hodnota hash vytvoří jinou hodnotu.</span><span class="sxs-lookup"><span data-stu-id="422db-238">If you hash a paragraph of plaintext and change even one letter of the paragraph, a subsequent hash will produce a different value.</span></span> <span data-ttu-id="422db-239">Pokud je hash kryptograficky silný, jeho hodnota se významně změní.</span><span class="sxs-lookup"><span data-stu-id="422db-239">If the hash is cryptographically strong, its value will change significantly.</span></span> <span data-ttu-id="422db-240">Například pokud je jeden bit zprávy změněn, silná funkce hash může vytvořit výstup, který se liší o 50 procent.</span><span class="sxs-lookup"><span data-stu-id="422db-240">For example, if a single bit of a message is changed, a strong hash function may produce an output that differs by 50 percent.</span></span> <span data-ttu-id="422db-241">Mnoho vstupních hodnot může mít hodnotu hash na stejnou výstupní hodnotu.</span><span class="sxs-lookup"><span data-stu-id="422db-241">Many input values may hash to the same output value.</span></span> <span data-ttu-id="422db-242">Je ale výpočetně neproveditelný, aby bylo možné najít dvě odlišné vstupy, které se hash shodují se stejnou hodnotou.</span><span class="sxs-lookup"><span data-stu-id="422db-242">However, it is computationally infeasible to find two distinct inputs that hash to the same value.</span></span>

<span data-ttu-id="422db-243">Dvě strany (Alice a Bob) můžou použít funkci hash k zajištění integrity zprávy.</span><span class="sxs-lookup"><span data-stu-id="422db-243">Two parties (Alice and Bob) could use a hash function to ensure message integrity.</span></span> <span data-ttu-id="422db-244">Vybraly algoritmus hash pro podepsání svých zpráv.</span><span class="sxs-lookup"><span data-stu-id="422db-244">They would select a hash algorithm to sign their messages.</span></span> <span data-ttu-id="422db-245">Alice by napsala zprávu a pak vytvořila hodnotu hash této zprávy pomocí vybraného algoritmu.</span><span class="sxs-lookup"><span data-stu-id="422db-245">Alice would write a message, and then create a hash of that message by using the selected algorithm.</span></span> <span data-ttu-id="422db-246">Pak by pak následovaly jednu z následujících metod:</span><span class="sxs-lookup"><span data-stu-id="422db-246">They would then follow one of the following methods:</span></span>

- <span data-ttu-id="422db-247">Alice pošle zprávu nešifrovaného textu a zatřiďovací zprávu (digitální podpis) Bobovi.</span><span class="sxs-lookup"><span data-stu-id="422db-247">Alice sends the plaintext message and the hashed message (digital signature) to Bob.</span></span> <span data-ttu-id="422db-248">Bob obdrží a vytvoří hodnotu hash zprávy a porovná hodnotu hash s hodnotou hash, kterou obdržel od Alice.</span><span class="sxs-lookup"><span data-stu-id="422db-248">Bob receives and hashes the message and compares his hash value to the hash value that he received from Alice.</span></span> <span data-ttu-id="422db-249">Pokud jsou hodnoty hash identické, zpráva se nezměnila.</span><span class="sxs-lookup"><span data-stu-id="422db-249">If the hash values are identical, the message was not altered.</span></span> <span data-ttu-id="422db-250">Pokud hodnoty nejsou shodné, zpráva se po jejím zapsání nezměnila.</span><span class="sxs-lookup"><span data-stu-id="422db-250">If the values are not identical, the message was altered after Alice wrote it.</span></span>

  <span data-ttu-id="422db-251">Tato metoda bohužel nevytváří pravost odesilatele.</span><span class="sxs-lookup"><span data-stu-id="422db-251">Unfortunately, this method does not establish the authenticity of the sender.</span></span> <span data-ttu-id="422db-252">Kdokoli může zosobnit Alici a poslat zprávu Bobovi.</span><span class="sxs-lookup"><span data-stu-id="422db-252">Anyone can impersonate Alice and send a message to Bob.</span></span> <span data-ttu-id="422db-253">Můžou použít stejný algoritmus hash k podepsání své zprávy a všichni Bob můžou určit, že se zpráva shoduje s jejím podpisem.</span><span class="sxs-lookup"><span data-stu-id="422db-253">They can use the same hash algorithm to sign their message, and all Bob can determine is that the message matches its signature.</span></span> <span data-ttu-id="422db-254">Jedná se o jednu formu útoku prostředníkem.</span><span class="sxs-lookup"><span data-stu-id="422db-254">This is one form of a man-in-the-middle attack.</span></span> <span data-ttu-id="422db-255">Další informace najdete v tématu [Příklad zabezpečené komunikace CNG (Cryptography Next Generation)](https://docs.microsoft.com/previous-versions/cc488018(v=vs.100)).</span><span class="sxs-lookup"><span data-stu-id="422db-255">For more information, see [Cryptography Next Generation (CNG) Secure Communication Example](https://docs.microsoft.com/previous-versions/cc488018(v=vs.100)).</span></span>

- <span data-ttu-id="422db-256">Alice pošle zprávu nešifrovaného textu Bobovi přes nezabezpečený veřejný kanál.</span><span class="sxs-lookup"><span data-stu-id="422db-256">Alice sends the plaintext message to Bob over a nonsecure public channel.</span></span> <span data-ttu-id="422db-257">Pošle zprávu hash Bobovi přes zabezpečený privátní kanál.</span><span class="sxs-lookup"><span data-stu-id="422db-257">She sends the hashed message to Bob over a secure private channel.</span></span> <span data-ttu-id="422db-258">Bob obdrží zprávu ve formátu prostého textu, vytvoří hodnotu hash a porovná hodnotu hash s soukromou vyměněnou hodnotou hash.</span><span class="sxs-lookup"><span data-stu-id="422db-258">Bob receives the plaintext message, hashes it, and compares the hash to the privately exchanged hash.</span></span> <span data-ttu-id="422db-259">Pokud se hodnoty hash shodují, Bob zná dvě věci:</span><span class="sxs-lookup"><span data-stu-id="422db-259">If the hashes match, Bob knows two things:</span></span>

  - <span data-ttu-id="422db-260">Zpráva se nezměnila.</span><span class="sxs-lookup"><span data-stu-id="422db-260">The message was not altered.</span></span>

  - <span data-ttu-id="422db-261">Odesílatel zprávy (Alice) je pravý.</span><span class="sxs-lookup"><span data-stu-id="422db-261">The sender of the message (Alice) is authentic.</span></span>

  <span data-ttu-id="422db-262">Aby tento systém fungoval, musí skrýt jeho původní hodnotu hash ze všech stran kromě Boba.</span><span class="sxs-lookup"><span data-stu-id="422db-262">For this system to work, Alice must hide her original hash value from all parties except Bob.</span></span>

- <span data-ttu-id="422db-263">Alice pošle zprávu nešifrovaného textu Bobovi přes nezabezpečený veřejný kanál a umístí do jejího veřejně dostupného webu zprávu s hodnotou hash.</span><span class="sxs-lookup"><span data-stu-id="422db-263">Alice sends the plaintext message to Bob over a nonsecure public channel and places the hashed message on her publicly viewable Web site.</span></span>

  <span data-ttu-id="422db-264">Tato metoda brání manipulaci se zprávou tím, že brání komukoli v úpravě hodnoty hash.</span><span class="sxs-lookup"><span data-stu-id="422db-264">This method prevents message tampering by preventing anyone from modifying the hash value.</span></span> <span data-ttu-id="422db-265">I když může být zpráva a její hodnota hash přečtena kýmkoli, hodnota hash může být změněna pouze Alicí.</span><span class="sxs-lookup"><span data-stu-id="422db-265">Although the message and its hash can be read by anyone, the hash value can be changed only by Alice.</span></span> <span data-ttu-id="422db-266">Útočník, který chce zosobnit Alici, by vyžadoval přístup k webu Alice.</span><span class="sxs-lookup"><span data-stu-id="422db-266">An attacker who wants to impersonate Alice would require access to Alice's Web site.</span></span>

<span data-ttu-id="422db-267">Žádná z předchozích metod nebrání někomu v čtení zpráv Alice, protože jsou přenášeny ve formátu prostého textu.</span><span class="sxs-lookup"><span data-stu-id="422db-267">None of the previous methods will prevent someone from reading Alice's messages, because they are transmitted in plaintext.</span></span> <span data-ttu-id="422db-268">Úplné zabezpečení obvykle vyžaduje digitální podpisy (podepisování zpráv) a šifrování.</span><span class="sxs-lookup"><span data-stu-id="422db-268">Full security typically requires digital signatures (message signing) and encryption.</span></span>

<span data-ttu-id="422db-269">Rozhraní .NET poskytuje následující třídy, které implementují algoritmy hash:</span><span class="sxs-lookup"><span data-stu-id="422db-269">.NET provides the following classes that implement hashing algorithms:</span></span>

- <span data-ttu-id="422db-270"><xref:System.Security.Cryptography.SHA256>.</span><span class="sxs-lookup"><span data-stu-id="422db-270"><xref:System.Security.Cryptography.SHA256>.</span></span>

- <span data-ttu-id="422db-271"><xref:System.Security.Cryptography.SHA384>.</span><span class="sxs-lookup"><span data-stu-id="422db-271"><xref:System.Security.Cryptography.SHA384>.</span></span>

- <span data-ttu-id="422db-272"><xref:System.Security.Cryptography.SHA512>.</span><span class="sxs-lookup"><span data-stu-id="422db-272"><xref:System.Security.Cryptography.SHA512>.</span></span>

<span data-ttu-id="422db-273">Rozhraní .NET také poskytuje <xref:System.Security.Cryptography.MD5> a <xref:System.Security.Cryptography.SHA1> .</span><span class="sxs-lookup"><span data-stu-id="422db-273">.NET also provides <xref:System.Security.Cryptography.MD5> and <xref:System.Security.Cryptography.SHA1>.</span></span> <span data-ttu-id="422db-274">Ale algoritmy MD5 a SHA-1 se zjistily jako nezabezpečené a místo toho se doporučuje použít SHA-2.</span><span class="sxs-lookup"><span data-stu-id="422db-274">But the MD5 and SHA-1 algorithms have been found to be insecure, and SHA-2 is now recommended instead.</span></span> <span data-ttu-id="422db-275">SHA-2 zahrnuje SHA256, SHA384 a SHA512.</span><span class="sxs-lookup"><span data-stu-id="422db-275">SHA-2 includes SHA256, SHA384, and SHA512.</span></span>

## <a name="random-number-generation"></a><span data-ttu-id="422db-276">Náhodné generování čísel</span><span class="sxs-lookup"><span data-stu-id="422db-276">Random Number Generation</span></span>

<span data-ttu-id="422db-277">Generování náhodného čísla je celé řady kryptografických operací.</span><span class="sxs-lookup"><span data-stu-id="422db-277">Random number generation is integral to many cryptographic operations.</span></span> <span data-ttu-id="422db-278">Například kryptografické klíče musí být co nejnáhodný, aby bylo možné je znovu rekládat.</span><span class="sxs-lookup"><span data-stu-id="422db-278">For example, cryptographic keys need to be as random as possible so that it is infeasible to reproduce them.</span></span> <span data-ttu-id="422db-279">Generátory náhodných náhodných čísel musí generovat výstup, který je výpočetně nevhodný pro předpověď pravděpodobnosti, která je lepší než jedna polovina.</span><span class="sxs-lookup"><span data-stu-id="422db-279">Cryptographic random number generators must generate output that is computationally infeasible to predict with a probability that is better than one half.</span></span> <span data-ttu-id="422db-280">Proto jakákoli metoda předpovědi dalšího výstupního bitu nesmí vylepšit více než náhodné odhadování.</span><span class="sxs-lookup"><span data-stu-id="422db-280">Therefore, any method of predicting the next output bit must not perform better than random guessing.</span></span> <span data-ttu-id="422db-281">Třídy v .NET Framework používají generátory náhodných čísel ke generování kryptografických klíčů.</span><span class="sxs-lookup"><span data-stu-id="422db-281">The classes in the .NET Framework use random number generators to generate cryptographic keys.</span></span>

<span data-ttu-id="422db-282"><xref:System.Security.Cryptography.RandomNumberGenerator>Třída je implementací algoritmu generátoru náhodných čísel.</span><span class="sxs-lookup"><span data-stu-id="422db-282">The <xref:System.Security.Cryptography.RandomNumberGenerator> class is an implementation of a random number generator algorithm.</span></span>

## <a name="clickonce-manifests"></a><span data-ttu-id="422db-283">Manifesty ClickOnce</span><span class="sxs-lookup"><span data-stu-id="422db-283">ClickOnce Manifests</span></span>

<span data-ttu-id="422db-284">V .NET Framework 3,5 následující kryptografické třídy umožňují získat a ověřit informace o signaturách manifestu pro aplikace, které jsou nasazeny pomocí [technologie ClickOnce](/visualstudio/deployment/clickonce-security-and-deployment):</span><span class="sxs-lookup"><span data-stu-id="422db-284">In the .NET Framework 3.5, the following cryptography classes let you obtain and verify information about manifest signatures for applications that are deployed using [ClickOnce technology](/visualstudio/deployment/clickonce-security-and-deployment):</span></span>

- <span data-ttu-id="422db-285"><xref:System.Security.Cryptography.ManifestSignatureInformation>Třída získává informace o podpisu manifestu při použití <xref:System.Security.Cryptography.ManifestSignatureInformation.VerifySignature%2A> přetížení metody.</span><span class="sxs-lookup"><span data-stu-id="422db-285">The <xref:System.Security.Cryptography.ManifestSignatureInformation> class obtains information about a manifest signature when you use its <xref:System.Security.Cryptography.ManifestSignatureInformation.VerifySignature%2A> method overloads.</span></span>

- <span data-ttu-id="422db-286">Pomocí <xref:System.Security.ManifestKinds> výčtu můžete určit, které manifesty se mají ověřit.</span><span class="sxs-lookup"><span data-stu-id="422db-286">You can use the <xref:System.Security.ManifestKinds> enumeration to specify which manifests to verify.</span></span> <span data-ttu-id="422db-287">Výsledkem ověření je jedna z <xref:System.Security.Cryptography.SignatureVerificationResult> hodnot výčtu.</span><span class="sxs-lookup"><span data-stu-id="422db-287">The result of the verification is one of the <xref:System.Security.Cryptography.SignatureVerificationResult> enumeration values.</span></span>

- <span data-ttu-id="422db-288"><xref:System.Security.Cryptography.ManifestSignatureInformationCollection>Třída poskytuje kolekci <xref:System.Security.Cryptography.ManifestSignatureInformation> objektů ověřovaných podpisů, které jsou jen pro čtení.</span><span class="sxs-lookup"><span data-stu-id="422db-288">The <xref:System.Security.Cryptography.ManifestSignatureInformationCollection> class provides a read-only collection of <xref:System.Security.Cryptography.ManifestSignatureInformation> objects of the verified signatures.</span></span>

 <span data-ttu-id="422db-289">Kromě toho následující třídy poskytují konkrétní informace o podpisu:</span><span class="sxs-lookup"><span data-stu-id="422db-289">In addition, the following classes provide specific signature information:</span></span>

- <span data-ttu-id="422db-290"><xref:System.Security.Cryptography.StrongNameSignatureInformation>obsahuje informace o podpisu silného názvu pro manifest.</span><span class="sxs-lookup"><span data-stu-id="422db-290"><xref:System.Security.Cryptography.StrongNameSignatureInformation> holds the strong name signature information for a manifest.</span></span>

- <span data-ttu-id="422db-291"><xref:System.Security.Cryptography.X509Certificates.AuthenticodeSignatureInformation>představuje informace o podpisu Authenticode pro manifest.</span><span class="sxs-lookup"><span data-stu-id="422db-291"><xref:System.Security.Cryptography.X509Certificates.AuthenticodeSignatureInformation> represents the Authenticode signature information for a manifest.</span></span>

- <span data-ttu-id="422db-292"><xref:System.Security.Cryptography.X509Certificates.TimestampInformation>obsahuje informace o časovém razítku podpisu Authenticode.</span><span class="sxs-lookup"><span data-stu-id="422db-292"><xref:System.Security.Cryptography.X509Certificates.TimestampInformation> contains information about the time stamp on an Authenticode signature.</span></span>

- <span data-ttu-id="422db-293"><xref:System.Security.Cryptography.X509Certificates.TrustStatus>poskytuje jednoduchý způsob, jak ověřit, zda je podpis Authenticode důvěryhodný.</span><span class="sxs-lookup"><span data-stu-id="422db-293"><xref:System.Security.Cryptography.X509Certificates.TrustStatus> provides a simple way to check whether an Authenticode signature is trusted.</span></span>

## <a name="cryptography-next-generation-cng-classes"></a><span data-ttu-id="422db-294">Třídy kryptografie nové generace (CNG)</span><span class="sxs-lookup"><span data-stu-id="422db-294">Cryptography Next Generation (CNG) Classes</span></span>

<span data-ttu-id="422db-295">V .NET Framework 3,5 a novějších verzích poskytují třídy kryptografických služeb nové generace (CNG) spravovanou obálku kolem nativních funkcí CNG.</span><span class="sxs-lookup"><span data-stu-id="422db-295">In the .NET Framework 3.5 and later versions, the Cryptography Next Generation (CNG) classes provide a managed wrapper around the native CNG functions.</span></span> <span data-ttu-id="422db-296">(CNG je náhradou pro rozhraní CryptoAPI.) Tyto třídy mají v rámci svých názvů "CNG".</span><span class="sxs-lookup"><span data-stu-id="422db-296">(CNG is the replacement for CryptoAPI.) These classes have "Cng" as part of their names.</span></span> <span data-ttu-id="422db-297">Základem základních tříd CNG je <xref:System.Security.Cryptography.CngKey> Třída kontejnerů klíčů, která vyabstrakce úložiště a použití klíčů CNG.</span><span class="sxs-lookup"><span data-stu-id="422db-297">Central to the CNG wrapper classes is the <xref:System.Security.Cryptography.CngKey> key container class, which abstracts the storage and use of CNG keys.</span></span> <span data-ttu-id="422db-298">Tato třída umožňuje bezpečně uložit dvojici klíčů nebo veřejný klíč a odkazovat na ni pomocí jednoduchého názvu řetězce.</span><span class="sxs-lookup"><span data-stu-id="422db-298">This class lets you store a key pair or a public key securely and refer to it by using a simple string name.</span></span> <span data-ttu-id="422db-299">Třída podpisu založená na eliptické křivce <xref:System.Security.Cryptography.ECDsaCng> a <xref:System.Security.Cryptography.ECDiffieHellmanCng> Třída šifrování může používat <xref:System.Security.Cryptography.CngKey> objekty.</span><span class="sxs-lookup"><span data-stu-id="422db-299">The elliptic curve-based <xref:System.Security.Cryptography.ECDsaCng> signature class and the <xref:System.Security.Cryptography.ECDiffieHellmanCng> encryption class can use <xref:System.Security.Cryptography.CngKey> objects.</span></span>

<span data-ttu-id="422db-300"><xref:System.Security.Cryptography.CngKey>Třída se používá pro celou řadu dalších operací, včetně otevírání, vytváření, odstraňování a exportování klíčů.</span><span class="sxs-lookup"><span data-stu-id="422db-300">The <xref:System.Security.Cryptography.CngKey> class is used for a variety of additional operations, including opening, creating, deleting, and exporting keys.</span></span> <span data-ttu-id="422db-301">Poskytuje také přístup k základnímu popisovači klíče, který se použije při přímém volání nativních funkcí.</span><span class="sxs-lookup"><span data-stu-id="422db-301">It also provides access to the underlying key handle to use when calling native functions directly.</span></span>

<span data-ttu-id="422db-302">.NET Framework 3,5 obsahuje také řadu podporovaných tříd CNG, například následující:</span><span class="sxs-lookup"><span data-stu-id="422db-302">The .NET Framework 3.5 also includes a variety of supporting CNG classes, such as the following:</span></span>

- <span data-ttu-id="422db-303"><xref:System.Security.Cryptography.CngProvider>udržuje poskytovatele úložiště klíčů.</span><span class="sxs-lookup"><span data-stu-id="422db-303"><xref:System.Security.Cryptography.CngProvider> maintains a key storage provider.</span></span>

- <span data-ttu-id="422db-304"><xref:System.Security.Cryptography.CngAlgorithm>udržuje algoritmus CNG.</span><span class="sxs-lookup"><span data-stu-id="422db-304"><xref:System.Security.Cryptography.CngAlgorithm> maintains a CNG algorithm.</span></span>

- <span data-ttu-id="422db-305"><xref:System.Security.Cryptography.CngProperty>uchovává často používané vlastnosti klíče.</span><span class="sxs-lookup"><span data-stu-id="422db-305"><xref:System.Security.Cryptography.CngProperty> maintains frequently used key properties.</span></span>

## <a name="see-also"></a><span data-ttu-id="422db-306">Viz také</span><span class="sxs-lookup"><span data-stu-id="422db-306">See also</span></span>

- <span data-ttu-id="422db-307">[Kryptografický model](cryptography-model.md) – popisuje, jak je kryptografie implementována v knihovně základní třídy.</span><span class="sxs-lookup"><span data-stu-id="422db-307">[Cryptography Model](cryptography-model.md) - Describes how cryptography is implemented in the base class library.</span></span>
- [<span data-ttu-id="422db-308">Kryptografie pro různé platformy</span><span class="sxs-lookup"><span data-stu-id="422db-308">Cross-Platform Cryptography</span></span>](cross-platform-cryptography.md)
- [<span data-ttu-id="422db-309">Ohrožení zabezpečení časování u symetrického dešifrování pomocí odsazení v režimu CBC</span><span class="sxs-lookup"><span data-stu-id="422db-309">Timing vulnerabilities with CBC-mode symmetric decryption using padding</span></span>](vulnerabilities-cbc-mode.md)
- [<span data-ttu-id="422db-310">Ochrana dat ASP.NET Core</span><span class="sxs-lookup"><span data-stu-id="422db-310">ASP.NET Core Data Protection</span></span>](/aspnet/core/security/data-protection/introduction)
