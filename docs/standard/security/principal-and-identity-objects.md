---
title: Objekty zabezpečení a identity
description: Přečtěte si o objektech identity, které reprezentují uživatele v rozhraní .NET. Přečtěte si také informace o objektech zabezpečení, které zapouzdřují objekt identity & roli.
ms.date: 07/15/2020
ms.technology: dotnet-standard
helpviewer_keywords:
- WindowsIdentity objects
- GenericIdentity objects
- GenericPrincipal objects
- identity objects, about identity objects
- security [.NET], identity objects
- principal objects, about principal objects
- security [.NET], principals
- WindowsPrincipal objects
ms.assetid: aa5930ad-f3d7-40aa-b6f6-c6edcd5c64f7
ms.openlocfilehash: 79caeed6ed64a07238e398af1e12f51640b88b62
ms.sourcegitcommit: b7a8b09828bab4e90f66af8d495ecd7024c45042
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 08/04/2020
ms.locfileid: "87555251"
---
# <a name="principal-and-identity-objects"></a><span data-ttu-id="5dd24-104">Objekty zabezpečení a identity</span><span class="sxs-lookup"><span data-stu-id="5dd24-104">Principal and Identity Objects</span></span>

> [!NOTE]
> <span data-ttu-id="5dd24-105">Tento článek se týká systému Windows.</span><span class="sxs-lookup"><span data-stu-id="5dd24-105">This article applies to Windows.</span></span>
>
> <span data-ttu-id="5dd24-106">Informace o ASP.NET Core najdete v tématu [ASP.NET Core Security](/aspnet/core/security/).</span><span class="sxs-lookup"><span data-stu-id="5dd24-106">For information about ASP.NET Core, see [ASP.NET Core Security](/aspnet/core/security/).</span></span>

<span data-ttu-id="5dd24-107">Spravovaný kód může zjistit identitu nebo roli objektu zabezpečení prostřednictvím <xref:System.Security.Principal.IPrincipal> objektu, který obsahuje odkaz na <xref:System.Security.Principal.IIdentity> objekt.</span><span class="sxs-lookup"><span data-stu-id="5dd24-107">Managed code can discover the identity or the role of a principal through a <xref:System.Security.Principal.IPrincipal> object, which contains a reference to an <xref:System.Security.Principal.IIdentity> object.</span></span> <span data-ttu-id="5dd24-108">Může být užitečné porovnat identity a objekty zabezpečení s známými koncepty, jako jsou účty uživatelů a skupin.</span><span class="sxs-lookup"><span data-stu-id="5dd24-108">It might be helpful to compare identity and principal objects to familiar concepts like user and group accounts.</span></span> <span data-ttu-id="5dd24-109">Ve většině síťových prostředí představují uživatelské účty osoby nebo programy, zatímco účty skupin představují určité kategorie uživatelů a práva, která mají.</span><span class="sxs-lookup"><span data-stu-id="5dd24-109">In most network environments, user accounts represent people or programs, while group accounts represent certain categories of users and the rights they possess.</span></span> <span data-ttu-id="5dd24-110">Podobně objekty identity technologie .NET reprezentují uživatele, zatímco role reprezentují členství a kontexty zabezpečení.</span><span class="sxs-lookup"><span data-stu-id="5dd24-110">Similarly, .NET identity objects represent users, while roles represent memberships and security contexts.</span></span> <span data-ttu-id="5dd24-111">V rozhraní .NET objekt zabezpečení zapouzdřuje objekt identity i roli.</span><span class="sxs-lookup"><span data-stu-id="5dd24-111">In .NET, the principal object encapsulates both an identity object and a role.</span></span> <span data-ttu-id="5dd24-112">Aplikace .NET udělují oprávnění objektu zabezpečení na základě jeho identity nebo častěji jeho členství v rolích.</span><span class="sxs-lookup"><span data-stu-id="5dd24-112">.NET applications grant rights to the principal based on its identity or, more commonly, its role membership.</span></span>  
  
## <a name="identity-objects"></a><span data-ttu-id="5dd24-113">Objekty identity</span><span class="sxs-lookup"><span data-stu-id="5dd24-113">Identity Objects</span></span>

<span data-ttu-id="5dd24-114">Objekt identity zapouzdřuje informace o ověřovaném uživateli nebo entitě.</span><span class="sxs-lookup"><span data-stu-id="5dd24-114">The identity object encapsulates information about the user or entity being validated.</span></span> <span data-ttu-id="5dd24-115">Na nejzákladnější úrovni objekty identity obsahují název a typ ověřování.</span><span class="sxs-lookup"><span data-stu-id="5dd24-115">At their most basic level, identity objects contain a name and an authentication type.</span></span> <span data-ttu-id="5dd24-116">Název může být buď jméno uživatele, nebo název účtu systému Windows, zatímco typ ověřování může být buď podporovaný přihlašovací protokol, jako je například Kerberos V5, nebo vlastní hodnota.</span><span class="sxs-lookup"><span data-stu-id="5dd24-116">The name can either be a user's name or the name of a Windows account, while the authentication type can be either a supported logon protocol, such as Kerberos V5, or a custom value.</span></span> <span data-ttu-id="5dd24-117">Rozhraní .NET definuje <xref:System.Security.Principal.GenericIdentity> objekt, který lze použít pro většinu vlastních scénářů přihlášení a konkrétnější <xref:System.Security.Principal.WindowsIdentity> objekt, který lze použít, pokud chcete, aby se aplikace spoléhala na ověřování systému Windows.</span><span class="sxs-lookup"><span data-stu-id="5dd24-117">.NET defines a <xref:System.Security.Principal.GenericIdentity> object that can be used for most custom logon scenarios and a more specialized <xref:System.Security.Principal.WindowsIdentity> object that can be used when you want your application to rely on Windows authentication.</span></span> <span data-ttu-id="5dd24-118">Kromě toho můžete definovat vlastní třídu identity, která zapouzdřuje vlastní informace o uživateli.</span><span class="sxs-lookup"><span data-stu-id="5dd24-118">Additionally, you can define your own identity class that encapsulates custom user information.</span></span>  
  
<span data-ttu-id="5dd24-119"><xref:System.Security.Principal.IIdentity>Rozhraní definuje vlastnosti pro přístup k názvu a typu ověřování, jako je například Kerberos V5 nebo NTLM.</span><span class="sxs-lookup"><span data-stu-id="5dd24-119">The <xref:System.Security.Principal.IIdentity> interface defines properties for accessing a name and an authentication type, such as Kerberos V5 or NTLM.</span></span> <span data-ttu-id="5dd24-120">Všechny třídy **identity** implementují rozhraní **IIdentity** .</span><span class="sxs-lookup"><span data-stu-id="5dd24-120">All **Identity** classes implement the **IIdentity** interface.</span></span> <span data-ttu-id="5dd24-121">Mezi objektem **identity** a tokenem procesu Windows NT, na kterém je vlákno aktuálně prováděno, není vyžadována žádná relace.</span><span class="sxs-lookup"><span data-stu-id="5dd24-121">There is no required relationship between an **Identity** object and the Windows NT process token under which a thread is currently executing.</span></span> <span data-ttu-id="5dd24-122">Pokud je však objekt **identity** objekt **WindowsIdentity** , předpokládá se, že identita představuje token zabezpečení systému Windows NT.</span><span class="sxs-lookup"><span data-stu-id="5dd24-122">However, if the **Identity** object is a **WindowsIdentity** object, the identity is assumed to represent a Windows NT security token.</span></span>  
  
## <a name="principal-objects"></a><span data-ttu-id="5dd24-123">Objekty zabezpečení</span><span class="sxs-lookup"><span data-stu-id="5dd24-123">Principal Objects</span></span>

<span data-ttu-id="5dd24-124">Objekt zabezpečení představuje kontext zabezpečení, pod kterým je spuštěn kód.</span><span class="sxs-lookup"><span data-stu-id="5dd24-124">The principal object represents the security context under which code is running.</span></span> <span data-ttu-id="5dd24-125">Aplikace, které implementují zabezpečení na základě rolí, poskytují práva na základě role přidružené k objektu zabezpečení.</span><span class="sxs-lookup"><span data-stu-id="5dd24-125">Applications that implement role-based security grant rights based on the role associated with a principal object.</span></span> <span data-ttu-id="5dd24-126">Podobně jako u objektů identity poskytuje .NET <xref:System.Security.Principal.GenericPrincipal> objekt a objekt <xref:System.Security.Principal.WindowsPrincipal> .</span><span class="sxs-lookup"><span data-stu-id="5dd24-126">Similar to identity objects, .NET provides a <xref:System.Security.Principal.GenericPrincipal> object and a <xref:System.Security.Principal.WindowsPrincipal> object.</span></span> <span data-ttu-id="5dd24-127">Můžete také definovat vlastní třídy zabezpečení.</span><span class="sxs-lookup"><span data-stu-id="5dd24-127">You can also define your own custom principal classes.</span></span>  
  
<span data-ttu-id="5dd24-128"><xref:System.Security.Principal.IPrincipal>Rozhraní definuje vlastnost pro přístup k objektu přidružené **identity** a také k metodě pro určení, zda je uživatel identifikovaný objektem **zabezpečení** členem dané role.</span><span class="sxs-lookup"><span data-stu-id="5dd24-128">The <xref:System.Security.Principal.IPrincipal> interface defines a property for accessing an associated **Identity** object as well as a method for determining whether the user identified by the **Principal** object is a member of a given role.</span></span> <span data-ttu-id="5dd24-129">Všechny třídy **zabezpečení** implementují rozhraní **IPrincipal** a také všechny další vlastnosti a metody, které jsou nezbytné.</span><span class="sxs-lookup"><span data-stu-id="5dd24-129">All **Principal** classes implement the **IPrincipal** interface as well as any additional properties and methods that are necessary.</span></span> <span data-ttu-id="5dd24-130">Například modul CLR (Common Language Runtime) poskytuje třídu **WindowsPrincipal** , která implementuje další funkce pro mapování členství ve skupině Windows NT nebo Windows 2000 na role.</span><span class="sxs-lookup"><span data-stu-id="5dd24-130">For example, the common language runtime provides the **WindowsPrincipal** class, which implements additional functionality for mapping Windows NT or Windows 2000 group membership to roles.</span></span>  
  
<span data-ttu-id="5dd24-131">Objekt **zabezpečení** je svázán s objektem kontextu volání ( <xref:System.Runtime.Remoting.Messaging.CallContext> ) v doméně aplikace ( <xref:System.AppDomain> ).</span><span class="sxs-lookup"><span data-stu-id="5dd24-131">A **Principal** object is bound to a call context (<xref:System.Runtime.Remoting.Messaging.CallContext>) object within an application domain (<xref:System.AppDomain>).</span></span> <span data-ttu-id="5dd24-132">Výchozí kontext volání je vždy vytvořen s každou novou **doménou AppDomain**, takže je k dispozici vždy kontext volání pro přijetí objektu **zabezpečení** .</span><span class="sxs-lookup"><span data-stu-id="5dd24-132">A default call context is always created with each new **AppDomain**, so there is always a call context available to accept the **Principal** object.</span></span> <span data-ttu-id="5dd24-133">Při vytvoření nového vlákna je také vytvořen objekt **CallContext** pro vlákno.</span><span class="sxs-lookup"><span data-stu-id="5dd24-133">When a new thread is created, a **CallContext** object is also created for the thread.</span></span> <span data-ttu-id="5dd24-134">Odkaz na objekt **zabezpečení** je automaticky zkopírován z vytvářeného vlákna do **CallContext**nového vlákna.</span><span class="sxs-lookup"><span data-stu-id="5dd24-134">The **Principal** object reference is automatically copied from the creating thread to the new thread's **CallContext**.</span></span> <span data-ttu-id="5dd24-135">Pokud modul runtime nemůže určit, který objekt **zabezpečení** patří tvůrci vlákna, následuje za výchozí zásadou pro vytvoření objektu **zabezpečení** a **identity** .</span><span class="sxs-lookup"><span data-stu-id="5dd24-135">If the runtime cannot determine which **Principal** object belongs to the creator of the thread, it follows the default policy for **Principal** and **Identity** object creation.</span></span>  
  
<span data-ttu-id="5dd24-136">Konfigurovatelné zásady specifické pro doménu aplikace definují pravidla pro rozhodování o tom, jaký typ objektu **zabezpečení** má být přidružen k nové doméně aplikace.</span><span class="sxs-lookup"><span data-stu-id="5dd24-136">A configurable application domain-specific policy defines the rules for deciding what type of **Principal** object to associate with a new application domain.</span></span> <span data-ttu-id="5dd24-137">V případě povolení zásad zabezpečení může modul runtime vytvořit objekty **zabezpečení** a **identity** , které odráží token operačního systému přidružený k aktuálnímu vláknu provádění.</span><span class="sxs-lookup"><span data-stu-id="5dd24-137">Where security policy permits, the runtime can create **Principal** and **Identity** objects that reflect the operating system token associated with the current thread of execution.</span></span> <span data-ttu-id="5dd24-138">Ve výchozím nastavení používá modul runtime objekty **Principal** a **identity** , které reprezentují neověření uživatelé.</span><span class="sxs-lookup"><span data-stu-id="5dd24-138">By default, the runtime uses **Principal** and **Identity** objects that represent unauthenticated users.</span></span> <span data-ttu-id="5dd24-139">Modul runtime nevytváří tyto výchozí objekty **zabezpečení** a **identity** , dokud se kód nepokusí o přístup k nim.</span><span class="sxs-lookup"><span data-stu-id="5dd24-139">The runtime does not create these default **Principal** and **Identity** objects until the code attempts to access them.</span></span>  
  
<span data-ttu-id="5dd24-140">Důvěryhodný kód, který vytváří doménu aplikace, může nastavit zásady domény aplikace, které řídí konstrukci výchozích objektů **zabezpečení** a objektů **identity** .</span><span class="sxs-lookup"><span data-stu-id="5dd24-140">Trusted code that creates an application domain can set the application domain policy that controls construction of the default **Principal** and **Identity** objects.</span></span> <span data-ttu-id="5dd24-141">Tato zásada specifická pro doménu aplikace platí pro všechna prováděcí vlákna v dané doméně aplikace.</span><span class="sxs-lookup"><span data-stu-id="5dd24-141">This application domain-specific policy applies to all execution threads in that application domain.</span></span> <span data-ttu-id="5dd24-142">Nespravovaný, důvěryhodný hostitel má v podstatě možnost nastavit tuto zásadu, ale spravovaný kód, který tuto zásadu nastavuje, musí mít <xref:System.Security.Permissions.SecurityPermission?displayProperty=nameWithType> pro řízení zásad domény oprávnění.</span><span class="sxs-lookup"><span data-stu-id="5dd24-142">An unmanaged, trusted host inherently has the ability to set this policy, but managed code that sets this policy must have the <xref:System.Security.Permissions.SecurityPermission?displayProperty=nameWithType> for controlling domain policy.</span></span>  
  
<span data-ttu-id="5dd24-143">Při přenosu objektu **zabezpečení** mezi doménami aplikace, ale v rámci stejného procesu (a proto ve stejném počítači), infrastruktura vzdálené komunikace zkopíruje odkaz na objekt **zabezpečení** přidružený k kontextu volajícího do kontextu volaného.</span><span class="sxs-lookup"><span data-stu-id="5dd24-143">When transmitting a **Principal** object across application domains but within the same process (and therefore on the same computer), the remoting infrastructure copies a reference to the **Principal** object associated with the caller's context to the callee's context.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="5dd24-144">Viz také</span><span class="sxs-lookup"><span data-stu-id="5dd24-144">See also</span></span>

- [<span data-ttu-id="5dd24-145">Postupy: Vytvoření objektu WindowsPrincipal</span><span class="sxs-lookup"><span data-stu-id="5dd24-145">How to: Create a WindowsPrincipal Object</span></span>](how-to-create-a-windowsprincipal-object.md)
- [<span data-ttu-id="5dd24-146">Postupy: Vytváření objektů GenericPrincipal a GenericIdentity</span><span class="sxs-lookup"><span data-stu-id="5dd24-146">How to: Create GenericPrincipal and GenericIdentity Objects</span></span>](how-to-create-genericprincipal-and-genericidentity-objects.md)
- [<span data-ttu-id="5dd24-147">Nahrazení objektu zabezpečení</span><span class="sxs-lookup"><span data-stu-id="5dd24-147">Replacing a Principal Object</span></span>](replacing-a-principal-object.md)
- [<span data-ttu-id="5dd24-148">Zosobnění a návrat</span><span class="sxs-lookup"><span data-stu-id="5dd24-148">Impersonating and Reverting</span></span>](impersonating-and-reverting.md)
- [<span data-ttu-id="5dd24-149">Zabezpečení na základě rolí</span><span class="sxs-lookup"><span data-stu-id="5dd24-149">Role-Based Security</span></span>](role-based-security.md)
- [<span data-ttu-id="5dd24-150">Klíčové koncepty zabezpečení</span><span class="sxs-lookup"><span data-stu-id="5dd24-150">Key Security Concepts</span></span>](key-security-concepts.md)
- [<span data-ttu-id="5dd24-151">ASP.NET Core zabezpečení</span><span class="sxs-lookup"><span data-stu-id="5dd24-151">ASP.NET Core Security</span></span>](/aspnet/core/security/)
