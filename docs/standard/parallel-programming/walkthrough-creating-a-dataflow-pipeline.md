---
title: 'Návod: Vytvoření kanálu toku dat'
ms.date: 03/30/2017
ms.technology: dotnet-standard
dev_langs:
- csharp
- vb
helpviewer_keywords:
- dataflow pipelines, creating with TPL
- Task Parallel Library, dataflows
- TPL dataflow library, creating dataflow pipeline
ms.assetid: 69308f82-aa22-4ac5-833d-e748533b58e8
ms.openlocfilehash: cfe3296815dc344b0d9d1f7bad1ab4a130380e2b
ms.sourcegitcommit: 33deec3e814238fb18a49b2a7e89278e27888291
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 06/02/2020
ms.locfileid: "84284608"
---
# <a name="walkthrough-creating-a-dataflow-pipeline"></a><span data-ttu-id="2906a-102">Návod: Vytvoření kanálu toku dat</span><span class="sxs-lookup"><span data-stu-id="2906a-102">Walkthrough: Creating a Dataflow Pipeline</span></span>
<span data-ttu-id="2906a-103">I když můžete použít <xref:System.Threading.Tasks.Dataflow.DataflowBlock.Receive%2A?displayProperty=nameWithType> metody, <xref:System.Threading.Tasks.Dataflow.DataflowBlock.ReceiveAsync%2A?displayProperty=nameWithType> a <xref:System.Threading.Tasks.Dataflow.DataflowBlock.TryReceive%2A?displayProperty=nameWithType> pro příjem zpráv ze zdrojových bloků, můžete také připojit bloky zpráv pro vytvoření *kanálu toku*dat.</span><span class="sxs-lookup"><span data-stu-id="2906a-103">Although you can use the <xref:System.Threading.Tasks.Dataflow.DataflowBlock.Receive%2A?displayProperty=nameWithType>, <xref:System.Threading.Tasks.Dataflow.DataflowBlock.ReceiveAsync%2A?displayProperty=nameWithType>, and <xref:System.Threading.Tasks.Dataflow.DataflowBlock.TryReceive%2A?displayProperty=nameWithType> methods to receive messages from source blocks, you can also connect message blocks to form a *dataflow pipeline*.</span></span> <span data-ttu-id="2906a-104">Kanál toku dat je řada komponent neboli *bloků toku*dat, z nichž každý provádí konkrétní úkol, který přispívá k většímu cíli.</span><span class="sxs-lookup"><span data-stu-id="2906a-104">A dataflow pipeline is a series of components, or *dataflow blocks*, each of which performs a specific task that contributes to a larger goal.</span></span> <span data-ttu-id="2906a-105">Každý blok toku dat v kanálu toku dat provádí práci, když obdrží zprávu z jiného bloku toku dat.</span><span class="sxs-lookup"><span data-stu-id="2906a-105">Every dataflow block in a dataflow pipeline performs work when it receives a message from another dataflow block.</span></span> <span data-ttu-id="2906a-106">Analogie k tomuto je montážní čára pro výrobu automobilu.</span><span class="sxs-lookup"><span data-stu-id="2906a-106">An analogy to this is an assembly line for automobile manufacturing.</span></span> <span data-ttu-id="2906a-107">Vzhledem k tomu, že každá vozidlo prochází přes čáru sestavení, jedna stanice sestaví rámec, druhý instaluje modul a tak dále.</span><span class="sxs-lookup"><span data-stu-id="2906a-107">As each vehicle passes through the assembly line, one station assembles the frame, the next one installs the engine, and so on.</span></span> <span data-ttu-id="2906a-108">Vzhledem k tomu, že čára sestavení umožňuje sestavovat více vozidel současně, poskytuje lepší propustnost než sestavování celé vozidlo v jednom okamžiku.</span><span class="sxs-lookup"><span data-stu-id="2906a-108">Because an assembly line enables multiple vehicles to be assembled at the same time, it provides better throughput than assembling complete vehicles one at a time.</span></span>

 <span data-ttu-id="2906a-109">Tento dokument ukazuje kanál toku dat, který stáhne knihu *Iliad Homer* z webu a vyhledá text tak, aby se shodoval s jednotlivými slovy, která vrátí slova, která budou vracet první znaky slova.</span><span class="sxs-lookup"><span data-stu-id="2906a-109">This document demonstrates a dataflow pipeline that downloads the book *The Iliad of Homer* from a website and searches the text to match individual words with words that reverse the first word's characters.</span></span> <span data-ttu-id="2906a-110">Vytváření kanálu toku dat v tomto dokumentu se skládá z následujících kroků:</span><span class="sxs-lookup"><span data-stu-id="2906a-110">The formation of the dataflow pipeline in this document consists of the following steps:</span></span>  
  
1. <span data-ttu-id="2906a-111">Vytvořte bloky toku dat, které se účastní kanálu.</span><span class="sxs-lookup"><span data-stu-id="2906a-111">Create the dataflow blocks that participate in the pipeline.</span></span>  
  
2. <span data-ttu-id="2906a-112">Připojte každý blok toku dat k dalšímu bloku v kanálu.</span><span class="sxs-lookup"><span data-stu-id="2906a-112">Connect each dataflow block to the next block in the pipeline.</span></span> <span data-ttu-id="2906a-113">Každý blok přijímá jako vstup výstup předchozího bloku v kanálu.</span><span class="sxs-lookup"><span data-stu-id="2906a-113">Each block receives as input the output of the previous block in the pipeline.</span></span>  
  
3. <span data-ttu-id="2906a-114">Pro každý blok toku dat vytvořte úlohu pokračování, která nastaví další blok na stav dokončeno po dokončení předchozího bloku.</span><span class="sxs-lookup"><span data-stu-id="2906a-114">For each dataflow block, create a continuation task that sets the next block to the completed state after the previous block finishes.</span></span>  
  
4. <span data-ttu-id="2906a-115">Publikujte data na hlavu kanálu.</span><span class="sxs-lookup"><span data-stu-id="2906a-115">Post data to the head of the pipeline.</span></span>  
  
5. <span data-ttu-id="2906a-116">Označte vedoucí kanál jako dokončený.</span><span class="sxs-lookup"><span data-stu-id="2906a-116">Mark the head of the pipeline as completed.</span></span>  
  
6. <span data-ttu-id="2906a-117">Počkejte, až kanál dokončí veškerou práci.</span><span class="sxs-lookup"><span data-stu-id="2906a-117">Wait for the pipeline to complete all work.</span></span>  
  
## <a name="prerequisites"></a><span data-ttu-id="2906a-118">Požadavky</span><span class="sxs-lookup"><span data-stu-id="2906a-118">Prerequisites</span></span>  
 <span data-ttu-id="2906a-119">Před zahájením tohoto návodu Přečtěte [tok](dataflow-task-parallel-library.md) dat.</span><span class="sxs-lookup"><span data-stu-id="2906a-119">Read [Dataflow](dataflow-task-parallel-library.md) before you start this walkthrough.</span></span>  
  
## <a name="creating-a-console-application"></a><span data-ttu-id="2906a-120">Vytvoření konzolové aplikace</span><span class="sxs-lookup"><span data-stu-id="2906a-120">Creating a Console Application</span></span>  
 <span data-ttu-id="2906a-121">V aplikaci Visual Studio vytvořte projekt konzolové aplikace Visual C# nebo Visual Basic.</span><span class="sxs-lookup"><span data-stu-id="2906a-121">In Visual Studio, create a Visual C# or Visual Basic Console Application project.</span></span> <span data-ttu-id="2906a-122">Nainstalujte balíček NuGet System. Threading. Tasks. Dataflow.</span><span class="sxs-lookup"><span data-stu-id="2906a-122">Install the System.Threading.Tasks.Dataflow NuGet package.</span></span>

[!INCLUDE [tpl-install-instructions](../../../includes/tpl-install-instructions.md)]

 <span data-ttu-id="2906a-123">Přidejte do projektu následující kód, který vytvoří základní aplikaci.</span><span class="sxs-lookup"><span data-stu-id="2906a-123">Add the following code to your project to create the basic application.</span></span>  
  
 [!code-csharp[TPLDataflow_Palindromes#2](../../../samples/snippets/csharp/VS_Snippets_Misc/tpldataflow_palindromes/cs/dataflowpalindromes.cs#2)]
 [!code-vb[TPLDataflow_Palindromes#2](../../../samples/snippets/visualbasic/VS_Snippets_Misc/tpldataflow_palindromes/vb/dataflowpalindromesemptymain.vb#2)]  
  
## <a name="creating-the-dataflow-blocks"></a><span data-ttu-id="2906a-124">Vytváření bloků toku dat</span><span class="sxs-lookup"><span data-stu-id="2906a-124">Creating the Dataflow Blocks</span></span>  
 <span data-ttu-id="2906a-125">Do metody přidejte následující kód `Main` , který vytvoří bloky toku dat, které se účastní kanálu.</span><span class="sxs-lookup"><span data-stu-id="2906a-125">Add the following code to the `Main` method to create the dataflow blocks that participate in the pipeline.</span></span> <span data-ttu-id="2906a-126">Následující tabulka shrnuje role jednotlivých členů kanálu.</span><span class="sxs-lookup"><span data-stu-id="2906a-126">The table that follows summarizes the role of each member of the pipeline.</span></span>  
  
 [!code-csharp[TPLDataflow_Palindromes#3](../../../samples/snippets/csharp/VS_Snippets_Misc/tpldataflow_palindromes/cs/dataflowpalindromes.cs#3)]
 [!code-vb[TPLDataflow_Palindromes#3](../../../samples/snippets/visualbasic/VS_Snippets_Misc/tpldataflow_palindromes/vb/dataflowpalindromes.vb#3)]  
  
|<span data-ttu-id="2906a-127">Člen</span><span class="sxs-lookup"><span data-stu-id="2906a-127">Member</span></span>|<span data-ttu-id="2906a-128">Typ</span><span class="sxs-lookup"><span data-stu-id="2906a-128">Type</span></span>|<span data-ttu-id="2906a-129">Description</span><span class="sxs-lookup"><span data-stu-id="2906a-129">Description</span></span>|  
|------------|----------|-----------------|  
|`downloadString`|<xref:System.Threading.Tasks.Dataflow.TransformBlock%602>|<span data-ttu-id="2906a-130">Stáhne z webu text knihy.</span><span class="sxs-lookup"><span data-stu-id="2906a-130">Downloads the book text from the Web.</span></span>|  
|`createWordList`|<xref:System.Threading.Tasks.Dataflow.TransformBlock%602>|<span data-ttu-id="2906a-131">Odděluje text knihy do pole slov.</span><span class="sxs-lookup"><span data-stu-id="2906a-131">Separates the book text into an array of words.</span></span>|  
|`filterWordList`|<xref:System.Threading.Tasks.Dataflow.TransformBlock%602>|<span data-ttu-id="2906a-132">Odstraní krátká slova a duplicitní hodnoty z pole slov.</span><span class="sxs-lookup"><span data-stu-id="2906a-132">Removes short words and duplicates from the word array.</span></span>|  
|`findReversedWords`|<xref:System.Threading.Tasks.Dataflow.TransformManyBlock%602>|<span data-ttu-id="2906a-133">Najde všechna slova ve filtrované kolekci polí slov, u kterých se v poli Wordu obrátí také.</span><span class="sxs-lookup"><span data-stu-id="2906a-133">Finds all words in the filtered word array collection whose reverse also occurs in the word array.</span></span>|  
|`printReversedWords`|<xref:System.Threading.Tasks.Dataflow.ActionBlock%601>|<span data-ttu-id="2906a-134">Zobrazí slova a odpovídající zpětná slova pro konzolu.</span><span class="sxs-lookup"><span data-stu-id="2906a-134">Displays words and the corresponding reverse words to the console.</span></span>|  
  
 <span data-ttu-id="2906a-135">I když v tomto příkladu můžete zkombinovat více kroků v tomto příkladu do jednoho kroku, ukazuje tento příklad koncept sestavování více nezávislých úloh toku dat, aby bylo možné provést větší úlohu.</span><span class="sxs-lookup"><span data-stu-id="2906a-135">Although you could combine multiple steps in the dataflow pipeline in this example into one step, the example illustrates the concept of composing multiple independent dataflow tasks to perform a larger task.</span></span> <span data-ttu-id="2906a-136">Tento příklad používá <xref:System.Threading.Tasks.Dataflow.TransformBlock%602> k tomu, aby každý člen kanálu mohl provést operaci se vstupními daty a odeslat výsledky do dalšího kroku kanálu.</span><span class="sxs-lookup"><span data-stu-id="2906a-136">The example uses <xref:System.Threading.Tasks.Dataflow.TransformBlock%602> to enable each member of the pipeline to perform an operation on its input data and send the results to the next step in the pipeline.</span></span> <span data-ttu-id="2906a-137">`findReversedWords`Členem kanálu je <xref:System.Threading.Tasks.Dataflow.TransformManyBlock%602> objekt, protože pro každý vstup vytváří více nezávislých výstupů.</span><span class="sxs-lookup"><span data-stu-id="2906a-137">The `findReversedWords` member of the pipeline is a <xref:System.Threading.Tasks.Dataflow.TransformManyBlock%602> object because it produces multiple independent outputs for each input.</span></span> <span data-ttu-id="2906a-138">Zakončením kanálu `printReversedWords` je <xref:System.Threading.Tasks.Dataflow.ActionBlock%601> objekt, protože provádí akci na jeho vstupu a nevytváří výsledek.</span><span class="sxs-lookup"><span data-stu-id="2906a-138">The tail of the pipeline, `printReversedWords`, is an <xref:System.Threading.Tasks.Dataflow.ActionBlock%601> object because it performs an action on its input, and does not produce a result.</span></span>  
  
## <a name="forming-the-pipeline"></a><span data-ttu-id="2906a-139">Vytvoření kanálu</span><span class="sxs-lookup"><span data-stu-id="2906a-139">Forming the Pipeline</span></span>  
 <span data-ttu-id="2906a-140">Přidejte následující kód pro připojení každého bloku k dalšímu bloku v kanálu.</span><span class="sxs-lookup"><span data-stu-id="2906a-140">Add the following code to connect each block to the next block in the pipeline.</span></span>  
  
 <span data-ttu-id="2906a-141">Když zavoláte <xref:System.Threading.Tasks.Dataflow.DataflowBlock.LinkTo%2A> metodu pro připojení zdrojového bloku toku dat k cílovému bloku toku dat, zdrojový blok toku dat rozšíří data do cílového bloku, protože data budou k dispozici.</span><span class="sxs-lookup"><span data-stu-id="2906a-141">When you call the <xref:System.Threading.Tasks.Dataflow.DataflowBlock.LinkTo%2A> method to connect a source dataflow block to a target dataflow block, the source dataflow block propagates data to the target block as data becomes available.</span></span> <span data-ttu-id="2906a-142">Pokud zadáte také <xref:System.Threading.Tasks.Dataflow.DataflowLinkOptions> s <xref:System.Threading.Tasks.Dataflow.DataflowLinkOptions.PropagateCompletion> nastavením na hodnotu true, úspěšné nebo neúspěšné dokončení jednoho bloku v kanálu způsobí dokončení dalšího bloku v kanálu.</span><span class="sxs-lookup"><span data-stu-id="2906a-142">If you also provide <xref:System.Threading.Tasks.Dataflow.DataflowLinkOptions> with <xref:System.Threading.Tasks.Dataflow.DataflowLinkOptions.PropagateCompletion> set to true, successful or unsuccessful completion of one block in the pipeline will cause completion of the next block in the pipeline.</span></span>
  
 [!code-csharp[TPLDataflow_Palindromes#4](../../../samples/snippets/csharp/VS_Snippets_Misc/tpldataflow_palindromes/cs/dataflowpalindromes.cs#4)]
 [!code-vb[TPLDataflow_Palindromes#4](../../../samples/snippets/visualbasic/VS_Snippets_Misc/tpldataflow_palindromes/vb/dataflowpalindromes.vb#4)]  
  
## <a name="posting-data-to-the-pipeline"></a><span data-ttu-id="2906a-143">Odesílání dat do kanálu</span><span class="sxs-lookup"><span data-stu-id="2906a-143">Posting Data to the Pipeline</span></span>  
 <span data-ttu-id="2906a-144">Přidejte následující kód, který odešle adresu URL knihy *Iliad Homer* na hlavu kanálu toku dat.</span><span class="sxs-lookup"><span data-stu-id="2906a-144">Add the following code to post the URL of the book *The Iliad of Homer* to the head of the dataflow pipeline.</span></span>  
  
 [!code-csharp[TPLDataflow_Palindromes#6](../../../samples/snippets/csharp/VS_Snippets_Misc/tpldataflow_palindromes/cs/dataflowpalindromes.cs#6)]
 [!code-vb[TPLDataflow_Palindromes#6](../../../samples/snippets/visualbasic/VS_Snippets_Misc/tpldataflow_palindromes/vb/dataflowpalindromes.vb#6)]  
  
 <span data-ttu-id="2906a-145">Tento příklad používá <xref:System.Threading.Tasks.Dataflow.DataflowBlock.Post%2A?displayProperty=nameWithType> k synchronnímu posílání dat do hlavního kanálu.</span><span class="sxs-lookup"><span data-stu-id="2906a-145">This example uses <xref:System.Threading.Tasks.Dataflow.DataflowBlock.Post%2A?displayProperty=nameWithType> to synchronously send data to the head of the pipeline.</span></span> <span data-ttu-id="2906a-146">Použijte <xref:System.Threading.Tasks.Dataflow.DataflowBlock.SendAsync%2A?displayProperty=nameWithType> metodu, pokud je nutné asynchronně odesílat data do uzlu toku dat.</span><span class="sxs-lookup"><span data-stu-id="2906a-146">Use the <xref:System.Threading.Tasks.Dataflow.DataflowBlock.SendAsync%2A?displayProperty=nameWithType> method when you must asynchronously send data to a dataflow node.</span></span>  
  
## <a name="completing-pipeline-activity"></a><span data-ttu-id="2906a-147">Dokončuje se aktivita kanálu.</span><span class="sxs-lookup"><span data-stu-id="2906a-147">Completing Pipeline Activity</span></span>  
 <span data-ttu-id="2906a-148">Přidejte následující kód, který označí vedoucí kanál jako dokončený.</span><span class="sxs-lookup"><span data-stu-id="2906a-148">Add the following code to mark the head of the pipeline as completed.</span></span> <span data-ttu-id="2906a-149">Vedoucí kanálu rozšíří své dokončení poté, co zpracuje všechny zprávy ve vyrovnávací paměti.</span><span class="sxs-lookup"><span data-stu-id="2906a-149">The head of the pipeline propagates its completion after it processes all buffered messages.</span></span>
  
 [!code-csharp[TPLDataflow_Palindromes#7](../../../samples/snippets/csharp/VS_Snippets_Misc/tpldataflow_palindromes/cs/dataflowpalindromes.cs#7)]
 [!code-vb[TPLDataflow_Palindromes#7](../../../samples/snippets/visualbasic/VS_Snippets_Misc/tpldataflow_palindromes/vb/dataflowpalindromes.vb#7)]  
  
 <span data-ttu-id="2906a-150">Tento příklad pošle jednu adresu URL prostřednictvím kanálu toku dat ke zpracování.</span><span class="sxs-lookup"><span data-stu-id="2906a-150">This example sends one URL through the dataflow pipeline to be processed.</span></span> <span data-ttu-id="2906a-151">Pokud odešlete více než jeden vstup prostřednictvím kanálu, zavolejte <xref:System.Threading.Tasks.Dataflow.IDataflowBlock.Complete%2A?displayProperty=nameWithType> metodu po odeslání veškerého vstupu.</span><span class="sxs-lookup"><span data-stu-id="2906a-151">If you send more than one input through a pipeline, call the <xref:System.Threading.Tasks.Dataflow.IDataflowBlock.Complete%2A?displayProperty=nameWithType> method after you submit all the input.</span></span> <span data-ttu-id="2906a-152">Tento krok můžete vynechat, pokud vaše aplikace nemá přesně definovaný bod, na kterém data již nejsou k dispozici, nebo aplikace nemusí čekat na dokončení kanálu.</span><span class="sxs-lookup"><span data-stu-id="2906a-152">You can omit this step if your application has no well-defined point at which data is no longer available or the application does not have to wait for the pipeline to finish.</span></span>  
  
## <a name="waiting-for-the-pipeline-to-finish"></a><span data-ttu-id="2906a-153">Čeká se na dokončení kanálu.</span><span class="sxs-lookup"><span data-stu-id="2906a-153">Waiting for the Pipeline to Finish</span></span>  
 <span data-ttu-id="2906a-154">Přidejte následující kód, který čeká na dokončení kanálu.</span><span class="sxs-lookup"><span data-stu-id="2906a-154">Add the following code to wait for the pipeline to finish.</span></span> <span data-ttu-id="2906a-155">Celková operace je dokončena, jakmile bude konec kanálu dokončen.</span><span class="sxs-lookup"><span data-stu-id="2906a-155">The overall operation is finished when the tail of the pipeline finishes.</span></span>  
  
 [!code-csharp[TPLDataflow_Palindromes#8](../../../samples/snippets/csharp/VS_Snippets_Misc/tpldataflow_palindromes/cs/dataflowpalindromes.cs#8)]
 [!code-vb[TPLDataflow_Palindromes#8](../../../samples/snippets/visualbasic/VS_Snippets_Misc/tpldataflow_palindromes/vb/dataflowpalindromes.vb#8)]  
  
 <span data-ttu-id="2906a-156">Můžete počkat na dokončení toku dat z libovolného vlákna nebo z více vláken současně.</span><span class="sxs-lookup"><span data-stu-id="2906a-156">You can wait for dataflow completion from any thread or from multiple threads at the same time.</span></span>  
  
## <a name="the-complete-example"></a><span data-ttu-id="2906a-157">Kompletní příklad</span><span class="sxs-lookup"><span data-stu-id="2906a-157">The Complete Example</span></span>  
 <span data-ttu-id="2906a-158">Následující příklad ukazuje kompletní kód pro tento návod.</span><span class="sxs-lookup"><span data-stu-id="2906a-158">The following example shows the complete code for this walkthrough.</span></span>  
  
 [!code-csharp[TPLDataflow_Palindromes#1](../../../samples/snippets/csharp/VS_Snippets_Misc/tpldataflow_palindromes/cs/dataflowpalindromes.cs#1)]
 [!code-vb[TPLDataflow_Palindromes#1](../../../samples/snippets/visualbasic/VS_Snippets_Misc/tpldataflow_palindromes/vb/dataflowpalindromes.vb#1)]  
  
## <a name="next-steps"></a><span data-ttu-id="2906a-159">Další kroky</span><span class="sxs-lookup"><span data-stu-id="2906a-159">Next Steps</span></span>  
 <span data-ttu-id="2906a-160">Tento příklad pošle jednu adresu URL pro zpracování prostřednictvím kanálu toku dat.</span><span class="sxs-lookup"><span data-stu-id="2906a-160">This example sends one URL to process through the dataflow pipeline.</span></span> <span data-ttu-id="2906a-161">Pokud prostřednictvím kanálu odesíláte více než jednu vstupní hodnotu, můžete do své aplikace začlenit formu paralelismu, která se podobá způsobu, jakým se můžou části pohybovat v továrně automobilu.</span><span class="sxs-lookup"><span data-stu-id="2906a-161">If you send more than one input value through a pipeline, you can introduce a form of parallelism into your application that resembles how parts might move through an automobile factory.</span></span> <span data-ttu-id="2906a-162">Když první člen kanálu pošle svůj výsledek druhému členovi, může zpracovat další položku paralelně, protože druhý člen zpracuje první výsledek.</span><span class="sxs-lookup"><span data-stu-id="2906a-162">When the first member of the pipeline sends its result to the second member, it can process another item in parallel as the second member processes the first result.</span></span>  
  
 <span data-ttu-id="2906a-163">Paralelismus, které jsou dosaženy pomocí kanálů toku dat, se označují jako *hrubá paralelismues* , protože obvykle se skládá z méně většího počtu úkolů.</span><span class="sxs-lookup"><span data-stu-id="2906a-163">The parallelism that is achieved by using dataflow pipelines is known as *coarse-grained parallelism* because it typically consists of fewer, larger tasks.</span></span> <span data-ttu-id="2906a-164">V kanálu toku dat můžete také použít přesnější *paralelismuy* s menšími, krátkými běžícími úkoly.</span><span class="sxs-lookup"><span data-stu-id="2906a-164">You can also use a more *fine-grained parallelism* of smaller, short-running tasks in a dataflow pipeline.</span></span> <span data-ttu-id="2906a-165">V tomto příkladu `findReversedWords` člen kanálu používá [PLINQ](introduction-to-plinq.md) ke zpracování více položek v pracovním seznamu paralelně.</span><span class="sxs-lookup"><span data-stu-id="2906a-165">In this example, the `findReversedWords` member of the pipeline uses [PLINQ](introduction-to-plinq.md) to process multiple items in the work list in parallel.</span></span> <span data-ttu-id="2906a-166">Použití jemně odstupňovaného paralelismu v hrubém kanálu může zlepšit celkovou propustnost.</span><span class="sxs-lookup"><span data-stu-id="2906a-166">The use of fine-grained parallelism in a coarse-grained pipeline can improve overall throughput.</span></span>  
  
 <span data-ttu-id="2906a-167">Můžete také propojit zdrojový blok toku dat s více cílovými bloky a vytvořit tak *síť toku*dat.</span><span class="sxs-lookup"><span data-stu-id="2906a-167">You can also connect a source dataflow block to multiple target blocks to create a *dataflow network*.</span></span> <span data-ttu-id="2906a-168">Přetížená verze <xref:System.Threading.Tasks.Dataflow.DataflowBlock.LinkTo%2A> metody přebírá <xref:System.Predicate%601> objekt, který definuje, zda cílový blok akceptuje každou zprávu na základě její hodnoty.</span><span class="sxs-lookup"><span data-stu-id="2906a-168">The overloaded version of the <xref:System.Threading.Tasks.Dataflow.DataflowBlock.LinkTo%2A> method takes a <xref:System.Predicate%601> object that defines whether the target block accepts each message based on its value.</span></span> <span data-ttu-id="2906a-169">Většina typů bloků toku dat, které fungují jako zdroje, nabízí zprávy všem připojeným cílovým blokům v pořadí, ve kterém byly připojeny, dokud některý z těchto bloků tuto zprávu nepřijme.</span><span class="sxs-lookup"><span data-stu-id="2906a-169">Most dataflow block types that act as sources offer messages to all connected target blocks, in the order in which they were connected, until one of the blocks accepts that message.</span></span> <span data-ttu-id="2906a-170">Pomocí tohoto mechanismu filtrování můžete vytvořit systémy propojených bloků toku dat, které směrují určitá data prostřednictvím jedné cesty a dalších dat prostřednictvím jiné cesty.</span><span class="sxs-lookup"><span data-stu-id="2906a-170">By using this filtering mechanism, you can create systems of connected dataflow blocks that direct certain data through one path and other data through another path.</span></span> <span data-ttu-id="2906a-171">Příklad, který používá filtrování k vytvoření sítě toku dat, naleznete v tématu [Návod: použití toku dat v aplikaci model Windows Forms](walkthrough-using-dataflow-in-a-windows-forms-application.md).</span><span class="sxs-lookup"><span data-stu-id="2906a-171">For an example that uses filtering to create a dataflow network, see [Walkthrough: Using Dataflow in a Windows Forms Application](walkthrough-using-dataflow-in-a-windows-forms-application.md).</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="2906a-172">Viz také</span><span class="sxs-lookup"><span data-stu-id="2906a-172">See also</span></span>

- [<span data-ttu-id="2906a-173">Tok dat</span><span class="sxs-lookup"><span data-stu-id="2906a-173">Dataflow</span></span>](dataflow-task-parallel-library.md)
