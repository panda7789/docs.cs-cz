---
title: 'Postupy: Vytvoření kanálu toku dat'
ms.date: 03/30/2017
ms.technology: dotnet-standard
dev_langs:
- csharp
- vb
helpviewer_keywords:
- dataflow pipelines, creating with TPL
- Task Parallel Library, dataflows
- TPL dataflow library, creating dataflow pipeline
ms.assetid: 69308f82-aa22-4ac5-833d-e748533b58e8
ms.openlocfilehash: 339365381b1fa2c777cead3c75bfe783f7af800e
ms.sourcegitcommit: 961ec21c22d2f1d55c9cc8a7edf2ade1d1fd92e3
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 04/02/2020
ms.locfileid: "80588285"
---
# <a name="walkthrough-creating-a-dataflow-pipeline"></a><span data-ttu-id="501e4-102">Postupy: Vytvoření kanálu toku dat</span><span class="sxs-lookup"><span data-stu-id="501e4-102">Walkthrough: Creating a Dataflow Pipeline</span></span>
<span data-ttu-id="501e4-103">Přestože můžete <xref:System.Threading.Tasks.Dataflow.DataflowBlock.Receive%2A?displayProperty=nameWithType>použít <xref:System.Threading.Tasks.Dataflow.DataflowBlock.ReceiveAsync%2A?displayProperty=nameWithType>, <xref:System.Threading.Tasks.Dataflow.DataflowBlock.TryReceive%2A?displayProperty=nameWithType> a metody pro příjem zpráv ze zdrojových bloků, můžete také připojit bloky zpráv k vytvoření *kanálu toku dat*.</span><span class="sxs-lookup"><span data-stu-id="501e4-103">Although you can use the <xref:System.Threading.Tasks.Dataflow.DataflowBlock.Receive%2A?displayProperty=nameWithType>, <xref:System.Threading.Tasks.Dataflow.DataflowBlock.ReceiveAsync%2A?displayProperty=nameWithType>, and <xref:System.Threading.Tasks.Dataflow.DataflowBlock.TryReceive%2A?displayProperty=nameWithType> methods to receive messages from source blocks, you can also connect message blocks to form a *dataflow pipeline*.</span></span> <span data-ttu-id="501e4-104">Kanál toku dat je řada součástí nebo *bloků toku dat*, z nichž každý provádí konkrétní úkol, který přispívá k většímu cíli.</span><span class="sxs-lookup"><span data-stu-id="501e4-104">A dataflow pipeline is a series of components, or *dataflow blocks*, each of which performs a specific task that contributes to a larger goal.</span></span> <span data-ttu-id="501e4-105">Každý blok toku dat v kanálu toku dat provádí práci, když obdrží zprávu z jiného bloku toku dat.</span><span class="sxs-lookup"><span data-stu-id="501e4-105">Every dataflow block in a dataflow pipeline performs work when it receives a message from another dataflow block.</span></span> <span data-ttu-id="501e4-106">Analogií k tomu je montážní linka pro výrobu automobilů.</span><span class="sxs-lookup"><span data-stu-id="501e4-106">An analogy to this is an assembly line for automobile manufacturing.</span></span> <span data-ttu-id="501e4-107">Jak každé vozidlo prochází montážní linkou, jedna stanice montuje rám, další nainstaluje motor a tak dále.</span><span class="sxs-lookup"><span data-stu-id="501e4-107">As each vehicle passes through the assembly line, one station assembles the frame, the next one installs the engine, and so on.</span></span> <span data-ttu-id="501e4-108">Vzhledem k tomu, že montážní linka umožňuje montáž více vozidel současně, poskytuje lepší propustnost než montáž kompletních vozidel po jednom.</span><span class="sxs-lookup"><span data-stu-id="501e4-108">Because an assembly line enables multiple vehicles to be assembled at the same time, it provides better throughput than assembling complete vehicles one at a time.</span></span>

 <span data-ttu-id="501e4-109">Tento dokument demonstruje kanál toku dat, který stáhne knihu *Iliad of Homer z* webu a prohledá text tak, aby odpovídal jednotlivým slovům se slovy, která obrátí znaky prvního slova.</span><span class="sxs-lookup"><span data-stu-id="501e4-109">This document demonstrates a dataflow pipeline that downloads the book *The Iliad of Homer* from a website and searches the text to match individual words with words that reverse the first word's characters.</span></span> <span data-ttu-id="501e4-110">Vytvoření kanálu toku dat v tomto dokumentu se skládá z následujících kroků:</span><span class="sxs-lookup"><span data-stu-id="501e4-110">The formation of the dataflow pipeline in this document consists of the following steps:</span></span>  
  
1. <span data-ttu-id="501e4-111">Vytvořte bloky toku dat, které se účastní kanálu.</span><span class="sxs-lookup"><span data-stu-id="501e4-111">Create the dataflow blocks that participate in the pipeline.</span></span>  
  
2. <span data-ttu-id="501e4-112">Připojte každý blok toku dat k dalšímu bloku v kanálu.</span><span class="sxs-lookup"><span data-stu-id="501e4-112">Connect each dataflow block to the next block in the pipeline.</span></span> <span data-ttu-id="501e4-113">Každý blok obdrží jako vstup výstup předchozího bloku v kanálu.</span><span class="sxs-lookup"><span data-stu-id="501e4-113">Each block receives as input the output of the previous block in the pipeline.</span></span>  
  
3. <span data-ttu-id="501e4-114">Pro každý blok toku dat vytvořte úlohu pokračování, která nastaví další blok do dokončeného stavu po dokončení předchozího bloku.</span><span class="sxs-lookup"><span data-stu-id="501e4-114">For each dataflow block, create a continuation task that sets the next block to the completed state after the previous block finishes.</span></span>  
  
4. <span data-ttu-id="501e4-115">Zaúčtuj data do vedoucího potrubí.</span><span class="sxs-lookup"><span data-stu-id="501e4-115">Post data to the head of the pipeline.</span></span>  
  
5. <span data-ttu-id="501e4-116">Označte vedoucího potrubí jako dokončeného.</span><span class="sxs-lookup"><span data-stu-id="501e4-116">Mark the head of the pipeline as completed.</span></span>  
  
6. <span data-ttu-id="501e4-117">Počkejte na dokončení všech prací kanálu.</span><span class="sxs-lookup"><span data-stu-id="501e4-117">Wait for the pipeline to complete all work.</span></span>  
  
## <a name="prerequisites"></a><span data-ttu-id="501e4-118">Požadavky</span><span class="sxs-lookup"><span data-stu-id="501e4-118">Prerequisites</span></span>  
 <span data-ttu-id="501e4-119">Před spuštěním tohoto návodu si přečtěte [tok dat.](../../../docs/standard/parallel-programming/dataflow-task-parallel-library.md)</span><span class="sxs-lookup"><span data-stu-id="501e4-119">Read [Dataflow](../../../docs/standard/parallel-programming/dataflow-task-parallel-library.md) before you start this walkthrough.</span></span>  
  
## <a name="creating-a-console-application"></a><span data-ttu-id="501e4-120">Vytvoření konzolové aplikace</span><span class="sxs-lookup"><span data-stu-id="501e4-120">Creating a Console Application</span></span>  
 <span data-ttu-id="501e4-121">V sadě Visual Studio vytvořte projekt aplikace Visual C# nebo Visual Basic Console.</span><span class="sxs-lookup"><span data-stu-id="501e4-121">In Visual Studio, create a Visual C# or Visual Basic Console Application project.</span></span> <span data-ttu-id="501e4-122">Nainstalujte balíček System.Threading.Tasks.Dataflow NuGet.</span><span class="sxs-lookup"><span data-stu-id="501e4-122">Install the System.Threading.Tasks.Dataflow NuGet package.</span></span>

[!INCLUDE [tpl-install-instructions](../../../includes/tpl-install-instructions.md)]

 <span data-ttu-id="501e4-123">Přidejte do projektu následující kód a vytvořte základní aplikaci.</span><span class="sxs-lookup"><span data-stu-id="501e4-123">Add the following code to your project to create the basic application.</span></span>  
  
 [!code-csharp[TPLDataflow_Palindromes#2](../../../samples/snippets/csharp/VS_Snippets_Misc/tpldataflow_palindromes/cs/dataflowpalindromes.cs#2)]
 [!code-vb[TPLDataflow_Palindromes#2](../../../samples/snippets/visualbasic/VS_Snippets_Misc/tpldataflow_palindromes/vb/dataflowpalindromesemptymain.vb#2)]  
  
## <a name="creating-the-dataflow-blocks"></a><span data-ttu-id="501e4-124">Vytváření bloků toku dat</span><span class="sxs-lookup"><span data-stu-id="501e4-124">Creating the Dataflow Blocks</span></span>  
 <span data-ttu-id="501e4-125">Přidejte následující kód `Main` k metodě k vytvoření bloků toku dat, které se účastní kanálu.</span><span class="sxs-lookup"><span data-stu-id="501e4-125">Add the following code to the `Main` method to create the dataflow blocks that participate in the pipeline.</span></span> <span data-ttu-id="501e4-126">Následující tabulka shrnuje roli každého člena kanálu.</span><span class="sxs-lookup"><span data-stu-id="501e4-126">The table that follows summarizes the role of each member of the pipeline.</span></span>  
  
 [!code-csharp[TPLDataflow_Palindromes#3](../../../samples/snippets/csharp/VS_Snippets_Misc/tpldataflow_palindromes/cs/dataflowpalindromes.cs#3)]
 [!code-vb[TPLDataflow_Palindromes#3](../../../samples/snippets/visualbasic/VS_Snippets_Misc/tpldataflow_palindromes/vb/dataflowpalindromes.vb#3)]  
  
|<span data-ttu-id="501e4-127">Člen</span><span class="sxs-lookup"><span data-stu-id="501e4-127">Member</span></span>|<span data-ttu-id="501e4-128">Typ</span><span class="sxs-lookup"><span data-stu-id="501e4-128">Type</span></span>|<span data-ttu-id="501e4-129">Popis</span><span class="sxs-lookup"><span data-stu-id="501e4-129">Description</span></span>|  
|------------|----------|-----------------|  
|`downloadString`|<xref:System.Threading.Tasks.Dataflow.TransformBlock%602>|<span data-ttu-id="501e4-130">Stáhne text knihy z webu.</span><span class="sxs-lookup"><span data-stu-id="501e4-130">Downloads the book text from the Web.</span></span>|  
|`createWordList`|<xref:System.Threading.Tasks.Dataflow.TransformBlock%602>|<span data-ttu-id="501e4-131">Odděluje text knihy do pole slov.</span><span class="sxs-lookup"><span data-stu-id="501e4-131">Separates the book text into an array of words.</span></span>|  
|`filterWordList`|<xref:System.Threading.Tasks.Dataflow.TransformBlock%602>|<span data-ttu-id="501e4-132">Odstraní krátká slova a duplikáty z pole slov.</span><span class="sxs-lookup"><span data-stu-id="501e4-132">Removes short words and duplicates from the word array.</span></span>|  
|`findReversedWords`|<xref:System.Threading.Tasks.Dataflow.TransformManyBlock%602>|<span data-ttu-id="501e4-133">Vyhledá všechna slova v kolekci filtrovaného pole slov, jejichž obrácení se vyskytuje také v poli slov.</span><span class="sxs-lookup"><span data-stu-id="501e4-133">Finds all words in the filtered word array collection whose reverse also occurs in the word array.</span></span>|  
|`printReversedWords`|<xref:System.Threading.Tasks.Dataflow.ActionBlock%601>|<span data-ttu-id="501e4-134">Zobrazí slova a odpovídající obrácená slova ke konzole.</span><span class="sxs-lookup"><span data-stu-id="501e4-134">Displays words and the corresponding reverse words to the console.</span></span>|  
  
 <span data-ttu-id="501e4-135">I když můžete kombinovat více kroků v kanálu toku dat v tomto příkladu do jednoho kroku, příklad ilustruje koncept skládání více nezávislých úloh toku dat k provedení větší úlohy.</span><span class="sxs-lookup"><span data-stu-id="501e4-135">Although you could combine multiple steps in the dataflow pipeline in this example into one step, the example illustrates the concept of composing multiple independent dataflow tasks to perform a larger task.</span></span> <span data-ttu-id="501e4-136">Příklad používá <xref:System.Threading.Tasks.Dataflow.TransformBlock%602> povolit každý člen kanálu provést operaci na jeho vstupní data a odeslat výsledky k dalšímu kroku v kanálu.</span><span class="sxs-lookup"><span data-stu-id="501e4-136">The example uses <xref:System.Threading.Tasks.Dataflow.TransformBlock%602> to enable each member of the pipeline to perform an operation on its input data and send the results to the next step in the pipeline.</span></span> <span data-ttu-id="501e4-137">Člen `findReversedWords` kanálu je objekt, <xref:System.Threading.Tasks.Dataflow.TransformManyBlock%602> protože vytváří více nezávislých výstupů pro každý vstup.</span><span class="sxs-lookup"><span data-stu-id="501e4-137">The `findReversedWords` member of the pipeline is a <xref:System.Threading.Tasks.Dataflow.TransformManyBlock%602> object because it produces multiple independent outputs for each input.</span></span> <span data-ttu-id="501e4-138">Ocas kanálu , `printReversedWords`je <xref:System.Threading.Tasks.Dataflow.ActionBlock%601> objekt, protože provádí akci na jeho vstup a nevytváří výsledek.</span><span class="sxs-lookup"><span data-stu-id="501e4-138">The tail of the pipeline, `printReversedWords`, is an <xref:System.Threading.Tasks.Dataflow.ActionBlock%601> object because it performs an action on its input, and does not produce a result.</span></span>  
  
## <a name="forming-the-pipeline"></a><span data-ttu-id="501e4-139">Vytvoření potrubí</span><span class="sxs-lookup"><span data-stu-id="501e4-139">Forming the Pipeline</span></span>  
 <span data-ttu-id="501e4-140">Přidejte následující kód pro připojení každého bloku k dalšímu bloku v kanálu.</span><span class="sxs-lookup"><span data-stu-id="501e4-140">Add the following code to connect each block to the next block in the pipeline.</span></span>  
  
 <span data-ttu-id="501e4-141">Když zavoláte <xref:System.Threading.Tasks.Dataflow.DataflowBlock.LinkTo%2A> metodu pro připojení bloku zdrojového toku dat k cílovému bloku toku dat, blok toku zdrojových dat rozšíří data do cílového bloku, jakmile budou data k dispozici.</span><span class="sxs-lookup"><span data-stu-id="501e4-141">When you call the <xref:System.Threading.Tasks.Dataflow.DataflowBlock.LinkTo%2A> method to connect a source dataflow block to a target dataflow block, the source dataflow block propagates data to the target block as data becomes available.</span></span> <span data-ttu-id="501e4-142">Pokud také <xref:System.Threading.Tasks.Dataflow.DataflowLinkOptions> poskytnete <xref:System.Threading.Tasks.Dataflow.DataflowLinkOptions.PropagateCompletion> nastavenou na hodnotu true, úspěšné nebo neúspěšné dokončení jednoho bloku v kanálu způsobí dokončení dalšího bloku v kanálu.</span><span class="sxs-lookup"><span data-stu-id="501e4-142">If you also provide <xref:System.Threading.Tasks.Dataflow.DataflowLinkOptions> with <xref:System.Threading.Tasks.Dataflow.DataflowLinkOptions.PropagateCompletion> set to true, successful or unsuccessful completion of one block in the pipeline will cause completion of the next block in the pipeline.</span></span>
  
 [!code-csharp[TPLDataflow_Palindromes#4](../../../samples/snippets/csharp/VS_Snippets_Misc/tpldataflow_palindromes/cs/dataflowpalindromes.cs#4)]
 [!code-vb[TPLDataflow_Palindromes#4](../../../samples/snippets/visualbasic/VS_Snippets_Misc/tpldataflow_palindromes/vb/dataflowpalindromes.vb#4)]  
  
## <a name="posting-data-to-the-pipeline"></a><span data-ttu-id="501e4-143">Zaúčtování dat do kanálu</span><span class="sxs-lookup"><span data-stu-id="501e4-143">Posting Data to the Pipeline</span></span>  
 <span data-ttu-id="501e4-144">Přidejte následující kód pro odeslání adresy URL knihy *Iliad of Homer* do čela kanálu datového toku.</span><span class="sxs-lookup"><span data-stu-id="501e4-144">Add the following code to post the URL of the book *The Iliad of Homer* to the head of the dataflow pipeline.</span></span>  
  
 [!code-csharp[TPLDataflow_Palindromes#6](../../../samples/snippets/csharp/VS_Snippets_Misc/tpldataflow_palindromes/cs/dataflowpalindromes.cs#6)]
 [!code-vb[TPLDataflow_Palindromes#6](../../../samples/snippets/visualbasic/VS_Snippets_Misc/tpldataflow_palindromes/vb/dataflowpalindromes.vb#6)]  
  
 <span data-ttu-id="501e4-145">Tento příklad <xref:System.Threading.Tasks.Dataflow.DataflowBlock.Post%2A?displayProperty=nameWithType> používá synchronně odesílat data do vedoucího kanálu.</span><span class="sxs-lookup"><span data-stu-id="501e4-145">This example uses <xref:System.Threading.Tasks.Dataflow.DataflowBlock.Post%2A?displayProperty=nameWithType> to synchronously send data to the head of the pipeline.</span></span> <span data-ttu-id="501e4-146">Metodu <xref:System.Threading.Tasks.Dataflow.DataflowBlock.SendAsync%2A?displayProperty=nameWithType> použijte, když je nutné asynchronně odesílat data do uzlu toku dat.</span><span class="sxs-lookup"><span data-stu-id="501e4-146">Use the <xref:System.Threading.Tasks.Dataflow.DataflowBlock.SendAsync%2A?displayProperty=nameWithType> method when you must asynchronously send data to a dataflow node.</span></span>  
  
## <a name="completing-pipeline-activity"></a><span data-ttu-id="501e4-147">Dokončení aktivity kanálu</span><span class="sxs-lookup"><span data-stu-id="501e4-147">Completing Pipeline Activity</span></span>  
 <span data-ttu-id="501e4-148">Přidejte následující kód k označení vedoucího kanálu jako dokončeného.</span><span class="sxs-lookup"><span data-stu-id="501e4-148">Add the following code to mark the head of the pipeline as completed.</span></span> <span data-ttu-id="501e4-149">Vedoucí kanálu šíří jeho dokončení po zpracování všech zpráv ve vyrovnávací paměti.</span><span class="sxs-lookup"><span data-stu-id="501e4-149">The head of the pipeline propagates its completion after it processes all buffered messages.</span></span>
  
 [!code-csharp[TPLDataflow_Palindromes#7](../../../samples/snippets/csharp/VS_Snippets_Misc/tpldataflow_palindromes/cs/dataflowpalindromes.cs#7)]
 [!code-vb[TPLDataflow_Palindromes#7](../../../samples/snippets/visualbasic/VS_Snippets_Misc/tpldataflow_palindromes/vb/dataflowpalindromes.vb#7)]  
  
 <span data-ttu-id="501e4-150">Tento příklad odešle jednu adresu URL prostřednictvím kanálu toku dat, který má být zpracován.</span><span class="sxs-lookup"><span data-stu-id="501e4-150">This example sends one URL through the dataflow pipeline to be processed.</span></span> <span data-ttu-id="501e4-151">Pokud odešlete více než jeden vstup <xref:System.Threading.Tasks.Dataflow.IDataflowBlock.Complete%2A?displayProperty=nameWithType> prostřednictvím kanálu, volání metody po odeslání všech vstupů.</span><span class="sxs-lookup"><span data-stu-id="501e4-151">If you send more than one input through a pipeline, call the <xref:System.Threading.Tasks.Dataflow.IDataflowBlock.Complete%2A?displayProperty=nameWithType> method after you submit all the input.</span></span> <span data-ttu-id="501e4-152">Tento krok můžete vynechat, pokud vaše aplikace nemá žádný dobře definovaný bod, ve kterém již nejsou k dispozici data nebo aplikace nemusí čekat na dokončení kanálu.</span><span class="sxs-lookup"><span data-stu-id="501e4-152">You can omit this step if your application has no well-defined point at which data is no longer available or the application does not have to wait for the pipeline to finish.</span></span>  
  
## <a name="waiting-for-the-pipeline-to-finish"></a><span data-ttu-id="501e4-153">Čekání na dokončení kanálu</span><span class="sxs-lookup"><span data-stu-id="501e4-153">Waiting for the Pipeline to Finish</span></span>  
 <span data-ttu-id="501e4-154">Přidejte následující kód a počkejte na dokončení kanálu.</span><span class="sxs-lookup"><span data-stu-id="501e4-154">Add the following code to wait for the pipeline to finish.</span></span> <span data-ttu-id="501e4-155">Celková operace je dokončena po dokončení koncovky.</span><span class="sxs-lookup"><span data-stu-id="501e4-155">The overall operation is finished when the tail of the pipeline finishes.</span></span>  
  
 [!code-csharp[TPLDataflow_Palindromes#8](../../../samples/snippets/csharp/VS_Snippets_Misc/tpldataflow_palindromes/cs/dataflowpalindromes.cs#8)]
 [!code-vb[TPLDataflow_Palindromes#8](../../../samples/snippets/visualbasic/VS_Snippets_Misc/tpldataflow_palindromes/vb/dataflowpalindromes.vb#8)]  
  
 <span data-ttu-id="501e4-156">Můžete počkat na dokončení toku dat z libovolného vlákna nebo z více vláken současně.</span><span class="sxs-lookup"><span data-stu-id="501e4-156">You can wait for dataflow completion from any thread or from multiple threads at the same time.</span></span>  
  
## <a name="the-complete-example"></a><span data-ttu-id="501e4-157">Kompletní příklad</span><span class="sxs-lookup"><span data-stu-id="501e4-157">The Complete Example</span></span>  
 <span data-ttu-id="501e4-158">Následující příklad ukazuje úplný kód pro tento návod.</span><span class="sxs-lookup"><span data-stu-id="501e4-158">The following example shows the complete code for this walkthrough.</span></span>  
  
 [!code-csharp[TPLDataflow_Palindromes#1](../../../samples/snippets/csharp/VS_Snippets_Misc/tpldataflow_palindromes/cs/dataflowpalindromes.cs#1)]
 [!code-vb[TPLDataflow_Palindromes#1](../../../samples/snippets/visualbasic/VS_Snippets_Misc/tpldataflow_palindromes/vb/dataflowpalindromes.vb#1)]  
  
## <a name="next-steps"></a><span data-ttu-id="501e4-159">Další kroky</span><span class="sxs-lookup"><span data-stu-id="501e4-159">Next Steps</span></span>  
 <span data-ttu-id="501e4-160">Tento příklad odešle jednu adresu URL ke zpracování prostřednictvím kanálu toku dat.</span><span class="sxs-lookup"><span data-stu-id="501e4-160">This example sends one URL to process through the dataflow pipeline.</span></span> <span data-ttu-id="501e4-161">Pokud odešlete více než jednu vstupní hodnotu prostřednictvím kanálu, můžete do aplikace zavést formu paralelismu, která se podobá tomu, jak se díly mohou pohybovat v automobilce.</span><span class="sxs-lookup"><span data-stu-id="501e4-161">If you send more than one input value through a pipeline, you can introduce a form of parallelism into your application that resembles how parts might move through an automobile factory.</span></span> <span data-ttu-id="501e4-162">Když první člen kanálu odešle svůj výsledek druhému členu, může zpracovat jinou položku paralelně, když druhý člen zpracuje první výsledek.</span><span class="sxs-lookup"><span data-stu-id="501e4-162">When the first member of the pipeline sends its result to the second member, it can process another item in parallel as the second member processes the first result.</span></span>  
  
 <span data-ttu-id="501e4-163">Paralelismus, kterého je dosaženo pomocí kanálu toku dat, se označuje jako *hrubozrnný paralelismus,* protože se obvykle skládá z menšího počtu větších úloh.</span><span class="sxs-lookup"><span data-stu-id="501e4-163">The parallelism that is achieved by using dataflow pipelines is known as *coarse-grained parallelism* because it typically consists of fewer, larger tasks.</span></span> <span data-ttu-id="501e4-164">Můžete také použít *více jemně odstupňované paralelismu* menší, krátkodobé úlohy v kanálu toku dat.</span><span class="sxs-lookup"><span data-stu-id="501e4-164">You can also use a more *fine-grained parallelism* of smaller, short-running tasks in a dataflow pipeline.</span></span> <span data-ttu-id="501e4-165">V tomto příkladu `findReversedWords` člen kanálu používá [PLINQ](introduction-to-plinq.md) ke zpracování více položek v pracovním seznamu paralelně.</span><span class="sxs-lookup"><span data-stu-id="501e4-165">In this example, the `findReversedWords` member of the pipeline uses [PLINQ](introduction-to-plinq.md) to process multiple items in the work list in parallel.</span></span> <span data-ttu-id="501e4-166">Použití jemnozrnného paralelismu v hrubozrnném potrubí může zlepšit celkovou propustnost.</span><span class="sxs-lookup"><span data-stu-id="501e4-166">The use of fine-grained parallelism in a coarse-grained pipeline can improve overall throughput.</span></span>  
  
 <span data-ttu-id="501e4-167">Můžete také připojit zdrojový blok toku dat k více cílovým blokům a vytvořit *síť toku dat*.</span><span class="sxs-lookup"><span data-stu-id="501e4-167">You can also connect a source dataflow block to multiple target blocks to create a *dataflow network*.</span></span> <span data-ttu-id="501e4-168">Přetížená verze <xref:System.Threading.Tasks.Dataflow.DataflowBlock.LinkTo%2A> metody přebírá <xref:System.Predicate%601> objekt, který definuje, zda cílový blok přijímá každou zprávu na základě její hodnoty.</span><span class="sxs-lookup"><span data-stu-id="501e4-168">The overloaded version of the <xref:System.Threading.Tasks.Dataflow.DataflowBlock.LinkTo%2A> method takes a <xref:System.Predicate%601> object that defines whether the target block accepts each message based on its value.</span></span> <span data-ttu-id="501e4-169">Většina typů bloků toku dat, které fungují jako zdroje, nabízí zprávy všem připojeným cílovým blokům v pořadí, ve kterém byly připojeny, dokud jeden z bloků tuto zprávu nepřijme.</span><span class="sxs-lookup"><span data-stu-id="501e4-169">Most dataflow block types that act as sources offer messages to all connected target blocks, in the order in which they were connected, until one of the blocks accepts that message.</span></span> <span data-ttu-id="501e4-170">Pomocí tohoto mechanismu filtrování můžete vytvořit systémy připojených bloků toku dat, které směrují určitá data prostřednictvím jedné cesty a další data jinou cestou.</span><span class="sxs-lookup"><span data-stu-id="501e4-170">By using this filtering mechanism, you can create systems of connected dataflow blocks that direct certain data through one path and other data through another path.</span></span> <span data-ttu-id="501e4-171">Příklad, který používá filtrování k vytvoření sítě toku dat, najdete v [tématu Návod: Použití toku dat v aplikaci Windows Forms](../../../docs/standard/parallel-programming/walkthrough-using-dataflow-in-a-windows-forms-application.md).</span><span class="sxs-lookup"><span data-stu-id="501e4-171">For an example that uses filtering to create a dataflow network, see [Walkthrough: Using Dataflow in a Windows Forms Application](../../../docs/standard/parallel-programming/walkthrough-using-dataflow-in-a-windows-forms-application.md).</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="501e4-172">Viz také</span><span class="sxs-lookup"><span data-stu-id="501e4-172">See also</span></span>

- [<span data-ttu-id="501e4-173">Tok dat</span><span class="sxs-lookup"><span data-stu-id="501e4-173">Dataflow</span></span>](../../../docs/standard/parallel-programming/dataflow-task-parallel-library.md)
