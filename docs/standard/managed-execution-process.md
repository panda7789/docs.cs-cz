---
title: "Proces spravovaného spouštění"
ms.custom: 
ms.date: 03/30/2017
ms.prod: .net
ms.reviewer: 
ms.suite: 
ms.technology: dotnet-standard
ms.tgt_pltfrm: 
ms.topic: article
helpviewer_keywords:
- source code language
- code, managed execution process
- runtime, managed execution process
- compiling source code, managed execution process
- managed execution process
- common language runtime, managed execution process
ms.assetid: 476b03dc-2b12-49a7-b067-41caeaa2f533
caps.latest.revision: "20"
author: rpetrusha
ms.author: ronpet
manager: wpickett
ms.openlocfilehash: a47761acfabd3de77d65483d50fbe7a77f96e076
ms.sourcegitcommit: 4f3fef493080a43e70e951223894768d36ce430a
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 11/21/2017
---
# <a name="managed-execution-process"></a><span data-ttu-id="67483-102">Proces spravovaného spouštění</span><span class="sxs-lookup"><span data-stu-id="67483-102">Managed Execution Process</span></span>
<a name="introduction"></a><span data-ttu-id="67483-103">Proces spravovaného spouštění zahrnuje následující kroky, které jsou podrobněji vrátíme dál v tomto tématu:</span><span class="sxs-lookup"><span data-stu-id="67483-103">The managed execution process includes the following steps, which are discussed in detail later in this topic:</span></span>  
  
1.  <span data-ttu-id="67483-104">[Volba kompilátoru](#choosing_a_compiler).</span><span class="sxs-lookup"><span data-stu-id="67483-104">[Choosing a compiler](#choosing_a_compiler).</span></span>  
  
     <span data-ttu-id="67483-105">Chcete-li získat výhody poskytované modulem CLR (Common Language Runtime), je nutné použít jeden nebo více kompilátorů jazyka, které se zaměřují na modul runtime.</span><span class="sxs-lookup"><span data-stu-id="67483-105">To obtain the benefits provided by the common language runtime, you must use one or more language compilers that target the runtime.</span></span>  
  
2.  <span data-ttu-id="67483-106">[Kompilace kódu do MSIL](#compiling_to_msil).</span><span class="sxs-lookup"><span data-stu-id="67483-106">[Compiling your code to MSIL](#compiling_to_msil).</span></span>  
  
     <span data-ttu-id="67483-107">Kompilace převádí zdrojový kód do jazyka MSIL (Microsoft Intermediate Language) a generuje požadovaná metadata.</span><span class="sxs-lookup"><span data-stu-id="67483-107">Compiling translates your source code into Microsoft intermediate language (MSIL) and generates the required metadata.</span></span>  
  
3.  <span data-ttu-id="67483-108">[Kompilování MSIL do nativního kódu](#compiling_msil_to_native_code).</span><span class="sxs-lookup"><span data-stu-id="67483-108">[Compiling MSIL to native code](#compiling_msil_to_native_code).</span></span>  
  
     <span data-ttu-id="67483-109">V době spuštění přeloží kompilátor JIT (Just-In-Time) jazyk MSIL do nativního kódu.</span><span class="sxs-lookup"><span data-stu-id="67483-109">At execution time, a just-in-time (JIT) compiler translates the MSIL into native code.</span></span> <span data-ttu-id="67483-110">Během této kompilace je nutné, aby kód prošel procesem ověření, který prověří jazyk MSIL a metadata a zjistí, zda kód může být určen jako typově bezpečný.</span><span class="sxs-lookup"><span data-stu-id="67483-110">During this compilation, code must pass a verification process that examines the MSIL and metadata to find out whether the code can be determined to be type safe.</span></span>  
  
4.  <span data-ttu-id="67483-111">[Spuštění kódu](#running_code).</span><span class="sxs-lookup"><span data-stu-id="67483-111">[Running code](#running_code).</span></span>  
  
     <span data-ttu-id="67483-112">Modul CLR (Common Language Runtime) poskytuje infrastrukturu, která umožňuje uskutečnit spuštění a provést služby, které lze použít během spuštění.</span><span class="sxs-lookup"><span data-stu-id="67483-112">The common language runtime provides the infrastructure that enables execution to take place and services that can be used during execution.</span></span>  
  
<a name="choosing_a_compiler"></a>   
## <a name="choosing-a-compiler"></a><span data-ttu-id="67483-113">Volba kompilátoru</span><span class="sxs-lookup"><span data-stu-id="67483-113">Choosing a Compiler</span></span>  
 <span data-ttu-id="67483-114">Chcete-li využívat výhod poskytovaných modulem CLR (Common Language Runtime), je nutné použít jeden nebo více kompilátorů jazyka, které se zaměřují na modul runtime, například Visual Basic, C#, Visual C++, F# nebo jeden z mnoha kompilátorů třetích stran, například kompilátor Eiffel, Perl nebo COBOL.</span><span class="sxs-lookup"><span data-stu-id="67483-114">To obtain the benefits provided by the common language runtime (CLR), you must use one or more language compilers that target the runtime, such as Visual Basic, C#, Visual C++, F#, or one of many third-party compilers such as an Eiffel, Perl, or COBOL compiler.</span></span>  
  
 <span data-ttu-id="67483-115">Vzhledem k tomu, že se jedná o vícejazyčné prostředí pro spouštění, podporuje modul runtime širokou škálu datových typů a vlastností jazyka.</span><span class="sxs-lookup"><span data-stu-id="67483-115">Because it is a multilanguage execution environment, the runtime supports a wide variety of data types and language features.</span></span> <span data-ttu-id="67483-116">Použitý kompilátor jazyka určuje, které vlastnosti modulu runtime jsou k dispozici. Pomocí těchto vlastností pak můžete navrhovat vlastní kód.</span><span class="sxs-lookup"><span data-stu-id="67483-116">The language compiler you use determines which runtime features are available, and you design your code using those features.</span></span> <span data-ttu-id="67483-117">Váš kompilátor, nikoliv modul runtime, stanovuje syntaxi kódu, kterou musí váš kód používat.</span><span class="sxs-lookup"><span data-stu-id="67483-117">Your compiler, not the runtime, establishes the syntax your code must use.</span></span> <span data-ttu-id="67483-118">Pokud příslušné součásti musí být zcela použitelné součásti, které jsou napsané v jiných jazycích, příslušné součásti exportované typy musí vystavit pouze jazykové funkce, které jsou součástí [jazyková nezávislost a jazykově nezávislé komponenty](../../docs/standard/language-independence-and-language-independent-components.md) (CLS).</span><span class="sxs-lookup"><span data-stu-id="67483-118">If your component must be completely usable by components written in other languages, your component's exported types must expose only language features that are included in the [Language Independence and Language-Independent Components](../../docs/standard/language-independence-and-language-independent-components.md) (CLS).</span></span> <span data-ttu-id="67483-119">Můžete použít atribut <xref:System.CLSCompliantAttribute>, chcete-li zajistit, aby kód odpovídal specifikaci CLS.</span><span class="sxs-lookup"><span data-stu-id="67483-119">You can use the <xref:System.CLSCompliantAttribute> attribute to ensure that your code is CLS-compliant.</span></span> <span data-ttu-id="67483-120">Další informace najdete v tématu [jazyková nezávislost a jazykově nezávislé komponenty](../../docs/standard/language-independence-and-language-independent-components.md).</span><span class="sxs-lookup"><span data-stu-id="67483-120">For more information, see [Language Independence and Language-Independent Components](../../docs/standard/language-independence-and-language-independent-components.md).</span></span>  
  
 [<span data-ttu-id="67483-121">Zpět na začátek</span><span class="sxs-lookup"><span data-stu-id="67483-121">Back to top</span></span>](#introduction)  
  
<a name="compiling_to_msil"></a>   
## <a name="compiling-to-msil"></a><span data-ttu-id="67483-122">Kompilace do jazyka MSIL</span><span class="sxs-lookup"><span data-stu-id="67483-122">Compiling to MSIL</span></span>  
 <span data-ttu-id="67483-123">Při kompilaci spravovaného kódu převádí kompilátor zdrojový kód do jazyka MSIL (Microsoft Intermediate Language), což je sada instrukcí nezávislá na procesoru, které mohou být efektivně převedeny do nativního kódu.</span><span class="sxs-lookup"><span data-stu-id="67483-123">When compiling to managed code, the compiler translates your source code into Microsoft intermediate language (MSIL), which is a CPU-independent set of instructions that can be efficiently converted to native code.</span></span> <span data-ttu-id="67483-124">Jazyk MSIL obsahuje pokyny pro načítání, ukládání, inicializaci a volání metod na objekty, stejně jako pokyny pro aritmetické a logické operace, tok řízení, přímý přístup do paměti (DMA), zpracování výjimek a jiné operace.</span><span class="sxs-lookup"><span data-stu-id="67483-124">MSIL includes instructions for loading, storing, initializing, and calling methods on objects, as well as instructions for arithmetic and logical operations, control flow, direct memory access, exception handling, and other operations.</span></span> <span data-ttu-id="67483-125">Před spuštěním kódu MSIL musí být převedena na kód specifické pro procesor, obvykle pomocí [kompilátoru v běhu (JIT)](#compiling_msil_to_native_code).</span><span class="sxs-lookup"><span data-stu-id="67483-125">Before code can be run, MSIL must be converted to CPU-specific code, usually by a [just-in-time (JIT) compiler](#compiling_msil_to_native_code).</span></span> <span data-ttu-id="67483-126">Vzhledem k tomu, že modul CLR (Common Language Runtime) poskytuje pro každou podporovanou počítačovou architekturu jeden nebo více kompilátorů JIT, může být stejná sada MSIL zkompilována pomocí kompilátoru JIT a běžet na jakékoliv podporované architektuře.</span><span class="sxs-lookup"><span data-stu-id="67483-126">Because the common language runtime supplies one or more JIT compilers for each computer architecture it supports, the same set of MSIL can be JIT-compiled and run on any supported architecture.</span></span>  
  
 <span data-ttu-id="67483-127">Při vytváření jazyka MSIL vytváří kompilátor také metadata.</span><span class="sxs-lookup"><span data-stu-id="67483-127">When a compiler produces MSIL, it also produces metadata.</span></span> <span data-ttu-id="67483-128">Metadata popisují typy ve vašem kódu, včetně definice každého typu, podpisů členů každého typu, členů, na které odkazuje kód, a dalších dat, která modul runtime používá v době provádění.</span><span class="sxs-lookup"><span data-stu-id="67483-128">Metadata describes the types in your code, including the definition of each type, the signatures of each type's members, the members that your code references, and other data that the runtime uses at execution time.</span></span> <span data-ttu-id="67483-129">Jazyk MSIL a metadata jsou obsaženy v přenosném spustitelném souboru (PE), který je založen na publikovaných formátech Microsoft PE a COFF (Common Object File Format) a tyto formáty, jež se v minulosti používaly pro spustitelný obsah, rozšiřuje.</span><span class="sxs-lookup"><span data-stu-id="67483-129">The MSIL and metadata are contained in a portable executable (PE) file that is based on and that extends the published Microsoft PE and common object file format (COFF) used historically for executable content.</span></span> <span data-ttu-id="67483-130">Tento formát souboru, který přizpůsobuje jazyk MSIL nebo nativní kód a případně i metadata, umožňuje operačnímu systému rozpoznat bitové kopie modulu CLR (Common Language Runtime).</span><span class="sxs-lookup"><span data-stu-id="67483-130">This file format, which accommodates MSIL or native code as well as metadata, enables the operating system to recognize common language runtime images.</span></span> <span data-ttu-id="67483-131">Přítomnost metadat v souboru spolu s jazykem MSIL umožňuje kódu popsat sám sebe, což znamená, že nejsou vyžadovány knihovny typů nebo jazyk IDL (Interface Definition Language).</span><span class="sxs-lookup"><span data-stu-id="67483-131">The presence of metadata in the file together with MSIL enables your code to describe itself, which means that there is no need for type libraries or Interface Definition Language (IDL).</span></span> <span data-ttu-id="67483-132">Modul runtime vyhledává a extrahuje metadata ze souboru podle potřeby v průběhu provádění.</span><span class="sxs-lookup"><span data-stu-id="67483-132">The runtime locates and extracts the metadata from the file as needed during execution.</span></span>  
  
 [<span data-ttu-id="67483-133">Zpět na začátek</span><span class="sxs-lookup"><span data-stu-id="67483-133">Back to top</span></span>](#introduction)  
  
<a name="compiling_msil_to_native_code"></a>   
## <a name="compiling-msil-to-native-code"></a><span data-ttu-id="67483-134">Kompilace jazyka MSIL do nativního kódu</span><span class="sxs-lookup"><span data-stu-id="67483-134">Compiling MSIL to Native Code</span></span>  
 <span data-ttu-id="67483-135">Před spuštěním jazyka MSIL (Microsoft Intermediate Language) je nutné, aby byl zkompilován proti modulu CLR (Common Language Runtime) do nativního kódu architektury cílového počítače.</span><span class="sxs-lookup"><span data-stu-id="67483-135">Before you can run Microsoft intermediate language (MSIL), it must be compiled against the common language runtime to native code for the target machine architecture.</span></span> <span data-ttu-id="67483-136">Rozhraní [!INCLUDE[dnprdnshort](../../includes/dnprdnshort-md.md)] poskytuje dva způsoby provedení tohoto převodu:</span><span class="sxs-lookup"><span data-stu-id="67483-136">The [!INCLUDE[dnprdnshort](../../includes/dnprdnshort-md.md)] provides two ways to perform this conversion:</span></span>  
  
-   <span data-ttu-id="67483-137">Kompilátor JIT rozhraní .NET Framework.</span><span class="sxs-lookup"><span data-stu-id="67483-137">A .NET Framework just-in-time (JIT) compiler.</span></span>  
  
-   <span data-ttu-id="67483-138">Rozhraní .NET Framework [Ngen.exe (Generátor nativních obrázků)](../../docs/framework/tools/ngen-exe-native-image-generator.md).</span><span class="sxs-lookup"><span data-stu-id="67483-138">The .NET Framework [Ngen.exe (Native Image Generator)](../../docs/framework/tools/ngen-exe-native-image-generator.md).</span></span>  
  
### <a name="compilation-by-the-jit-compiler"></a><span data-ttu-id="67483-139">Kompilace pomocí kompilátoru JIT</span><span class="sxs-lookup"><span data-stu-id="67483-139">Compilation by the JIT Compiler</span></span>  
 <span data-ttu-id="67483-140">Kompilace JIT převede jazyk MSIL do nativního kódu na požádání v době spuštění aplikace, kdy je obsah sestavení načten a proveden.</span><span class="sxs-lookup"><span data-stu-id="67483-140">JIT compilation converts MSIL to native code on demand at application run time, when the contents of an assembly are loaded and executed.</span></span> <span data-ttu-id="67483-141">Vzhledem k tomu, že modul CLR (Common Language Runtime) dodává kompilátor JIT pro každou podporovanou architekturu procesoru, mohou vývojáři vytvářet sady sestavení jazyka MSIL, které mohou být zkompilovány při spuštění (JIT) a mohou běžet na různých počítačích s různou architekturou.</span><span class="sxs-lookup"><span data-stu-id="67483-141">Because the common language runtime supplies a JIT compiler for each supported CPU architecture, developers can build a set of MSIL assemblies that can be JIT-compiled and run on different computers with different machine architectures.</span></span> <span data-ttu-id="67483-142">Nicméně pokud spravovaný kód volá nativní rozhraní API specifická pro konkrétní platformu nebo knihovnu tříd specifickou pro konkrétní platformu, bude kód spuštěn pouze v daném operačním systému.</span><span class="sxs-lookup"><span data-stu-id="67483-142">However, if your managed code calls platform-specific native APIs or a platform-specific class library, it will run only on that operating system.</span></span>  
  
 <span data-ttu-id="67483-143">Kompilace JIT bere v úvahu možnost, že některý z kódů nemusí být během provádění nikdy volán.</span><span class="sxs-lookup"><span data-stu-id="67483-143">JIT compilation takes into account the possibility that some code might never be called during execution.</span></span> <span data-ttu-id="67483-144">Namísto používání času a paměti k převedení všech instrukcí jazyka MSIL v přenosném spustitelném souboru do nativního kódu je během provádění převeden jazyk MSIL podle potřeby a výsledný nativní kód uložen v paměti tak, aby byl přístupný pro pozdější volání v rámci tohoto procesu.</span><span class="sxs-lookup"><span data-stu-id="67483-144">Instead of using time and memory to convert all the MSIL in a PE file to native code, it converts the MSIL as needed during execution and stores the resulting native code in memory so that it is accessible for subsequent calls in the context of that process.</span></span> <span data-ttu-id="67483-145">Zavaděč vytvoří a připojí zástupnou proceduru ke každé metodě v typu, pokud je typ načten a inicializován.</span><span class="sxs-lookup"><span data-stu-id="67483-145">The loader creates and attaches a stub to each method in a type when the type is loaded and initialized.</span></span> <span data-ttu-id="67483-146">Pokud je metoda volána poprvé, zástupná procedura předá řízení kompilátoru JIT, který převede jazyk MSIL pro danou metodu do nativního kódu a upraví zástupnou proceduru tak, aby odkazovala přímo na generovaný nativní kód.</span><span class="sxs-lookup"><span data-stu-id="67483-146">When a method is called for the first time, the stub passes control to the JIT compiler, which converts the MSIL for that method into native code and modifies the stub to point directly to the generated native code.</span></span> <span data-ttu-id="67483-147">Proto následné volání metody zkompilované JIT přechází přímo na nativní kód.</span><span class="sxs-lookup"><span data-stu-id="67483-147">Therefore, subsequent calls to the JIT-compiled method go directly to the native code.</span></span>  
  
### <a name="install-time-code-generation-using-ngenexe"></a><span data-ttu-id="67483-148">Generování kódu pomocí nástroje NGen.exe v době instalace</span><span class="sxs-lookup"><span data-stu-id="67483-148">Install-Time Code Generation Using NGen.exe</span></span>  
 <span data-ttu-id="67483-149">Vzhledem k tomu, že kompilátor JIT převede instrukce jazyka MSIL sestavení do nativního kódu ve chvíli, kdy jsou jednotlivé metody definované v sestavení volány, má tato skutečnost nepříznivý vliv na výkon v době spuštění.</span><span class="sxs-lookup"><span data-stu-id="67483-149">Because the JIT compiler converts an assembly's MSIL to native code when individual methods defined in that assembly are called, it affects performance adversely at run time.</span></span> <span data-ttu-id="67483-150">Ve většině případů je snížení výkonu přijatelné.</span><span class="sxs-lookup"><span data-stu-id="67483-150">In most cases, that diminished performance is acceptable.</span></span> <span data-ttu-id="67483-151">Důležitější je, že kód generovaný kompilátorem JIT je vázán na proces, který kompilaci spustil.</span><span class="sxs-lookup"><span data-stu-id="67483-151">More importantly, the code generated by the JIT compiler is bound to the process that triggered the compilation.</span></span> <span data-ttu-id="67483-152">Nemůže být sdílen napříč více procesy.</span><span class="sxs-lookup"><span data-stu-id="67483-152">It cannot be shared across multiple processes.</span></span> <span data-ttu-id="67483-153">Aby bylo možné sdílet generovaný kód mezi několika vyvoláními aplikace nebo mezi několika procesy, které sdílejí stejnou množinu sestavení, podporuje modul CLR (Common Language Runtime) režim předčasné kompilace.</span><span class="sxs-lookup"><span data-stu-id="67483-153">To allow the generated code to be shared across multiple invocations of an application or across multiple processes that share a set of assemblies, the common language runtime supports an ahead-of-time compilation mode.</span></span> <span data-ttu-id="67483-154">Používá tento režim kompilace napřed z času [Ngen.exe (Generátor nativních obrázků)](../../docs/framework/tools/ngen-exe-native-image-generator.md) převést MSIL sestavení do nativního kódu podobně jako JIT kompilátor.</span><span class="sxs-lookup"><span data-stu-id="67483-154">This ahead-of-time compilation mode uses the [Ngen.exe (Native Image Generator)](../../docs/framework/tools/ngen-exe-native-image-generator.md) to convert MSIL assemblies to native code much like the JIT compiler does.</span></span> <span data-ttu-id="67483-155">Činnost nástroje Ngen.exe se však od kompilátoru JIT liší třemi způsoby:</span><span class="sxs-lookup"><span data-stu-id="67483-155">However, the operation of Ngen.exe differs from that of the JIT compiler in three ways:</span></span>  
  
-   <span data-ttu-id="67483-156">Provádí převod z jazyka MSIL do nativního kódu před spuštěním aplikace namísto toho, aby převod uskutečnil, pokud je aplikace spuštěná.</span><span class="sxs-lookup"><span data-stu-id="67483-156">It performs the conversion from MSIL to native code before running the application instead of while the application is running.</span></span>  
  
-   <span data-ttu-id="67483-157">Kompiluje namísto jedné metody v dané chvíli celé sestavení najednou.</span><span class="sxs-lookup"><span data-stu-id="67483-157">It compiles an entire assembly at a time, instead of one method at a time.</span></span>  
  
-   <span data-ttu-id="67483-158">Uchovává generovaný kód v mezipaměti pro nativní bitové kopie jako soubor na disku.</span><span class="sxs-lookup"><span data-stu-id="67483-158">It persists the generated code in the Native Image Cache as a file on disk.</span></span>  
  
### <a name="code-verification"></a><span data-ttu-id="67483-159">Ověření kódu</span><span class="sxs-lookup"><span data-stu-id="67483-159">Code Verification</span></span>  
 <span data-ttu-id="67483-160">Jako část kompilace do nativního kódu je nutné, aby kód jazyka MSIL absolvoval proces ověření, pokud správce nevytvořil zásady zabezpečení, které umožňují ověření kódu obejít.</span><span class="sxs-lookup"><span data-stu-id="67483-160">As part of its compilation to native code, the MSIL code must pass a verification process unless an administrator has established a security policy that allows the code to bypass verification.</span></span> <span data-ttu-id="67483-161">V rámci ověření se ověřuje jazyk MSIL a metadata a zjišťuje se, zda je kód typově bezpečný, což znamená, že přistupuje pouze k umístěním paměti, k jichž přístupu je oprávněn.</span><span class="sxs-lookup"><span data-stu-id="67483-161">Verification examines MSIL and metadata to find out whether the code is type safe, which means that it accesses only the memory locations it is authorized to access.</span></span> <span data-ttu-id="67483-162">Bezpečnost typů pomáhá izolovat objekty od ostatních objektů a pomáhá je chránit před neúmyslným nebo zákeřným poškozením.</span><span class="sxs-lookup"><span data-stu-id="67483-162">Type safety helps isolate objects from each other and helps protect them from inadvertent or malicious corruption.</span></span> <span data-ttu-id="67483-163">Zároveň zajišťuje, aby bezpečnostní omezení kódu byla spolehlivě vynucena.</span><span class="sxs-lookup"><span data-stu-id="67483-163">It also provides assurance that security restrictions on code can be reliably enforced.</span></span>  
  
 <span data-ttu-id="67483-164">Modul runtime vychází ze skutečnosti, že následující tvrzení jsou pravdivá pro kód, který je prokazatelně typově bezpečný:</span><span class="sxs-lookup"><span data-stu-id="67483-164">The runtime relies on the fact that the following statements are true for code that is verifiably type safe:</span></span>  
  
-   <span data-ttu-id="67483-165">Odkaz na typ je striktně kompatibilní s odkazovaným typem.</span><span class="sxs-lookup"><span data-stu-id="67483-165">A reference to a type is strictly compatible with the type being referenced.</span></span>  
  
-   <span data-ttu-id="67483-166">U objektu jsou vyvolány pouze vhodně definované operace.</span><span class="sxs-lookup"><span data-stu-id="67483-166">Only appropriately defined operations are invoked on an object.</span></span>  
  
-   <span data-ttu-id="67483-167">Identity jsou tím, čím dle jejich tvrzení jsou.</span><span class="sxs-lookup"><span data-stu-id="67483-167">Identities are what they claim to be.</span></span>  
  
 <span data-ttu-id="67483-168">Během procesu ověřování je kód jazyka MSIL kontrolován, aby bylo možné potvrdit, že kód může přistupovat k oblastem paměti a volat metody pouze prostřednictvím správně definovaných typů.</span><span class="sxs-lookup"><span data-stu-id="67483-168">During the verification process, MSIL code is examined in an attempt to confirm that the code can access memory locations and call methods only through properly defined types.</span></span> <span data-ttu-id="67483-169">Kód například nemůže povolit polím objektu, aby byla přístupná takovým způsobem, který umožňuje přetečení oblastí paměti.</span><span class="sxs-lookup"><span data-stu-id="67483-169">For example, code cannot allow an object's fields to be accessed in a manner that allows memory locations to be overrun.</span></span> <span data-ttu-id="67483-170">Navíc se v rámci ověření provádí kontrola kódu za účelem zjištění, zda byl kód jazyka MSIL správně vygenerován, protože nesprávný kód jazyka MSIL může vést k narušení pravidel bezpečnosti typu.</span><span class="sxs-lookup"><span data-stu-id="67483-170">Additionally, verification inspects code to determine whether the MSIL has been correctly generated, because incorrect MSIL can lead to a violation of the type safety rules.</span></span> <span data-ttu-id="67483-171">Proces ověřování zkoumá přesně definovanou sadu typově bezpečných kódů a předává pouze typově bezpečný kód.</span><span class="sxs-lookup"><span data-stu-id="67483-171">The verification process passes a well-defined set of type-safe code, and it passes only code that is type safe.</span></span> <span data-ttu-id="67483-172">Některé typově bezpečné kódy však nemusí ověření absolvovat úspěšně z důvodu určitých omezení procesu ověřování a některé jazyky pak záměrně neprodukují kód, který je prokazatelně typově bezpečný.</span><span class="sxs-lookup"><span data-stu-id="67483-172">However, some type-safe code might not pass verification because of some limitations of the verification process, and some languages, by design, do not produce verifiably type-safe code.</span></span> <span data-ttu-id="67483-173">Pokud je typově bezpečný kód vyžadován zásadami zabezpečení, avšak není úspěšně ověřen, bude při spuštění kódu vyvolána výjimka.</span><span class="sxs-lookup"><span data-stu-id="67483-173">If type-safe code is required by the security policy but the code does not pass verification, an exception is thrown when the code is run.</span></span>  
  
 [<span data-ttu-id="67483-174">Zpět na začátek</span><span class="sxs-lookup"><span data-stu-id="67483-174">Back to top</span></span>](#introduction)  
  
<a name="running_code"></a>   
## <a name="running-code"></a><span data-ttu-id="67483-175">Spuštění kódu</span><span class="sxs-lookup"><span data-stu-id="67483-175">Running Code</span></span>  
 <span data-ttu-id="67483-176">Modul CLR (Common Language Runtime) poskytuje infrastrukturu, která umožňuje uskutečnit spravované spuštění a služby, jež lze použít během provádění.</span><span class="sxs-lookup"><span data-stu-id="67483-176">The common language runtime provides the infrastructure that enables managed execution to take place and services that can be used during execution.</span></span> <span data-ttu-id="67483-177">Před spuštěním metody je nutné, aby byla zkompilována do kódu specifického pro procesor.</span><span class="sxs-lookup"><span data-stu-id="67483-177">Before a method can be run, it must be compiled to processor-specific code.</span></span> <span data-ttu-id="67483-178">Jednotlivé metody, pro které byl vygenerován kód jazyka MSIL, jsou při prvním volání kompilovány pomocí kompilátoru JIT a poté spuštěny.</span><span class="sxs-lookup"><span data-stu-id="67483-178">Each method for which MSIL has been generated is JIT-compiled when it is called for the first time, and then run.</span></span> <span data-ttu-id="67483-179">Jakmile příště metodu spustíte, spustí se stávající nativní kód zkompilovaný pomocí kompilátoru JIT.</span><span class="sxs-lookup"><span data-stu-id="67483-179">The next time the method is run, the existing JIT-compiled native code is run.</span></span> <span data-ttu-id="67483-180">Proces kompilace JIT a následné spuštění kódu se opakuje až do dokončení provádění.</span><span class="sxs-lookup"><span data-stu-id="67483-180">The process of JIT-compiling and then running the code is repeated until execution is complete.</span></span>  
  
 <span data-ttu-id="67483-181">Během provádění obdrží spravovaný kód služby, jako je například uvolňování paměti, zabezpečení, spolupráce s nespravovaným kódem, podpora ladění mezi jazyky, vylepšené nasazení a podpora správy verzí.</span><span class="sxs-lookup"><span data-stu-id="67483-181">During execution, managed code receives services such as garbage collection, security, interoperability with unmanaged code, cross-language debugging support, and enhanced deployment and versioning support.</span></span>  
  
 <span data-ttu-id="67483-182">V operačním systému [!INCLUDE[winxp](../../includes/winxp-md.md)] a [!INCLUDE[windowsver](../../includes/windowsver-md.md)] společnosti Microsoft ověřuje zavaděč spravované moduly kontrolou bitu v hlavičce souboru COFF.</span><span class="sxs-lookup"><span data-stu-id="67483-182">In Microsoft [!INCLUDE[winxp](../../includes/winxp-md.md)] and [!INCLUDE[windowsver](../../includes/windowsver-md.md)], the operating system loader checks for managed modules by examining a bit in the COFF header.</span></span> <span data-ttu-id="67483-183">Nastavený bit označuje spravovaný modul.</span><span class="sxs-lookup"><span data-stu-id="67483-183">The bit being set denotes a managed module.</span></span> <span data-ttu-id="67483-184">Pokud zavaděč odhalí spravované moduly, načte soubor mscoree.dll a poté `_CorValidateImage` nebo `_CorImageUnloading` upozorní zavaděč ve chvíli, kdy jsou bitové kopie spravovaného modulu načteny nebo uvolněny.</span><span class="sxs-lookup"><span data-stu-id="67483-184">If the loader detects managed modules, it loads mscoree.dll, and `_CorValidateImage` and `_CorImageUnloading` notify the loader when the managed module images are loaded and unloaded.</span></span> <span data-ttu-id="67483-185">`_CorValidateImage` provede následující akce:</span><span class="sxs-lookup"><span data-stu-id="67483-185">`_CorValidateImage` performs the following actions:</span></span>  
  
1.  <span data-ttu-id="67483-186">Zajistí, aby byl kód platným spravovaným kódem.</span><span class="sxs-lookup"><span data-stu-id="67483-186">Ensures that the code is valid managed code.</span></span>  
  
2.  <span data-ttu-id="67483-187">Změní vstupní bod v bitové kopii na vstupní bod v modulu runtime.</span><span class="sxs-lookup"><span data-stu-id="67483-187">Changes the entry point in the image to an entry point in the runtime.</span></span>  
  
 <span data-ttu-id="67483-188">V 64bitovém systému Windows upraví `_CorValidateImage` bitovou kopii uloženou v paměti její transformací z formátu PE32 na formát PE32+.</span><span class="sxs-lookup"><span data-stu-id="67483-188">On 64-bit Windows, `_CorValidateImage` modifies the image that is in memory by transforming it from PE32 to PE32+ format.</span></span>  
  
 [<span data-ttu-id="67483-189">Zpět na začátek</span><span class="sxs-lookup"><span data-stu-id="67483-189">Back to top</span></span>](#introduction)  
  
## <a name="see-also"></a><span data-ttu-id="67483-190">Viz také</span><span class="sxs-lookup"><span data-stu-id="67483-190">See Also</span></span>  
 [<span data-ttu-id="67483-191">Přehled</span><span class="sxs-lookup"><span data-stu-id="67483-191">Overview</span></span>](../../docs/framework/get-started/overview.md)  
 [<span data-ttu-id="67483-192">Jazyková nezávislost a jazykově nezávislé komponenty</span><span class="sxs-lookup"><span data-stu-id="67483-192">Language Independence and Language-Independent Components</span></span>](../../docs/standard/language-independence-and-language-independent-components.md)  
 [<span data-ttu-id="67483-193">Metadata a komponenty popisující samy sebe</span><span class="sxs-lookup"><span data-stu-id="67483-193">Metadata and Self-Describing Components</span></span>](../../docs/standard/metadata-and-self-describing-components.md)  
 [<span data-ttu-id="67483-194">Ilasm.exe (IL assembleru)</span><span class="sxs-lookup"><span data-stu-id="67483-194">Ilasm.exe (IL Assembler)</span></span>](../../docs/framework/tools/ilasm-exe-il-assembler.md)  
 [<span data-ttu-id="67483-195">Zabezpečení</span><span class="sxs-lookup"><span data-stu-id="67483-195">Security</span></span>](../../docs/standard/security/index.md)  
 [<span data-ttu-id="67483-196">Spolupráce s nespravovaným kódem</span><span class="sxs-lookup"><span data-stu-id="67483-196">Interoperating with Unmanaged Code</span></span>](../../docs/framework/interop/index.md)  
 [<span data-ttu-id="67483-197">Nasazení</span><span class="sxs-lookup"><span data-stu-id="67483-197">Deployment</span></span>](../../docs/framework/deployment/net-framework-applications.md)  
 [<span data-ttu-id="67483-198">Sestavení v modulu Common Language Runtime</span><span class="sxs-lookup"><span data-stu-id="67483-198">Assemblies in the Common Language Runtime</span></span>](../../docs/framework/app-domains/assemblies-in-the-common-language-runtime.md)  
 [<span data-ttu-id="67483-199">Aplikační domény</span><span class="sxs-lookup"><span data-stu-id="67483-199">Application Domains</span></span>](../../docs/framework/app-domains/application-domains.md)
