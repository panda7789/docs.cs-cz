---
title: Vytváření a používání sestavení se silným názvem
ms.date: 08/19/2019
helpviewer_keywords:
- strong-name bypass feature
- strong-named assemblies, about strong-named assemblies
- strong-named assemblies
- signing assemblies
- assemblies [.NET Framework], signing
- strong-named assemblies, scenarios
- assemblies [.NET Framework], strong-named
- strong-named assemblies, loading into trusted application domains
- assembly binding, strong-named
ms.assetid: ffbf6d9e-4a88-4a8a-9645-4ce0ee1ee5f9
ms.openlocfilehash: 18a0b7d657290835a34c705513d0d7a4ccbfc61c
ms.sourcegitcommit: 7588136e355e10cbc2582f389c90c127363c02a5
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 03/15/2020
ms.locfileid: "75738679"
---
# <a name="create-and-use-strong-named-assemblies"></a><span data-ttu-id="bc335-102">Vytváření a používání sestavení se silným názvem</span><span class="sxs-lookup"><span data-stu-id="bc335-102">Create and use strong-named assemblies</span></span>

<span data-ttu-id="bc335-103">Silný název se skládá z identity sestavení – jeho jednoduchého textového názvu, čísla verze a informací o jazykové verzi (pokud jsou k dispozici) – plus veřejného klíče a digitálního podpisu.</span><span class="sxs-lookup"><span data-stu-id="bc335-103">A strong name consists of the assembly's identity—its simple text name, version number, and culture information (if provided)—plus a public key and a digital signature.</span></span> <span data-ttu-id="bc335-104">Je generována ze souboru sestavení pomocí odpovídajícího soukromého klíče.</span><span class="sxs-lookup"><span data-stu-id="bc335-104">It is generated from an assembly file using the corresponding private key.</span></span> <span data-ttu-id="bc335-105">(Soubor sestavení obsahuje manifest sestavení, který obsahuje názvy a hashy všech souborů, které tvoří sestavení.)</span><span class="sxs-lookup"><span data-stu-id="bc335-105">(The assembly file contains the assembly manifest, which contains the names and hashes of all the files that make up the assembly.)</span></span>

> [!WARNING]
> <span data-ttu-id="bc335-106">Nespoléhejte se na silné názvy pro zabezpečení.</span><span class="sxs-lookup"><span data-stu-id="bc335-106">Do not rely on strong names for security.</span></span> <span data-ttu-id="bc335-107">Poskytují pouze jedinečnou identitu.</span><span class="sxs-lookup"><span data-stu-id="bc335-107">They provide a unique identity only.</span></span>

<span data-ttu-id="bc335-108">Sestavení se silným názvem může používat pouze typy z jiných sestavení se silným názvem.</span><span class="sxs-lookup"><span data-stu-id="bc335-108">A strong-named assembly can only use types from other strong-named assemblies.</span></span> <span data-ttu-id="bc335-109">V opačném případě by byla ohrožena integrita sestavení se silným názvem.</span><span class="sxs-lookup"><span data-stu-id="bc335-109">Otherwise, the integrity of the strong-named assembly would be compromised.</span></span>

> [!NOTE]
> <span data-ttu-id="bc335-110">Přestože .NET Core podporuje sestavení se silným názvem a všechna sestavení v knihovně .NET Core jsou podepsána, většina sestavení třetích stran nepotřebují silné názvy.</span><span class="sxs-lookup"><span data-stu-id="bc335-110">Although .NET Core supports strong-named assemblies, and all assemblies in the .NET Core library are signed, the majority of third-party assemblies do not need strong names.</span></span> <span data-ttu-id="bc335-111">Další informace najdete [v tématu Podpis silného názvu](https://github.com/dotnet/runtime/blob/master/docs/project/strong-name-signing.md) na GitHubu.</span><span class="sxs-lookup"><span data-stu-id="bc335-111">For more information, see [Strong Name Signing](https://github.com/dotnet/runtime/blob/master/docs/project/strong-name-signing.md) on GitHub.</span></span>

## <a name="strong-name-scenario"></a><span data-ttu-id="bc335-112">Scénář silného názvu</span><span class="sxs-lookup"><span data-stu-id="bc335-112">Strong name scenario</span></span>

<span data-ttu-id="bc335-113">Následující scénář popisuje proces podepisování sestavení se silným názvem a později odkazování na tento název.</span><span class="sxs-lookup"><span data-stu-id="bc335-113">The following scenario outlines the process of signing an assembly with a strong name and later referencing it by that name.</span></span>

1. <span data-ttu-id="bc335-114">Sestava A je vytvořena se silným názvem pomocí jedné z následujících metod:</span><span class="sxs-lookup"><span data-stu-id="bc335-114">Assembly A is created with a strong name using one of the following methods:</span></span>

    - <span data-ttu-id="bc335-115">Použití vývojového prostředí, které podporuje vytváření silných názvů, jako je například Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="bc335-115">Using a development environment that supports creating strong names, such as Visual Studio.</span></span>

    - <span data-ttu-id="bc335-116">Vytvoření dvojice kryptografických klíčů pomocí [nástroje Silný název (Sn.exe)](../../framework/tools/sn-exe-strong-name-tool.md) a přiřazení této dvojice klíčů k sestavení pomocí kompilátoru příkazového řádku nebo [propojovacího zařízení sestavení (Al.exe).](../../framework/tools/al-exe-assembly-linker.md)</span><span class="sxs-lookup"><span data-stu-id="bc335-116">Creating a cryptographic key pair using the [Strong Name tool (Sn.exe)](../../framework/tools/sn-exe-strong-name-tool.md) and assigning that key pair to the assembly using either a command-line compiler or the [Assembly Linker (Al.exe)](../../framework/tools/al-exe-assembly-linker.md).</span></span> <span data-ttu-id="bc335-117">Sada Windows SDK poskytuje sn.exe i al.exe.</span><span class="sxs-lookup"><span data-stu-id="bc335-117">The Windows SDK provides both Sn.exe and Al.exe.</span></span>

2. <span data-ttu-id="bc335-118">Vývojové prostředí nebo nástroj podepisuje hash souboru obsahující manifest sestavení s vlastní klíč vývojáře.</span><span class="sxs-lookup"><span data-stu-id="bc335-118">The development environment or tool signs the hash of the file containing the assembly's manifest with the developer's private key.</span></span> <span data-ttu-id="bc335-119">Tento digitální podpis je uložen v přenosném spustitelném souboru (PE), který obsahuje manifest sestavení A.</span><span class="sxs-lookup"><span data-stu-id="bc335-119">This digital signature is stored in the portable executable (PE) file that contains Assembly A's manifest.</span></span>

3. <span data-ttu-id="bc335-120">Sestava B je spotřebitelem sestavy A. Referenční část manifestu sestavení B obsahuje token, který představuje veřejný klíč sestavení A.</span><span class="sxs-lookup"><span data-stu-id="bc335-120">Assembly B is a consumer of Assembly A. The reference section of Assembly B's manifest includes a token that represents Assembly A's public key.</span></span> <span data-ttu-id="bc335-121">Token je část úplného veřejného klíče a používá se spíše než samotný klíč k úspoře místa.</span><span class="sxs-lookup"><span data-stu-id="bc335-121">A token is a portion of the full public key and is used rather than the key itself to save space.</span></span>

4. <span data-ttu-id="bc335-122">Běžný jazyk runtime ověří podpis silného názvu při sestavení je umístěn v globální mezipaměti sestavení.</span><span class="sxs-lookup"><span data-stu-id="bc335-122">The common language runtime verifies the strong name signature when the assembly is placed in the global assembly cache.</span></span> <span data-ttu-id="bc335-123">Při vazbě silným názvem za běhu, za běhu common jazyk porovná klíč uložený v manifestu sestavení B s klíčem používaným ke generování silného názvu pro sestavení A. Pokud kontroly zabezpečení rozhraní .NET Framework projít a vazba úspěšné, sestavení B má záruku, že bity sestavení A nebyly zfalšovány a že tyto bity skutečně pocházejí od vývojářů sestavení A.</span><span class="sxs-lookup"><span data-stu-id="bc335-123">When binding by strong name at run time, the common language runtime compares the key stored in Assembly B's manifest with the key used to generate the strong name for Assembly A. If the .NET Framework security checks pass and the bind succeeds, Assembly B has a guarantee that Assembly A's bits have not been tampered with and that these bits actually come from the developers of Assembly A.</span></span>

> [!NOTE]
> <span data-ttu-id="bc335-124">Tento scénář neřeší problémy důvěryhodnosti.</span><span class="sxs-lookup"><span data-stu-id="bc335-124">This scenario doesn't address trust issues.</span></span> <span data-ttu-id="bc335-125">Sestavení mohou kromě silného názvu přenášet úplné podpisy Microsoft Authenticode.</span><span class="sxs-lookup"><span data-stu-id="bc335-125">Assemblies can carry full Microsoft Authenticode signatures in addition to a strong name.</span></span> <span data-ttu-id="bc335-126">Podpisy Authenticode obsahují certifikát, který vytváří vztah důvěryhodnosti.</span><span class="sxs-lookup"><span data-stu-id="bc335-126">Authenticode signatures include a certificate that establishes trust.</span></span> <span data-ttu-id="bc335-127">Je důležité si uvědomit, že silné názvy nevyžadují kód, který má být podepsán tímto způsobem.</span><span class="sxs-lookup"><span data-stu-id="bc335-127">It's important to note that strong names don't require code to be signed in this way.</span></span> <span data-ttu-id="bc335-128">Silné názvy poskytují pouze jedinečnou identitu.</span><span class="sxs-lookup"><span data-stu-id="bc335-128">Strong names only provide a unique identity.</span></span>

## <a name="bypass-signature-verification-of-trusted-assemblies"></a><span data-ttu-id="bc335-129">Obejít ověření podpisu důvěryhodných sestavení</span><span class="sxs-lookup"><span data-stu-id="bc335-129">Bypass signature verification of trusted assemblies</span></span>

<span data-ttu-id="bc335-130">Počínaje rozhraním .NET Framework 3.5 Service Pack 1 nejsou podpisy se silným názvem ověřeny při načtení sestavení do `MyComputer` plně důvěryhodné aplikační domény, jako je například výchozí aplikační doména pro zónu.</span><span class="sxs-lookup"><span data-stu-id="bc335-130">Starting with the .NET Framework 3.5 Service Pack 1, strong-name signatures are not validated when an assembly is loaded into a full-trust application domain, such as the default application domain for the `MyComputer` zone.</span></span> <span data-ttu-id="bc335-131">Tato funkce se označuje jako funkce obejití silného názvu.</span><span class="sxs-lookup"><span data-stu-id="bc335-131">This is referred to as the strong-name bypass feature.</span></span> <span data-ttu-id="bc335-132">V prostředí s plnou důvěryhodností požadavky na <xref:System.Security.Permissions.StrongNameIdentityPermission> vždy úspěšné pro podepsaná sestavení s plnou důvěryhodností, bez ohledu na jejich podpis.</span><span class="sxs-lookup"><span data-stu-id="bc335-132">In a full-trust environment, demands for <xref:System.Security.Permissions.StrongNameIdentityPermission> always succeed for signed, full-trust assemblies, regardless of their signature.</span></span> <span data-ttu-id="bc335-133">Funkce obejití silného názvu zabraňuje zbytečné režii ověření podpisu silného názvu plně důvěryhodných sestavení v této situaci, což umožňuje rychlejší načítání sestavení.</span><span class="sxs-lookup"><span data-stu-id="bc335-133">The strong-name bypass feature avoids the unnecessary overhead of strong-name signature verification of full-trust assemblies in this situation, allowing the assemblies to load faster.</span></span>

<span data-ttu-id="bc335-134">Funkce obtokse se vztahuje na všechny sestavy, které jsou podepsány silným názvem a které má následující vlastnosti:</span><span class="sxs-lookup"><span data-stu-id="bc335-134">The bypass feature applies to any assembly that is signed with a strong name and that has the following characteristics:</span></span>

- <span data-ttu-id="bc335-135">Plně důvěryhodný <xref:System.Security.Policy.StrongName> bez důkazů (například má `MyComputer` zóny důkazy).</span><span class="sxs-lookup"><span data-stu-id="bc335-135">Fully trusted without <xref:System.Security.Policy.StrongName> evidence (for example, has `MyComputer` zone evidence).</span></span>

- <span data-ttu-id="bc335-136">Načteno do <xref:System.AppDomain>plně důvěryhodného .</span><span class="sxs-lookup"><span data-stu-id="bc335-136">Loaded into a fully trusted <xref:System.AppDomain>.</span></span>

- <span data-ttu-id="bc335-137">Načteno z umístění <xref:System.AppDomainSetup.ApplicationBase%2A> pod <xref:System.AppDomain>vlastností tohoto .</span><span class="sxs-lookup"><span data-stu-id="bc335-137">Loaded from a location under the <xref:System.AppDomainSetup.ApplicationBase%2A> property of that <xref:System.AppDomain>.</span></span>

- <span data-ttu-id="bc335-138">Ne odkládání podepsané.</span><span class="sxs-lookup"><span data-stu-id="bc335-138">Not delay-signed.</span></span>

<span data-ttu-id="bc335-139">Tuto funkci lze zakázat pro jednotlivé aplikace nebo pro počítač.</span><span class="sxs-lookup"><span data-stu-id="bc335-139">This feature can be disabled for individual applications or for a computer.</span></span> <span data-ttu-id="bc335-140">Viz [Postup: Zakažte funkci obejití silného názvu](disable-strong-name-bypass-feature.md).</span><span class="sxs-lookup"><span data-stu-id="bc335-140">See [How to: Disable the strong-name bypass feature](disable-strong-name-bypass-feature.md).</span></span>

## <a name="related-topics"></a><span data-ttu-id="bc335-141">Související témata</span><span class="sxs-lookup"><span data-stu-id="bc335-141">Related topics</span></span>

|<span data-ttu-id="bc335-142">Nadpis</span><span class="sxs-lookup"><span data-stu-id="bc335-142">Title</span></span>|<span data-ttu-id="bc335-143">Popis</span><span class="sxs-lookup"><span data-stu-id="bc335-143">Description</span></span>|
|-----------|-----------------|
|[<span data-ttu-id="bc335-144">Postup: Vytvoření páru klíčů veřejného a soukromého sektoru</span><span class="sxs-lookup"><span data-stu-id="bc335-144">How to: Create a public-private key pair</span></span>](create-public-private-key-pair.md)|<span data-ttu-id="bc335-145">Popisuje, jak vytvořit pár kryptografických klíčů pro podepsání sestavení.</span><span class="sxs-lookup"><span data-stu-id="bc335-145">Describes how to create a cryptographic key pair for signing an assembly.</span></span>|
|[<span data-ttu-id="bc335-146">Postup: Podepsání sestavení se silným názvem</span><span class="sxs-lookup"><span data-stu-id="bc335-146">How to: Sign an assembly with a strong name</span></span>](sign-strong-name.md)|<span data-ttu-id="bc335-147">Popisuje, jak vytvořit sestavení se silným názvem.</span><span class="sxs-lookup"><span data-stu-id="bc335-147">Describes how to create a strong-named assembly.</span></span>|
|[<span data-ttu-id="bc335-148">Vylepšené silné pojmenování</span><span class="sxs-lookup"><span data-stu-id="bc335-148">Enhanced strong naming</span></span>](enhanced-strong-naming.md)|<span data-ttu-id="bc335-149">Popisuje vylepšení silných názvů v rozhraní .NET Framework 4.5.</span><span class="sxs-lookup"><span data-stu-id="bc335-149">Describes enhancements to strong-names in the .NET Framework 4.5.</span></span>|
|[<span data-ttu-id="bc335-150">Postup: Odkaz na sestavení se silným názvem</span><span class="sxs-lookup"><span data-stu-id="bc335-150">How to: Reference a strong-named assembly</span></span>](reference-strong-named.md)|<span data-ttu-id="bc335-151">Popisuje, jak odkazovat na typy nebo prostředky v sestavení se silným názvem v době kompilace nebo běhu.</span><span class="sxs-lookup"><span data-stu-id="bc335-151">Describes how to reference types or resources in a strong-named assembly at compile time or run time.</span></span>|
|[<span data-ttu-id="bc335-152">Postup: Zakázání funkce obejití silného názvu</span><span class="sxs-lookup"><span data-stu-id="bc335-152">How to: Disable the strong-name bypass feature</span></span>](disable-strong-name-bypass-feature.md)|<span data-ttu-id="bc335-153">Popisuje, jak zakázat funkci, která obchází ověřování podpisů se silným názvem.</span><span class="sxs-lookup"><span data-stu-id="bc335-153">Describes how to disable the feature that bypasses the validation of strong-name signatures.</span></span> <span data-ttu-id="bc335-154">Tuto funkci lze zakázat pro všechny nebo pro konkrétní aplikace.</span><span class="sxs-lookup"><span data-stu-id="bc335-154">This feature can be disabled for all or for specific applications.</span></span>|
|[<span data-ttu-id="bc335-155">Vytváření sestavení</span><span class="sxs-lookup"><span data-stu-id="bc335-155">Create assemblies</span></span>](create.md)|<span data-ttu-id="bc335-156">Poskytuje přehled jednosouborových a vícesouborových sestavení.</span><span class="sxs-lookup"><span data-stu-id="bc335-156">Provides an overview of single-file and multifile assemblies.</span></span>|
|[<span data-ttu-id="bc335-157">Jak zpoždění podepsání sestavení v sadě Visual Studio</span><span class="sxs-lookup"><span data-stu-id="bc335-157">How to delay sign an assembly in Visual Studio</span></span>](/visualstudio/ide/managing-assembly-and-manifest-signing#how-to-sign-an-assembly-in-visual-studio)|<span data-ttu-id="bc335-158">Vysvětluje, jak podepsat sestavení se silným názvem po vytvoření sestavení.</span><span class="sxs-lookup"><span data-stu-id="bc335-158">Explains how to sign an assembly with a strong name after the assembly has been created.</span></span>|
|[<span data-ttu-id="bc335-159">Sn.exe (nástroj silný název)</span><span class="sxs-lookup"><span data-stu-id="bc335-159">Sn.exe (Strong Name tool)</span></span>](../../framework/tools/sn-exe-strong-name-tool.md)|<span data-ttu-id="bc335-160">Popisuje nástroj obsažený v rozhraní .NET Framework, který pomáhá vytvářet sestavení se silnými názvy.</span><span class="sxs-lookup"><span data-stu-id="bc335-160">Describes the tool included in the .NET Framework that helps create assemblies with strong names.</span></span> <span data-ttu-id="bc335-161">Tento nástroj poskytuje možnosti pro správu klíčů, generování podpisů a ověřování podpisů.</span><span class="sxs-lookup"><span data-stu-id="bc335-161">This tool provides options for key management, signature generation, and signature verification.</span></span>|
|[<span data-ttu-id="bc335-162">Al.exe (propojovací zařízení sestavení)</span><span class="sxs-lookup"><span data-stu-id="bc335-162">Al.exe (Assembly linker)</span></span>](../../framework/tools/al-exe-assembly-linker.md)|<span data-ttu-id="bc335-163">Popisuje nástroj obsažený v rozhraní .NET Framework, který generuje soubor, který má manifest sestavení z modulů nebo souborů prostředků.</span><span class="sxs-lookup"><span data-stu-id="bc335-163">Describes the tool included in the .NET Framework that generates a file that has an assembly manifest from modules or resource files.</span></span>|
