---
title: Formát souborů sestavení .NET
description: Informace o formátu souboru sestavení .NET, který se používá k popisu a obsahují aplikace a knihovny .NET.
author: richlander
ms.date: 08/20/2019
ms.technology: dotnet-standard
ms.assetid: 6520323e-ff28-4c8a-ba80-e64a413199e6
ms.openlocfilehash: 4cf6522d66d7a1efccde45078768a773db6e6cb0
ms.sourcegitcommit: 7588136e355e10cbc2582f389c90c127363c02a5
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 03/15/2020
ms.locfileid: "75711581"
---
# <a name="net-assembly-file-format"></a><span data-ttu-id="6c137-103">Formát souborů sestavení .NET</span><span class="sxs-lookup"><span data-stu-id="6c137-103">.NET assembly file format</span></span>

<span data-ttu-id="6c137-104">Rozhraní .NET definuje binární formát souboru, *sestavení*, který slouží k úplnému popisu a obsahují programy .NET.</span><span class="sxs-lookup"><span data-stu-id="6c137-104">.NET defines a binary file format, *assembly*, that is used to fully describe and contain .NET programs.</span></span> <span data-ttu-id="6c137-105">Sestavení se používají pro samotné programy, stejně jako všechny závislé knihovny.</span><span class="sxs-lookup"><span data-stu-id="6c137-105">Assemblies are used for the programs themselves as well as any dependent libraries.</span></span> <span data-ttu-id="6c137-106">Program .NET lze spustit jako jedno nebo více sestavení bez dalších požadovaných artefaktů nad rámec příslušné implementace rozhraní .NET.</span><span class="sxs-lookup"><span data-stu-id="6c137-106">A .NET program can be executed as one or more assemblies, with no other required artifacts, beyond the appropriate .NET implementation.</span></span> <span data-ttu-id="6c137-107">Nativní závislosti, včetně rozhraní API operačního systému, jsou samostatným problémem a nejsou obsaženy ve formátu sestavení .NET, i když jsou někdy popsány v tomto formátu (například WinRT).</span><span class="sxs-lookup"><span data-stu-id="6c137-107">Native dependencies, including operating system APIs, are a separate concern and are not contained within the .NET assembly format, although they are sometimes described with this format (for example, WinRT).</span></span>

> <span data-ttu-id="6c137-108">Každá komponenta CLI nese metadata pro deklarace, implementace a odkazy specifické pro tuto komponentu.</span><span class="sxs-lookup"><span data-stu-id="6c137-108">Each CLI component carries the metadata for declarations, implementations, and references specific to that component.</span></span> <span data-ttu-id="6c137-109">Proto metadata specifická pro komponentu se označují jako metadata komponenty a výsledná komponenta je označována jako vlastní popisující – z ECMA 335 I.9.1, Komponenty a sestavy.</span><span class="sxs-lookup"><span data-stu-id="6c137-109">Therefore, the component-specific metadata is referred to as component metadata, and the resulting component is said to be self-describing – from ECMA 335 I.9.1, Components and assemblies.</span></span>

<span data-ttu-id="6c137-110">Formát je plně specifikován a standardizován jako [ECMA 335](https://www.ecma-international.org/publications/standards/Ecma-335.htm).</span><span class="sxs-lookup"><span data-stu-id="6c137-110">The format is fully specified and standardized as [ECMA 335](https://www.ecma-international.org/publications/standards/Ecma-335.htm).</span></span> <span data-ttu-id="6c137-111">Tento formát používají všechny kompilátory rozhraní .NET a runtimes.</span><span class="sxs-lookup"><span data-stu-id="6c137-111">All .NET compilers and runtimes use this format.</span></span> <span data-ttu-id="6c137-112">Přítomnost zdokumentovaného a zřídka aktualizovaného binárního formátu byla hlavní výhodou (pravděpodobně požadavkem) pro interoperabilitu.</span><span class="sxs-lookup"><span data-stu-id="6c137-112">The presence of a documented and infrequently updated binary format has been a major benefit (arguably a requirement) for interoperability.</span></span> <span data-ttu-id="6c137-113">Formát byl naposledy aktualizován podstatným způsobem v roce 2005 (.NET 2.0) tak, aby vyhovoval obecným typům a architektuře procesoru.</span><span class="sxs-lookup"><span data-stu-id="6c137-113">The format was last updated in a substantive way in 2005 (.NET 2.0) to accommodate generics and processor architecture.</span></span>

<span data-ttu-id="6c137-114">Formát je cpu- a OS-agnostik.</span><span class="sxs-lookup"><span data-stu-id="6c137-114">The format is CPU- and OS-agnostic.</span></span> <span data-ttu-id="6c137-115">Používá se jako součást implementací rozhraní .NET, které cílí na mnoho čipů a procesorů.</span><span class="sxs-lookup"><span data-stu-id="6c137-115">It has been used as part of .NET implementations that target many chips and CPUs.</span></span> <span data-ttu-id="6c137-116">Zatímco samotný formát má dědictví systému Windows, je implementovatelný v libovolném operačním systému.</span><span class="sxs-lookup"><span data-stu-id="6c137-116">While the format itself has Windows heritage, it is implementable on any operating system.</span></span> <span data-ttu-id="6c137-117">Jeho pravděpodobně nejvýznamnější volbou pro interoperabilitu operačního operačního spoje je, že většina hodnot je uložena ve formátu little-endian.</span><span class="sxs-lookup"><span data-stu-id="6c137-117">Its arguably most significant choice for OS interoperability is that most values are stored in little-endian format.</span></span> <span data-ttu-id="6c137-118">Nemá specifickou spřažení velikosti ukazatele počítače (například 32bitová, 64bitová).</span><span class="sxs-lookup"><span data-stu-id="6c137-118">It doesn’t have a specific affinity to machine pointer size (for example, 32-bit, 64-bit).</span></span>

<span data-ttu-id="6c137-119">Formát sestavení rozhraní .NET je také velmi popisný o struktuře daného programu nebo knihovny.</span><span class="sxs-lookup"><span data-stu-id="6c137-119">The .NET assembly format is also very descriptive about the structure of a given program or library.</span></span> <span data-ttu-id="6c137-120">Popisuje vnitřní součásti sestavy, konkrétně odkazy na sestavení a definované typy a jejich vnitřní strukturu.</span><span class="sxs-lookup"><span data-stu-id="6c137-120">It describes the internal components of an assembly, specifically assembly references and types defined and their internal structure.</span></span> <span data-ttu-id="6c137-121">Nástroje nebo api mohou číst a zpracovávat tyto informace pro zobrazení nebo pro programová rozhodnutí.</span><span class="sxs-lookup"><span data-stu-id="6c137-121">Tools or APIs can read and process this information for display or to make programmatic decisions.</span></span>

## <a name="format"></a><span data-ttu-id="6c137-122">Formát</span><span class="sxs-lookup"><span data-stu-id="6c137-122">Format</span></span>

<span data-ttu-id="6c137-123">Binární formát .NET je založen na formátu souboru prostředí Windows [PE.](https://en.wikipedia.org/wiki/Portable_Executable)</span><span class="sxs-lookup"><span data-stu-id="6c137-123">The .NET binary format is based on the Windows [PE file](https://en.wikipedia.org/wiki/Portable_Executable) format.</span></span> <span data-ttu-id="6c137-124">Knihovny tříd .NET jsou ve skutečnosti konformní windows pes a na první pohled se zobrazují jako knihovny dynamických odkazů systému Windows (DLL) nebo spustitelné soubory aplikací (EXEs).</span><span class="sxs-lookup"><span data-stu-id="6c137-124">In fact, .NET class libraries are conformant Windows PEs, and appear on first glance to be Windows dynamic link libraries (DLLs) or application executables (EXEs).</span></span> <span data-ttu-id="6c137-125">To je velmi užitečná charakteristika na Windows, kde se mohou maskovat jako nativní spustitelné binární soubory a získat některé stejné zacházení (například zatížení operačního systému, PE nástroje).</span><span class="sxs-lookup"><span data-stu-id="6c137-125">This is a very useful characteristic on Windows, where they can masquerade as native executable binaries and get some of the same treatment (for example, OS load, PE tools).</span></span>

![Záhlaví sestavení](../media/assembly-format/assembly-headers.png)

<span data-ttu-id="6c137-127">Záhlaví sestavení z ECMA 335 II.25.1, Struktura formátu souboru runtime.</span><span class="sxs-lookup"><span data-stu-id="6c137-127">Assembly Headers from ECMA 335 II.25.1, Structure of the runtime file format.</span></span>

## <a name="process-the-assemblies"></a><span data-ttu-id="6c137-128">Zpracování sestavení</span><span class="sxs-lookup"><span data-stu-id="6c137-128">Process the assemblies</span></span>

<span data-ttu-id="6c137-129">Je možné psát nástroje nebo api pro zpracování sestavení.</span><span class="sxs-lookup"><span data-stu-id="6c137-129">It is possible to write tools or APIs to process assemblies.</span></span> <span data-ttu-id="6c137-130">Informace o sestavení umožňují provádět programová rozhodnutí za běhu, přepisovat sestavení, poskytovat rozhraní API IntelliSense v editoru a generovat dokumentaci.</span><span class="sxs-lookup"><span data-stu-id="6c137-130">Assembly information enables making programmatic decisions at runtime, re-writing assemblies, providing API IntelliSense in an editor and generating documentation.</span></span> <span data-ttu-id="6c137-131"><xref:System.Reflection?displayProperty=nameWithType>, <xref:System.Reflection.MetadataLoadContext?displayProperty=nameWithType>, a [Mono.Cecil](https://www.mono-project.com/docs/tools+libraries/libraries/Mono.Cecil/) jsou dobrým příkladem nástrojů, které jsou často používány pro tento účel.</span><span class="sxs-lookup"><span data-stu-id="6c137-131"><xref:System.Reflection?displayProperty=nameWithType>, <xref:System.Reflection.MetadataLoadContext?displayProperty=nameWithType>, and [Mono.Cecil](https://www.mono-project.com/docs/tools+libraries/libraries/Mono.Cecil/) are good examples of tools that are frequently used for this purpose.</span></span>
