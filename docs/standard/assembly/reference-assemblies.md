---
title: Referenční sestavení
description: Informace o referenčních sestaveních, což je zvláštní typ sestavení v rozhraní .NET, která obsahují pouze veřejný povrch rozhraní API knihovny.
author: MSDN-WhiteKnight
ms.date: 09/12/2019
ms.technology: dotnet-standard
ms.openlocfilehash: 938942caf81c54a8aa9207dbe87559438ffb252e
ms.sourcegitcommit: 7588136e355e10cbc2582f389c90c127363c02a5
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 03/15/2020
ms.locfileid: "79141065"
---
# <a name="reference-assemblies"></a><span data-ttu-id="03e03-103">Referenční sestavení</span><span class="sxs-lookup"><span data-stu-id="03e03-103">Reference assemblies</span></span>

<span data-ttu-id="03e03-104">*Referenční sestavení* jsou zvláštní typ sestavení, které obsahují pouze minimální množství metadat, které jsou nutné k reprezentaci veřejného povrchu rozhraní API knihovny.</span><span class="sxs-lookup"><span data-stu-id="03e03-104">*Reference assemblies* are a special type of assembly that contain only the minimum amount of metadata required to represent the library's public API surface.</span></span> <span data-ttu-id="03e03-105">Zahrnují deklarace pro všechny členy, které jsou významné při odkazování na sestavení v nástrojích sestavení, ale vyloučit všechny implementace členů a deklarace soukromých členů, které nemají žádný pozorovatelný dopad na jejich smlouvy rozhraní API.</span><span class="sxs-lookup"><span data-stu-id="03e03-105">They include declarations for all members that are significant when referencing an assembly in build tools, but exclude all member implementations and declarations of private members that have no observable impact on their API contract.</span></span> <span data-ttu-id="03e03-106">Naproti tomu pravidelná sestavení se nazývají *sestavení implementace*.</span><span class="sxs-lookup"><span data-stu-id="03e03-106">In contrast, regular assemblies are called *implementation assemblies*.</span></span>

<span data-ttu-id="03e03-107">Referenční sestavení nelze načíst pro spuštění, ale mohou být předány jako vstup kompilátoru stejným způsobem jako sestavení implementace.</span><span class="sxs-lookup"><span data-stu-id="03e03-107">Reference assemblies can't be loaded for execution, but they can be passed as compiler input in the same way as implementation assemblies.</span></span> <span data-ttu-id="03e03-108">Referenční sestavení jsou obvykle distribuovány se sadou SDK (Software Development Kit) určité platformy nebo knihovny.</span><span class="sxs-lookup"><span data-stu-id="03e03-108">Reference assemblies are usually distributed with the Software Development Kit (SDK) of a particular platform or library.</span></span>

<span data-ttu-id="03e03-109">Použití referenčního sestavení umožňuje vývojářům vytvářet programy, které cílí na konkrétní verzi knihovny bez nutnosti sestavení úplné implementace pro tuto verzi.</span><span class="sxs-lookup"><span data-stu-id="03e03-109">Using a reference assembly enables developers to build programs that target a specific library version without having the full implementation assembly for that version.</span></span> <span data-ttu-id="03e03-110">Předpokládejme, že máte v počítači pouze nejnovější verzi některé knihovny, ale chcete vytvořit program, který cílí na starší verzi této knihovny.</span><span class="sxs-lookup"><span data-stu-id="03e03-110">Suppose, you have only the latest version of some library on your machine, but you want to build a program that targets an earlier version of that library.</span></span> <span data-ttu-id="03e03-111">Pokud kompilujete přímo proti sestavení implementace, můžete neúmyslně použít členy rozhraní API, které nejsou k dispozici v předchozí verzi.</span><span class="sxs-lookup"><span data-stu-id="03e03-111">If you compile directly against the implementation assembly, you might inadvertently use API members that aren't available in the earlier version.</span></span> <span data-ttu-id="03e03-112">Tuto chybu najdete pouze při testování programu na cílovém počítači.</span><span class="sxs-lookup"><span data-stu-id="03e03-112">You'll only find this mistake when testing the program on the target machine.</span></span> <span data-ttu-id="03e03-113">Pokud zkompilujete proti referenčnísestavení pro starší verzi, budete okamžitě získat chybu kompilace.</span><span class="sxs-lookup"><span data-stu-id="03e03-113">If you compile against the reference assembly for the earlier version, you'll immediately get a compile-time error.</span></span>

<span data-ttu-id="03e03-114">Referenční sestavení může také představovat kontrakt, to znamená sadu api, které neodpovídají sestavení konkrétní implementace.</span><span class="sxs-lookup"><span data-stu-id="03e03-114">A reference assembly can also represent a contract, that is, a set of APIs that don't correspond to the concrete implementation assembly.</span></span> <span data-ttu-id="03e03-115">Tato referenční sestavení, nazývaná *sestavení smlouvy*, lze použít k cílení na více platforem, které podporují stejnou sadu api.</span><span class="sxs-lookup"><span data-stu-id="03e03-115">Such reference assemblies, called the *contract assembly*, can be used to target multiple platforms that support the same set of APIs.</span></span> <span data-ttu-id="03e03-116">Například .NET Standard poskytuje sestavení smlouvy *netstandard.dll*, který představuje sadu společných rozhraní API sdílené mezi různými platformami .NET.</span><span class="sxs-lookup"><span data-stu-id="03e03-116">For example, .NET Standard provides the contract assembly, *netstandard.dll*, that represents the set of common APIs shared between different .NET platforms.</span></span> <span data-ttu-id="03e03-117">Implementace těchto rozhraní API jsou obsaženy v různých sestaveních na různých platformách, jako je například *mscorlib.dll* na rozhraní .NET Framework nebo *System.Private.CoreLib.dll* na .NET Core.</span><span class="sxs-lookup"><span data-stu-id="03e03-117">The implementations of these APIs are contained in different assemblies on different platforms, such as *mscorlib.dll* on .NET Framework or *System.Private.CoreLib.dll* on .NET Core.</span></span> <span data-ttu-id="03e03-118">Knihovna, která cílí na standard .NET, může být spuštěna na všech platformách, které podporují standard .NET.</span><span class="sxs-lookup"><span data-stu-id="03e03-118">A library that targets .NET Standard can run on all platforms that support .NET Standard.</span></span>

## <a name="using-reference-assemblies"></a><span data-ttu-id="03e03-119">Použití referenčních sestav</span><span class="sxs-lookup"><span data-stu-id="03e03-119">Using reference assemblies</span></span>

<span data-ttu-id="03e03-120">Chcete-li použít určitá nastavení API z projektu, musíte přidat odkazy na jejich sestavení.</span><span class="sxs-lookup"><span data-stu-id="03e03-120">To use certain APIs from your project, you must add references to their assemblies.</span></span> <span data-ttu-id="03e03-121">Můžete přidat odkazy na sestavení implementace nebo na referenční sestavení.</span><span class="sxs-lookup"><span data-stu-id="03e03-121">You can add references to either implementation assemblies or to reference assemblies.</span></span> <span data-ttu-id="03e03-122">Doporučujeme používat referenční sestavení, kdykoli jsou k dispozici.</span><span class="sxs-lookup"><span data-stu-id="03e03-122">It's recommended you use reference assemblies whenever they're available.</span></span> <span data-ttu-id="03e03-123">Tím zajistíte, že používáte pouze podporované členy rozhraní API v cílové verzi, které mají používat návrháři rozhraní API.</span><span class="sxs-lookup"><span data-stu-id="03e03-123">Doing so ensures that you're using only the supported API members in the target version, meant to be used by API designers.</span></span> <span data-ttu-id="03e03-124">Použití referenčního sestavení zajišťuje, že nejste s závislostí na podrobnostech implementace.</span><span class="sxs-lookup"><span data-stu-id="03e03-124">Using the reference assembly ensures you're not taking a dependency on implementation details.</span></span>

<span data-ttu-id="03e03-125">Referenční sestavení pro knihovny rozhraní .NET Framework jsou distribuována s balíčky cílení.</span><span class="sxs-lookup"><span data-stu-id="03e03-125">Reference assemblies for the .NET Framework libraries are distributed with targeting packs.</span></span> <span data-ttu-id="03e03-126">Můžete je získat stažením samostatného instalačního programu nebo výběrem součásti v instalačním programu sady Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="03e03-126">You can obtain them by downloading a standalone installer or by selecting a component in Visual Studio installer.</span></span> <span data-ttu-id="03e03-127">Další informace naleznete [v tématu Instalace rozhraní .NET Framework pro vývojáře](../../framework/install/guide-for-developers.md).</span><span class="sxs-lookup"><span data-stu-id="03e03-127">For more information, see [Install the .NET Framework for developers](../../framework/install/guide-for-developers.md).</span></span> <span data-ttu-id="03e03-128">Pro .NET Core a .NET Standard jsou referenční sestavení automaticky stažena podle potřeby (přes NuGet) a odkazována.</span><span class="sxs-lookup"><span data-stu-id="03e03-128">For .NET Core and .NET Standard, reference assemblies are automatically downloaded as necessary (via NuGet) and referenced.</span></span> <span data-ttu-id="03e03-129">Pro .NET Core 3.0 a vyšší referenční sestavení pro základní rozhraní jsou v balíčku [Microsoft.NETCore.App.Ref](https://www.nuget.org/packages/Microsoft.NETCore.App.Ref) (balíček [Microsoft.NETCore.App](https://www.nuget.org/packages/Microsoft.NETCore.App) se používá místo pro verze před 3.0).</span><span class="sxs-lookup"><span data-stu-id="03e03-129">For .NET Core 3.0 and higher, the reference assemblies for the core framework are in the [Microsoft.NETCore.App.Ref](https://www.nuget.org/packages/Microsoft.NETCore.App.Ref) package (the [Microsoft.NETCore.App](https://www.nuget.org/packages/Microsoft.NETCore.App) package is used instead for versions before 3.0).</span></span> <span data-ttu-id="03e03-130">Další informace naleznete [v tématu Balíčky, metabalíčky a architektury](../../core/packages.md) v průvodci jádrem rozhraní .NET.</span><span class="sxs-lookup"><span data-stu-id="03e03-130">For more information, see [Packages, metapackages, and frameworks](../../core/packages.md) in the .NET Core Guide.</span></span>

<span data-ttu-id="03e03-131">Když přidáte odkazy na sestavení rozhraní .NET Framework v sadě Visual Studio pomocí dialogového okna **Přidat odkaz,** vyberete sestavení ze seznamu a Visual Studio automaticky vyhledá referenční sestavení, která odpovídají verzi cílového rozhraní vybrané v projektu.</span><span class="sxs-lookup"><span data-stu-id="03e03-131">When you add references to .NET Framework assemblies in Visual Studio using the **Add reference** dialog, you select an assembly from the list, and Visual Studio automatically finds reference assemblies that correspond to the target framework version selected in your project.</span></span> <span data-ttu-id="03e03-132">Totéž platí pro přidávání odkazů přímo do projektu MSBuild pomocí položky [projektu Reference:](/visualstudio/msbuild/common-msbuild-project-items#reference) stačí zadat název sestavení, nikoli úplnou cestu k souboru.</span><span class="sxs-lookup"><span data-stu-id="03e03-132">The same applies to adding references directly into MSBuild project using the  [Reference](/visualstudio/msbuild/common-msbuild-project-items#reference) project item: you only need to specify the assembly name, not the full file path.</span></span> <span data-ttu-id="03e03-133">`-reference` Přidáte-li odkazy na tato sestavení v příkazovém řádku pomocí možnosti kompilátoru[(v jazyce C#](../../csharp/language-reference/compiler-options/reference-compiler-option.md) a v [jazyce Visual Basic](../../visual-basic/reference/command-line-compiler/reference.md)) nebo pomocí <xref:Microsoft.CodeAnalysis.Compilation.AddReferences%2A?displayProperty=nameWithType> metody v rozhraní API Roslyn, je nutné ručně zadat soubory sestavení odkazu pro správnou verzi cílové platformy.</span><span class="sxs-lookup"><span data-stu-id="03e03-133">When you add references to these assemblies in the command line by using the `-reference` compiler option ([in C#](../../csharp/language-reference/compiler-options/reference-compiler-option.md) and in [Visual Basic](../../visual-basic/reference/command-line-compiler/reference.md)) or by using the <xref:Microsoft.CodeAnalysis.Compilation.AddReferences%2A?displayProperty=nameWithType> method in the Roslyn API, you must manually specify reference assembly files for the correct target platform version.</span></span> <span data-ttu-id="03e03-134">Soubory referenčních sestavení rozhraní .NET Framework jsou *umístěny\\v %ProgramFiles(x86)% Reference Assemblies\\Microsoft\\Framework\\. NETFramework.*</span><span class="sxs-lookup"><span data-stu-id="03e03-134">.NET Framework reference assembly files are located in the *%ProgramFiles(x86)%\\Reference Assemblies\\Microsoft\\Framework\\.NETFramework* directory.</span></span> <span data-ttu-id="03e03-135">Pro .NET Core můžete vynutit operaci publikování ke kopírování referenčních sestavení pro cílovou platformu `PreserveCompilationContext` do podadresáře *publikování/refs* výstupního adresáře nastavením vlastnosti projektu na `true`.</span><span class="sxs-lookup"><span data-stu-id="03e03-135">For .NET Core, you can force publish operation to copy reference assemblies for your target platform into the *publish/refs* subdirectory of your output directory by setting the `PreserveCompilationContext` project property to `true`.</span></span> <span data-ttu-id="03e03-136">Potom můžete předat tyto soubory referenčního sestavení kompilátoru.</span><span class="sxs-lookup"><span data-stu-id="03e03-136">Then you can pass these reference assembly files to the compiler.</span></span> <span data-ttu-id="03e03-137">Pomocí `DependencyContext` z [Microsoft.Extensions.DependencyModel](https://www.nuget.org/packages/Microsoft.Extensions.DependencyModel/) balíček může pomoci najít jejich cesty.</span><span class="sxs-lookup"><span data-stu-id="03e03-137">Using `DependencyContext` from [Microsoft.Extensions.DependencyModel](https://www.nuget.org/packages/Microsoft.Extensions.DependencyModel/) package can help locate their paths.</span></span>

<span data-ttu-id="03e03-138">Vzhledem k tomu, že neobsahují žádnou implementaci, referenční sestavení nelze načíst pro spuštění.</span><span class="sxs-lookup"><span data-stu-id="03e03-138">Because they contain no implementation, reference assemblies can't be loaded for execution.</span></span> <span data-ttu-id="03e03-139">Při pokusu o <xref:System.BadImageFormatException?displayProperty=nameWithType>to má za následek .</span><span class="sxs-lookup"><span data-stu-id="03e03-139">Trying to do so results in a <xref:System.BadImageFormatException?displayProperty=nameWithType>.</span></span> <span data-ttu-id="03e03-140">Pokud chcete prozkoumat obsah referenčního sestavení, můžete jej načíst do kontextu pouze reflexe v rozhraní .NET Framework (pomocí <xref:System.Reflection.Assembly.ReflectionOnlyLoad%2A?displayProperty=nameWithType> metody) nebo do jádra <xref:System.Reflection.MetadataLoadContext> in .NET Core.</span><span class="sxs-lookup"><span data-stu-id="03e03-140">If you want to examine the contents of a reference assembly, you can load it into the reflection-only context in .NET Framework (using the <xref:System.Reflection.Assembly.ReflectionOnlyLoad%2A?displayProperty=nameWithType> method) or into the <xref:System.Reflection.MetadataLoadContext> in .NET Core.</span></span>

## <a name="generating-reference-assemblies"></a><span data-ttu-id="03e03-141">Generování referenčních sestavení</span><span class="sxs-lookup"><span data-stu-id="03e03-141">Generating reference assemblies</span></span>

<span data-ttu-id="03e03-142">Generování referenčních sestavení pro knihovny může být užitečné, když spotřebitelé knihovny potřebují vytvářet své programy podle mnoha různých verzí knihovny.</span><span class="sxs-lookup"><span data-stu-id="03e03-142">Generating reference assemblies for your libraries can be useful when your library consumers need to build their programs against many different versions of the library.</span></span> <span data-ttu-id="03e03-143">Distribuce sestavení implementace pro všechny tyto verze může být nepraktické z důvodu jejich velké velikosti.</span><span class="sxs-lookup"><span data-stu-id="03e03-143">Distributing implementation assemblies for all these versions might be impractical because of their large size.</span></span> <span data-ttu-id="03e03-144">Referenční sestavení mají menší velikost a jejich distribuce jako součást sady SDK knihovny zmenšuje velikost stahování a šetří místo na disku.</span><span class="sxs-lookup"><span data-stu-id="03e03-144">Reference assemblies are smaller in size, and distributing them as a part of your library's SDK reduces download size and saves disk space.</span></span>

<span data-ttu-id="03e03-145">IDE a nástroje sestavení také můžete využít referenční sestavení ke zkrácení doby sestavení v případě velkých řešení skládající se z více knihoven tříd.</span><span class="sxs-lookup"><span data-stu-id="03e03-145">IDEs and build tools also can take advantage of reference assemblies to reduce build times in case of large solutions consisting of multiple class libraries.</span></span> <span data-ttu-id="03e03-146">Obvykle ve scénářích přírůstkového sestavení je projekt znovu sestaven při změně některého z jeho vstupních souborů, včetně sestavení, na kterých závisí.</span><span class="sxs-lookup"><span data-stu-id="03e03-146">Usually, in incremental build scenarios a project is rebuilt when any of its input files are changed, including the assemblies it depends on.</span></span> <span data-ttu-id="03e03-147">Sestavení implementace se změní vždy, když programátor změní implementaci libovolného člena.</span><span class="sxs-lookup"><span data-stu-id="03e03-147">The implementation assembly changes whenever the programmer changes the implementation of any member.</span></span> <span data-ttu-id="03e03-148">Referenční sestavení se změní pouze v případě, že je ovlivněno jeho veřejné rozhraní API.</span><span class="sxs-lookup"><span data-stu-id="03e03-148">The reference assembly only changes when its public API is affected.</span></span> <span data-ttu-id="03e03-149">Takže pomocí referenčního sestavení jako vstupního souboru namísto sestavení implementace umožňuje v některých případech přeskočení sestavení závislého projektu.</span><span class="sxs-lookup"><span data-stu-id="03e03-149">So, using the reference assembly as an input file instead of the implementation assembly allows skipping the build of the dependent project in some cases.</span></span>

<span data-ttu-id="03e03-150">Můžete generovat referenční sestavení:</span><span class="sxs-lookup"><span data-stu-id="03e03-150">You can generate reference assemblies:</span></span>

- <span data-ttu-id="03e03-151">V projektu MSBuild pomocí [ `ProduceReferenceAssembly` vlastnosti projektu](/visualstudio/msbuild/common-msbuild-project-properties).</span><span class="sxs-lookup"><span data-stu-id="03e03-151">In an MSBuild project, by using the [`ProduceReferenceAssembly` project property](/visualstudio/msbuild/common-msbuild-project-properties).</span></span>
- <span data-ttu-id="03e03-152">Při kompilaci programu z příkazového řádku, `-refonly` podle specifiying `-refout` ([C#](../../csharp/language-reference/compiler-options/refonly-compiler-option.md) / Visual[Basic](../../visual-basic/reference/command-line-compiler/refonly-compiler-option.md) ) nebo ([C#](../../csharp/language-reference/compiler-options/refout-compiler-option.md) / [Visual Basic](../../visual-basic/reference/command-line-compiler/refout-compiler-option.md)) možnosti kompilátoru.</span><span class="sxs-lookup"><span data-stu-id="03e03-152">When compiling program from command line, by specifiying `-refonly` ([C#](../../csharp/language-reference/compiler-options/refonly-compiler-option.md) / [Visual Basic](../../visual-basic/reference/command-line-compiler/refonly-compiler-option.md) ) or `-refout` ([C#](../../csharp/language-reference/compiler-options/refout-compiler-option.md) / [Visual Basic](../../visual-basic/reference/command-line-compiler/refout-compiler-option.md)) compiler options.</span></span>
- <span data-ttu-id="03e03-153">Při použití rozhraní API Roslyn, <xref:Microsoft.CodeAnalysis.Emit.EmitOptions.IncludePrivateMembers?displayProperty=nameWithType> `false` nastavením <xref:Microsoft.CodeAnalysis.Emit.EmitOptions.EmitMetadataOnly?displayProperty=nameWithType> `true` a v <xref:Microsoft.CodeAnalysis.Compilation.Emit%2A?displayProperty=nameWithType> objektu předaným metodě.</span><span class="sxs-lookup"><span data-stu-id="03e03-153">When using the Roslyn API, by setting <xref:Microsoft.CodeAnalysis.Emit.EmitOptions.EmitMetadataOnly?displayProperty=nameWithType> to `true` and <xref:Microsoft.CodeAnalysis.Emit.EmitOptions.IncludePrivateMembers?displayProperty=nameWithType> to `false` in an object passed to the <xref:Microsoft.CodeAnalysis.Compilation.Emit%2A?displayProperty=nameWithType> method.</span></span>

<span data-ttu-id="03e03-154">Pokud chcete distribuovat referenční sestavení s balíčky NuGet, musíte je zahrnout do podadresáře \*ref\\ \* v adresáři balíčků namísto v podadresáři \*lib\\ \* používaném pro sestavení implementace.</span><span class="sxs-lookup"><span data-stu-id="03e03-154">If you want to distribute reference assemblies with NuGet packages, you must include them in the *ref\\* subdirectory under the package directory instead of in the *lib\\* subdirectory used for implementation assemblies.</span></span>

## <a name="reference-assemblies-structure"></a><span data-ttu-id="03e03-155">Struktura referenčních sestav</span><span class="sxs-lookup"><span data-stu-id="03e03-155">Reference assemblies structure</span></span>

<span data-ttu-id="03e03-156">Referenční sestavení jsou rozšíření související koncepce, *pouze metadata sestavení*.</span><span class="sxs-lookup"><span data-stu-id="03e03-156">Reference assemblies are an expansion of the related concept, *metadata-only assemblies*.</span></span> <span data-ttu-id="03e03-157">Sestavení pouze metadata mají jejich těla metod `throw null` nahrazena jedním tělem, ale zahrnují všechny členy kromě anonymních typů.</span><span class="sxs-lookup"><span data-stu-id="03e03-157">Metadata-only assemblies have their method bodies replaced with a single `throw null` body, but include all members except anonymous types.</span></span> <span data-ttu-id="03e03-158">Důvodem pro `throw null` použití těla (na rozdíl od žádná těla) je tak, aby **PEVerify** můžete spustit a předat (tedy ověření úplnosti metadat).</span><span class="sxs-lookup"><span data-stu-id="03e03-158">The reason for using `throw null` bodies (as opposed to no bodies) is so that **PEVerify** can run and pass (thus validating the completeness of the metadata).</span></span>

<span data-ttu-id="03e03-159">Referenční sestavení dále odeberou metadata (soukromé členy) ze sestavení pouze metadat:</span><span class="sxs-lookup"><span data-stu-id="03e03-159">Reference assemblies further remove metadata (private members) from metadata-only assemblies:</span></span>

- <span data-ttu-id="03e03-160">Referenční sestavení obsahuje pouze odkazy na to, co potřebuje v povrchu rozhraní API.</span><span class="sxs-lookup"><span data-stu-id="03e03-160">A reference assembly only has references for what it needs in the API surface.</span></span> <span data-ttu-id="03e03-161">Skutečné sestavení může mít další odkazy týkající se konkrétní implementace.</span><span class="sxs-lookup"><span data-stu-id="03e03-161">The real assembly may have additional references related to specific implementations.</span></span> <span data-ttu-id="03e03-162">Například referenční sestavení `class C { private void M() { dynamic d = 1; ... } }` pro neodkazuje na žádné `dynamic`typy požadované pro .</span><span class="sxs-lookup"><span data-stu-id="03e03-162">For instance, the reference assembly for `class C { private void M() { dynamic d = 1; ... } }` doesn't reference any types required for `dynamic`.</span></span>
- <span data-ttu-id="03e03-163">Soukromé členy funkce (metody, vlastnosti a události) jsou odebrány v případech, kdy jejich odebrání nemá pozorovatelný vliv na kompilaci.</span><span class="sxs-lookup"><span data-stu-id="03e03-163">Private function-members (methods, properties, and events) are removed in cases where their removal doesn't observably impact compilation.</span></span> <span data-ttu-id="03e03-164">Pokud neexistují žádné [InternalsVisibleTo](xref:System.Runtime.CompilerServices.InternalsVisibleToAttribute) atributy, vnitřní členy funkce jsou také odebrány.</span><span class="sxs-lookup"><span data-stu-id="03e03-164">If there are no [InternalsVisibleTo](xref:System.Runtime.CompilerServices.InternalsVisibleToAttribute) attributes, internal function members are also removed.</span></span>

<span data-ttu-id="03e03-165">Metadata v referenčních sestaveních nadále uchovává následující informace:</span><span class="sxs-lookup"><span data-stu-id="03e03-165">The metadata in reference assemblies continues to keep the following information:</span></span>

- <span data-ttu-id="03e03-166">Všechny typy, včetně soukromých a vnořených typů.</span><span class="sxs-lookup"><span data-stu-id="03e03-166">All types, including private and nested types.</span></span>
- <span data-ttu-id="03e03-167">Všechny atributy, dokonce i vnitřní.</span><span class="sxs-lookup"><span data-stu-id="03e03-167">All attributes, even internal ones.</span></span>
- <span data-ttu-id="03e03-168">Všechny virtuální metody.</span><span class="sxs-lookup"><span data-stu-id="03e03-168">All virtual methods.</span></span>
- <span data-ttu-id="03e03-169">Explicitní implementace rozhraní.</span><span class="sxs-lookup"><span data-stu-id="03e03-169">Explicit interface implementations.</span></span>
- <span data-ttu-id="03e03-170">Explicitně implementované vlastnosti a události, protože jejich přístupové objekty jsou virtuální.</span><span class="sxs-lookup"><span data-stu-id="03e03-170">Explicitly implemented properties and events, because their accessors are virtual.</span></span>
- <span data-ttu-id="03e03-171">Všechna pole staveb.</span><span class="sxs-lookup"><span data-stu-id="03e03-171">All fields of structures.</span></span>

<span data-ttu-id="03e03-172">Referenční sestavení obsahují atribut [ReferenceAssembly](xref:System.Runtime.CompilerServices.ReferenceAssemblyAttribute) na úrovni sestavení.</span><span class="sxs-lookup"><span data-stu-id="03e03-172">Reference assemblies include an assembly-level [ReferenceAssembly](xref:System.Runtime.CompilerServices.ReferenceAssemblyAttribute) attribute.</span></span> <span data-ttu-id="03e03-173">Tento atribut může být zadán ve zdroji; pak kompilátor nebude muset syntetizovat.</span><span class="sxs-lookup"><span data-stu-id="03e03-173">This attribute may be specified in source; then the compiler won't need to synthesize it.</span></span> <span data-ttu-id="03e03-174">Z důvodu tohoto atributu budou runtimes odmítnout načíst referenční sestavení pro spuštění (ale mohou být načteny v režimu pouze reflexe).</span><span class="sxs-lookup"><span data-stu-id="03e03-174">Because of this attribute, runtimes will refuse to load reference assemblies for execution (but they can be loaded in reflection-only mode).</span></span>

<span data-ttu-id="03e03-175">Přesné podrobnosti struktury sestavení odkazu závisí na verzi kompilátoru.</span><span class="sxs-lookup"><span data-stu-id="03e03-175">Exact reference assembly structure details depend on the compiler version.</span></span> <span data-ttu-id="03e03-176">Novější verze se mohou rozhodnout vyloučit další metadata, pokud je zjištěno, že nemá vliv na veřejné rozhraní API.</span><span class="sxs-lookup"><span data-stu-id="03e03-176">Newer versions may choose to exclude more metadata if it's determined as not affecting the public API surface.</span></span>

> [!NOTE]
> <span data-ttu-id="03e03-177">Informace v této části je použitelná pouze pro referenční sestavení generovaná kompilátory Roslyn od c# verze 7.1 nebo Visual Basic verze 15.3.</span><span class="sxs-lookup"><span data-stu-id="03e03-177">Information in this section is applicable only to reference assemblies generated by Roslyn compilers starting from C# version 7.1 or Visual Basic version 15.3.</span></span> <span data-ttu-id="03e03-178">Struktura referenčních sestavení pro rozhraní .NET Framework a knihovny .NET Core se může v některých podrobnostech lišit, protože používají vlastní mechanismus generování referenčních sestavení.</span><span class="sxs-lookup"><span data-stu-id="03e03-178">The structure of reference assemblies for .NET Framework and .NET Core libraries can differ in some details, because they use their own mechanism of generating reference assemblies.</span></span> <span data-ttu-id="03e03-179">Například mohou mít zcela prázdná těla metod namísto těla. `throw null`</span><span class="sxs-lookup"><span data-stu-id="03e03-179">For example, they might have totally empty method bodies instead of the `throw null` body.</span></span> <span data-ttu-id="03e03-180">Ale obecný princip stále platí: nemají použitelné implementace metod a obsahují metadata pouze pro členy, které mají pozorovatelný dopad z hlediska veřejného rozhraní API.</span><span class="sxs-lookup"><span data-stu-id="03e03-180">But the general principle still applies: they don't have usable method implementations and contain metadata only for members that have an observable impact from a public API perspective.</span></span>

## <a name="see-also"></a><span data-ttu-id="03e03-181">Viz také</span><span class="sxs-lookup"><span data-stu-id="03e03-181">See also</span></span>

- [<span data-ttu-id="03e03-182">Sestavení v .NET</span><span class="sxs-lookup"><span data-stu-id="03e03-182">Assemblies in .NET</span></span>](index.md)
- [<span data-ttu-id="03e03-183">Přehled cílení na rozhraní</span><span class="sxs-lookup"><span data-stu-id="03e03-183">Framework targeting overview</span></span>](/visualstudio/ide/visual-studio-multi-targeting-overview)
- [<span data-ttu-id="03e03-184">Postup: Přidání nebo odebrání odkazů pomocí Správce odkazů</span><span class="sxs-lookup"><span data-stu-id="03e03-184">How to: Add or remove references by using the Reference Manager</span></span>](/visualstudio/ide/how-to-add-or-remove-references-by-using-the-reference-manager)
