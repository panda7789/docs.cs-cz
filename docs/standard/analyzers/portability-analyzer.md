---
title: Analyzátor přenosové možnosti rozhraní .NET - .NET
description: Naučte se používat nástroj .NET Portability Analyzer k vyhodnocení, jak přenosný je váš kód mezi různými implementacemi rozhraní .NET, včetně .NET Core, .NET Standard, UPW a Xamarin.
ms.date: 09/13/2019
ms.technology: dotnet-standard
ms.assetid: 0375250f-5704-4993-a6d5-e21c499cea1e
ms.openlocfilehash: e0a5c791926b36fe5a35c5446471c3dcdb75cd7b
ms.sourcegitcommit: 7588136e355e10cbc2582f389c90c127363c02a5
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 03/15/2020
ms.locfileid: "72774381"
---
# <a name="the-net-portability-analyzer"></a><span data-ttu-id="bbb67-103">Analyzátor přenosové možnosti rozhraní .NET</span><span class="sxs-lookup"><span data-stu-id="bbb67-103">The .NET Portability Analyzer</span></span>

<span data-ttu-id="bbb67-104">Chcete, aby vaše knihovny podporovaly více platforem?</span><span class="sxs-lookup"><span data-stu-id="bbb67-104">Want to make your libraries support multi-platform?</span></span> <span data-ttu-id="bbb67-105">Chcete zjistit, kolik práce je potřeba k tomu, aby byla aplikace rozhraní .NET Framework spuštěna na jádru .NET?</span><span class="sxs-lookup"><span data-stu-id="bbb67-105">Want to see how much work is required to make your .NET Framework application run on .NET Core?</span></span> <span data-ttu-id="bbb67-106">[Nástroj .NET Portability Analyzer](https://github.com/microsoft/dotnet-apiport) je nástroj, který analyzuje sestavení a poskytuje podrobnou zprávu o rozhraníCH API rozhraní .NET, která chybí pro aplikace nebo knihovny, které mají být přenosné na určených cílených platformách .NET.</span><span class="sxs-lookup"><span data-stu-id="bbb67-106">The [.NET Portability Analyzer](https://github.com/microsoft/dotnet-apiport) is a tool that analyzes assemblies and provides a detailed report on .NET APIs that are missing for the applications or libraries to be portable on your specified targeted .NET platforms.</span></span> <span data-ttu-id="bbb67-107">Analyzátor přenositelnosti je nabízen jako [rozšíření sady Visual Studio](https://marketplace.visualstudio.com/items?itemName=ConnieYau.NETPortabilityAnalyzer), které analyzuje jedno sestavení na projekt, a jako [konzolová aplikace ApiPort](https://aka.ms/apiportdownload), která analyzuje sestavení podle zadaných souborů nebo adresářů.</span><span class="sxs-lookup"><span data-stu-id="bbb67-107">The Portability Analyzer is offered as a [Visual Studio Extension](https://marketplace.visualstudio.com/items?itemName=ConnieYau.NETPortabilityAnalyzer), which analyzes one assembly per project, and as a [ApiPort console app](https://aka.ms/apiportdownload), which analyzes assemblies by specified files or directory.</span></span>

<span data-ttu-id="bbb67-108">Po převodu projektu na cílnovou platformu, jako je .NET Core, můžete použít [nástroj Analyzátor rozhraní](api-analyzer.md) API <xref:System.PlatformNotSupportedException> založený na Roslynu k identifikaci rozhraní API, která vyvolání výjimek a dalších problémů s kompatibilitou.</span><span class="sxs-lookup"><span data-stu-id="bbb67-108">Once you've converted your project to target the new platform, like .NET Core, you can use the Roslyn-based [API Analyzer tool](api-analyzer.md) to identify APIs throwing <xref:System.PlatformNotSupportedException> exceptions and other compatibility issues.</span></span>

## <a name="common-targets"></a><span data-ttu-id="bbb67-109">Společné cíle</span><span class="sxs-lookup"><span data-stu-id="bbb67-109">Common targets</span></span>

- <span data-ttu-id="bbb67-110">[.NET Core](../../core/index.md): Má modulární návrh, zaměstnává vedle sebe a zaměřuje se na scénáře napříč platformami.</span><span class="sxs-lookup"><span data-stu-id="bbb67-110">[.NET Core](../../core/index.md): Has a modular design, employs side-by-side, and targets cross-platform scenarios.</span></span> <span data-ttu-id="bbb67-111">Vedle sebe umožňuje přijmout nové verze .NET Core bez přerušení jiných aplikací.</span><span class="sxs-lookup"><span data-stu-id="bbb67-111">Side-by-side allows you to adopt new .NET Core versions without breaking other apps.</span></span> <span data-ttu-id="bbb67-112">Pokud je vaším cílem přenést aplikaci na rozhraní .NET Core podporující různé platformy, je to doporučený cíl.</span><span class="sxs-lookup"><span data-stu-id="bbb67-112">If your goal is to port your app to .NET Core supporting cross-platforms, this is the recommended target.</span></span>
- <span data-ttu-id="bbb67-113">. [NET Standard](../../standard/net-standard.md): Zahrnuje rozhraní API standardu .NET, která jsou k dispozici ve všech implementacích rozhraní .NET.</span><span class="sxs-lookup"><span data-stu-id="bbb67-113">.[NET Standard](../../standard/net-standard.md): Includes the .NET Standard APIs available on all .NET implementations.</span></span> <span data-ttu-id="bbb67-114">Pokud je vaším cílem, aby vaše knihovna běžet na všech platformách podporovaných rozhraním .NET, je to doporučeno cíl.</span><span class="sxs-lookup"><span data-stu-id="bbb67-114">If your goal is to make your library to run on all .NET supported platforms, this is recommended target.</span></span>
- <span data-ttu-id="bbb67-115">[ASP.NET Core](/aspnet/core): Moderní webový rámec postavený na .NET Core.</span><span class="sxs-lookup"><span data-stu-id="bbb67-115">[ASP.NET Core](/aspnet/core): A modern web-framework built on .NET Core.</span></span> <span data-ttu-id="bbb67-116">Pokud je vaším cílem přenést webovou aplikaci do služby .NET Core pro podporu více platforem, je to doporučený cíl.</span><span class="sxs-lookup"><span data-stu-id="bbb67-116">If your goal is to port your web app to .NET Core to support multiple platforms, this is the recommended target.</span></span>
- <span data-ttu-id="bbb67-117">Rozšíření .NET Core + [Platform Extensions](../../core/porting/windows-compat-pack.md): Kromě sady Windows Compatibility Pack obsahuje rozhraní .NET Core API, která poskytuje mnoho dostupných technologií rozhraní .NET Framework.</span><span class="sxs-lookup"><span data-stu-id="bbb67-117">.NET Core + [Platform Extensions](../../core/porting/windows-compat-pack.md): Includes the .NET Core APIs in addition to the Windows Compatibility Pack, which provides many of the .NET Framework available technologies.</span></span> <span data-ttu-id="bbb67-118">Toto je doporučený cíl pro přenesení aplikace z rozhraní .NET Framework do .NET Core ve Windows.</span><span class="sxs-lookup"><span data-stu-id="bbb67-118">This is a recommended target for porting your app from .NET Framework to .NET Core on Windows.</span></span>
- <span data-ttu-id="bbb67-119">.NET Standard + [Rozšíření platformy](../../core/porting/windows-compat-pack.md): Zahrnuje rozhraní .NET Standard API kromě sady Windows Compatibility Pack, která poskytuje mnoho dostupných technologií rozhraní .NET Framework.</span><span class="sxs-lookup"><span data-stu-id="bbb67-119">.NET Standard + [Platform Extensions](../../core/porting/windows-compat-pack.md): Includes the .NET Standard APIs in addition to the Windows Compatibility Pack, which provides many of the .NET Framework available technologies.</span></span> <span data-ttu-id="bbb67-120">Toto je doporučený cíl pro přenesení knihovny z rozhraní .NET Framework do rozhraní .NET Core v systému Windows.</span><span class="sxs-lookup"><span data-stu-id="bbb67-120">This is a recommended target for porting your library from .NET Framework to .NET Core on Windows.</span></span>

## <a name="how-to-use-the-net-portability-analyzer"></a><span data-ttu-id="bbb67-121">Použití analyzátoru přenosové schopnosti rozhraní .NET</span><span class="sxs-lookup"><span data-stu-id="bbb67-121">How to use the .NET Portability Analyzer</span></span>

<span data-ttu-id="bbb67-122">Chcete-li začít používat nástroj .NET Portability Analyzer v sadě Visual Studio, musíte nejprve stáhnout a nainstalovat rozšíření z [webu Visual Studio Marketplace](https://marketplace.visualstudio.com/items?itemName=ConnieYau.NETPortabilityAnalyzer).</span><span class="sxs-lookup"><span data-stu-id="bbb67-122">To begin using the .NET Portability Analyzer in Visual Studio, you first need to download and install the extension from the [Visual Studio Marketplace](https://marketplace.visualstudio.com/items?itemName=ConnieYau.NETPortabilityAnalyzer).</span></span> <span data-ttu-id="bbb67-123">Funguje v visual studiu 2017 a novějších verzích.</span><span class="sxs-lookup"><span data-stu-id="bbb67-123">It works on Visual Studio 2017 and later versions.</span></span> <span data-ttu-id="bbb67-124">Můžete ji nakonfigurovat v sadě Visual Studio pomocí **nástroje Analyzovat** > **nastavení analyzátoru přenositelnosti** a vybrat cílové platformy, což jsou platformy/verze rozhraní .NET, které chcete vyhodnotit mezery přenositelnosti ve srovnání s platformou nebo verzí, se kterou je vytvořeno aktuální sestavení.</span><span class="sxs-lookup"><span data-stu-id="bbb67-124">You can configure it in Visual Studio via **Analyze** > **Portability Analyzer Settings** and select your Target Platforms, which is the .NET platforms/versions that you want to evaluate the portability gaps comparing with the platform/version that your current assembly is built with.</span></span>

![Snímek obrazovky analyzátoru přenositelnosti](./media/portability-analyzer/portability-screenshot.png)

<span data-ttu-id="bbb67-126">Můžete také použít aplikaci konzoly ApiPort, stáhnout ji z [úložiště ApiPort](https://aka.ms/apiportdownload).</span><span class="sxs-lookup"><span data-stu-id="bbb67-126">You can also use the ApiPort console application, download it from [ApiPort repository](https://aka.ms/apiportdownload).</span></span> <span data-ttu-id="bbb67-127">Můžete použít `listTargets` možnost příkazu k zobrazení dostupného cílového `-t` seznamu `--target` a pak vybrat cílové platformy zadáním nebo možností příkazu.</span><span class="sxs-lookup"><span data-stu-id="bbb67-127">You can use `listTargets` command option to display the available target list, then pick target platforms by specifying `-t` or `--target` command option.</span></span>

### <a name="analyze-portability"></a><span data-ttu-id="bbb67-128">Analyzovat přenositelnost</span><span class="sxs-lookup"><span data-stu-id="bbb67-128">Analyze portability</span></span>
<span data-ttu-id="bbb67-129">Chcete-li analyzovat celý projekt v sadě Visual Studio, klikněte pravým tlačítkem myši na projekt v **Průzkumníkovi řešení** a vyberte **analyzovat přenositelnost sestavení**.</span><span class="sxs-lookup"><span data-stu-id="bbb67-129">To analyze your entire project in Visual Studio, right-click on your project in **Solution Explorer** and select **Analyze Assembly Portability**.</span></span> <span data-ttu-id="bbb67-130">V opačném případě přejděte do nabídky **Analyzovat** a vyberte **analyzovat přenositelnost sestavení**.</span><span class="sxs-lookup"><span data-stu-id="bbb67-130">Otherwise, go to the **Analyze** menu and select **Analyze Assembly Portability**.</span></span> <span data-ttu-id="bbb67-131">Odtud vyberte spustitelný soubor projektu nebo dll.</span><span class="sxs-lookup"><span data-stu-id="bbb67-131">From there, select your project’s executable or DLL.</span></span>

![Snímek obrazovky s analyzátorem přenositelnosti z Průzkumníka řešení](./media/portability-analyzer/portability-solution-explorer.png)

<span data-ttu-id="bbb67-133">Můžete také použít [konzolovou aplikaci ApiPort](https://aka.ms/apiportdownload).</span><span class="sxs-lookup"><span data-stu-id="bbb67-133">You can also use the [ApiPort console app](https://aka.ms/apiportdownload).</span></span>

- <span data-ttu-id="bbb67-134">Zadejte následující příkaz pro analýzu aktuálního adresáře:`ApiPort.exe analyze -f .`</span><span class="sxs-lookup"><span data-stu-id="bbb67-134">Type the following command to analyze the current directory: `ApiPort.exe analyze -f .`</span></span>
- <span data-ttu-id="bbb67-135">Chcete-li analyzovat konkrétní seznam souborů DLL, zadejte následující příkaz:`ApiPort.exe analyze -f first.dll -f second.dll -f third.dll`</span><span class="sxs-lookup"><span data-stu-id="bbb67-135">To analyze a specific list of .dll files, type the following command: `ApiPort.exe analyze -f first.dll -f second.dll -f third.dll`</span></span>
- <span data-ttu-id="bbb67-136">Spusťte `ApiPort.exe -?` další pomoc</span><span class="sxs-lookup"><span data-stu-id="bbb67-136">Run `ApiPort.exe -?` to get more help</span></span>

<span data-ttu-id="bbb67-137">Doporučujeme zahrnout všechny související soubory exe a dll, které vlastníte a chcete je portovat, a vyloučit soubory, na kterých vaše aplikace závisí, ale nevlastníte a nemůžete je přenést.</span><span class="sxs-lookup"><span data-stu-id="bbb67-137">It is recommended that you include all the related exe and dll files that you own and want to port, and exclude the files that your app depends on, but you don't own and can't port.</span></span> <span data-ttu-id="bbb67-138">To vám poskytne nejrelevantnější zprávu o přenositelnosti.</span><span class="sxs-lookup"><span data-stu-id="bbb67-138">This will give you most relevant portability report.</span></span>

### <a name="view-and-interpret-portability-result"></a><span data-ttu-id="bbb67-139">Zobrazit a interpretovat výsledek přenositelnosti</span><span class="sxs-lookup"><span data-stu-id="bbb67-139">View and interpret portability result</span></span>

<span data-ttu-id="bbb67-140">V sestavě se zobrazí pouze řešení API, která nejsou podporována cílovou platformou.</span><span class="sxs-lookup"><span data-stu-id="bbb67-140">Only APIs that are unsupported by a Target Platform appear in the report.</span></span>
<span data-ttu-id="bbb67-141">Po spuštění analýzy v sadě Visual Studio se zobrazí odkaz na soubor sestavy přenositelnost rozhraní .NET.</span><span class="sxs-lookup"><span data-stu-id="bbb67-141">After running the analysis in Visual Studio, you'll see your .NET Portability report file link pops up.</span></span> <span data-ttu-id="bbb67-142">Pokud jste [použili konzolovou aplikaci ApiPort](https://aka.ms/apiportdownload), bude sestava přenositelnost rozhraní .NET uložena jako soubor v určeném formátu.</span><span class="sxs-lookup"><span data-stu-id="bbb67-142">If you used the [ApiPort console app](https://aka.ms/apiportdownload), your .NET Portability report is saved as a file in the format you specified.</span></span> <span data-ttu-id="bbb67-143">Výchozí hodnota je v souboru aplikace Excel (*xlsx*) v aktuálním adresáři.</span><span class="sxs-lookup"><span data-stu-id="bbb67-143">The default is in an Excel file (*.xlsx*) in your current directory.</span></span>

#### <a name="portability-summary"></a><span data-ttu-id="bbb67-144">Souhrn přenositelnosti</span><span class="sxs-lookup"><span data-stu-id="bbb67-144">Portability Summary</span></span>

![Snímek obrazovky se souhrnem přenositelnosti](./media/portability-analyzer/api-catalog-portablility-summary.png)

<span data-ttu-id="bbb67-146">Část Souhrn přenositelnosti v sestavě zobrazuje procento přenositelnosti pro každé sestavení zahrnuté do běhu.</span><span class="sxs-lookup"><span data-stu-id="bbb67-146">The Portability Summary section of the report shows the portability percentage for each assembly included in the run.</span></span> <span data-ttu-id="bbb67-147">V předchozím příkladu 71.24 % rozhraní API rozhraní `svcutil` .NET Framework používaných v aplikaci je k dispozici v rozšířeních .NET Core + Platform Extensions.</span><span class="sxs-lookup"><span data-stu-id="bbb67-147">In the previous example, 71.24% of the .NET Framework APIs used in the `svcutil` app are available in .NET Core + Platform Extensions.</span></span> <span data-ttu-id="bbb67-148">Pokud spustíte nástroj .NET Přenositelnost Analyzer proti více sestavení, každé sestavení by měl mít řádek v sestavě přenositelnost souhrnu.</span><span class="sxs-lookup"><span data-stu-id="bbb67-148">If you run the .NET Portability Analyzer tool against multiple assemblies, each assembly should have a row in the Portability Summary report.</span></span>

#### <a name="details"></a><span data-ttu-id="bbb67-149">Podrobnosti</span><span class="sxs-lookup"><span data-stu-id="bbb67-149">Details</span></span>

![Snímek obrazovky s podrobnostmi o přenositelnosti](./media/portability-analyzer/api-catalog-portablility-details.png)

<span data-ttu-id="bbb67-151">V části **Podrobnosti** v sestavě jsou uvedena chybějící api na některé z vybraných **cílových platforem**.</span><span class="sxs-lookup"><span data-stu-id="bbb67-151">The **Details** section of the report lists the APIs missing from any of the selected **Targeted Platforms**.</span></span>

- <span data-ttu-id="bbb67-152">Typ cíle: v typu chybí rozhraní API z cílové platformy.</span><span class="sxs-lookup"><span data-stu-id="bbb67-152">Target type: the type has missing API from a Target Platform</span></span>
- <span data-ttu-id="bbb67-153">Cílový člen: metoda chybí v cílové platformě</span><span class="sxs-lookup"><span data-stu-id="bbb67-153">Target member: the method is missing from a Target Platform</span></span>
- <span data-ttu-id="bbb67-154">Název sestavení: sestavení rozhraní .NET Framework, ve které se v rozhraní API nese.</span><span class="sxs-lookup"><span data-stu-id="bbb67-154">Assembly name: the .NET Framework assembly that the missing API lives in.</span></span>
- <span data-ttu-id="bbb67-155">Každá z vybraných cílových platforem je jeden sloupec, například ".NET Core": "Není podporováno" hodnota znamená, že rozhraní API není podporováno na této cílové platformě.</span><span class="sxs-lookup"><span data-stu-id="bbb67-155">Each of the selected Target Platforms is one column, such as ".NET Core": "Not supported" value means the API is not supported on this Target Platform.</span></span>
- <span data-ttu-id="bbb67-156">Doporučené změny: doporučené rozhraní API nebo technologie, na které se má změnit.</span><span class="sxs-lookup"><span data-stu-id="bbb67-156">Recommended Changes: recommended API or technology to change to.</span></span> <span data-ttu-id="bbb67-157">V současné době je toto pole prázdné nebo zastaralé pro velké množství řešení API.</span><span class="sxs-lookup"><span data-stu-id="bbb67-157">Currently, this field is empty or out of date for a lot of APIs.</span></span> <span data-ttu-id="bbb67-158">Vzhledem k velkému počtu api, máme velkou výzvu, aby to.</span><span class="sxs-lookup"><span data-stu-id="bbb67-158">Due to the large number of APIs, we have big challenge to keep it up.</span></span> <span data-ttu-id="bbb67-159">Hledáme alternativní řešení, která zákazníkům poskytnou užitečné informace.</span><span class="sxs-lookup"><span data-stu-id="bbb67-159">We are looking at alternate solutions to provide helpful information to customers.</span></span>

#### <a name="missing-assemblies"></a><span data-ttu-id="bbb67-160">Chybějící sestavení</span><span class="sxs-lookup"><span data-stu-id="bbb67-160">Missing Assemblies</span></span>

![Snímek obrazovky s chybějícími sestaveními](./media/portability-analyzer/api-catalog-missing-assemblies.png)

<span data-ttu-id="bbb67-162">Část Chybějící sestavení najdete v sestavě.</span><span class="sxs-lookup"><span data-stu-id="bbb67-162">You may find a Missing Assemblies section in your report.</span></span> <span data-ttu-id="bbb67-163">Informuje vás, že tento seznam sestavení jsou odkazovány analyzované sestavení a nebyly analyzovány.</span><span class="sxs-lookup"><span data-stu-id="bbb67-163">It tells you that this list of assemblies are referenced by your analyzed assemblies and were not analyzed.</span></span> <span data-ttu-id="bbb67-164">Pokud se jedná o sestavení, které vlastníte, zahrňte jej do analyzátoru přenositelnosti rozhraní API, abyste pro něj mohli získat podrobnou sestavu přenositelnosti na úrovni rozhraní API.</span><span class="sxs-lookup"><span data-stu-id="bbb67-164">If it's an assembly that you own, include it in the Api portability analyzer run so that you can get API level detailed portability report for it.</span></span> <span data-ttu-id="bbb67-165">Pokud se jedná o knihovnu třetích stran, vyhledá, pokud mají novější verzi podporující vaši cílovou platformu.</span><span class="sxs-lookup"><span data-stu-id="bbb67-165">If it's third party library, looks for if they have newer version supporting your target platform.</span></span> <span data-ttu-id="bbb67-166">Pokud ano, zvažte přechod na novější verzi.</span><span class="sxs-lookup"><span data-stu-id="bbb67-166">If so, consider moving to the newer version.</span></span> <span data-ttu-id="bbb67-167">Nakonec byste očekávali, že tento seznam obsahuje všechna sestavení třetích stran, na kterých vaše aplikace závisí, a potvrdil, že mají verzi podporující vaši cílovou platformu.</span><span class="sxs-lookup"><span data-stu-id="bbb67-167">Eventually, you would expect this list includes all the third party assemblies that your app depends on and confirmed that they have a version supporting your target platform.</span></span>

<span data-ttu-id="bbb67-168">Další informace o nástroji .NET Portability Analyzer najdete v [dokumentaci k GitHubu](https://github.com/Microsoft/dotnet-apiport#documentation) a [stručný přehled videa .NET Portability Analyzer](https://channel9.msdn.com/Blogs/Seth-Juarez/A-Brief-Look-at-the-NET-Portability-Analyzer) Channel 9.</span><span class="sxs-lookup"><span data-stu-id="bbb67-168">For more information on the .NET Portability Analyzer, visit the [GitHub documentation](https://github.com/Microsoft/dotnet-apiport#documentation) and [A Brief Look at the .NET Portability Analyzer](https://channel9.msdn.com/Blogs/Seth-Juarez/A-Brief-Look-at-the-NET-Portability-Analyzer) Channel 9 video.</span></span>
