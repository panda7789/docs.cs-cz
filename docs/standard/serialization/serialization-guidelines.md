---
title: Pokyny serializace
ms.date: 03/30/2017
dev_langs:
- csharp
- vb
helpviewer_keywords:
- serialization, guidelines
- binary serialization, guidelines
ms.assetid: ebbeddff-179d-443f-bf08-9c373199a73a
ms.openlocfilehash: 067f32a026e3354e6c4256602ed17fd7d7bde0b8
ms.sourcegitcommit: 00aa62e2f469c2272a457b04e66b4cc3c97a800b
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 02/28/2020
ms.locfileid: "78159790"
---
# <a name="serialization-guidelines"></a><span data-ttu-id="eb28b-102">Pokyny serializace</span><span class="sxs-lookup"><span data-stu-id="eb28b-102">Serialization guidelines</span></span>
<span data-ttu-id="eb28b-103">Tento dokument obsahuje seznam pokyny k serializaci zvážit při navrhování rozhraní API.</span><span class="sxs-lookup"><span data-stu-id="eb28b-103">This document lists the guidelines to consider when designing an API to be serialized.</span></span>  

[!INCLUDE [binary-serialization-warning](../../../includes/binary-serialization-warning.md)]
  
 <span data-ttu-id="eb28b-104">.NET nabízí tři hlavní Serializační technologie, které jsou optimalizované pro různé scénáře serializace.</span><span class="sxs-lookup"><span data-stu-id="eb28b-104">.NET offers three main serialization technologies that are optimized for various serialization scenarios.</span></span> <span data-ttu-id="eb28b-105">Následující tabulka uvádí tyto technologie a hlavní typy .NET, které souvisejí s těmito technologiemi.</span><span class="sxs-lookup"><span data-stu-id="eb28b-105">The following table lists these technologies and the main .NET types related to these technologies.</span></span>  
  
|<span data-ttu-id="eb28b-106">Technologie</span><span class="sxs-lookup"><span data-stu-id="eb28b-106">Technology</span></span>|<span data-ttu-id="eb28b-107">Příslušných tříd</span><span class="sxs-lookup"><span data-stu-id="eb28b-107">Relevant Classes</span></span>|<span data-ttu-id="eb28b-108">Poznámky:</span><span class="sxs-lookup"><span data-stu-id="eb28b-108">Notes</span></span>|  
|----------------|----------------------|-----------|  
|<span data-ttu-id="eb28b-109">Smlouva serializaci dat</span><span class="sxs-lookup"><span data-stu-id="eb28b-109">Data Contract Serialization</span></span>|<xref:System.Runtime.Serialization.DataContractAttribute><br /><br /> <xref:System.Runtime.Serialization.DataMemberAttribute><br /><br /> <xref:System.Runtime.Serialization.DataContractSerializer><br /><br /> <xref:System.Runtime.Serialization.NetDataContractSerializer><br /><br /> <xref:System.Runtime.Serialization.Json.DataContractJsonSerializer><br /><br /> <xref:System.Runtime.Serialization.ISerializable>|<span data-ttu-id="eb28b-110">Obecné stálost</span><span class="sxs-lookup"><span data-stu-id="eb28b-110">General persistence</span></span><br /><br /> <span data-ttu-id="eb28b-111">Webové služby</span><span class="sxs-lookup"><span data-stu-id="eb28b-111">Web Services</span></span><br /><br /> <span data-ttu-id="eb28b-112">JSON</span><span class="sxs-lookup"><span data-stu-id="eb28b-112">JSON</span></span>|  
|<span data-ttu-id="eb28b-113">Serializace XML</span><span class="sxs-lookup"><span data-stu-id="eb28b-113">XML Serialization</span></span>|<xref:System.Xml.Serialization.XmlSerializer>|<span data-ttu-id="eb28b-114">Formát XML</span><span class="sxs-lookup"><span data-stu-id="eb28b-114">XML format</span></span> <br /><span data-ttu-id="eb28b-115">k úplnému řízení</span><span class="sxs-lookup"><span data-stu-id="eb28b-115">with full control</span></span>|  
|<span data-ttu-id="eb28b-116">Modul runtime-serializace (binární a SOAP)</span><span class="sxs-lookup"><span data-stu-id="eb28b-116">Runtime -Serialization (Binary and SOAP)</span></span>|<xref:System.SerializableAttribute><br /><br /> <xref:System.Runtime.Serialization.ISerializable><br /><br /> <xref:System.Runtime.Serialization.Formatters.Binary.BinaryFormatter><br /><br /> <xref:System.Runtime.Serialization.Formatters.Soap.SoapFormatter>|<span data-ttu-id="eb28b-117">Vzdálené komunikace pomocí rozhraní .NET</span><span class="sxs-lookup"><span data-stu-id="eb28b-117">.NET Remoting</span></span>|  
  
 <span data-ttu-id="eb28b-118">Při navrhování nových typů, byste měli rozhodnout, která, pokud existuje, těchto technologií tyto typy musí podporovat.</span><span class="sxs-lookup"><span data-stu-id="eb28b-118">When you design new types, you should decide which, if any, of these technologies those types need to support.</span></span> <span data-ttu-id="eb28b-119">Následující pokyny popisují postup tuto volbu a k poskytování těchto podpory.</span><span class="sxs-lookup"><span data-stu-id="eb28b-119">The following guidelines describe how to make that choice and how to provide such support.</span></span> <span data-ttu-id="eb28b-120">Tyto zásady nejsou určeny vám pomůže vybrat technologii, která serializace byste měli používat při provádění svou aplikaci nebo knihovny.</span><span class="sxs-lookup"><span data-stu-id="eb28b-120">These guidelines are not meant to help you choose which serialization technology you should use in the implementation of your application or library.</span></span> <span data-ttu-id="eb28b-121">Tyto pokyny přímo nesouvisí se návrh rozhraní API a proto nejsou v rámci oboru v tomto tématu.</span><span class="sxs-lookup"><span data-stu-id="eb28b-121">Such guidelines are not directly related to API design and thus are not within the scope of this topic.</span></span>  
  
## <a name="guidelines"></a><span data-ttu-id="eb28b-122">Pokyny</span><span class="sxs-lookup"><span data-stu-id="eb28b-122">Guidelines</span></span>  
  
- <span data-ttu-id="eb28b-123">Zamyslete serializace při navrhování nových typů.</span><span class="sxs-lookup"><span data-stu-id="eb28b-123">DO think about serialization when you design new types.</span></span>  
  
     <span data-ttu-id="eb28b-124">Serializace je k posouzení důležité návrh pro každý typ, protože programů může být nutné zachovat nebo přenést instance daného typu.</span><span class="sxs-lookup"><span data-stu-id="eb28b-124">Serialization is an important design consideration for any type, because programs might need to persist or transmit instances of the type.</span></span>  
  
### <a name="choosing-the-right-serialization-technology-to-support"></a><span data-ttu-id="eb28b-125">Výběr správné technologie serializace pro podporu</span><span class="sxs-lookup"><span data-stu-id="eb28b-125">Choosing the right serialization technology to support</span></span>  
 <span data-ttu-id="eb28b-126">Daného typu může podporovat none, jeden nebo více technologií serializace.</span><span class="sxs-lookup"><span data-stu-id="eb28b-126">Any given type can support none, one, or more of the serialization technologies.</span></span>  
  
- <span data-ttu-id="eb28b-127">Zvažte podporu *serializace kontraktu dat* v případě, že instance vašeho typu může být nutné zachovat nebo použít ve webových službách.</span><span class="sxs-lookup"><span data-stu-id="eb28b-127">CONSIDER supporting *data contract serialization* if instances of your type might need to be persisted or used in Web Services.</span></span>  
  
- <span data-ttu-id="eb28b-128">Zvažte podporu *serializace XML* místo nebo kromě serializace kontraktu dat, pokud potřebujete větší kontrolu nad formátem XML, který je vytvořen při serializaci typu.</span><span class="sxs-lookup"><span data-stu-id="eb28b-128">CONSIDER supporting the *XML serialization* instead of or in addition to data contract serialization if you need more control over the XML format that is produced when the type is serialized.</span></span>  
  
     <span data-ttu-id="eb28b-129">Toto může být nutné v některých případech interoperability, kde je třeba použít XML konstrukci, která není podporována serializaci dat smlouvy, například k vytvoření atributy ve formátu XML.</span><span class="sxs-lookup"><span data-stu-id="eb28b-129">This may be necessary in some interoperability scenarios where you need to use an XML construct that is not supported by data contract serialization, for example, to produce XML attributes.</span></span>  
  
- <span data-ttu-id="eb28b-130">Zvažte podporu *serializace za běhu* , pokud instance vašeho typu potřebují cestovat přes hranice vzdálené komunikace .NET.</span><span class="sxs-lookup"><span data-stu-id="eb28b-130">CONSIDER supporting *runtime serialization* if instances of your type need to travel across .NET Remoting boundaries.</span></span>  
  
- <span data-ttu-id="eb28b-131">Vyhněte se podpora modulu runtime serializace nebo serializace XML pouze z důvodů obecné stálost.</span><span class="sxs-lookup"><span data-stu-id="eb28b-131">AVOID supporting runtime serialization or XML serialization just for general persistence reasons.</span></span> <span data-ttu-id="eb28b-132">Místo toho raději smlouvy serializaci dat</span><span class="sxs-lookup"><span data-stu-id="eb28b-132">Prefer data contract serialization instead</span></span>  
  
#### <a name="supporting-data-contract-serialization"></a><span data-ttu-id="eb28b-133">Podpora serializace kontraktu dat</span><span class="sxs-lookup"><span data-stu-id="eb28b-133">Supporting data contract serialization</span></span>  
 <span data-ttu-id="eb28b-134">Typy mohou podporovat serializaci kontraktu dat použitím <xref:System.Runtime.Serialization.DataContractAttribute> na typ a <xref:System.Runtime.Serialization.DataMemberAttribute> členů (polí a vlastností) typu.</span><span class="sxs-lookup"><span data-stu-id="eb28b-134">Types can support data contract serialization by applying the <xref:System.Runtime.Serialization.DataContractAttribute> to the type and the <xref:System.Runtime.Serialization.DataMemberAttribute> to the members (fields and properties) of the type.</span></span>  
  
 [!code-csharp[SerializationGuidelines#1](../../../samples/snippets/csharp/VS_Snippets_CFX/serializationguidelines/cs/source.cs#1)]
 [!code-vb[SerializationGuidelines#1](../../../samples/snippets/visualbasic/VS_Snippets_CFX/serializationguidelines/vb/source.vb#1)]  
  
1. <span data-ttu-id="eb28b-135">Vzít v úvahu označení datové členy vašeho typu veřejné, pokud typ lze použít v částečném vztahu důvěryhodnosti.</span><span class="sxs-lookup"><span data-stu-id="eb28b-135">CONSIDER marking data members of your type public if the type can be used in partial trust.</span></span> <span data-ttu-id="eb28b-136">V plnou důvěryhodnost může serializátory smlouvy serializaci a deserializaci neveřejné typy a členy, ale může být pouze veřejné členy serializaci a deserializaci v částečném vztahu důvěryhodnosti.</span><span class="sxs-lookup"><span data-stu-id="eb28b-136">In full trust, data contract serializers can serialize and deserialize nonpublic types and members, but only public members can be serialized and deserialized in partial trust.</span></span>  
  
2. <span data-ttu-id="eb28b-137">Na všechny vlastnosti, které mají Data MemberAttribute implementujte metodu getter a setter.</span><span class="sxs-lookup"><span data-stu-id="eb28b-137">DO implement a getter and setter on all properties that have Data-MemberAttribute.</span></span> <span data-ttu-id="eb28b-138">Smlouva serializátory vyžadují metoda getter a setter pro typ, který má být považován za serializovatelný.</span><span class="sxs-lookup"><span data-stu-id="eb28b-138">Data contract serializers require both the getter and the setter for the type to be considered serializable.</span></span> <span data-ttu-id="eb28b-139">Pokud typ nesmí být použity v částečným vztahem důvěryhodnosti, může být jeden nebo oba přistupující objekty vlastnost neveřejné.</span><span class="sxs-lookup"><span data-stu-id="eb28b-139">If the type won’t be used in partial trust, one or both of the property accessors can be nonpublic.</span></span>  
  
     [!code-csharp[SerializationGuidelines#2](../../../samples/snippets/csharp/VS_Snippets_CFX/serializationguidelines/cs/source.cs#2)]
     [!code-vb[SerializationGuidelines#2](../../../samples/snippets/visualbasic/VS_Snippets_CFX/serializationguidelines/vb/source.vb#2)]  
  
3. <span data-ttu-id="eb28b-140">ZVAŽTE použití zpětných volání serializace pro inicializaci deserializovat instancí.</span><span class="sxs-lookup"><span data-stu-id="eb28b-140">CONSIDER using the serialization callbacks for initialization of deserialized instances.</span></span>  
  
     <span data-ttu-id="eb28b-141">Konstruktory nejsou volána, když jsou objekty deserializovat.</span><span class="sxs-lookup"><span data-stu-id="eb28b-141">Constructors are not called when objects are deserialized.</span></span> <span data-ttu-id="eb28b-142">Proto je nutné implementovat logiku, která se spustí během normálního konstrukce, jako jedno ze *zpětných volání serializace*.</span><span class="sxs-lookup"><span data-stu-id="eb28b-142">Therefore, any logic that executes during normal construction needs to be implemented as one of the *serialization callbacks*.</span></span>  
  
     [!code-csharp[SerializationGuidelines#3](../../../samples/snippets/csharp/VS_Snippets_CFX/serializationguidelines/cs/source.cs#3)]
     [!code-vb[SerializationGuidelines#3](../../../samples/snippets/visualbasic/VS_Snippets_CFX/serializationguidelines/vb/source.vb#3)]  
  
     <span data-ttu-id="eb28b-143"><xref:System.Runtime.Serialization.OnDeserializedAttribute> Se atribut nejčastěji používané zpětného volání.</span><span class="sxs-lookup"><span data-stu-id="eb28b-143">The <xref:System.Runtime.Serialization.OnDeserializedAttribute> attribute is the most commonly used callback attribute.</span></span> <span data-ttu-id="eb28b-144">Ostatní atributy v rodině jsou <xref:System.Runtime.Serialization.OnDeserializingAttribute>, <xref:System.Runtime.Serialization.OnSerializingAttribute>a <xref:System.Runtime.Serialization.OnSerializedAttribute>.</span><span class="sxs-lookup"><span data-stu-id="eb28b-144">The other attributes in the family are <xref:System.Runtime.Serialization.OnDeserializingAttribute>, <xref:System.Runtime.Serialization.OnSerializingAttribute>, and <xref:System.Runtime.Serialization.OnSerializedAttribute>.</span></span> <span data-ttu-id="eb28b-145">Jejich lze použít k označení zpětná volání, které získat spuštěny před deserializace před serializací a nakonec po serializaci, v uvedeném pořadí.</span><span class="sxs-lookup"><span data-stu-id="eb28b-145">They can be used to mark callbacks that get executed before deserialization, before serialization, and finally, after serialization, respectively.</span></span>  
  
4. <span data-ttu-id="eb28b-146">ZVAŽTE použití <xref:System.Runtime.Serialization.KnownTypeAttribute> označuje konkrétní typy, které se mají používat při deserializaci komplexní objekt grafu.</span><span class="sxs-lookup"><span data-stu-id="eb28b-146">CONSIDER using the <xref:System.Runtime.Serialization.KnownTypeAttribute> to indicate concrete types that should be used when deserializing a complex object graph.</span></span>  
  
     <span data-ttu-id="eb28b-147">Například pokud je typ deserializovaného datového členu reprezentovaný abstraktní třídou, serializátor bude potřebovat známé informace o *typu* k rozhodnutí o tom, jaký typ vytvoření instance a přiřazení k členu.</span><span class="sxs-lookup"><span data-stu-id="eb28b-147">For example, if a type of a deserialized data member is represented by an abstract class, the serializer will need the *known type* information to decide what concrete type to instantiate and assign to the member.</span></span> <span data-ttu-id="eb28b-148">Pokud známý typ není zadán pomocí atributu, bude nutné mají být předány serializátor explicitně (můžete to provést předáním známé typy konstruktoru serializátor) nebo bude je nutné zadat v konfiguračním souboru.</span><span class="sxs-lookup"><span data-stu-id="eb28b-148">If the known type is not specified using the attribute, it will need to be passed to the serializer explicitly (you can do it by passing known types to the serializer constructor) or it will need to be specified in the configuration file.</span></span>  
  
     [!code-csharp[SerializationGuidelines#4](../../../samples/snippets/csharp/VS_Snippets_CFX/serializationguidelines/cs/source.cs#4)]
     [!code-vb[SerializationGuidelines#4](../../../samples/snippets/visualbasic/VS_Snippets_CFX/serializationguidelines/vb/source.vb#4)]  
  
     <span data-ttu-id="eb28b-149">V případech, kdy seznam známých typů není známý staticky (Pokud je třída **Person** zkompilována), může **KnownTypeAttribute** ukazovat na metodu, která vrací seznam známých typů za běhu.</span><span class="sxs-lookup"><span data-stu-id="eb28b-149">In cases where the list of known types is not known statically (when the **Person** class is compiled), the **KnownTypeAttribute** can also point to a method that returns a list of known types at runtime.</span></span>  
  
5. <span data-ttu-id="eb28b-150">Zvažte dopředné a zpětné kompatibility při vytváření nebo změně Serializovatelné typy.</span><span class="sxs-lookup"><span data-stu-id="eb28b-150">DO consider backward and forward compatibility when creating or changing serializable types.</span></span>  
  
     <span data-ttu-id="eb28b-151">Mějte na paměti, kterou serializovat datových proudů budoucí verze vašeho typu lze deserializovat do aktuální verze typu a naopak.</span><span class="sxs-lookup"><span data-stu-id="eb28b-151">Keep in mind that serialized streams of future versions of your type can be deserialized into the current version of the type, and vice versa.</span></span> <span data-ttu-id="eb28b-152">Ujistěte se, že víte, že datových členů, dokonce i privátní a interní, nelze změnit jejich názvy, typy nebo dokonce i jejich pořadí v budoucích verzích typ není-li speciální je pozor zachovat smlouvu pomocí explicitní parametrů na atributy smlouvy data.Testování kompatibility serializace při provádění změn Serializovatelné typy.</span><span class="sxs-lookup"><span data-stu-id="eb28b-152">Make sure you understand that data members, even private and internal, cannot change their names, types, or even their order in future versions of the type unless special care is taken to preserve the contract using explicit parameters to the data contract attributes.Test compatibility of serialization when making changes to serializable types.</span></span> <span data-ttu-id="eb28b-153">Zkuste deserializaci na novou verzi do starší verze a naopak.</span><span class="sxs-lookup"><span data-stu-id="eb28b-153">Try deserializing the new version into an old version, and vice versa.</span></span>  
  
6. <span data-ttu-id="eb28b-154">ZVAŽTE implementaci <xref:System.Runtime.Serialization.IExtensibleDataObject> rozhraní, které chcete, aby verzemi mezi různými verzemi typu.</span><span class="sxs-lookup"><span data-stu-id="eb28b-154">CONSIDER implementing <xref:System.Runtime.Serialization.IExtensibleDataObject> interface to allow round-tripping between different versions of the type.</span></span>  
  
     <span data-ttu-id="eb28b-155">Rozhraní umožňuje serializátor zajistit, aby žádná data nejsou ztracena během verzemi.</span><span class="sxs-lookup"><span data-stu-id="eb28b-155">The interface allows the serializer to ensure that no data is lost during round-tripping.</span></span> <span data-ttu-id="eb28b-156"><xref:System.Runtime.Serialization.IExtensibleDataObject.ExtensionData%2A> Vlastnost uloží všechna data z budoucí verze typu, který neznámý pro aktuální verzi.</span><span class="sxs-lookup"><span data-stu-id="eb28b-156">The <xref:System.Runtime.Serialization.IExtensibleDataObject.ExtensionData%2A> property stores any data from the future version of the type that is unknown to the current version.</span></span> <span data-ttu-id="eb28b-157">V případě, že je aktuální verze následně serializována a deserializována do budoucí verze, budou další data k dispozici v serializovaném proudu prostřednictvím hodnoty vlastnosti **ExtensionData –** .</span><span class="sxs-lookup"><span data-stu-id="eb28b-157">When the current version is subsequently serialized and deserialized into a future version, the additional data will be available in the serialized stream through the **ExtensionData** property value.</span></span>  
  
     [!code-csharp[SerializationGuidelines#5](../../../samples/snippets/csharp/VS_Snippets_CFX/serializationguidelines/cs/source.cs#5)]
     [!code-vb[SerializationGuidelines#5](../../../samples/snippets/visualbasic/VS_Snippets_CFX/serializationguidelines/vb/source.vb#5)]  
  
     <span data-ttu-id="eb28b-158">Další informace najdete v tématu [kontrakty dat kompatibilní s dopředné](../../../docs/framework/wcf/feature-details/forward-compatible-data-contracts.md).</span><span class="sxs-lookup"><span data-stu-id="eb28b-158">For more information, see [Forward-Compatible Data Contracts](../../../docs/framework/wcf/feature-details/forward-compatible-data-contracts.md).</span></span>  
  
#### <a name="supporting-xml-serialization"></a><span data-ttu-id="eb28b-159">Podpora serializace XML</span><span class="sxs-lookup"><span data-stu-id="eb28b-159">Supporting XML serialization</span></span>  
 <span data-ttu-id="eb28b-160">Data smlouvy serializace je hlavním (výchozí) serializace technologie v rozhraní .NET Framework, ale existují serializace scénáře, že data smlouvy serializace není podporováno.</span><span class="sxs-lookup"><span data-stu-id="eb28b-160">Data contract serialization is the main (default) serialization technology in the .NET Framework, but there are serialization scenarios that data contract serialization does not support.</span></span> <span data-ttu-id="eb28b-161">Můžete například ji vám neuděluje plnou kontrolu nad tvar XML vytvořeného nebo používané serializátor.</span><span class="sxs-lookup"><span data-stu-id="eb28b-161">For example, it does not give you full control over the shape of XML produced or consumed by the serializer.</span></span> <span data-ttu-id="eb28b-162">Je-li takové přesné řízení vyžadováno, je nutné použít *serializaci XML* a je třeba navrhnout typy pro podporu této technologie serializace.</span><span class="sxs-lookup"><span data-stu-id="eb28b-162">If such fine control is required, *XML serialization* has to be used, and you need to design your types to support this serialization technology.</span></span>  
  
1. <span data-ttu-id="eb28b-163">BRÁNÍ návrh vašich typů speciálně pro serializaci XML, pokud nemáte autoři kladou důvod k nastavení tvaru XML vytvořen.</span><span class="sxs-lookup"><span data-stu-id="eb28b-163">AVOID designing your types specifically for XML Serialization, unless you have a very strong reason to control the shape of the XML produced.</span></span> <span data-ttu-id="eb28b-164">Tato technologie serializace bylo nahrazeno serializaci smlouvy dat, který je popsána v předchozím oddílu.</span><span class="sxs-lookup"><span data-stu-id="eb28b-164">This serialization technology has been superseded by the Data Contract Serialization discussed in the previous section.</span></span>  
  
     <span data-ttu-id="eb28b-165">Jinými slovy, se nevztahují atributů z <xref:System.Xml.Serialization> obor názvů pro nové typy, pokud si nejste jisti, že typ bude použita k serializaci kódu XML.</span><span class="sxs-lookup"><span data-stu-id="eb28b-165">In other words, don’t apply attributes from the <xref:System.Xml.Serialization> namespace to new types, unless you know that the type will be used with XML Serialization.</span></span> <span data-ttu-id="eb28b-166">Následující příklad ukazuje, jak lze použít **System. XML. Serialization** k řízení tvaru vytvořeného ve formátu XML.</span><span class="sxs-lookup"><span data-stu-id="eb28b-166">The following example shows how **System.Xml.Serialization** can be used to control the shape of the XML -produced.</span></span>  
  
     [!code-csharp[SerializationGuidelines#6](../../../samples/snippets/csharp/VS_Snippets_CFX/serializationguidelines/cs/source.cs#6)]
     [!code-vb[SerializationGuidelines#6](../../../samples/snippets/visualbasic/VS_Snippets_CFX/serializationguidelines/vb/source.vb#6)]  
  
2. <span data-ttu-id="eb28b-167">ZVAŽTE implementaci <xref:System.Xml.Serialization.IXmlSerializable> rozhraní, pokud chcete, aby ještě větší kontrolu nad tvar serializovaná XML než nabízejí použitím atributy serializace XML.</span><span class="sxs-lookup"><span data-stu-id="eb28b-167">CONSIDER implementing the <xref:System.Xml.Serialization.IXmlSerializable> interface if you want even more control over the shape of the serialized XML than what’s offered by applying the XML Serialization attributes.</span></span> <span data-ttu-id="eb28b-168">Dvě metody rozhraní, <xref:System.Xml.Serialization.IXmlSerializable.ReadXml%2A> a <xref:System.Xml.Serialization.IXmlSerializable.WriteXml%2A>, umožňují plně řídit serializovaný datový proud XML.</span><span class="sxs-lookup"><span data-stu-id="eb28b-168">Two methods of the interface, <xref:System.Xml.Serialization.IXmlSerializable.ReadXml%2A> and <xref:System.Xml.Serialization.IXmlSerializable.WriteXml%2A>, allow you to fully control the serialized XML stream.</span></span> <span data-ttu-id="eb28b-169">Můžete také určit schématu XML, který získá vygenerována pro typ použitím <xref:System.Xml.Serialization.XmlSchemaProviderAttribute> atributu.</span><span class="sxs-lookup"><span data-stu-id="eb28b-169">You can also control the XML schema that gets generated for the type by applying the <xref:System.Xml.Serialization.XmlSchemaProviderAttribute> attribute.</span></span>  
  
#### <a name="supporting-runtime-serialization"></a><span data-ttu-id="eb28b-170">Podpora serializace modulu runtime</span><span class="sxs-lookup"><span data-stu-id="eb28b-170">Supporting runtime serialization</span></span>  
 <span data-ttu-id="eb28b-171">*Serializace za běhu* je technologie, kterou používá Vzdálená komunikace .NET.</span><span class="sxs-lookup"><span data-stu-id="eb28b-171">*Runtime serialization* is a technology used by .NET Remoting.</span></span> <span data-ttu-id="eb28b-172">Pokud se domníváte, že vaše typy bude přenosu pomocí vzdálené komunikace pomocí rozhraní .NET, je třeba Ujistěte se, že podporují runtime serializace.</span><span class="sxs-lookup"><span data-stu-id="eb28b-172">If you think your types will be transported using .NET Remoting, you need to make sure they support runtime serialization.</span></span>  
  
 <span data-ttu-id="eb28b-173">Základní podporu pro *serializaci za běhu* lze poskytnout použitím atributu <xref:System.SerializableAttribute> a pokročilejší scénáře zahrnují implementaci jednoduchého *modelu serializace za běhu* (implementace-<xref:System.Runtime.Serialization.ISerializable> a poskytnutí konstruktoru serializace).</span><span class="sxs-lookup"><span data-stu-id="eb28b-173">The basic support for *runtime serialization* can be provided by applying the <xref:System.SerializableAttribute> attribute, and more advanced scenarios involve implementing a simple *runtime serializable pattern* (implement -<xref:System.Runtime.Serialization.ISerializable> and provide a serialization constructor).</span></span>  
  
1. <span data-ttu-id="eb28b-174">ZVAŽTE podporuje runtime serializace v případě, že vaše typy budou použity u vzdálené komunikace rozhraní .NET.</span><span class="sxs-lookup"><span data-stu-id="eb28b-174">CONSIDER supporting runtime serialization if your types will be used with .NET Remoting.</span></span> <span data-ttu-id="eb28b-175">Například obor názvů <xref:System.AddIn> používá vzdálenou komunikaci rozhraní .NET a všechny typy vyměňované mezi doplňky **System. AddIn** musí podporovat serializaci modulu runtime.</span><span class="sxs-lookup"><span data-stu-id="eb28b-175">For example, the <xref:System.AddIn> namespace uses .NET Remoting, and so all types exchanged between **System.AddIn** add-ins need to support runtime serialization.</span></span>  
  
     [!code-csharp[SerializationGuidelines#7](../../../samples/snippets/csharp/VS_Snippets_CFX/serializationguidelines/cs/source.cs#7)]
     [!code-vb[SerializationGuidelines#7](../../../samples/snippets/visualbasic/VS_Snippets_CFX/serializationguidelines/vb/source.vb#7)]  
  
2. <span data-ttu-id="eb28b-176">Zvažte implementaci *modelu serializovatelných za běhu* , pokud chcete úplnou kontrolu nad procesem serializace.</span><span class="sxs-lookup"><span data-stu-id="eb28b-176">CONSIDER implementing the *runtime serializable pattern* if you want complete control over the serialization process.</span></span> <span data-ttu-id="eb28b-177">Například pokud chcete transformovat data jako jeho získá serializován nebo deserializován.</span><span class="sxs-lookup"><span data-stu-id="eb28b-177">For example, if you want to transform data as it gets serialized or deserialized.</span></span>  
  
     <span data-ttu-id="eb28b-178">Vzor je velmi snadné.</span><span class="sxs-lookup"><span data-stu-id="eb28b-178">The pattern is very simple.</span></span> <span data-ttu-id="eb28b-179">Vše je třeba provést je implementovat <xref:System.Runtime.Serialization.ISerializable> rozhraní a zadat speciální konstruktor, který se používá, pokud je objekt deserializován.</span><span class="sxs-lookup"><span data-stu-id="eb28b-179">All you need to do is implement the <xref:System.Runtime.Serialization.ISerializable> interface and provide a special constructor that is used when the object is deserialized.</span></span>  
  
     [!code-csharp[SerializationGuidelines#8](../../../samples/snippets/csharp/VS_Snippets_CFX/serializationguidelines/cs/source.cs#8)]
     [!code-vb[SerializationGuidelines#8](../../../samples/snippets/visualbasic/VS_Snippets_CFX/serializationguidelines/vb/source.vb#8)]  
  
3. <span data-ttu-id="eb28b-180">Proveďte konstruktoru serializace chráněné a poskytují dva parametry typu a s názvem tak, jak je uvedeno v ukázce zde.</span><span class="sxs-lookup"><span data-stu-id="eb28b-180">DO make the serialization constructor protected and provide two parameters typed and named exactly as shown in the sample here.</span></span>  
  
     [!code-csharp[SerializationGuidelines#9](../../../samples/snippets/csharp/VS_Snippets_CFX/serializationguidelines/cs/source.cs#9)]
     [!code-vb[SerializationGuidelines#9](../../../samples/snippets/visualbasic/VS_Snippets_CFX/serializationguidelines/vb/source.vb#9)]  
  
4. <span data-ttu-id="eb28b-181">Explicitně implementujte ISerializable členy.</span><span class="sxs-lookup"><span data-stu-id="eb28b-181">DO implement the ISerializable members explicitly.</span></span>  
  
     [!code-csharp[SerializationGuidelines#10](../../../samples/snippets/csharp/VS_Snippets_CFX/serializationguidelines/cs/source.cs#10)]
     [!code-vb[SerializationGuidelines#10](../../../samples/snippets/visualbasic/VS_Snippets_CFX/serializationguidelines/vb/source.vb#10)]  
  
5. <span data-ttu-id="eb28b-182">Použijte požadavek propojení na implementaci **ISerializable. GetObjectData** .</span><span class="sxs-lookup"><span data-stu-id="eb28b-182">DO apply a link demand to **ISerializable.GetObjectData** implementation.</span></span> <span data-ttu-id="eb28b-183">To zajistí, že pouze plně důvěryhodné, jádro a serializátor runtime máte přístup ke členu.</span><span class="sxs-lookup"><span data-stu-id="eb28b-183">This ensures that only fully trusted core and the runtime serializer have access to the member.</span></span>  
  
     [!code-csharp[SerializationGuidelines#11](../../../samples/snippets/csharp/VS_Snippets_CFX/serializationguidelines/cs/source.cs#11)]
     [!code-vb[SerializationGuidelines#11](../../../samples/snippets/visualbasic/VS_Snippets_CFX/serializationguidelines/vb/source.vb#11)]  
  
## <a name="see-also"></a><span data-ttu-id="eb28b-184">Viz také</span><span class="sxs-lookup"><span data-stu-id="eb28b-184">See also</span></span>

- [<span data-ttu-id="eb28b-185">Použití kontraktů dat</span><span class="sxs-lookup"><span data-stu-id="eb28b-185">Using Data Contracts</span></span>](../../../docs/framework/wcf/feature-details/using-data-contracts.md)
- [<span data-ttu-id="eb28b-186">Serializátor kontraktu dat</span><span class="sxs-lookup"><span data-stu-id="eb28b-186">Data Contract Serializer</span></span>](../../../docs/framework/wcf/feature-details/data-contract-serializer.md)
- [<span data-ttu-id="eb28b-187">Typy podporované serializátorem kontraktu dat</span><span class="sxs-lookup"><span data-stu-id="eb28b-187">Types Supported by the Data Contract Serializer</span></span>](../../../docs/framework/wcf/feature-details/types-supported-by-the-data-contract-serializer.md)
- [<span data-ttu-id="eb28b-188">Binární serializace</span><span class="sxs-lookup"><span data-stu-id="eb28b-188">Binary Serialization</span></span>](binary-serialization.md)
- <span data-ttu-id="eb28b-189">[Vzdálená komunikace .NET](https://docs.microsoft.com/previous-versions/dotnet/netframework-4.0/72x4h507(v=vs.100))</span><span class="sxs-lookup"><span data-stu-id="eb28b-189">[.NET Remoting](https://docs.microsoft.com/previous-versions/dotnet/netframework-4.0/72x4h507(v=vs.100))</span></span>
- [<span data-ttu-id="eb28b-190">Serializace XML a SOAP</span><span class="sxs-lookup"><span data-stu-id="eb28b-190">XML and SOAP Serialization</span></span>](xml-and-soap-serialization.md)
- [<span data-ttu-id="eb28b-191">Zabezpečení a serializace</span><span class="sxs-lookup"><span data-stu-id="eb28b-191">Security and Serialization</span></span>](../../../docs/framework/misc/security-and-serialization.md)
