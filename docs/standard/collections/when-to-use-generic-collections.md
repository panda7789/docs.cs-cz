---
title: Kdy použít generické kolekce
ms.date: 04/30/2020
ms.technology: dotnet-standard
helpviewer_keywords:
- collections [.NET Framework], generic
- generic collections [.NET Framework]
ms.assetid: e7b868b1-11fe-4ac5-bed3-de68aca47739
ms.openlocfilehash: c59a125a8df95e3c4fe6e1839956d800bd6ee910
ms.sourcegitcommit: 33deec3e814238fb18a49b2a7e89278e27888291
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 06/02/2020
ms.locfileid: "84290380"
---
# <a name="when-to-use-generic-collections"></a><span data-ttu-id="e40ec-102">Kdy použít obecné kolekce</span><span class="sxs-lookup"><span data-stu-id="e40ec-102">When to use generic collections</span></span>

<span data-ttu-id="e40ec-103">Pomocí obecných kolekcí získáte automatické výhody zabezpečení typu bez nutnosti odvozovat od základní kolekce typu a implementovat členy specifické pro typ.</span><span class="sxs-lookup"><span data-stu-id="e40ec-103">Using generic collections gives you the automatic benefit of type safety without having to derive from a base collection type and implement type-specific members.</span></span> <span data-ttu-id="e40ec-104">Obecné typy kolekcí také obecně provádějí lepší, než odpovídající typy neobecných kolekcí (a lepší než typy, které jsou odvozeny z neobecné typy kolekce), pokud jsou prvky kolekce typy hodnot, protože s obecnými prvky není nutné pole založit.</span><span class="sxs-lookup"><span data-stu-id="e40ec-104">Generic collection types also generally perform better than the corresponding nongeneric collection types (and better than types that are derived from nongeneric base collection types) when the collection elements are value types, because with generics, there's no need to box the elements.</span></span>

<span data-ttu-id="e40ec-105">Pro programy, které cílí na .NET Standard 1,0 nebo novější, použijte obecné třídy kolekce v <xref:System.Collections.Concurrent> oboru názvů, pokud více vláken může přidat nebo odebrat položky z kolekce současně.</span><span class="sxs-lookup"><span data-stu-id="e40ec-105">For programs that target .NET Standard 1.0 or later, use the generic collection classes in the <xref:System.Collections.Concurrent> namespace when multiple threads might be adding or removing items from the collection concurrently.</span></span> <span data-ttu-id="e40ec-106">Kromě toho, když je žádoucí neměnnosti, zvažte obecné třídy kolekce v <xref:System.Collections.Immutable> oboru názvů.</span><span class="sxs-lookup"><span data-stu-id="e40ec-106">Additionally, when immutability is desired, consider the generic collection classes in the <xref:System.Collections.Immutable> namespace.</span></span>

<span data-ttu-id="e40ec-107">Následující obecné typy odpovídají existujícím typům kolekcí:</span><span class="sxs-lookup"><span data-stu-id="e40ec-107">The following generic types correspond to existing collection types:</span></span>

- <span data-ttu-id="e40ec-108"><xref:System.Collections.Generic.List%601>je obecná třída, která odpovídá <xref:System.Collections.ArrayList> .</span><span class="sxs-lookup"><span data-stu-id="e40ec-108"><xref:System.Collections.Generic.List%601> is the generic class that corresponds to <xref:System.Collections.ArrayList>.</span></span>

- <span data-ttu-id="e40ec-109"><xref:System.Collections.Generic.Dictionary%602>a <xref:System.Collections.Concurrent.ConcurrentDictionary%602> jsou obecné třídy, které odpovídají <xref:System.Collections.Hashtable> .</span><span class="sxs-lookup"><span data-stu-id="e40ec-109"><xref:System.Collections.Generic.Dictionary%602> and <xref:System.Collections.Concurrent.ConcurrentDictionary%602> are the generic classes that correspond to <xref:System.Collections.Hashtable>.</span></span>

- <span data-ttu-id="e40ec-110"><xref:System.Collections.ObjectModel.Collection%601>je obecná třída, která odpovídá <xref:System.Collections.CollectionBase> .</span><span class="sxs-lookup"><span data-stu-id="e40ec-110"><xref:System.Collections.ObjectModel.Collection%601> is the generic class that corresponds to <xref:System.Collections.CollectionBase>.</span></span> <span data-ttu-id="e40ec-111"><xref:System.Collections.ObjectModel.Collection%601>lze použít jako základní třídu, ale na rozdíl od <xref:System.Collections.CollectionBase> , není abstraktní, což je mnohem jednodušší ho použít.</span><span class="sxs-lookup"><span data-stu-id="e40ec-111"><xref:System.Collections.ObjectModel.Collection%601> can be used as a base class, but unlike <xref:System.Collections.CollectionBase>, it is not abstract, which makes it much easier to use.</span></span>

- <span data-ttu-id="e40ec-112"><xref:System.Collections.ObjectModel.ReadOnlyCollection%601>je obecná třída, která odpovídá <xref:System.Collections.ReadOnlyCollectionBase> .</span><span class="sxs-lookup"><span data-stu-id="e40ec-112"><xref:System.Collections.ObjectModel.ReadOnlyCollection%601> is the generic class that corresponds to <xref:System.Collections.ReadOnlyCollectionBase>.</span></span> <span data-ttu-id="e40ec-113"><xref:System.Collections.ObjectModel.ReadOnlyCollection%601>není abstraktní a má konstruktor, který usnadňuje vystavení existující <xref:System.Collections.Generic.List%601> jako kolekce jen pro čtení.</span><span class="sxs-lookup"><span data-stu-id="e40ec-113"><xref:System.Collections.ObjectModel.ReadOnlyCollection%601> is not abstract and has a constructor that makes it easy to expose an existing <xref:System.Collections.Generic.List%601> as a read-only collection.</span></span>

- <span data-ttu-id="e40ec-114">Obecné třídy,,,, a <xref:System.Collections.Generic.Queue%601> <xref:System.Collections.Concurrent.ConcurrentQueue%601> <xref:System.Collections.Immutable.ImmutableQueue%601> <xref:System.Collections.Immutable.ImmutableArray%601> <xref:System.Collections.Generic.SortedList%602> <xref:System.Collections.Immutable.ImmutableSortedSet%601> odpovídají příslušným neobecným třídám se stejnými názvy.</span><span class="sxs-lookup"><span data-stu-id="e40ec-114">The <xref:System.Collections.Generic.Queue%601>, <xref:System.Collections.Concurrent.ConcurrentQueue%601>, <xref:System.Collections.Immutable.ImmutableQueue%601>, <xref:System.Collections.Immutable.ImmutableArray%601>, <xref:System.Collections.Generic.SortedList%602>, and <xref:System.Collections.Immutable.ImmutableSortedSet%601> generic classes correspond to the respective nongeneric classes with the same names.</span></span>

## <a name="additional-types"></a><span data-ttu-id="e40ec-115">Další typy</span><span class="sxs-lookup"><span data-stu-id="e40ec-115">Additional Types</span></span>

<span data-ttu-id="e40ec-116">Některé typy obecných kolekcí nemají neobecné protějšky.</span><span class="sxs-lookup"><span data-stu-id="e40ec-116">Several generic collection types do not have nongeneric counterparts.</span></span> <span data-ttu-id="e40ec-117">Jsou to tyto:</span><span class="sxs-lookup"><span data-stu-id="e40ec-117">They include the following:</span></span>

- <span data-ttu-id="e40ec-118"><xref:System.Collections.Generic.LinkedList%601>je obecný propojený seznam, který poskytuje operace O vkládání a odebírání.</span><span class="sxs-lookup"><span data-stu-id="e40ec-118"><xref:System.Collections.Generic.LinkedList%601> is a general-purpose linked list that provides O(1) insertion and removal operations.</span></span>

- <span data-ttu-id="e40ec-119"><xref:System.Collections.Generic.SortedDictionary%602>je setříděný slovník s `n` operacemi vkládání a načítání, což usnadňuje možnost použít pro <xref:System.Collections.Generic.SortedList%602> .</span><span class="sxs-lookup"><span data-stu-id="e40ec-119"><xref:System.Collections.Generic.SortedDictionary%602> is a sorted dictionary with O(log `n`) insertion and retrieval operations, which makes it a useful alternative to <xref:System.Collections.Generic.SortedList%602>.</span></span>

- <span data-ttu-id="e40ec-120"><xref:System.Collections.ObjectModel.KeyedCollection%602>je hybrid mezi seznamem a slovníkem, který poskytuje způsob ukládání objektů, které obsahují vlastní klíče.</span><span class="sxs-lookup"><span data-stu-id="e40ec-120"><xref:System.Collections.ObjectModel.KeyedCollection%602> is a hybrid between a list and a dictionary, which provides a way to store objects that contain their own keys.</span></span>

- <span data-ttu-id="e40ec-121"><xref:System.Collections.Concurrent.BlockingCollection%601>implementuje třídu kolekce s funkcí ohraničování a blokování.</span><span class="sxs-lookup"><span data-stu-id="e40ec-121"><xref:System.Collections.Concurrent.BlockingCollection%601> implements a collection class with bounding and blocking functionality.</span></span>

- <span data-ttu-id="e40ec-122"><xref:System.Collections.Concurrent.ConcurrentBag%601>poskytuje rychlé vkládání a odebírání neuspořádaných prvků.</span><span class="sxs-lookup"><span data-stu-id="e40ec-122"><xref:System.Collections.Concurrent.ConcurrentBag%601> provides fast insertion and removal of unordered elements.</span></span>

### <a name="immutable-builders"></a><span data-ttu-id="e40ec-123">Neměnné tvůrci</span><span class="sxs-lookup"><span data-stu-id="e40ec-123">Immutable builders</span></span>

<span data-ttu-id="e40ec-124">Pokud si přejete, aby neměnnosti funkce v aplikaci, <xref:System.Collections.Immutable> obor názvů nabízí obecné typy kolekce, které můžete použít.</span><span class="sxs-lookup"><span data-stu-id="e40ec-124">When you desire immutability functionality in your app, the <xref:System.Collections.Immutable> namespace offers generic collection types you can use.</span></span> <span data-ttu-id="e40ec-125">Všechny typy neměnné kolekce nabízí `Builder` třídy, které mohou optimalizovat výkon při provádění více mutací.</span><span class="sxs-lookup"><span data-stu-id="e40ec-125">All of the immutable collection types offer `Builder` classes that can optimize performance when you're performing multiple mutations.</span></span> <span data-ttu-id="e40ec-126">`Builder`Operace dávek třídy v proměnlivém stavu.</span><span class="sxs-lookup"><span data-stu-id="e40ec-126">The `Builder` class batches operations in a mutable state.</span></span> <span data-ttu-id="e40ec-127">Po dokončení všech mutací volejte `ToImmutable` metodu pro zablokování všech uzlů a vytvořte neměnné obecné kolekce, například <xref:System.Collections.Immutable.ImmutableList%601> .</span><span class="sxs-lookup"><span data-stu-id="e40ec-127">When all mutations have been completed, call the `ToImmutable` method to "freeze" all nodes and create an immutable generic collection, for example, an <xref:System.Collections.Immutable.ImmutableList%601>.</span></span>

<span data-ttu-id="e40ec-128">`Builder`Objekt lze vytvořit voláním neobecné `CreateBuilder()` metody.</span><span class="sxs-lookup"><span data-stu-id="e40ec-128">The `Builder` object can be created by calling the nongeneric `CreateBuilder()` method.</span></span> <span data-ttu-id="e40ec-129">Z `Builder` instance můžete zavolat `ToImmutable()` .</span><span class="sxs-lookup"><span data-stu-id="e40ec-129">From a `Builder` instance, you can call `ToImmutable()`.</span></span> <span data-ttu-id="e40ec-130">Podobně z `Immutable*` kolekce můžete zavolat `ToBuilder()` pro vytvoření instance Tvůrce z obecné neměnné kolekce.</span><span class="sxs-lookup"><span data-stu-id="e40ec-130">Likewise, from the `Immutable*` collection, you can call `ToBuilder()` to create a builder instance from the generic immutable collection.</span></span> <span data-ttu-id="e40ec-131">Následují různé `Builder` typy.</span><span class="sxs-lookup"><span data-stu-id="e40ec-131">The following are the various `Builder` types.</span></span>

- <xref:System.Collections.Immutable.ImmutableArray%601.Builder>
- <xref:System.Collections.Immutable.ImmutableDictionary%602.Builder>
- <xref:System.Collections.Immutable.ImmutableHashSet%601.Builder>
- <xref:System.Collections.Immutable.ImmutableList%601.Builder>
- <xref:System.Collections.Immutable.ImmutableSortedDictionary%602.Builder>
- <xref:System.Collections.Immutable.ImmutableSortedSet%601.Builder>

## <a name="linq-to-objects"></a><span data-ttu-id="e40ec-132">LINQ na objekty</span><span class="sxs-lookup"><span data-stu-id="e40ec-132">LINQ to Objects</span></span>

<span data-ttu-id="e40ec-133">Funkce LINQ to Objects umožňuje používat dotazy LINQ pro přístup k objektům v paměti, pokud typ objektu implementuje <xref:System.Collections.IEnumerable?displayProperty=nameWithType> <xref:System.Collections.Generic.IEnumerable%601?displayProperty=nameWithType> rozhraní nebo.</span><span class="sxs-lookup"><span data-stu-id="e40ec-133">The LINQ to Objects feature enables you to use LINQ queries to access in-memory objects as long as the object type implements the <xref:System.Collections.IEnumerable?displayProperty=nameWithType> or <xref:System.Collections.Generic.IEnumerable%601?displayProperty=nameWithType> interface.</span></span> <span data-ttu-id="e40ec-134">Dotazy LINQ poskytují společný vzor pro přístup k datům; jsou obvykle stručnější a čitelné než standardní `foreach` smyčky a poskytují možnosti filtrování, řazení a seskupování.</span><span class="sxs-lookup"><span data-stu-id="e40ec-134">LINQ queries provide a common pattern for accessing data; are typically more concise and readable than standard `foreach` loops; and provide filtering, ordering, and grouping capabilities.</span></span> <span data-ttu-id="e40ec-135">Dotazy LINQ mohou také zlepšit výkon.</span><span class="sxs-lookup"><span data-stu-id="e40ec-135">LINQ queries can also improve performance.</span></span> <span data-ttu-id="e40ec-136">Další informace naleznete v tématu [LINQ to Objects (C#)](../../csharp/programming-guide/concepts/linq/linq-to-objects.md), [LINQ to Objects (Visual Basic)](../../visual-basic/programming-guide/concepts/linq/linq-to-objects.md)a [Paralelní LINQ (PLINQ)](../parallel-programming/introduction-to-plinq.md).</span><span class="sxs-lookup"><span data-stu-id="e40ec-136">For more information, see [LINQ to Objects (C#)](../../csharp/programming-guide/concepts/linq/linq-to-objects.md), [LINQ to Objects (Visual Basic)](../../visual-basic/programming-guide/concepts/linq/linq-to-objects.md), and [Parallel LINQ (PLINQ)](../parallel-programming/introduction-to-plinq.md).</span></span>

## <a name="additional-functionality"></a><span data-ttu-id="e40ec-137">Další funkce</span><span class="sxs-lookup"><span data-stu-id="e40ec-137">Additional Functionality</span></span>
<span data-ttu-id="e40ec-138">Některé obecné typy mají funkce, které se nenašly v neobecných typech kolekcí.</span><span class="sxs-lookup"><span data-stu-id="e40ec-138">Some of the generic types have functionality that is not found in the nongeneric collection types.</span></span> <span data-ttu-id="e40ec-139">Například <xref:System.Collections.Generic.List%601> třída, která odpovídá neobecné <xref:System.Collections.ArrayList> třídě, má řadu metod, které přijímají Obecné delegáty, jako je <xref:System.Predicate%601> delegát, který umožňuje určit metody pro hledání seznamu, <xref:System.Action%601> delegáta, který představuje metody, které fungují na jednotlivých prvcích seznamu, a <xref:System.Converter%602> delegát, který umožňuje definovat převody mezi typy.</span><span class="sxs-lookup"><span data-stu-id="e40ec-139">For example, the <xref:System.Collections.Generic.List%601> class, which corresponds to the nongeneric <xref:System.Collections.ArrayList> class, has a number of methods that accept generic delegates, such as the <xref:System.Predicate%601> delegate that allows you to specify methods for searching the list, the <xref:System.Action%601> delegate that represents methods that act on each element of the list, and the <xref:System.Converter%602> delegate that lets you define conversions between types.</span></span>

<span data-ttu-id="e40ec-140"><xref:System.Collections.Generic.List%601>Třída umožňuje zadat vlastní <xref:System.Collections.Generic.IComparer%601> implementace obecného rozhraní pro řazení a hledání v seznamu.</span><span class="sxs-lookup"><span data-stu-id="e40ec-140">The <xref:System.Collections.Generic.List%601> class allows you to specify your own <xref:System.Collections.Generic.IComparer%601> generic interface implementations for sorting and searching the list.</span></span> <span data-ttu-id="e40ec-141"><xref:System.Collections.Generic.SortedDictionary%602> <xref:System.Collections.Generic.SortedList%602> Tato funkce má také třídy a.</span><span class="sxs-lookup"><span data-stu-id="e40ec-141">The <xref:System.Collections.Generic.SortedDictionary%602> and <xref:System.Collections.Generic.SortedList%602> classes also have this capability.</span></span> <span data-ttu-id="e40ec-142">Kromě toho umožňují tyto třídy při vytváření kolekce určit porovnávače.</span><span class="sxs-lookup"><span data-stu-id="e40ec-142">In addition, these classes let you specify comparers when the collection is created.</span></span> <span data-ttu-id="e40ec-143">Podobným způsobem <xref:System.Collections.Generic.Dictionary%602> <xref:System.Collections.ObjectModel.KeyedCollection%602> třídy a umožňují zadat vlastní porovnávače rovnosti.</span><span class="sxs-lookup"><span data-stu-id="e40ec-143">In similar fashion, the <xref:System.Collections.Generic.Dictionary%602> and <xref:System.Collections.ObjectModel.KeyedCollection%602> classes let you specify your own equality comparers.</span></span>

## <a name="see-also"></a><span data-ttu-id="e40ec-144">Viz také</span><span class="sxs-lookup"><span data-stu-id="e40ec-144">See also</span></span>

- [<span data-ttu-id="e40ec-145">Kolekce a datové struktury</span><span class="sxs-lookup"><span data-stu-id="e40ec-145">Collections and Data Structures</span></span>](index.md)
- [<span data-ttu-id="e40ec-146">Běžně používané typy kolekcí</span><span class="sxs-lookup"><span data-stu-id="e40ec-146">Commonly Used Collection Types</span></span>](commonly-used-collection-types.md)
- [<span data-ttu-id="e40ec-147">Obecné typy</span><span class="sxs-lookup"><span data-stu-id="e40ec-147">Generics</span></span>](../generics/index.md)
