---
title: Nasazení moderních desktopových aplikací
description: Vše, co potřebujete znát o nasazování moderních aplikací klasické pracovní plochy.
ms.date: 05/12/2020
ms.openlocfilehash: 4a4d93caf1c2f8f58d48ee3199bbe6983fa939f4
ms.sourcegitcommit: 9a4488a3625866335e83a20da5e9c5286b1f034c
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 05/15/2020
ms.locfileid: "83423255"
---
# <a name="deploying-modern-desktop-applications"></a><span data-ttu-id="74c61-103">Nasazení moderních desktopových aplikací</span><span class="sxs-lookup"><span data-stu-id="74c61-103">Deploying Modern Desktop Applications</span></span>

<span data-ttu-id="74c61-104">Když vyvíjíte desktopové aplikace, jedna z věcí, kterou je potřeba zvážit, je, jak bude vaše aplikace zabalená a nasazená do počítačů uživatelů.</span><span class="sxs-lookup"><span data-stu-id="74c61-104">When you develop desktop applications, one thing to consider is how your application is going to be packaged and deployed to the users' machines.</span></span> <span data-ttu-id="74c61-105">Problém s balíčkem, nasazením a instalací je, že obvykle spadá do kostar IT specialistů, kteří se zabývají i různými akcemi než vývojáři.</span><span class="sxs-lookup"><span data-stu-id="74c61-105">The problem with packaging, deployment, and installation is that it usually falls under the umbrella of the IT professionals, who care about different things than developers.</span></span>

<span data-ttu-id="74c61-106">Tyto dny jsme obeznámeni s konceptem DevOps, kde vývojáři a IT specialisté úzce spolupracují na přesunu aplikací do jejich produkčních prostředí.</span><span class="sxs-lookup"><span data-stu-id="74c61-106">These days, we're all familiar with the DevOps concept, where developers and IT Pros work closely to move applications to their production environments.</span></span> <span data-ttu-id="74c61-107">Ale pokud jste se přihlásili z plochy na více než 10 let, možná jste viděli následující text.</span><span class="sxs-lookup"><span data-stu-id="74c61-107">But if you've been in the desktop battle for more than 10 years, you might have seen the following story.</span></span> <span data-ttu-id="74c61-108">Tým vývojářů spolupracuje na plnění konečných termínů projektu.</span><span class="sxs-lookup"><span data-stu-id="74c61-108">A team of developers works together hard to meet the project deadlines.</span></span> <span data-ttu-id="74c61-109">Obchodní lidé jsou nervové, protože potřebují systém pracovat na mnoha počítačích uživatelů pro spuštění společnosti.</span><span class="sxs-lookup"><span data-stu-id="74c61-109">Business people are nervous since they need the system working on many user's machines to run the company.</span></span> <span data-ttu-id="74c61-110">V "D-Day" vedoucí projektu kontroluje každý vývojář, že jejich kód funguje dobře a že vše je dobré, takže se dají dodávat.</span><span class="sxs-lookup"><span data-stu-id="74c61-110">On "D-Day", the project manager checks with every developer that their code is working well and that everything is fine, so they can ship.</span></span> <span data-ttu-id="74c61-111">Tým balíčku pak zaznamená, že generuje nastavení pro aplikaci, distribuuje ho do všech uživatelských počítačů a sadu testovacích uživatelů spustí aplikaci.</span><span class="sxs-lookup"><span data-stu-id="74c61-111">Then, the package team comes in generating the setup for the app, distribute it to every user machine and a set of test users run the application.</span></span> <span data-ttu-id="74c61-112">Také se pokoušejí, protože před zobrazením uživatelského rozhraní aplikace vyvolá výjimku, která říká "metoda ~ objektu ~ selhala".</span><span class="sxs-lookup"><span data-stu-id="74c61-112">Well, they try, because before showing any UI, the application throws an exception that says "Method ~ of object ~ failed".</span></span> <span data-ttu-id="74c61-113">Nenouzové zahájení toku prostřednictvím vzduchu a krátkého šetření vede na mladého a už vás unavujeho vývojáře, který představil ovládací prvek třetí strany, který určitě pracoval na vývojovém počítači.</span><span class="sxs-lookup"><span data-stu-id="74c61-113">Panic starts flowing through the air and a brief investigation points to a young and tired developer that has introduced a third-party control, that certainly "worked on the dev machine".</span></span>

<span data-ttu-id="74c61-114">Instalace desktopových aplikací se tradičně Nightmare ze dvou hlavních důvodů:</span><span class="sxs-lookup"><span data-stu-id="74c61-114">Installing desktop applications have traditionally been a nightmare for two main reasons:</span></span>

- <span data-ttu-id="74c61-115">Nedostatečná jazyková verze spolupráce mezi vývojem a IT týmy.</span><span class="sxs-lookup"><span data-stu-id="74c61-115">Lack of close collaboration culture between dev and IT teams.</span></span>
- <span data-ttu-id="74c61-116">Nedostatku plného balení a nasazení technologie, kterou můžeme sestavit.</span><span class="sxs-lookup"><span data-stu-id="74c61-116">Lack of a solid packaging and deploying technology we can build upon.</span></span>

<span data-ttu-id="74c61-117">Ve skutečnosti jsme s fakty nepracovali, že v některých případech jste zavedli instalaci aplikace z těchto důvodů:</span><span class="sxs-lookup"><span data-stu-id="74c61-117">In fact, we've been living with the fact that sometimes you regret that you installed an app because:</span></span>

- <span data-ttu-id="74c61-118">Končí na vašem počítači některé nežádoucí vedlejší účinky.</span><span class="sxs-lookup"><span data-stu-id="74c61-118">It ends up having some undesired side effects on your machine.</span></span>
- <span data-ttu-id="74c61-119">Některé aplikace, které byly dříve nainstalovány, přestaly fungovat.</span><span class="sxs-lookup"><span data-stu-id="74c61-119">Some applications that were previously installed stop working.</span></span>

<span data-ttu-id="74c61-120">Kromě toho nemůžete obnovit původní stav systému tím, že aplikaci odinstalujete.</span><span class="sxs-lookup"><span data-stu-id="74c61-120">Additionally, you can't just restore the system to its original state by uninstalling the app.</span></span> <span data-ttu-id="74c61-121">Používáme se k živému provozu této situace, kterou jsme mince jako "DLL Hell" nebo "Winrot".</span><span class="sxs-lookup"><span data-stu-id="74c61-121">We're so used to live this situation that we've coined terms like "DLL Hell" or "Winrot".</span></span>

<span data-ttu-id="74c61-122">V této kapitole budeme mluvit o MSIX.</span><span class="sxs-lookup"><span data-stu-id="74c61-122">In this chapter, we'll talk about MSIX.</span></span> <span data-ttu-id="74c61-123">MSIX je zcela nová technologie od Microsoftu, která se snaží zachytit nejlepší z předchozích technologií, aby poskytovala pevný základ pro technologii balení v budoucnosti.</span><span class="sxs-lookup"><span data-stu-id="74c61-123">MSIX is the brand-new technology from Microsoft that tries to capture the best of previous technologies to provide a solid foundation for the packaging technology of the future.</span></span>

<span data-ttu-id="74c61-124">Co je potřeba pro balící technologii s modernizací?</span><span class="sxs-lookup"><span data-stu-id="74c61-124">What does a packaging technology have to do with modernization?</span></span> <span data-ttu-id="74c61-125">V takovém případě se zavede k tomu, že balení je zásadní pro podnik IT, který tam investovala i spousta peněz.</span><span class="sxs-lookup"><span data-stu-id="74c61-125">Well, it turns out that packaging is fundamental for the enterprise IT with lots of money invested there.</span></span> <span data-ttu-id="74c61-126">Modernizace nesouvisí jenom s používáním nejnovějších technologií.</span><span class="sxs-lookup"><span data-stu-id="74c61-126">Modernization isn't only related to using the latest technologies.</span></span> <span data-ttu-id="74c61-127">Je také v souvislosti se zkrácením doby uvedení na trh od okamžiku definování podnikového požadavku, dokud vaše společnost nedodá klientovi funkci.</span><span class="sxs-lookup"><span data-stu-id="74c61-127">It's also related to reducing time to market from the moment a business requirement is defined until your company delivers the feature to your client.</span></span>

## <a name="the-modern-application-lifecycle"></a><span data-ttu-id="74c61-128">Životní cyklus moderní aplikace</span><span class="sxs-lookup"><span data-stu-id="74c61-128">The modern application lifecycle</span></span>

<span data-ttu-id="74c61-129">Dnes vývojáři napíší a sestavují kód pro aplikaci a pak předají vygenerované prostředky pro odborníky v oblasti IT.</span><span class="sxs-lookup"><span data-stu-id="74c61-129">Today, developers write and build the code for an app and then pass the generated assets to the IT Pros.</span></span> <span data-ttu-id="74c61-130">IT specialisté pak znovu nakonfigurují aplikaci a znovu zabalí, obvykle v MSI nebo novějším ve formátu balíčku sady App-V.</span><span class="sxs-lookup"><span data-stu-id="74c61-130">Then, the IT Pros reconfigure the app and repackage it, typically in an MSI or more recently in an App-V packaging format.</span></span> <span data-ttu-id="74c61-131">Aplikace se pak nasadí pomocí různých kanálů a nástrojů.</span><span class="sxs-lookup"><span data-stu-id="74c61-131">The app is then deployed through different channels and tools.</span></span> <span data-ttu-id="74c61-132">Jedním z hlavních problémů s tímto přístupem se běžně říká "balení paralysis".</span><span class="sxs-lookup"><span data-stu-id="74c61-132">One of the main problems with this approach is commonly known as "packaging paralysis".</span></span> <span data-ttu-id="74c61-133">Problémem je to, že se tento cyklus opakuje pokaždé, když se aktualizuje aktualizace aplikace nebo aktualizace operačního systému.</span><span class="sxs-lookup"><span data-stu-id="74c61-133">The problem is that this cycle repeats every time there's an app update or an OS update.</span></span>

<span data-ttu-id="74c61-134">Můžete vidět, jak se proces projeví na následujícím obrázku:</span><span class="sxs-lookup"><span data-stu-id="74c61-134">You can see the process reflected on the following picture:</span></span>

![Diagram znázorňující moderní životní cyklus IT](./media/deploy-modern-applications/modern-it-application-lifecycle.png)

<span data-ttu-id="74c61-136">Společnosti potřebují způsob, jak rozdělit tento cyklus balení na tři nezávislé cykly:</span><span class="sxs-lookup"><span data-stu-id="74c61-136">Companies need a way to break this packaging cycle into three independent cycles:</span></span>

- <span data-ttu-id="74c61-137">Aktualizace operačního systému</span><span class="sxs-lookup"><span data-stu-id="74c61-137">OS updates</span></span>
- <span data-ttu-id="74c61-138">Aktualizace aplikace</span><span class="sxs-lookup"><span data-stu-id="74c61-138">Application updates</span></span>
- <span data-ttu-id="74c61-139">Přizpůsobení</span><span class="sxs-lookup"><span data-stu-id="74c61-139">Customization</span></span>

![Diagram znázorňující moderní cyklus IT virtuous](./media/deploy-modern-applications/modern-it-virtuous-cycle.png)

<span data-ttu-id="74c61-141">Předchozí diagram ukazuje, že můžete:</span><span class="sxs-lookup"><span data-stu-id="74c61-141">The previous diagram shows that you can:</span></span>

- <span data-ttu-id="74c61-142">Aktualizujte základní operační systém, aniž byste museli znovu zabalit své aplikace.</span><span class="sxs-lookup"><span data-stu-id="74c61-142">Update the underlying OS without having to repackage your apps.</span></span>
- <span data-ttu-id="74c61-143">Povolte z něho vlastní nastavení, aniž byste museli znovu zabalit původní balíček pro vývojáře.</span><span class="sxs-lookup"><span data-stu-id="74c61-143">Enable customizations from IT without the need to repackage the original developer package.</span></span>

<span data-ttu-id="74c61-144">Tato odmocnina vede k novému a modernímu životnímu cyklu IT, jak je znázorněno na následujícím obrázku:</span><span class="sxs-lookup"><span data-stu-id="74c61-144">This radical change leads us to the new and modern IT lifecycle as shown in the following picture:</span></span>

![Diagram znázorňující životní cyklus aplikace pomocí nástrojů Microsoftu](./media/deploy-modern-applications/microsoft-it-tools.png)

<span data-ttu-id="74c61-146">Vývojáři vytvoří aplikaci a vygenerují balíček MSIX, který IT specialisté můžou spotřebovat a konfigurovat bez nutnosti opětovného balení.</span><span class="sxs-lookup"><span data-stu-id="74c61-146">Developers create the app and generate an MSIX package that IT Pros can consume and configure without the need of repackaging.</span></span> <span data-ttu-id="74c61-147">Společně s technologií MSIX společnost Microsoft vytvořila nástroje, které jim umožňují přizpůsobit a konfigurovat balíčky bez nutnosti opětovného balení.</span><span class="sxs-lookup"><span data-stu-id="74c61-147">Along with the MSIX technology, Microsoft has created tools to allow IT to customize and configure packages without repackaging.</span></span>

## <a name="msix-the-next-generation-of-deployment"></a><span data-ttu-id="74c61-148">MSIX: příští generace nasazení</span><span class="sxs-lookup"><span data-stu-id="74c61-148">MSIX: The next generation of deployment</span></span>

<span data-ttu-id="74c61-149">Před MSIX bylo k dispozici několik technologií balení, jako jsou průvodci nastavením, MSI, ClickOnce, App-V a skriptování.</span><span class="sxs-lookup"><span data-stu-id="74c61-149">Before MSIX, there were several packaging technologies available like setup wizards, MSI, ClickOnce, App-V, and scripting.</span></span> <span data-ttu-id="74c61-150">Každá z těchto technologií má své vlastní síly a Microsoft se rozhodl vybrat nejlepší z nich pro sestavení MSIX.</span><span class="sxs-lookup"><span data-stu-id="74c61-150">Each of these technologies has their own strengths and Microsoft has decided to pick the best of all to build MSIX.</span></span> <span data-ttu-id="74c61-151">MSIX je postaven na základech těchto stávajících technologií, které vycházejí z každého z nich:</span><span class="sxs-lookup"><span data-stu-id="74c61-151">MSIX is built on the foundations of these existing technologies picking the best of each:</span></span>

- <span data-ttu-id="74c61-152">App-V = \> containering</span><span class="sxs-lookup"><span data-stu-id="74c61-152">App-V =\> Containerization</span></span>
- <span data-ttu-id="74c61-153">ClickOnce = \> Automatické aktualizace</span><span class="sxs-lookup"><span data-stu-id="74c61-153">ClickOnce =\> Auto updating</span></span>
- <span data-ttu-id="74c61-154">MSI = \> snadné rozmístění</span><span class="sxs-lookup"><span data-stu-id="74c61-154">MSI =\> Easy to distribute</span></span>

<span data-ttu-id="74c61-155">S MSIX získáte jednu technologii instalačního programu se všemi těmito funkcemi.</span><span class="sxs-lookup"><span data-stu-id="74c61-155">With MSIX, you get one installer technology with all these features.</span></span>

![Diagram znázorňující různé technologie, které měly vliv na sestavování MSIX](./media/deploy-modern-applications/msix.png)

### <a name="benefits-of-msix"></a><span data-ttu-id="74c61-157">Výhody MSIX</span><span class="sxs-lookup"><span data-stu-id="74c61-157">Benefits of MSIX</span></span>

#### <a name="never-regret-installing-an-app"></a><span data-ttu-id="74c61-158">Nikdy Nelitujte s instalací aplikace</span><span class="sxs-lookup"><span data-stu-id="74c61-158">Never regret installing an app</span></span>

<span data-ttu-id="74c61-159">MSIX poskytuje předvídatelné, spolehlivé a bezpečné nasazení.</span><span class="sxs-lookup"><span data-stu-id="74c61-159">MSIX provides a predictable, reliable, and safe deployment.</span></span> <span data-ttu-id="74c61-160">Deklarativní metoda obsažená v manifestu balíčku umožňuje operačnímu systému sledovat každý prostředek, který vaše aplikace potřebuje.</span><span class="sxs-lookup"><span data-stu-id="74c61-160">The declarative method contained in the package manifest lets the OS keep track of every asset your application needs.</span></span> <span data-ttu-id="74c61-161">Poskytuje také skutečnou čistou odinstalaci bez vedlejších účinků.</span><span class="sxs-lookup"><span data-stu-id="74c61-161">It also provides a true clean uninstall with no side effects.</span></span>

#### <a name="disk-space-optimization"></a><span data-ttu-id="74c61-162">Optimalizace místa na disku</span><span class="sxs-lookup"><span data-stu-id="74c61-162">Disk space optimization</span></span>

<span data-ttu-id="74c61-163">MSIX je optimalizovaná tak, aby snižovala nároky na místo na disku počítače uživatele.</span><span class="sxs-lookup"><span data-stu-id="74c61-163">MSIX is optimized to reduce the footprint that an application has on the user's machine disk space.</span></span> <span data-ttu-id="74c61-164">Vytvoří úložiště souborů s jednou instancí.</span><span class="sxs-lookup"><span data-stu-id="74c61-164">It creates a single instance storage of your files.</span></span> <span data-ttu-id="74c61-165">To znamená, že pokud máte dva různé balíčky se stejnou knihovnou DLL, knihovna DLL není nainstalována dvakrát.</span><span class="sxs-lookup"><span data-stu-id="74c61-165">That is, if you have two different packages with the same DLL, the DLL isn't installed twice.</span></span> <span data-ttu-id="74c61-166">Platforma se tento problém postará, protože ví, že všechny soubory, na které konkrétní aplikace nainstalovaná, nezpůsobí jeho deklarativní povahy.</span><span class="sxs-lookup"><span data-stu-id="74c61-166">The platform takes care of that problem because it knows all the files that a particular app installed thanks to its declarative nature.</span></span> <span data-ttu-id="74c61-167">Také umožňuje mít různé verze knihovny DLL pracující vedle sebe.</span><span class="sxs-lookup"><span data-stu-id="74c61-167">It also allows you to have different versions of a DLL working side by side.</span></span>

<span data-ttu-id="74c61-168">Díky použití balíčků prostředků můžete snadno vytvářet vícejazyčné aplikace a operační systém se stará o instalaci těch, které se používají.</span><span class="sxs-lookup"><span data-stu-id="74c61-168">With the use of resource packages, you can easily create multilingual apps and the OS takes care of installing the ones that are used.</span></span>

#### <a name="network-optimization"></a><span data-ttu-id="74c61-169">Optimalizace sítě</span><span class="sxs-lookup"><span data-stu-id="74c61-169">Network optimization</span></span>

<span data-ttu-id="74c61-170">MSIX detekuje rozdíly souborů na úrovni bloku bajtů, které umožňují funkci s názvem rozdílové aktualizace.</span><span class="sxs-lookup"><span data-stu-id="74c61-170">MSIX detects the differences on the files at the byte block level enabling a feature called differential updates.</span></span> <span data-ttu-id="74c61-171">To znamená, že při aktualizacích aplikace byly staženy pouze aktualizované bloky bajtů.</span><span class="sxs-lookup"><span data-stu-id="74c61-171">What this means is that only the updated byte blocks are downloaded on application updates.</span></span>

![Diagram, který ukazuje, jak MSIX spravuje rozdílové aktualizace](./media/deploy-modern-applications/msix-managing-updates.png)

<span data-ttu-id="74c61-173">Při instalaci streamování může uživatel rychle začít pracovat na vaší aplikaci, zatímco ostatní části aplikace se stáhnou na pozadí.</span><span class="sxs-lookup"><span data-stu-id="74c61-173">With streaming installation, the user can quickly start working on your application while other parts of the app are downloaded on the background.</span></span> <span data-ttu-id="74c61-174">Tato funkce přispívá k poutavému prostředí pro vaše uživatele.</span><span class="sxs-lookup"><span data-stu-id="74c61-174">This feature contributes to an engaging experience for your users.</span></span>

<span data-ttu-id="74c61-175">Díky funkci volitelné balíčky budete v nasazení aplikace zacílit komponenty, takže je můžete v případě potřeby stáhnout.</span><span class="sxs-lookup"><span data-stu-id="74c61-175">With the optional packages feature, you achieve componentization on your app deployment, so you can download them when needed.</span></span>

#### <a name="simple-packaging-and-deployment"></a><span data-ttu-id="74c61-176">Jednoduché balení a nasazení</span><span class="sxs-lookup"><span data-stu-id="74c61-176">Simple packaging and deployment</span></span>

<span data-ttu-id="74c61-177">AppManifest deklaruje správu verzí, cílení na zařízení a identifikuje standardní způsob pro každou aplikaci.</span><span class="sxs-lookup"><span data-stu-id="74c61-177">The AppManifest declares the versioning, device targeting and identify in a standard way for every application.</span></span> <span data-ttu-id="74c61-178">Poskytuje také způsob, jak podepisovat prostředky, které poskytují základní bezpečnostní základ.</span><span class="sxs-lookup"><span data-stu-id="74c61-178">It also provides a way to sign your assets providing a solid security foundation.</span></span>

#### <a name="os-managed"></a><span data-ttu-id="74c61-179">Spravované operačním systémem</span><span class="sxs-lookup"><span data-stu-id="74c61-179">OS managed</span></span>

<span data-ttu-id="74c61-180">Operační systém zpracovává všechny procesy pro instalaci, aktualizaci a odebrání aplikace.</span><span class="sxs-lookup"><span data-stu-id="74c61-180">The OS handles all the processes for installing, updating, and removing an application.</span></span> <span data-ttu-id="74c61-181">Aplikace se instalují na uživatele, ale stáhnou se jenom jednou a minimalizují se nároky na disk.</span><span class="sxs-lookup"><span data-stu-id="74c61-181">Applications are installed per user but downloaded only once, minimizing the disk footprint.</span></span> <span data-ttu-id="74c61-182">Microsoft pracuje na poskytování MSIXho prostředí v systému Windows 7.</span><span class="sxs-lookup"><span data-stu-id="74c61-182">Microsoft is working on providing the MSIX experience also on Windows 7.</span></span>

#### <a name="windows-provides-integrity-for-the-app"></a><span data-ttu-id="74c61-183">Systém Windows poskytuje integritu pro aplikaci.</span><span class="sxs-lookup"><span data-stu-id="74c61-183">Windows provides integrity for the app</span></span>

<span data-ttu-id="74c61-184">Pomocí digitálních podpisů můžete zaručit, že nenainstalujete aplikaci z nedůvěryhodných zdrojů.</span><span class="sxs-lookup"><span data-stu-id="74c61-184">With the use of digital signatures, you can guarantee that you don't install an application from untrusted sources.</span></span> <span data-ttu-id="74c61-185">MSIX také brání manipulaci, protože:</span><span class="sxs-lookup"><span data-stu-id="74c61-185">MSIX also prevents tampering because:</span></span>

- <span data-ttu-id="74c61-186">Udržuje záznam hodnot hash souborů.</span><span class="sxs-lookup"><span data-stu-id="74c61-186">It keeps a record of file hashes.</span></span>
- <span data-ttu-id="74c61-187">Zjistí, zda byl soubor změněn po instalaci.</span><span class="sxs-lookup"><span data-stu-id="74c61-187">It detects if a file has been modified after installation.</span></span>

#### <a name="works-for-the-entire-app-catalog"></a><span data-ttu-id="74c61-188">Funguje pro celý katalog aplikací.</span><span class="sxs-lookup"><span data-stu-id="74c61-188">Works for the entire App Catalog</span></span>

<span data-ttu-id="74c61-189">Jednou z zajímavých věcí o MSIX je to, že funguje pro celý katalog aplikací, model Windows Forms, WPF, MFC/ATL, Delphi, a to i v případě, že chcete provést nasazení xCopy, ClickOnce nebo předávat do úložiště, můžete použít stejný balíček MSIX.</span><span class="sxs-lookup"><span data-stu-id="74c61-189">One of the coolest things about MSIX is that it works for the entire application catalog, Windows Forms, WPF, MFC/ATL, Delphi, even if you want to do xCopy deployment, ClickOnce, or going to the Store, you can use the same MSIX package.</span></span>

### <a name="tools"></a><span data-ttu-id="74c61-190">nástroje</span><span class="sxs-lookup"><span data-stu-id="74c61-190">Tools</span></span>

#### <a name="windows-application-packaging-project"></a><span data-ttu-id="74c61-191">Projekt Windows Application Packaging</span><span class="sxs-lookup"><span data-stu-id="74c61-191">Windows Application Packaging Project</span></span>

<span data-ttu-id="74c61-192">K vygenerování balíčku pro desktopovou aplikaci můžete použít projekt projekt **balení aplikace systému Windows**   v aplikaci Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="74c61-192">You can use the **Windows Application Packaging Project** project in Visual Studio to generate a package for your desktop app.</span></span> <span data-ttu-id="74c61-193">Pak můžete tento balíček publikovat do Microsoft Store nebo ho bokem na jeden nebo více počítačů.</span><span class="sxs-lookup"><span data-stu-id="74c61-193">Then, you can publish that package to the Microsoft Store or sideload it onto one or more PCs.</span></span>

#### <a name="msix-packaging-tool"></a><span data-ttu-id="74c61-194">Nástroj pro balení MSIX</span><span class="sxs-lookup"><span data-stu-id="74c61-194">MSIX Packaging Tool</span></span>

<span data-ttu-id="74c61-195">Nástroj pro sbalení MSIX umožňuje znovu zabalit stávající aplikace Win32 do formátu MSIX.</span><span class="sxs-lookup"><span data-stu-id="74c61-195">The MSIX Packaging Tool enables you to repackage your existing Win32 applications to the MSIX format.</span></span> <span data-ttu-id="74c61-196">Nabízí interaktivní uživatelské rozhraní a příkazový řádek pro převody a poskytuje možnost převést aplikaci bez zdrojového kódu.</span><span class="sxs-lookup"><span data-stu-id="74c61-196">It offers both an interactive UI and a command line for conversions and gives you the ability to convert an application without having the source code.</span></span>

![Nástroj pro balení MSIX](./media/deploy-modern-applications/msix-packaging-tool.png)

#### <a name="package-support-framework"></a><span data-ttu-id="74c61-198">Rámec podpory balíčku</span><span class="sxs-lookup"><span data-stu-id="74c61-198">Package Support Framework</span></span>

<span data-ttu-id="74c61-199">Rámec podpory balíčku je open-source sada, která vám pomůže použít opravy pro vaši stávající aplikaci Win32, pokud nemáte přístup ke zdrojovému kódu, aby ho bylo možné spustit v kontejneru MSIX.</span><span class="sxs-lookup"><span data-stu-id="74c61-199">The Package Support Framework is an open-source kit that helps you apply fixes to your existing Win32 application when you don't have access to the source code, so that it can run in an MSIX container.</span></span> <span data-ttu-id="74c61-200">Rozhraní podpory balíčků pomáhá vaší aplikaci dodržovat osvědčené postupy pro moderní běhové prostředí.</span><span class="sxs-lookup"><span data-stu-id="74c61-200">The Package Support Framework helps your application follow the best practices of the modern runtime environment.</span></span>

#### <a name="app-installer"></a><span data-ttu-id="74c61-201">Instalační program aplikace</span><span class="sxs-lookup"><span data-stu-id="74c61-201">App Installer</span></span>

<span data-ttu-id="74c61-202">Instalační program aplikace umožňuje instalaci aplikací pro Windows 10 dvojitým kliknutím na balíček aplikace.</span><span class="sxs-lookup"><span data-stu-id="74c61-202">App Installer allows Windows 10 apps to be installed by double-clicking the app package.</span></span> <span data-ttu-id="74c61-203">To znamená, že uživatelé nepotřebují k nasazování aplikací pro Windows 10 používat PowerShell ani jiné vývojářské nástroje.</span><span class="sxs-lookup"><span data-stu-id="74c61-203">This means that users don't need to use PowerShell or other developer tools to deploy Windows 10 apps.</span></span> <span data-ttu-id="74c61-204">Instalační program aplikace může také nainstalovat aplikaci z webu, volitelné balíčky a související sady.</span><span class="sxs-lookup"><span data-stu-id="74c61-204">The App Installer can also install an app from the web, optional packages, and related sets.</span></span>

## <a name="how-to-create-an-msix-package-from-an-existing-win32-desktop-application"></a><span data-ttu-id="74c61-205">Postup vytvoření balíčku MSIX z existující aplikace klasické pracovní plochy v systému Win32</span><span class="sxs-lookup"><span data-stu-id="74c61-205">How to create an MSIX package from an existing Win32 desktop application</span></span>

<span data-ttu-id="74c61-206">Pojďme si projít procesem vytvoření balíčku MSIX z existující aplikace Win32.</span><span class="sxs-lookup"><span data-stu-id="74c61-206">Let's go through the process to create an MSIX package from an existing Win32 application.</span></span> <span data-ttu-id="74c61-207">V tomto příkladu použijeme aplikaci model Windows Forms.</span><span class="sxs-lookup"><span data-stu-id="74c61-207">In this example, we'll use a Windows Forms app.</span></span>

<span data-ttu-id="74c61-208">Chcete-li začít, přidejte do řešení nový projekt, vyberte projekt balíčku aplikace systému Windows a pojmenujte ho.</span><span class="sxs-lookup"><span data-stu-id="74c61-208">To start, add a new project to your solution, select the Windows Application Packaging Project, and give it a name.</span></span>

![Přidání nového projektu pro balení aplikace pro systém Windows](./media/deploy-modern-applications/add-packaging-project.png)

<span data-ttu-id="74c61-210">Uvidíte strukturu projektu balení a poznamenejte si speciální složku s názvem *aplikace*.</span><span class="sxs-lookup"><span data-stu-id="74c61-210">You'll see the structure of the packaging project and note a special folder called *Applications*.</span></span> <span data-ttu-id="74c61-211">V této složce můžete určit, které aplikace chcete zahrnout do balíčku.</span><span class="sxs-lookup"><span data-stu-id="74c61-211">Inside this folder, you can specify which applications you want to include in the package.</span></span> <span data-ttu-id="74c61-212">Může to být více než jeden.</span><span class="sxs-lookup"><span data-stu-id="74c61-212">It can be more than one.</span></span>

![Struktura balícího projektu](./media/deploy-modern-applications/packaging-project.png)

<span data-ttu-id="74c61-214">Klikněte pravým tlačítkem na složku *aplikace* a vyberte projekt model Windows Forms, který chcete zabalit z řešení sady Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="74c61-214">Right-click on the *Applications* folder and select the Windows Forms project you want to package from the Visual Studio solution.</span></span>

![Přidání projektu model Windows Forms do balícího projektu](./media/deploy-modern-applications/add-winforms-project.png)

<span data-ttu-id="74c61-216">V tuto chvíli můžete balíček zkompilovat a vygenerovat, ale podívejme se na několik věcí.</span><span class="sxs-lookup"><span data-stu-id="74c61-216">At this point, you can compile and generate the package but let's examine a couple of things.</span></span> <span data-ttu-id="74c61-217">Aby bylo možné zajistit lepší činnost koncového uživatele, Visual Studio může vygenerovat všechny vizuální prostředky, které moderní aplikace potřebuje pro zpracování ikon a dlaždic pro panel dlaždice a nabídku Start.</span><span class="sxs-lookup"><span data-stu-id="74c61-217">To have a better user experience, Visual Studio can autogenerate all the visual assets a modern application needs to handle icons and tile assets for the tile bar and start menu.</span></span> <span data-ttu-id="74c61-218">Otevřete soubor *Package. appxmanifest* pro přístup k nástroji manifest Designer.</span><span class="sxs-lookup"><span data-stu-id="74c61-218">Open the *Package.appxmanifest* file to access the Manifest Designer.</span></span> <span data-ttu-id="74c61-219">Potom můžete vygenerovat všechny vizuální prostředky z dané image v projektu pouhým kliknutím na **vytvořit**.</span><span class="sxs-lookup"><span data-stu-id="74c61-219">You can then generate all the visual assets from a given image present on your project just by clicking **Create**.</span></span>

![Snímek obrazovky návrháře manifestu v aplikaci Visual Studio](./media/deploy-modern-applications/manifest-designer.png)

<span data-ttu-id="74c61-221">Pokud otevřete kód pro soubor *Package. appxmanifest* , uvidíte několik zajímavých věcí.</span><span class="sxs-lookup"><span data-stu-id="74c61-221">If you open the code for the *Package.appxmanifest* file, you can see a couple of interesting things.</span></span>

<span data-ttu-id="74c61-222">Vpravo pod `<Package>` , existuje `<Identity>` uzel.</span><span class="sxs-lookup"><span data-stu-id="74c61-222">Right under `<Package>`, there's an `<Identity>` node.</span></span> <span data-ttu-id="74c61-223">V takovém případě vaše zabalená aplikace získá svoji identitu, která bude spravovaná operačním systémem.</span><span class="sxs-lookup"><span data-stu-id="74c61-223">This is where your packaged application is going to get its identity, which will be managed by the OS.</span></span>

![Uzel identity](./media/deploy-modern-applications/identity-node.png)

<span data-ttu-id="74c61-225">V `<Capabilities>` uzlu můžete najít všechny požadavky, které aplikace potřebuje, a věnovat zvláštní pozornost nástroji `<rescap:Capability Name="runFullTrust" \>` , který INSTRUUJE operační systém, aby spustil aplikaci v režimu úplné důvěryhodnosti, protože se jedná o aplikaci Win32.</span><span class="sxs-lookup"><span data-stu-id="74c61-225">In the `<Capabilities>` node, you can find all the requirements the application needs, paying special attention to the `<rescap:Capability Name="runFullTrust" \>`, which tells the OS to run the app in full trust mode since it's a Win32 application.</span></span>

![Uzel schopností](./media/deploy-modern-applications/capabilities-node.png)

<span data-ttu-id="74c61-227">Nastavte projekt balení jako spouštěný projekt pro řešení a vyberte *Spustit*.</span><span class="sxs-lookup"><span data-stu-id="74c61-227">Set the packaging project as the startup project for the solution and select *Run*.</span></span> <span data-ttu-id="74c61-228">Tato akce:</span><span class="sxs-lookup"><span data-stu-id="74c61-228">This is going to:</span></span>

- <span data-ttu-id="74c61-229">Zkompilujte aplikaci model Windows Forms.</span><span class="sxs-lookup"><span data-stu-id="74c61-229">Compile the Windows Forms application.</span></span>
- <span data-ttu-id="74c61-230">Vytvořte z výsledků sestavení balíček MSIX.</span><span class="sxs-lookup"><span data-stu-id="74c61-230">Create an MSIX package out of the build results.</span></span>
- <span data-ttu-id="74c61-231">Nasaďte balíčky.</span><span class="sxs-lookup"><span data-stu-id="74c61-231">Deploy the packages.</span></span>
- <span data-ttu-id="74c61-232">Nainstalujte ji místně na vývojovém počítači.</span><span class="sxs-lookup"><span data-stu-id="74c61-232">Install it locally on the development machine.</span></span>
- <span data-ttu-id="74c61-233">Spustit aplikaci</span><span class="sxs-lookup"><span data-stu-id="74c61-233">Launch the app.</span></span>

![Naše nainstalovaná aplikace](./media/deploy-modern-applications/our-installed-application.png)

<span data-ttu-id="74c61-235">Díky tomu máte k dispozici čisté prostředí pro instalaci a odinstalaci, které MSIX poskytuje plně integrovanou do Windows 10.</span><span class="sxs-lookup"><span data-stu-id="74c61-235">With this, you have the clean install and uninstall experience that MSIX provides fully integrated into Windows 10.</span></span>

<span data-ttu-id="74c61-236">Poslední fáze je o tom, jak balíček MSIX nasadit do jiného počítače.</span><span class="sxs-lookup"><span data-stu-id="74c61-236">The final stage is about how you deploy the MSIX package to another machine.</span></span>

<span data-ttu-id="74c61-237">Klikněte pravým tlačítkem na projekt balení, vyberte nabídku **úložiště** a pak vyberte možnost **vytvořit balíčky aplikací** .</span><span class="sxs-lookup"><span data-stu-id="74c61-237">Right-click on the packaging project, select the **Store** menu, and then select the **Create App Packages** option.</span></span>

<span data-ttu-id="74c61-238">Pak si můžete vybrat mezi vytvořením balíčku, který se má nahrát do Storu, nebo vytvářet balíčky pro zkušební načtení.</span><span class="sxs-lookup"><span data-stu-id="74c61-238">Then, you can choose between creating a package to upload to the store or creating packages for sideloading.</span></span> <span data-ttu-id="74c61-239">Ve většině scénářů modernizace si zvolíte, že **chcete vytvořit balíčky pro zkušební načtení**.</span><span class="sxs-lookup"><span data-stu-id="74c61-239">In most modernization scenarios, you'll choose **I want to create packages for sideloading**.</span></span>

![Konfigurace balíčků](./media/deploy-modern-applications/configuring-packages.png)

<span data-ttu-id="74c61-241">Můžete vybrat různé architektury, které chcete cílit, protože můžete do stejného balíčku MSIX zahrnout tolik, kolik chcete.</span><span class="sxs-lookup"><span data-stu-id="74c61-241">There you can select the different architectures you want to target as you can include as many as you want into the same MSIX package.</span></span>

<span data-ttu-id="74c61-242">Posledním krokem je deklarovat, kam chcete nasadit finální prostředky instalace.</span><span class="sxs-lookup"><span data-stu-id="74c61-242">The final step is to declare where you want to deploy the final installation assets.</span></span>

![Konfigurovat nastavení aktualizací](./media/deploy-modern-applications/configure-update-settings.png)

<span data-ttu-id="74c61-244">Na podnikových souborových serverech se můžete rozhodnout pro použití webového serveru se sdílenou cestou UNC.</span><span class="sxs-lookup"><span data-stu-id="74c61-244">You can choose to use a web server of a shared UNC path on your enterprise file servers.</span></span> <span data-ttu-id="74c61-245">Věnujte pozornost nastavení, abyste určili, jak chcete aplikaci aktualizovat.</span><span class="sxs-lookup"><span data-stu-id="74c61-245">Pay attention to the settings to specify how you want to update your application.</span></span> <span data-ttu-id="74c61-246">Do další části budeme zabývat aktualizacemi aplikací.</span><span class="sxs-lookup"><span data-stu-id="74c61-246">We'll cover application updates in the next section.</span></span>

<span data-ttu-id="74c61-247">Podrobný návod najdete v tématu [sbalení desktopové aplikace ze zdrojového kódu pomocí sady Visual Studio](/windows/msix/desktop/desktop-to-uwp-packaging-dot-net).</span><span class="sxs-lookup"><span data-stu-id="74c61-247">For a detailed step-by-step guide, see [Package a desktop app from source code using Visual Studio](/windows/msix/desktop/desktop-to-uwp-packaging-dot-net).</span></span>

## <a name="auto-updates-in-msix"></a><span data-ttu-id="74c61-248">Automatické aktualizace v MSIX</span><span class="sxs-lookup"><span data-stu-id="74c61-248">Auto Updates in MSIX</span></span>

<span data-ttu-id="74c61-249">Windows Store má skvělý mechanismus aktualizace pomocí web Windows Update.</span><span class="sxs-lookup"><span data-stu-id="74c61-249">The Windows Store has a great updating mechanism using Windows Update.</span></span> <span data-ttu-id="74c61-250">Ve většině podnikových scénářů nepoužíváte Store k distribuci desktopových aplikací.</span><span class="sxs-lookup"><span data-stu-id="74c61-250">In most enterprise scenarios, you don't use the Store to distribute your desktop apps.</span></span> <span data-ttu-id="74c61-251">Proto potřebujete podobný způsob konfigurace aktualizací aplikace a jejich vyžádání uživatelům.</span><span class="sxs-lookup"><span data-stu-id="74c61-251">So, you need a similar way to configure updates for your application and pull them to your users.</span></span>

<span data-ttu-id="74c61-252">Pomocí kombinace funkcí Windows 10 a balíčků MSIX můžete uživatelům poskytnout skvělé možnosti aktualizace.</span><span class="sxs-lookup"><span data-stu-id="74c61-252">Using a combination of Windows 10 features and MSIX packages, you can provide a great updating experience for your users.</span></span> <span data-ttu-id="74c61-253">Ve skutečnosti nemusí být uživatel vůbec technický, ale bude mít k dispozici bezproblémové možnosti aktualizace aplikací.</span><span class="sxs-lookup"><span data-stu-id="74c61-253">In fact, the user doesn't need to be technical at all but still benefit from a seamless application update experience.</span></span>

<span data-ttu-id="74c61-254">Aktualizace pro interakci s uživatelem můžete nakonfigurovat dvěma různými způsoby:</span><span class="sxs-lookup"><span data-stu-id="74c61-254">You can configure your updates to interact with the user in two different ways:</span></span>

- <span data-ttu-id="74c61-255">Aktualizace pro uživatele: operační systém zobrazuje některé automaticky vygenerované uživatelské rozhraní s dobrým uživatelským rozhraním, které uživateli oznamuje, že aplikace se chystá nainstalovat.</span><span class="sxs-lookup"><span data-stu-id="74c61-255">User prompted updates: The OS shows some autogenerated nice UI to notify the user about the application is about to install.</span></span> <span data-ttu-id="74c61-256">Toto uživatelské rozhraní sestaví na základě vlastností, které zadáte na instalačních souborech.</span><span class="sxs-lookup"><span data-stu-id="74c61-256">It builds this UI based on the properties you specify on your installation files.</span></span>

- <span data-ttu-id="74c61-257">Tiché aktualizace na pozadí.</span><span class="sxs-lookup"><span data-stu-id="74c61-257">Silent updates in the background.</span></span> <span data-ttu-id="74c61-258">Díky této možnosti si uživatelé nemusejí být vědomi aktualizací.</span><span class="sxs-lookup"><span data-stu-id="74c61-258">With this option, your users don't need to be aware of the updates.</span></span>

<span data-ttu-id="74c61-259">Můžete také nakonfigurovat, kdy chcete provádět aktualizace, když se aplikace spouští nebo pravidelně spouští.</span><span class="sxs-lookup"><span data-stu-id="74c61-259">You can also configure when you want to perform updates, when the application launches or on a regular basis.</span></span> <span data-ttu-id="74c61-260">Díky funkcím pro načítání na straně stran můžete tyto aktualizace dokonce získat i v době, kdy je aplikace spuštěná.</span><span class="sxs-lookup"><span data-stu-id="74c61-260">Thanks to the side-loading features, you can even get these updates while the application is running.</span></span>

<span data-ttu-id="74c61-261">Když použijete tento typ nasazení, vytvoří se speciální soubor s názvem *. instalačního programu aplikace*.</span><span class="sxs-lookup"><span data-stu-id="74c61-261">When you use this type of deployment, a special file is created called *.appinstaller*.</span></span> <span data-ttu-id="74c61-262">Tento jednoduchý soubor obsahuje následující oddíly:</span><span class="sxs-lookup"><span data-stu-id="74c61-262">This simple file contains the following sections:</span></span>

- <span data-ttu-id="74c61-263">Umístění souboru *. instalačního programu aplikace*</span><span class="sxs-lookup"><span data-stu-id="74c61-263">The location of the *.appinstaller* file</span></span>
- <span data-ttu-id="74c61-264">Vlastnosti hlavního balíčku aplikace MSIX</span><span class="sxs-lookup"><span data-stu-id="74c61-264">The application's main MSIX package properties</span></span>
- <span data-ttu-id="74c61-265">Chování aktualizace</span><span class="sxs-lookup"><span data-stu-id="74c61-265">The update behavior</span></span>

![soubor. instalačního programu aplikace](./media/deploy-modern-applications/appinstaller-file.png)

<span data-ttu-id="74c61-267">V kombinaci s tímto souborem navrhl Microsoft speciální protokol URL pro spuštění procesu instalace z odkazu:</span><span class="sxs-lookup"><span data-stu-id="74c61-267">In combination with this file, Microsoft has designed a special URL protocol to launch the installation process from a link:</span></span>

```xml
<a href="ms-appinstaller:?source=http://mywebservice.azureedge.net/MyApp.msix">Install app package </a>
```

<span data-ttu-id="74c61-268">Tento protokol funguje na všech prohlížečích a spustí proces instalace s skvělým uživatelským prostředím ve Windows 10.</span><span class="sxs-lookup"><span data-stu-id="74c61-268">This protocol works on all browsers and launches the installation process with a great user experience on Windows 10.</span></span> <span data-ttu-id="74c61-269">Vzhledem k tomu, že operační systém spravuje proces instalace, ví o umístění, ze kterého byla tato aplikace nainstalována, a sleduje všechny soubory ovlivněné procesem.</span><span class="sxs-lookup"><span data-stu-id="74c61-269">Since the OS manages the installation process, it's aware of the location this application was installed from and tracks all the files affected by the process.</span></span>

<span data-ttu-id="74c61-270">MSIX vytvoří uživatelské rozhraní pro instalaci, které automaticky zobrazí některé vlastnosti balíčku.</span><span class="sxs-lookup"><span data-stu-id="74c61-270">MSIX creates a user interface for installation automatically showing some properties of the package.</span></span> <span data-ttu-id="74c61-271">To umožňuje běžné instalační prostředí pro každou aplikaci.</span><span class="sxs-lookup"><span data-stu-id="74c61-271">This allows for a common installation experience for every app.</span></span>

<span data-ttu-id="74c61-272">Po vygenerování nového balíčku MSIX a jeho přesunutí na server nasazení stačí upravit soubor *. instalačního programu aplikace* , aby odrážel tyto změny, hlavně verzi a cestu k novému souboru MSIX.</span><span class="sxs-lookup"><span data-stu-id="74c61-272">Once you've generated the new MSIX package and moved it to the deployment server, you just have to edit the *.appinstaller* file to reflect these changes, mainly the version and the path to the new MSIX file.</span></span> <span data-ttu-id="74c61-273">Když uživatel příště spustí aplikaci, systém bude detekovat změnu a stáhnout soubory pro novou verzi na pozadí.</span><span class="sxs-lookup"><span data-stu-id="74c61-273">The next time the user launches the application, the system is going to detect the change and download the files for the new version in the background.</span></span> <span data-ttu-id="74c61-274">Až to uděláte, instalace se spustí pro uživatele, který se bude transparentně spouštět.</span><span class="sxs-lookup"><span data-stu-id="74c61-274">When this is done, installation will execute on new application launch transparently for your user.</span></span>

>[!div class="step-by-step"]
>[<span data-ttu-id="74c61-275">Předchozí</span><span class="sxs-lookup"><span data-stu-id="74c61-275">Previous</span></span>](example-migration-core.md)
