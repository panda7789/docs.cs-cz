---
title: Visual Studio Tools for Docker ve Windows
description: Získejte informace o nástrojích Docker dostupných v aplikaci Visual Studio 2017 verze 15,7 a novější.
ms.date: 08/06/2020
ms.custom: vs-dotnet
ms.openlocfilehash: 74cffaae5885a7079ec774b1e8c68241cddda99a
ms.sourcegitcommit: ef50c99928183a0bba75e07b9f22895cd4c480f8
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 08/07/2020
ms.locfileid: "87915348"
---
# <a name="use-docker-tools-in-visual-studio-on-windows"></a><span data-ttu-id="5a0bc-103">Použití nástrojů Docker v aplikaci Visual Studio ve Windows</span><span class="sxs-lookup"><span data-stu-id="5a0bc-103">Use Docker Tools in Visual Studio on Windows</span></span>

<span data-ttu-id="5a0bc-104">Pracovní postup vývojáře při použití nástrojů Docker, který je součástí sady Visual Studio 2017 verze 15,7 a novější, je podobný použití Visual Studio Code a Docker CLI (ve skutečnosti je založen na stejném rozhraní příkazového řádku Docker), ale je snazší ho snadno spustit, zjednodušit proces a poskytuje větší produktivitu pro vytváření, spouštění a vytváření úloh.</span><span class="sxs-lookup"><span data-stu-id="5a0bc-104">The developer workflow when using the Docker Tools included in Visual Studio 2017 version 15.7 and later, is similar to using Visual Studio Code and Docker CLI (in fact, it's based on the same Docker CLI), but it's easier to get started, simplifies the process, and provides greater productivity for the build, run, and compose tasks.</span></span> <span data-ttu-id="5a0bc-105">Může také spouštět a ladit kontejnery prostřednictvím běžných `F5` `Ctrl+F5` klíčů a z aplikace Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="5a0bc-105">It can also run and debug your containers via the usual `F5` and `Ctrl+F5` keys from Visual Studio.</span></span> <span data-ttu-id="5a0bc-106">Můžete dokonce ladit celé řešení, pokud jsou jeho kontejnery definovány ve stejném souboru na `docker-compose.yml` úrovni řešení.</span><span class="sxs-lookup"><span data-stu-id="5a0bc-106">You can even debug a whole solution if its containers are defined in the same `docker-compose.yml` file at the solution level.</span></span>

## <a name="configure-your-local-environment"></a><span data-ttu-id="5a0bc-107">Konfigurace místního prostředí</span><span class="sxs-lookup"><span data-stu-id="5a0bc-107">Configure your local environment</span></span>

<span data-ttu-id="5a0bc-108">S nejnovějšími verzemi Docker for Windows je snazší než dřív vyvíjet aplikace Docker, protože nastavení je jednoduché, jak je vysvětleno v následujících odkazech.</span><span class="sxs-lookup"><span data-stu-id="5a0bc-108">With the latest versions of Docker for Windows, it's easier than ever to develop Docker applications because the setup is straightforward, as explained in the following references.</span></span>

> [!TIP]
> <span data-ttu-id="5a0bc-109">Další informace o instalaci Docker for Windows najdete na webu ( <https://docs.docker.com/docker-for-windows/> ).</span><span class="sxs-lookup"><span data-stu-id="5a0bc-109">To learn more about installing Docker for Windows, go to (<https://docs.docker.com/docker-for-windows/>).</span></span>

## <a name="docker-support-in-visual-studio"></a><span data-ttu-id="5a0bc-110">Podpora Docker v aplikaci Visual Studio</span><span class="sxs-lookup"><span data-stu-id="5a0bc-110">Docker support in Visual Studio</span></span>

<span data-ttu-id="5a0bc-111">Existují dvě úrovně podpory Docker, které můžete přidat do projektu.</span><span class="sxs-lookup"><span data-stu-id="5a0bc-111">There are two levels of Docker support you can add to a project.</span></span> <span data-ttu-id="5a0bc-112">V ASP.NET Core projekty můžete pouze přidat `Dockerfile` soubor do projektu povolením podpory Docker.</span><span class="sxs-lookup"><span data-stu-id="5a0bc-112">In ASP.NET Core projects, you can just add a `Dockerfile` file to the project by enabling Docker support.</span></span> <span data-ttu-id="5a0bc-113">Další úrovní je podpora orchestrace kontejnerů, která přidá `Dockerfile` do projektu (Pokud ještě neexistuje) a `docker-compose.yml` soubor na úrovni řešení.</span><span class="sxs-lookup"><span data-stu-id="5a0bc-113">The next level is container orchestration support, which adds a `Dockerfile` to the project (if it doesn't already exist) and a `docker-compose.yml` file at the solution level.</span></span> <span data-ttu-id="5a0bc-114">Podpora orchestrace kontejnerů, prostřednictvím Docker Compose, je ve výchozím nastavení přidána v aplikaci Visual Studio 2017 verze 15,0 na 15,7.</span><span class="sxs-lookup"><span data-stu-id="5a0bc-114">Container orchestration support, via Docker Compose, is added by default in Visual Studio 2017 versions 15.0 to 15.7.</span></span> <span data-ttu-id="5a0bc-115">Podpora orchestrace kontejnerů je funkce výslovného souhlasu v aplikaci Visual Studio 2017 verze 15,8 nebo novější.</span><span class="sxs-lookup"><span data-stu-id="5a0bc-115">Container orchestration support is an opt-in feature in Visual Studio 2017 versions 15.8 or later.</span></span> <span data-ttu-id="5a0bc-116">Visual Studio 2019 a novější podporuje taky nasazení **Kubernetes/Helm** .</span><span class="sxs-lookup"><span data-stu-id="5a0bc-116">Visual Studio 2019 and later supports **Kubernetes/Helm** deployment as well.</span></span>

<span data-ttu-id="5a0bc-117">Příkazy **Přidat podporu > Docker** a **Přidat > kontejneru nástroje Orchestrator** jsou umístěné v místní nabídce (nebo v kontextové nabídce) uzlu projektu pro ASP.NET Core projektu v **Průzkumník řešení**, jak je znázorněno na obrázku 4-31:</span><span class="sxs-lookup"><span data-stu-id="5a0bc-117">The **Add > Docker Support** and **Add > Container Orchestrator Support** commands are located on the right-click menu (or context menu) of the project node for an ASP.NET Core project in **Solution Explorer**, as shown in Figure 4-31:</span></span>

![Přidat možnost nabídky Docker support v aplikaci Visual Studio](media/add-docker-support-menu.png)

<span data-ttu-id="5a0bc-119">**Obrázek 4-31**.</span><span class="sxs-lookup"><span data-stu-id="5a0bc-119">**Figure 4-31**.</span></span> <span data-ttu-id="5a0bc-120">Přidání podpory Docker do projektu sady Visual Studio 2019</span><span class="sxs-lookup"><span data-stu-id="5a0bc-120">Adding Docker support to a Visual Studio 2019 project</span></span>

### <a name="add-docker-support"></a><span data-ttu-id="5a0bc-121">Přidání podpory Dockeru</span><span class="sxs-lookup"><span data-stu-id="5a0bc-121">Add Docker support</span></span>

<span data-ttu-id="5a0bc-122">Kromě možnosti přidat podporu Docker do existující aplikace, jak je znázorněno v předchozí části, můžete také povolit podporu Docker během vytváření projektu výběrem možnosti **Povolit podporu Docker** v dialogovém okně **Nový ASP.NET Core webové aplikace** , které se otevře po kliknutí na tlačítko **OK** v dialogovém okně **Nový projekt** , jak je znázorněno na obrázku 4-32.</span><span class="sxs-lookup"><span data-stu-id="5a0bc-122">Besides the option to add Docker support to an existing application, as shown in the previous section, you can also enable Docker support during project creation by selecting **Enable Docker Support** in the **New ASP.NET Core Web Application** dialog box that opens after you click **OK** in the **New Project** dialog box, as shown in Figure 4-32.</span></span>

![Povolit podporu Docker pro novou ASP.NET Core webovou aplikaci v aplikaci Visual Studio](media/enable-docker-support-visual-studio.png)

<span data-ttu-id="5a0bc-124">**Obrázek 4-32**.</span><span class="sxs-lookup"><span data-stu-id="5a0bc-124">**Figure 4-32**.</span></span> <span data-ttu-id="5a0bc-125">Povolit podporu Docker během vytváření projektu v aplikaci Visual Studio 2019</span><span class="sxs-lookup"><span data-stu-id="5a0bc-125">Enable Docker support during project creation in Visual Studio 2019</span></span>

<span data-ttu-id="5a0bc-126">Když přidáte nebo povolíte podporu Docker, Visual Studio přidá do projektu soubor _souboru Dockerfile_ , který obsahuje odkazy na všechny požadované projekty z řešení.</span><span class="sxs-lookup"><span data-stu-id="5a0bc-126">When you add or enable Docker support, Visual Studio adds a _Dockerfile_ file to the project, that includes references to all required project from the solution.</span></span>

### <a name="add-container-orchestration-support"></a><span data-ttu-id="5a0bc-127">Přidat podporu orchestrace kontejnerů</span><span class="sxs-lookup"><span data-stu-id="5a0bc-127">Add container orchestration support</span></span>

<span data-ttu-id="5a0bc-128">Pokud chcete vytvořit řešení s více kontejnery, přidejte do svých projektů podporu orchestrace kontejnerů.</span><span class="sxs-lookup"><span data-stu-id="5a0bc-128">When you want to compose a multi-container solution, add container orchestration support to your projects.</span></span> <span data-ttu-id="5a0bc-129">To vám umožní spouštět a ladit skupinu kontejnerů (celého řešení) ve stejnou dobu, pokud jsou definované ve stejném souboru _Docker-Compose. yml_ .</span><span class="sxs-lookup"><span data-stu-id="5a0bc-129">This lets you run and debug a group of containers (a whole solution) at the same time if they're defined in the same _docker-compose.yml_ file.</span></span>

<span data-ttu-id="5a0bc-130">Chcete-li přidat podporu orchestrace kontejnerů, klikněte pravým tlačítkem myši na uzel řešení nebo projektu v **Průzkumník řešení**a vyberte možnost **Přidat > podporu orchestrace kontejnerů**.</span><span class="sxs-lookup"><span data-stu-id="5a0bc-130">To add container orchestration support, right-click on the solution or project node in **Solution Explorer**, and choose **Add > Container Orchestration Support**.</span></span> <span data-ttu-id="5a0bc-131">Pak zvolte **Kubernetes/Helm** nebo **Docker Compose** pro správu kontejnerů.</span><span class="sxs-lookup"><span data-stu-id="5a0bc-131">Then choose **Kubernetes/Helm** or **Docker Compose** to manage the containers.</span></span>

<span data-ttu-id="5a0bc-132">Po přidání podpory orchestrace kontejnerů do projektu se zobrazí souboru Dockerfile do projektu a do složky **Docker-Docker** přidané do řešení v **Průzkumník řešení**, jak je znázorněno na obrázku 4-33:</span><span class="sxs-lookup"><span data-stu-id="5a0bc-132">After you add container orchestration support to your project, you see a Dockerfile added to the project and a **docker-compose** folder added to the solution in **Solution Explorer**, as shown in Figure 4-33:</span></span>

![Soubory Docker v Průzkumník řešení v aplikaci Visual Studio](media/docker-support-solution-explorer.png)

<span data-ttu-id="5a0bc-134">**Obrázek 4-33**.</span><span class="sxs-lookup"><span data-stu-id="5a0bc-134">**Figure 4-33**.</span></span> <span data-ttu-id="5a0bc-135">Soubory Docker v Průzkumník řešení v aplikaci Visual Studio 2019</span><span class="sxs-lookup"><span data-stu-id="5a0bc-135">Docker files in Solution Explorer in Visual Studio 2019</span></span>

<span data-ttu-id="5a0bc-136">Pokud _Docker-Compose. yml_ už existuje, Visual Studio přidá do něj požadované řádky konfiguračního kódu.</span><span class="sxs-lookup"><span data-stu-id="5a0bc-136">If _docker-compose.yml_ already exists, Visual Studio just adds the required lines of configuration code to it.</span></span>

## <a name="configure-docker-tools"></a><span data-ttu-id="5a0bc-137">Konfigurace nástrojů Docker</span><span class="sxs-lookup"><span data-stu-id="5a0bc-137">Configure Docker tools</span></span>

<span data-ttu-id="5a0bc-138">V hlavní nabídce vyberte **nástroje > možnosti**a rozbalte položku **nástroje kontejneru > nastavení**.</span><span class="sxs-lookup"><span data-stu-id="5a0bc-138">From the main menu, choose **Tools > Options**, and expand **Container Tools > Settings**.</span></span> <span data-ttu-id="5a0bc-139">Zobrazí se nastavení nástroje kontejneru.</span><span class="sxs-lookup"><span data-stu-id="5a0bc-139">The container tools settings appear.</span></span>

![Možnosti nástrojů Docker pro Visual Studio, které zobrazují tři stránky: Obecné, jeden projekt a Docker Compose, podrobnosti najdete v textu článku.](media/visual-studio-docker-tools-options.png)

<span data-ttu-id="5a0bc-141">**Obrázek 4-34**.</span><span class="sxs-lookup"><span data-stu-id="5a0bc-141">**Figure 4-34**.</span></span> <span data-ttu-id="5a0bc-142">Možnosti nástrojů Docker</span><span class="sxs-lookup"><span data-stu-id="5a0bc-142">Docker Tools Options</span></span>

<span data-ttu-id="5a0bc-143">Následující tabulka vám může pomáhat při rozhodování, jak tyto možnosti nastavit.</span><span class="sxs-lookup"><span data-stu-id="5a0bc-143">The following table might help you decide how to set these options.</span></span>

| <span data-ttu-id="5a0bc-144">Stránka/nastavení</span><span class="sxs-lookup"><span data-stu-id="5a0bc-144">Page/Setting</span></span>                                |  <span data-ttu-id="5a0bc-145">Výchozí nastavení</span><span class="sxs-lookup"><span data-stu-id="5a0bc-145">Default Setting</span></span>   | <span data-ttu-id="5a0bc-146">Description</span><span class="sxs-lookup"><span data-stu-id="5a0bc-146">Description</span></span>                                                                                                                                                                                                                                                                                                                                                                                                           |
| ------------------------------------------- | :----------------: | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| <span data-ttu-id="5a0bc-147">**Stránka Obecné**</span><span class="sxs-lookup"><span data-stu-id="5a0bc-147">**General page**</span></span>                            |
| <span data-ttu-id="5a0bc-148">V případě potřeby nainstalovat Docker Desktop</span><span class="sxs-lookup"><span data-stu-id="5a0bc-148">Install Docker Desktop if needed</span></span>            |     <span data-ttu-id="5a0bc-149">Zobrazit výzvu</span><span class="sxs-lookup"><span data-stu-id="5a0bc-149">Prompt me</span></span>      |
| <span data-ttu-id="5a0bc-150">V případě potřeby spustit Docker Desktop</span><span class="sxs-lookup"><span data-stu-id="5a0bc-150">Start Docker Desktop if needed</span></span>              |     <span data-ttu-id="5a0bc-151">Zobrazit výzvu</span><span class="sxs-lookup"><span data-stu-id="5a0bc-151">Prompt me</span></span>      |
| <span data-ttu-id="5a0bc-152">Důvěryhodný ASP.NET Core certifikát SSL</span><span class="sxs-lookup"><span data-stu-id="5a0bc-152">Trust ASP.NET Core SSL certificate</span></span>          |     <span data-ttu-id="5a0bc-153">Zobrazit výzvu</span><span class="sxs-lookup"><span data-stu-id="5a0bc-153">Prompt me</span></span>      | <span data-ttu-id="5a0bc-154">Pokud certifikát SSL místního hostitele není označený jako důvěryhodný (with `dotnet dev-certs https --trust` ), Visual Studio se při každém spuštění projektu zobrazí dotaz.</span><span class="sxs-lookup"><span data-stu-id="5a0bc-154">If the localhost SSL certificate hasn't been marked as trusted (with `dotnet dev-certs https --trust`), Visual Studio will prompt every time you run your project.</span></span>                                                                                                                                                                                                                                                    |
| <span data-ttu-id="5a0bc-155">**Jedna stránka projektu**</span><span class="sxs-lookup"><span data-stu-id="5a0bc-155">**Single Project page**</span></span>                     |
| <span data-ttu-id="5a0bc-156">Při otevření projektu vyžadovat vyžádání imagí Docker</span><span class="sxs-lookup"><span data-stu-id="5a0bc-156">Pull required Docker images on project open</span></span> |        <span data-ttu-id="5a0bc-157">Ano</span><span class="sxs-lookup"><span data-stu-id="5a0bc-157">True</span></span>        | <span data-ttu-id="5a0bc-158">Aby se zvýšil výkon při spuštění projektu, Visual Studio spustí operaci vyžádání obsahu Docker na pozadí, takže až budete připraveni ke spuštění kódu, image už je stažená nebo v procesu stahování.</span><span class="sxs-lookup"><span data-stu-id="5a0bc-158">For increased performance when running the project, Visual Studio will start a Docker pull operation in the background so that when you're ready to run your code, the image is already downloaded or in the process of downloading.</span></span> <span data-ttu-id="5a0bc-159">Pokud načítáte pouze projekty a kód procházení, můžete tuto možnost vypnout, aby nedocházelo ke stahování imagí kontejneru, které nepotřebujete.</span><span class="sxs-lookup"><span data-stu-id="5a0bc-159">If you're just loading projects and browsing code, you can turn this off to avoid downloading container images you don't need.</span></span> <span data-ttu-id="5a0bc-160">To může zpomalit uživatelské prostředí otevřeného projektu.</span><span class="sxs-lookup"><span data-stu-id="5a0bc-160">This could slow the open project user experience.</span></span> |
| <span data-ttu-id="5a0bc-161">Stažení aktualizovaných imagí Docker při načtení projektu</span><span class="sxs-lookup"><span data-stu-id="5a0bc-161">Pull updated Docker images on project load</span></span>  | <span data-ttu-id="5a0bc-162">Projekty .NET Core</span><span class="sxs-lookup"><span data-stu-id="5a0bc-162">.NET Core projects</span></span> | <span data-ttu-id="5a0bc-163">Získejte aktualizace stávajících imagí, abyste získali nejnovější aktualizace otevřeného projektu.</span><span class="sxs-lookup"><span data-stu-id="5a0bc-163">Pull updates to existing images to get the latest updates on project open.</span></span> <span data-ttu-id="5a0bc-164">To může zpomalit uživatelské prostředí otevřeného projektu.</span><span class="sxs-lookup"><span data-stu-id="5a0bc-164">This could slow the open project user experience.</span></span>                                                                                                                                                                                                                                                                                          |
| <span data-ttu-id="5a0bc-165">Odebrat kontejnery při zavření projektu</span><span class="sxs-lookup"><span data-stu-id="5a0bc-165">Remove containers on project close</span></span>          |        <span data-ttu-id="5a0bc-166">Ano</span><span class="sxs-lookup"><span data-stu-id="5a0bc-166">True</span></span>        | <span data-ttu-id="5a0bc-167">Vyčištění při zavření projektu, to může zpomalit činnost koncového uživatele projektu, ale většinou je to ale rychlé.</span><span class="sxs-lookup"><span data-stu-id="5a0bc-167">Clean up on project close, This could slow the close project user experience but it's usually fast anyway.</span></span>                                                                                                                                                                                                                                                                                                            |
| <span data-ttu-id="5a0bc-168">Spustit kontejnery v otevřeném projektu</span><span class="sxs-lookup"><span data-stu-id="5a0bc-168">Run containers on project open</span></span>              |        <span data-ttu-id="5a0bc-169">Ano</span><span class="sxs-lookup"><span data-stu-id="5a0bc-169">True</span></span>        | <span data-ttu-id="5a0bc-170">Pro zvýšení výkonu při spuštění projektu Visual Studio spustí všechny kontejnery v řešení.</span><span class="sxs-lookup"><span data-stu-id="5a0bc-170">For increased performance when running the project, Visual Studio will start all containers in the solution.</span></span> <span data-ttu-id="5a0bc-171">To může zpomalit uživatelské prostředí otevřeného projektu.</span><span class="sxs-lookup"><span data-stu-id="5a0bc-171">This could slow the open project user experience.</span></span>                                                                                                                                                                                                                                                        |
| <span data-ttu-id="5a0bc-172">**Docker Compose**</span><span class="sxs-lookup"><span data-stu-id="5a0bc-172">**Docker Compose**</span></span>                          |                    | <span data-ttu-id="5a0bc-173">Stránka Docker Compose obsahuje stejné nastavení jako jedna stránka projektu, ale platí pro řešení s více kontejnery.</span><span class="sxs-lookup"><span data-stu-id="5a0bc-173">The Docker Compose page contains the same settings as the Single Project page, but they apply to multi-container solutions.</span></span>                                                                                                                                                                                                                                                                                           |

> [!WARNING]
> <span data-ttu-id="5a0bc-174">Pokud certifikát localhost místního hostitele není důvěryhodný a nastavíte možnost **nikdy**, nemusí webové požadavky HTTPS za běhu ve vaší aplikaci nebo službě selhat.</span><span class="sxs-lookup"><span data-stu-id="5a0bc-174">If the localhost SSL certificate is not trusted, and you set the option to **Never**, then HTTPS web requests might fail at runtime in your app or service.</span></span> <span data-ttu-id="5a0bc-175">V takovém případě znovu nastavte hodnotu znovu, aby se **zobrazila výzva** , nebo ještě lepší, aby certifikáty ve vývojovém počítači důvěřovaly pomocí příkazu `dotnet dev-certs https --trust` .</span><span class="sxs-lookup"><span data-stu-id="5a0bc-175">In that case, set the value back again to **Prompt me** or, better again, trust the certificates in your dev machine using the command `dotnet dev-certs https --trust`.</span></span>

> [!TIP]
> <span data-ttu-id="5a0bc-176">Další podrobnosti o implementaci služeb a použití Visual Studio Tools for Docker najdete v následujících článcích:</span><span class="sxs-lookup"><span data-stu-id="5a0bc-176">For further details on the services implementation and use of Visual Studio Tools for Docker, read the following articles:</span></span>
>
> <span data-ttu-id="5a0bc-177">Ladění aplikací v místním kontejneru Docker:<https://docs.microsoft.com/azure/vs-azure-tools-docker-edit-and-refresh></span><span class="sxs-lookup"><span data-stu-id="5a0bc-177">Debug apps in a local Docker container: <https://docs.microsoft.com/azure/vs-azure-tools-docker-edit-and-refresh></span></span>
>
> <span data-ttu-id="5a0bc-178">Nasazení kontejneru ASP.NET do registru kontejneru pomocí sady Visual Studio:<https://docs.microsoft.com/azure/vs-azure-tools-docker-hosting-web-apps-in-docker></span><span class="sxs-lookup"><span data-stu-id="5a0bc-178">Deploy an ASP.NET container to a container registry using Visual Studio: <https://docs.microsoft.com/azure/vs-azure-tools-docker-hosting-web-apps-in-docker></span></span>

> [!div class="step-by-step"]
> <span data-ttu-id="5a0bc-179">[Předchozí](docker-apps-inner-loop-workflow.md) 
>  [Další](set-up-windows-containers-with-powershell.md)</span><span class="sxs-lookup"><span data-stu-id="5a0bc-179">[Previous](docker-apps-inner-loop-workflow.md)
[Next](set-up-windows-containers-with-powershell.md)</span></span>
