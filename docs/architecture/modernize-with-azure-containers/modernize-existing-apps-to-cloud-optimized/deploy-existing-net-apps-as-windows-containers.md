---
title: Nasazení existujících aplikací .NET jako kontejnery Windows
description: Modernizovat stávající aplikace .NET pomocí cloudu Azure a kontejnerů Windows | Nasazení stávajících aplikací .NET jako kontejnerů Windows
ms.date: 04/29/2018
ms.openlocfilehash: 997b32e51272be2126bd824de1f8f026d77ca203
ms.sourcegitcommit: 628e8147ca10187488e6407dab4c4e6ebe0cac47
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 10/15/2019
ms.locfileid: "72318659"
---
# <a name="deploy-existing-net-apps-as-windows-containers"></a><span data-ttu-id="8367f-103">Nasazení existujících aplikací .NET jako kontejnery Windows</span><span class="sxs-lookup"><span data-stu-id="8367f-103">Deploy existing .NET apps as Windows containers</span></span>

<span data-ttu-id="8367f-104">Nasazení založená na kontejnerech Windows se vztahují na cloudově optimalizované aplikace a cloudové nativní aplikace.</span><span class="sxs-lookup"><span data-stu-id="8367f-104">Deployments that are based on Windows Containers are applicable to Cloud-Optimized applications and Cloud-Native applications.</span></span>

<span data-ttu-id="8367f-105">V tomto průvodci, a to zejména v následujících částech, se většinou zaměřuje na použití kontejnerů Windows pro *cloudově optimalizované* aplikace, kde nemusíte měnit architekturu aplikace.</span><span class="sxs-lookup"><span data-stu-id="8367f-105">However, in this guide and especially in the following sections, it mostly focuses on using Windows Containers for *Cloud-Optimized* applications where you don’t need to rearchitect your application.</span></span>

## <a name="what-are-containers-linux-or-windows"></a><span data-ttu-id="8367f-106">Co jsou kontejnery?</span><span class="sxs-lookup"><span data-stu-id="8367f-106">What are containers?</span></span> <span data-ttu-id="8367f-107">(Linux nebo Windows)</span><span class="sxs-lookup"><span data-stu-id="8367f-107">(Linux or Windows)</span></span>

<span data-ttu-id="8367f-108">Kontejnery představují způsob, jak zabalit aplikaci do svého samostatného izolovaného balíčku.</span><span class="sxs-lookup"><span data-stu-id="8367f-108">Containers are a way to wrap up an application into its own isolated package.</span></span> <span data-ttu-id="8367f-109">V kontejneru aplikace nejsou ovlivněny aplikacemi nebo procesy, které existují mimo kontejner.</span><span class="sxs-lookup"><span data-stu-id="8367f-109">In its container, the application is not affected by applications or processes that exist outside of the container.</span></span> <span data-ttu-id="8367f-110">Vše, na kterém je aplikace závislá, se spustí úspěšně, protože proces je uvnitř kontejneru.</span><span class="sxs-lookup"><span data-stu-id="8367f-110">Everything the application depends on to run successfully as a process is inside the container.</span></span> <span data-ttu-id="8367f-111">Bez ohledu na to, jestli se kontejner může přesunout, požadavky aplikace budou vždycky splněné, a to z hlediska přímých závislostí, protože jsou připojené ke všemu, co musí spustit (závislosti knihoven, modul runtime atd.).</span><span class="sxs-lookup"><span data-stu-id="8367f-111">Wherever the container might move, the requirements of the application will always be met, in terms of direct dependencies, because it is bundled with everything that it needs to run (library dependencies, runtimes, and so on).</span></span>

<span data-ttu-id="8367f-112">Hlavní charakteristika kontejneru spočívá v tom, že prostředí je stejné napříč různými nasazeními, protože kontejner sám obsahuje všechny závislosti, které potřebuje.</span><span class="sxs-lookup"><span data-stu-id="8367f-112">The main characteristic of a container is that it makes the environment the same across different deployments because the container itself comes with all the dependencies it needs.</span></span> <span data-ttu-id="8367f-113">Aplikaci můžete ladit na svém počítači a pak ji nasadit do jiného počítače se stejnou zaručeným prostředím.</span><span class="sxs-lookup"><span data-stu-id="8367f-113">You can debug the application on your machine, and then deploy it to another machine, with the same environment guaranteed.</span></span>

<span data-ttu-id="8367f-114">Kontejner je instance image kontejneru.</span><span class="sxs-lookup"><span data-stu-id="8367f-114">A container is an instance of a container image.</span></span> <span data-ttu-id="8367f-115">Image kontejneru je způsob, jak zabalit aplikaci nebo službu (například snímek) a jak ji nasadit spolehlivým a rereprodukovatelným způsobem.</span><span class="sxs-lookup"><span data-stu-id="8367f-115">A container image is a way to package an app or service (like a snapshot), and then deploy it in a reliable and reproducible way.</span></span> <span data-ttu-id="8367f-116">Je možné, že Docker není pouze technologie – je to také filozofie a proces.</span><span class="sxs-lookup"><span data-stu-id="8367f-116">You could say that Docker is not only a technology-it's also a philosophy and a process.</span></span>

<span data-ttu-id="8367f-117">Vzhledem k tomu, že se kontejnery denně stávají častější, stávají se jednotkou nasazení v celém odvětví.</span><span class="sxs-lookup"><span data-stu-id="8367f-117">As containers daily become more common, they are becoming an industry-wide "unit of deployment."</span></span>

## <a name="benefits-of-containers-docker-engine-on-linux-or-windows"></a><span data-ttu-id="8367f-118">Výhody kontejnerů (Docker Engine v systému Linux nebo Windows)</span><span class="sxs-lookup"><span data-stu-id="8367f-118">Benefits of containers (Docker Engine on Linux or Windows)</span></span>

<span data-ttu-id="8367f-119">Vytváření aplikací pomocí kontejnerů – které můžou být taky definované jako zjednodušené stavební kameny – nabízí významné zvýšení flexibility při sestavování, dodávání a spouštění libovolné aplikace v rámci libovolné infrastruktury.</span><span class="sxs-lookup"><span data-stu-id="8367f-119">Building applications by using containers-which also might be defined as lightweight building blocks-offers a significant increase in agility for building, shipping, and running any application, across any infrastructure.</span></span>

<span data-ttu-id="8367f-120">Pomocí kontejnerů můžete libovolnou aplikaci z vývoje převést do produkčního prostředí s využitím téměř nebo bez změny kódu, a to díky integraci Docker napříč Microsoft Developer Tools, operačními systémy a cloudem.</span><span class="sxs-lookup"><span data-stu-id="8367f-120">With containers, you can take any app from development to production with little or no code change, thanks to Docker integration across Microsoft developer tools, operating systems, and cloud.</span></span>

<span data-ttu-id="8367f-121">Když nasadíte do jednoduchých virtuálních počítačů, pravděpodobně už máte metodu pro nasazení aplikací ASP.NET na vaše virtuální počítače.</span><span class="sxs-lookup"><span data-stu-id="8367f-121">When you deploy to plain VMs, you probably already have a method in place for deploying ASP.NET apps to your VMs.</span></span> <span data-ttu-id="8367f-122">V takovém případě je pravděpodobnější, že vaše metoda zahrnuje několik ručních kroků nebo složitých automatizovaných procesů pomocí nástroje pro nasazení, jako je Puppet nebo podobného nástroje.</span><span class="sxs-lookup"><span data-stu-id="8367f-122">It's likely, though, that your method involves multiple manual steps or complex automated processes by using a deployment tool like Puppet, or a similar tool.</span></span> <span data-ttu-id="8367f-123">Je možné, že budete muset provádět úlohy, jako je úprava položek konfigurace, kopírování obsahu aplikace mezi servery a spouštění interaktivních instalačních programů na základě instalačních programů. msi, a to následováním testování.</span><span class="sxs-lookup"><span data-stu-id="8367f-123">You might need to perform tasks like modifying configuration items, copying application content between servers, and running interactive setup programs based on .msi setups, followed by testing.</span></span> <span data-ttu-id="8367f-124">Všechny tyto kroky v nasazení přidávají čas a riziko pro nasazení.</span><span class="sxs-lookup"><span data-stu-id="8367f-124">All those steps in the deployment add time and risk to deployments.</span></span> <span data-ttu-id="8367f-125">V případě, že v cílovém prostředí není přítomná závislost, dojde k chybám.</span><span class="sxs-lookup"><span data-stu-id="8367f-125">You will get failures whenever a dependency is not present in the target environment.</span></span>

<span data-ttu-id="8367f-126">V kontejnerech Windows je proces vytváření balíčků aplikací plně automatizovaný.</span><span class="sxs-lookup"><span data-stu-id="8367f-126">In Windows Containers, the process of packaging applications is fully automated.</span></span> <span data-ttu-id="8367f-127">Kontejnery Windows jsou založené na platformě Docker, která nabízí automatické aktualizace a vrácení zpět pro nasazení kontejnerů.</span><span class="sxs-lookup"><span data-stu-id="8367f-127">Windows Containers is based on the Docker platform, which offers automatic updates and rollbacks for container deployments.</span></span> <span data-ttu-id="8367f-128">Hlavním vylepšením, které byste získali pomocí modulu Docker, je vytvoření imagí, což jsou například snímky vaší aplikace, a všechny její závislosti.</span><span class="sxs-lookup"><span data-stu-id="8367f-128">The main improvement you get from using the Docker engine is that you create images, which are like snapshots of your application, with all its dependencies.</span></span> <span data-ttu-id="8367f-129">Obrázky jsou image Docker (v tomto případě image kontejneru Windows).</span><span class="sxs-lookup"><span data-stu-id="8367f-129">The images are Docker images (a Windows container image, in this case).</span></span> <span data-ttu-id="8367f-130">Image spouští aplikace ASP.NET v kontejnerech, aniž by se musely vracet ke zdrojovému kódu.</span><span class="sxs-lookup"><span data-stu-id="8367f-130">The images run ASP.NET apps in containers, without going back to source code.</span></span> <span data-ttu-id="8367f-131">Snímek kontejneru se stal jednotkou nasazení.</span><span class="sxs-lookup"><span data-stu-id="8367f-131">The container snapshot becomes the unit of deployment.</span></span>

<span data-ttu-id="8367f-132">Mnoho organizací uzavření stávající aplikace monolitické z následujících důvodů:</span><span class="sxs-lookup"><span data-stu-id="8367f-132">Many organizations are containerizing existing monolithic applications for the following reasons:</span></span>

- <span data-ttu-id="8367f-133">**Flexibilita verzí prostřednictvím vylepšeného nasazení**.</span><span class="sxs-lookup"><span data-stu-id="8367f-133">**Release agility through improved deployment**.</span></span> <span data-ttu-id="8367f-134">Kontejnery nabízejí konzistentní smlouvu o nasazení mezi vývojem a provozem.</span><span class="sxs-lookup"><span data-stu-id="8367f-134">Containers offer a consistent deployment contract between development and operations.</span></span> <span data-ttu-id="8367f-135">Při použití kontejnerů nebudete vývojářům slyšet "," funguje na mém počítači, proč není v produkčním prostředí? "</span><span class="sxs-lookup"><span data-stu-id="8367f-135">When you use containers, you won't hear developers say, "It works on my machine, why not in production?"</span></span> <span data-ttu-id="8367f-136">Můžou vyslovit "spouští se jako kontejner, takže se spustí v produkčním prostředí."</span><span class="sxs-lookup"><span data-stu-id="8367f-136">They can say, "It runs as a container, so it will run in production."</span></span> <span data-ttu-id="8367f-137">Zabalená aplikace se všemi jejími závislostmi se dá spustit v jakémkoli podporovaném prostředí založeném na kontejnerech.</span><span class="sxs-lookup"><span data-stu-id="8367f-137">The packaged application, with all its dependencies, can be executed in any supported container-based environment.</span></span> <span data-ttu-id="8367f-138">Spustí se způsobem, který by měl být spuštěn ve všech cílech nasazení (vývoj, QA, fázování, produkce).</span><span class="sxs-lookup"><span data-stu-id="8367f-138">It will run the way it was intended to run in all deployment targets (dev, QA, staging, production).</span></span> <span data-ttu-id="8367f-139">Kontejnery eliminují většinu tření při přesunu z jedné fáze na další, což významně zlepšuje nasazení a můžete dodávat rychleji.</span><span class="sxs-lookup"><span data-stu-id="8367f-139">Containers eliminate most frictions when they move from one stage to the next, which greatly improves deployment, and you can ship faster.</span></span>

- <span data-ttu-id="8367f-140">**Snížení nákladů**.</span><span class="sxs-lookup"><span data-stu-id="8367f-140">**Cost reductions**.</span></span> <span data-ttu-id="8367f-141">Kontejnery vedou k nižším nákladům, a to buď konsolidací, odebráním stávajícího hardwaru, nebo spuštěním aplikací s vyšší hustotou na jednotce hardwaru.</span><span class="sxs-lookup"><span data-stu-id="8367f-141">Containers lead to lower costs, either by the consolidation and removal of existing hardware, or from running applications at a higher density per unit of hardware.</span></span>

- <span data-ttu-id="8367f-142">**Přenositelnost**.</span><span class="sxs-lookup"><span data-stu-id="8367f-142">**Portability**.</span></span> <span data-ttu-id="8367f-143">Kontejnery jsou modulární a přenosné.</span><span class="sxs-lookup"><span data-stu-id="8367f-143">Containers are modular and portable.</span></span> <span data-ttu-id="8367f-144">Kontejnery Docker jsou podporované na jakémkoli serverovém operačním systému (Linux a Windows), v jakémkoli významném veřejném cloudu (Microsoft Azure, Amazon AWS, Google, IBM) a v místních i privátních nebo hybridních cloudových prostředích.</span><span class="sxs-lookup"><span data-stu-id="8367f-144">Docker containers are supported on any server operating system (Linux and Windows), in any major public cloud (Microsoft Azure, Amazon AWS, Google, IBM), and in on-premises and private or hybrid cloud environments.</span></span>

- <span data-ttu-id="8367f-145">**Ovládací prvek**.</span><span class="sxs-lookup"><span data-stu-id="8367f-145">**Control**.</span></span> <span data-ttu-id="8367f-146">Kontejnery nabízejí flexibilní a zabezpečené prostředí, které se řídí na úrovni kontejneru.</span><span class="sxs-lookup"><span data-stu-id="8367f-146">Containers offer a flexible and secure environment that's controlled at the container level.</span></span> <span data-ttu-id="8367f-147">Kontejner může být zabezpečený, izolovaný a dokonce omezený nastavením zásad omezení spouštění na kontejneru.</span><span class="sxs-lookup"><span data-stu-id="8367f-147">A container can be secured, isolated, and even limited by setting execution constraint policies on the container.</span></span> <span data-ttu-id="8367f-148">Jak je popsáno v části o kontejnerech Windows, Windows Server 2016 a kontejnery Hyper-V nabízejí další možnosti podnikové podpory.</span><span class="sxs-lookup"><span data-stu-id="8367f-148">As detailed in the section about Windows Containers, Windows Server 2016 and Hyper-V containers offer additional enterprise support options.</span></span>

<span data-ttu-id="8367f-149">Významná vylepšení flexibility, přenositelnosti a kontroly nakonec vedou k výraznému snížení nákladů při použití kontejnerů k vývoji a údržbě aplikací.</span><span class="sxs-lookup"><span data-stu-id="8367f-149">Significant improvements in agility, portability, and control ultimately lead to significant cost reductions when you use containers to develop and maintain applications.</span></span>

## <a name="what-is-docker"></a><span data-ttu-id="8367f-150">Co je Docker?</span><span class="sxs-lookup"><span data-stu-id="8367f-150">What is Docker?</span></span>

<span data-ttu-id="8367f-151">[Docker](https://www.docker.com/) je [Open source projekt](https://github.com/docker/docker) , který automatizuje nasazení aplikací jako přenosných a vlastních kontejnerů, které mohou běžet v cloudu nebo místně.</span><span class="sxs-lookup"><span data-stu-id="8367f-151">[Docker](https://www.docker.com/) is an [open-source project](https://github.com/docker/docker) that automates the deployment of applications as portable, self-sufficient containers that can run in the cloud or on-premises.</span></span> <span data-ttu-id="8367f-152">Docker je také [Společnost](https://www.docker.com/) , která propaguje a vyvíjí tuto technologii.</span><span class="sxs-lookup"><span data-stu-id="8367f-152">Docker is also a [company](https://www.docker.com/) that promotes and evolves this technology.</span></span> <span data-ttu-id="8367f-153">Společnost funguje ve spolupráci s dodavateli pro Cloud, Linux a Windows, včetně Microsoftu.</span><span class="sxs-lookup"><span data-stu-id="8367f-153">The company works in collaboration with cloud, Linux, and Windows vendors, including Microsoft.</span></span>

![Diagram znázorňující, jak Docker nasazuje kontejnery v hybridním cloudu.](./media/deploy-existing-net-apps-as-windows-containers/docker-deploys-containers-all-layers.png)

<span data-ttu-id="8367f-155">**Obrázek 4-6.**</span><span class="sxs-lookup"><span data-stu-id="8367f-155">**Figure 4-6.**</span></span> <span data-ttu-id="8367f-156">Docker nasazuje kontejnery ve všech vrstvách hybridního cloudu.</span><span class="sxs-lookup"><span data-stu-id="8367f-156">Docker deploys containers at all layers of the hybrid cloud</span></span>

<span data-ttu-id="8367f-157">Pro uživatele, kteří se s virtuálními počítači seznámili, se kontejnery můžou zdát jako výjimečně podobné.</span><span class="sxs-lookup"><span data-stu-id="8367f-157">To someone familiar with virtual machines, containers might appear to be remarkably similar.</span></span> <span data-ttu-id="8367f-158">Kontejner spouští operační systém, který má systém souborů a je k němu možné přistupovat přes síť, stejně jako fyzický nebo virtuální počítač.</span><span class="sxs-lookup"><span data-stu-id="8367f-158">A container runs an operating system, has a file system, and can be accessed over a network, just like a physical or virtual computer system.</span></span> <span data-ttu-id="8367f-159">Technologie a koncepce za kontejnery se ale výrazně liší od virtuálních počítačů.</span><span class="sxs-lookup"><span data-stu-id="8367f-159">However, the technology and concepts behind containers are vastly different from virtual machines.</span></span> <span data-ttu-id="8367f-160">Z pohledu vývojáře musí být kontejner zpracován podobně jako jeden proces.</span><span class="sxs-lookup"><span data-stu-id="8367f-160">From a developer point of view, a container must be treated more like a single process.</span></span> <span data-ttu-id="8367f-161">Ve skutečnosti má kontejner jeden vstupní bod pro jeden proces.</span><span class="sxs-lookup"><span data-stu-id="8367f-161">In fact, a container has a single entry point for one process.</span></span>

<span data-ttu-id="8367f-162">Kontejnery Docker (pro jednoduchost, *kontejnery*) můžou běžet nativně v systémech Linux a Windows.</span><span class="sxs-lookup"><span data-stu-id="8367f-162">Docker containers (for simplicity, *containers*) can run natively on Linux and Windows.</span></span> <span data-ttu-id="8367f-163">Při spouštění běžných kontejnerů se kontejnery Windows můžou spouštět jenom na hostitelích s Windows (hostitelský server nebo virtuální počítač) a kontejnery Linux můžou běžet jenom na hostitelích se systémem Linux.</span><span class="sxs-lookup"><span data-stu-id="8367f-163">When running regular containers, Windows containers can run only on Windows hosts (a host server or a VM), and Linux containers can run only on Linux hosts.</span></span> <span data-ttu-id="8367f-164">V posledních verzích kontejnerů Windows Server a Hyper-V se ale kontejner Linux taky dá spustit nativně na Windows serveru pomocí technologie izolace Hyper-V, která je teď dostupná jenom v kontejnerech Windows serveru.</span><span class="sxs-lookup"><span data-stu-id="8367f-164">However, in recent versions of Windows Server and Hyper-V containers, a Linux container also can run natively on Windows Server by using the Hyper-V isolation technology that currently is available only in Windows Server Containers.</span></span>

<span data-ttu-id="8367f-165">V blízké budoucnosti budou existovat smíšená prostředí, která mají kontejnery pro Linux i Windows, a dokonce i běžnou.</span><span class="sxs-lookup"><span data-stu-id="8367f-165">In the near future, mixed environments that have both Linux and Windows containers will be possible and even common.</span></span>

## <a name="benefits-of-windows-containers-for-your-existing-net-applications"></a><span data-ttu-id="8367f-166">Výhody kontejnerů Windows pro stávající aplikace .NET</span><span class="sxs-lookup"><span data-stu-id="8367f-166">Benefits of Windows Containers for your existing .NET applications</span></span>

<span data-ttu-id="8367f-167">Výhody použití kontejnerů Windows jsou zásadními výhodami, které získáte obecně z kontejnerů.</span><span class="sxs-lookup"><span data-stu-id="8367f-167">The benefits of using Windows Containers are fundamentally the same benefits you get from containers in general.</span></span> <span data-ttu-id="8367f-168">Pomocí kontejnerů Windows se výrazně zlepšuje flexibilita, přenositelnost a řízení.</span><span class="sxs-lookup"><span data-stu-id="8367f-168">Using Windows Containers is about greatly improving agility, portability, and control.</span></span>

<span data-ttu-id="8367f-169">Stávající aplikace .NET odkazují na aplikace, které byly vytvořeny pomocí .NET Framework.</span><span class="sxs-lookup"><span data-stu-id="8367f-169">Existing .NET applications refer to those applications that were created using the .NET Framework.</span></span> <span data-ttu-id="8367f-170">Můžou to být například tradiční webové aplikace v ASP.NET – nepoužívají .NET Core, které jsou novější a spouštějí různé platformy v systémech Linux, Windows a MacOS.</span><span class="sxs-lookup"><span data-stu-id="8367f-170">For example, they might be traditional ASP.NET web applications-they don't use .NET Core, which is newer and runs cross-platform on Linux, Windows, and MacOS.</span></span>

<span data-ttu-id="8367f-171">Hlavní závislost ve .NET Framework je Windows.</span><span class="sxs-lookup"><span data-stu-id="8367f-171">The main dependency in the .NET Framework is Windows.</span></span> <span data-ttu-id="8367f-172">Má také sekundární závislosti, jako je IIS, a System. Web v tradičních ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="8367f-172">It also has secondary dependencies, like IIS, and System.Web in traditional ASP.NET.</span></span>

<span data-ttu-id="8367f-173">.NET Framework aplikace musí běžet ve Windows, tečka.</span><span class="sxs-lookup"><span data-stu-id="8367f-173">A .NET Framework application must run on Windows, period.</span></span> <span data-ttu-id="8367f-174">Pokud chcete kontejnerizace stávající aplikace .NET Framework a nemůžete nebo nechcete investovat do migrace do .NET Core ("Pokud funguje správně, Nemigrujte"), jedinou volbou, kterou máte v kontejnerech, je použití kontejnerů Windows.</span><span class="sxs-lookup"><span data-stu-id="8367f-174">If you want to containerize existing .NET Framework applications and you can't or don't want to invest in a migration to .NET Core ("If it works properly, don't migrate it"), the only choice you have for containers is to use Windows Containers.</span></span>

<span data-ttu-id="8367f-175">Jedna z hlavních výhod kontejnerů Windows proto nabízí způsob, jak modernizovat své stávající aplikace .NET Framework spuštěné v systému Windows prostřednictvím kontejneru.</span><span class="sxs-lookup"><span data-stu-id="8367f-175">So, one of the main benefits of Windows Containers is that they offer you a way to modernize your existing .NET Framework applications that are running on Windows-through containerization.</span></span> <span data-ttu-id="8367f-176">Kontejnery Windows vám nakonec poskytují výhody, které hledáte, pomocí kontejnerů – flexibilita, přenositelnost a lepší řízení.</span><span class="sxs-lookup"><span data-stu-id="8367f-176">Ultimately, Windows Containers gets you the benefits that you are looking for by using containers-agility, portability, and better control.</span></span>

## <a name="choose-an-os-to-target-with-net-based-containers"></a><span data-ttu-id="8367f-177">Vyberte operační systém, se kterým chcete cílit. Kontejnery založené na síti</span><span class="sxs-lookup"><span data-stu-id="8367f-177">Choose an OS to target with .NET-based containers</span></span>

<span data-ttu-id="8367f-178">Vzhledem k rozmanitosti operačních systémů, které podporuje Docker, a rozdílů mezi .NET Framework a .NET Core, byste měli cílit na konkrétní operační systém a konkrétní verze na základě rozhraní, které používáte.</span><span class="sxs-lookup"><span data-stu-id="8367f-178">Given the diversity of operating systems that are supported by Docker, as well as the differences between .NET Framework and .NET Core, you should target a specific OS and specific versions based on the framework you are using.</span></span>

<span data-ttu-id="8367f-179">Pro Windows můžete použít jádro Windows serveru nebo Windows nano Server.</span><span class="sxs-lookup"><span data-stu-id="8367f-179">For Windows, you can use Windows Server Core or Windows Nano Server.</span></span> <span data-ttu-id="8367f-180">Tyto verze systému Windows poskytují různé charakteristiky (například službu IIS oproti webovému serveru v místním prostředí, jako je Kestrel), které mohou být vyžadovány aplikacemi .NET Framework nebo .NET Core.</span><span class="sxs-lookup"><span data-stu-id="8367f-180">These Windows versions provide different characteristics (like IIS versus a self-hosted web server like Kestrel) that might be needed by .NET Framework or .NET Core applications.</span></span>

<span data-ttu-id="8367f-181">Pro Linux je k dispozici několik distribuce a podporují se v oficiálních bitových kopiích .NET Docker (jako Debian).</span><span class="sxs-lookup"><span data-stu-id="8367f-181">For Linux, multiple distros are available and supported in official .NET Docker images (like Debian).</span></span>

<span data-ttu-id="8367f-182">Obrázek 4-7 ukazuje verze operačních systémů, které lze cílit, v závislosti na verzi .NET Framework aplikace.</span><span class="sxs-lookup"><span data-stu-id="8367f-182">Figure 4-7 shows OS versions that you can target, depending on the app's version of the .NET Framework.</span></span>

![Diagram znázorňující, jaký operační systém má cílit na základě verze .NET Framework.](./media/deploy-existing-net-apps-as-windows-containers/dotnet-framework-operating-systems.png)

<span data-ttu-id="8367f-184">**Obrázek 4-7.**</span><span class="sxs-lookup"><span data-stu-id="8367f-184">**Figure 4-7.**</span></span> <span data-ttu-id="8367f-185">Operační systémy cílí na základě verze .NET Framework</span><span class="sxs-lookup"><span data-stu-id="8367f-185">Operating systems to target based on .NET Framework version</span></span>

<span data-ttu-id="8367f-186">Ve scénářích migrace pro existující nebo starší aplikace, které jsou založené na .NET Framework aplikacích, jsou hlavní závislosti ve Windows a IIS.</span><span class="sxs-lookup"><span data-stu-id="8367f-186">In migration scenarios for existing or legacy applications that are based on .NET Framework applications, the main dependencies are on Windows and IIS.</span></span> <span data-ttu-id="8367f-187">Jedinou možností je použít image Docker na základě jádra Windows serveru a .NET Framework.</span><span class="sxs-lookup"><span data-stu-id="8367f-187">Your only option is to use Docker images based on Windows Server Core and the .NET Framework.</span></span>

<span data-ttu-id="8367f-188">Když přidáte název Image do souboru souboru Dockerfile, můžete vybrat operační systém a verzi pomocí značky, jako v následujících příkladech pro .NET Framework imagí kontejnerů Windows na bázi:</span><span class="sxs-lookup"><span data-stu-id="8367f-188">When you add the image name to your Dockerfile file, you can select the operating system and version by using a tag, as in the following examples for .NET Framework-based Windows container images:</span></span>

> | <span data-ttu-id="8367f-189">**Inteligentní**</span><span class="sxs-lookup"><span data-stu-id="8367f-189">**Tag**</span></span> | <span data-ttu-id="8367f-190">**Systém a verze**</span><span class="sxs-lookup"><span data-stu-id="8367f-190">**System and version**</span></span> |
> |---|---|
> | <span data-ttu-id="8367f-191">**Microsoft/DotNET-Framework: 4. x – windowsservercore**</span><span class="sxs-lookup"><span data-stu-id="8367f-191">**microsoft/dotnet-framework:4.x-windowsservercore**</span></span> | <span data-ttu-id="8367f-192">.NET Framework 4. x v jádru Windows serveru</span><span class="sxs-lookup"><span data-stu-id="8367f-192">.NET Framework 4.x on Windows Server Core</span></span> |
> | <span data-ttu-id="8367f-193">**Microsoft/ASPNET: 4. x – windowsservercore**</span><span class="sxs-lookup"><span data-stu-id="8367f-193">**microsoft/aspnet:4.x-windowsservercore**</span></span> | <span data-ttu-id="8367f-194">.NET Framework 4. x s dalšími přizpůsobeními ASP.NET v jádru Windows serveru</span><span class="sxs-lookup"><span data-stu-id="8367f-194">.NET Framework 4.x with additional ASP.NET customization, on Windows Server Core</span></span> |

<span data-ttu-id="8367f-195">Pro .NET Core (pro různé platformy pro Linux a Windows) by značky vypadaly takto:</span><span class="sxs-lookup"><span data-stu-id="8367f-195">For .NET Core (cross-platform for Linux and Windows), the tags would look like the following:</span></span>

> | <span data-ttu-id="8367f-196">**Inteligentní**</span><span class="sxs-lookup"><span data-stu-id="8367f-196">**Tag**</span></span> | <span data-ttu-id="8367f-197">**Systém a verze**</span><span class="sxs-lookup"><span data-stu-id="8367f-197">**System and version**</span></span>
> |---|---|
> | <span data-ttu-id="8367f-198">**Microsoft/dotNET: 2.0.0-Runtime**</span><span class="sxs-lookup"><span data-stu-id="8367f-198">**microsoft/dotnet:2.0.0-runtime**</span></span> | <span data-ttu-id="8367f-199">.NET Core 2,0 Runtime – pouze v systému Linux</span><span class="sxs-lookup"><span data-stu-id="8367f-199">.NET Core 2.0 runtime-only on Linux</span></span> |
> | <span data-ttu-id="8367f-200">**Microsoft/dotNET: 2.0.0-Runtime – nanoserver**</span><span class="sxs-lookup"><span data-stu-id="8367f-200">**microsoft/dotnet:2.0.0-runtime-nanoserver**</span></span> | <span data-ttu-id="8367f-201">.NET Core 2,0 Runtime – jenom na Windows nano serveru</span><span class="sxs-lookup"><span data-stu-id="8367f-201">.NET Core 2.0 runtime-only on Windows Nano Server</span></span> |

### <a name="multi-arch-images"></a><span data-ttu-id="8367f-202">Obrázky s více archy</span><span class="sxs-lookup"><span data-stu-id="8367f-202">Multi-arch images</span></span>

<span data-ttu-id="8367f-203">Od Mid-2017 můžete použít také novou funkci v Docker s názvem [vícestránkové](https://github.com/moby/moby/issues/15866) obrázky.</span><span class="sxs-lookup"><span data-stu-id="8367f-203">Beginning in mid-2017, you also can use a new feature in Docker called [multi-arch](https://github.com/moby/moby/issues/15866) images.</span></span> <span data-ttu-id="8367f-204">Image Docker .NET Core můžou používat více značek.</span><span class="sxs-lookup"><span data-stu-id="8367f-204">.NET Core Docker images can use multi-arch tags.</span></span> <span data-ttu-id="8367f-205">Vaše soubory souboru Dockerfile už nepotřebují definovat operační systém, který cílíte.</span><span class="sxs-lookup"><span data-stu-id="8367f-205">Your Dockerfile files no longer need to define the operating system that you are targeting.</span></span> <span data-ttu-id="8367f-206">Funkce vícenásobného archu umožňuje používat jednu značku v rámci více konfigurací počítačů.</span><span class="sxs-lookup"><span data-stu-id="8367f-206">The multi-arch feature allows a single tag to be used across multiple machine configurations.</span></span> <span data-ttu-id="8367f-207">U více instancí můžete například použít jednu běžnou značku: **Microsoft/dotNET: 2.0.0-Runtime**.</span><span class="sxs-lookup"><span data-stu-id="8367f-207">For instance, with multi-arch, you can use one common tag: **microsoft/dotnet:2.0.0-runtime**.</span></span> <span data-ttu-id="8367f-208">Pokud tuto značku vyžádáte z prostředí s kontejnery pro Linux, získáte image založenou na Debian.</span><span class="sxs-lookup"><span data-stu-id="8367f-208">If you pull that tag from a Linux container environment, you get the Debian-based image.</span></span> <span data-ttu-id="8367f-209">Pokud tuto značku vyžádáte z prostředí kontejneru Windows, dostanete image založenou na nano serveru.</span><span class="sxs-lookup"><span data-stu-id="8367f-209">If you pull that tag from a Windows container environment, you get the Nano Server-based image.</span></span>

<span data-ttu-id="8367f-210">U .NET Framework imagí, protože tradiční .NET Framework podporuje jenom Windows, nemůžete použít funkci vícenásobného archu.</span><span class="sxs-lookup"><span data-stu-id="8367f-210">For .NET Framework images, because the traditional .NET Framework supports only Windows, you cannot use the multi-arch feature.</span></span>

## <a name="windows-container-types"></a><span data-ttu-id="8367f-211">Typy kontejnerů Windows</span><span class="sxs-lookup"><span data-stu-id="8367f-211">Windows container types</span></span>

<span data-ttu-id="8367f-212">Například kontejnery systému Linux jsou kontejnery Windows serveru spravovány pomocí modulu Docker.</span><span class="sxs-lookup"><span data-stu-id="8367f-212">Like Linux containers, Windows Server containers are managed by using Docker Engine.</span></span> <span data-ttu-id="8367f-213">Na rozdíl od kontejnerů Linux zahrnují kontejnery Windows dva různé typy kontejnerů, nebo dobu běhu – kontejnery Windows serveru a izolaci technologie Hyper-V.</span><span class="sxs-lookup"><span data-stu-id="8367f-213">Unlike Linux containers, Windows containers include two different container types, or run times-Windows Server containers and Hyper-V isolation.</span></span>

<span data-ttu-id="8367f-214">**Kontejnery Windows serveru**: poskytuje izolaci aplikací prostřednictvím technologie izolace procesů a oboru názvů.</span><span class="sxs-lookup"><span data-stu-id="8367f-214">**Windows Server containers**: Provides application isolation through process and namespace isolation technology.</span></span> <span data-ttu-id="8367f-215">Kontejner Windows serveru sdílí jádro s hostitelem kontejneru a všemi kontejnery, které jsou spuštěné na hostiteli.</span><span class="sxs-lookup"><span data-stu-id="8367f-215">A Windows Server container shares a kernel with the container host and all containers that are running on the host.</span></span> <span data-ttu-id="8367f-216">Tyto kontejnery neposkytují nepřátelský bezpečnostní hranici a neměly by se používat k izolaci nedůvěryhodného kódu.</span><span class="sxs-lookup"><span data-stu-id="8367f-216">These containers do not provide a hostile security boundary and should not be used to isolate untrusted code.</span></span> <span data-ttu-id="8367f-217">Z důvodu sdíleného prostoru jádra vyžaduje tyto kontejnery stejnou verzi jádra a konfiguraci.</span><span class="sxs-lookup"><span data-stu-id="8367f-217">Because of the shared kernel space, these containers require the same kernel version and configuration.</span></span>

<span data-ttu-id="8367f-218">**Izolace Hyper-V**: rozbalí na izolaci poskytovanou kontejnery Windows serveru spuštěním každého kontejneru na vysoce OPTIMALIZOVANém virtuálním počítači.</span><span class="sxs-lookup"><span data-stu-id="8367f-218">**Hyper-V isolation**: Expands on the isolation provided by Windows Server Containers by running each container on a highly optimized VM.</span></span> <span data-ttu-id="8367f-219">V této konfiguraci není jádro hostitele kontejneru sdíleno s jinými kontejnery na stejném hostiteli.</span><span class="sxs-lookup"><span data-stu-id="8367f-219">In this configuration, the kernel of the container host is not shared with other containers on the same host.</span></span> <span data-ttu-id="8367f-220">Tyto kontejnery jsou navržené pro nepřátelské hostování víceklientské architektury se stejnými bezpečnostními zárukami virtuálního počítače.</span><span class="sxs-lookup"><span data-stu-id="8367f-220">These containers are designed for hostile multitenant hosting, with the same security assurances of a VM.</span></span> <span data-ttu-id="8367f-221">Vzhledem k tomu, že tyto kontejnery nesdílejí jádro s hostitelem nebo jinými kontejnery na hostiteli, mohou spouštět jádra s různými verzemi a konfiguracemi (s podporovanými verzemi).</span><span class="sxs-lookup"><span data-stu-id="8367f-221">Because these containers don't share the kernel with the host or other containers on the host, they can run kernels with different versions and configurations (with supported versions).</span></span> <span data-ttu-id="8367f-222">Všechny kontejnery Windows ve Windows 10 například využívají izolaci technologie Hyper-V k využití konfigurace a verze jádra Windows serveru.</span><span class="sxs-lookup"><span data-stu-id="8367f-222">For example, all Windows containers on Windows 10 use Hyper-V isolation to utilize the Windows Server kernel version and configuration.</span></span>

<span data-ttu-id="8367f-223">Spuštění kontejneru ve Windows s nebo bez izolace Hyper-V je rozhodnutí za běhu.</span><span class="sxs-lookup"><span data-stu-id="8367f-223">Running a container on Windows with or without Hyper-V isolation is a run-time decision.</span></span> <span data-ttu-id="8367f-224">Je možné, že se nejdříve vytvoří kontejner s izolací technologie Hyper-V a v době běhu se místo toho dá spustit jako kontejner Windows serveru.</span><span class="sxs-lookup"><span data-stu-id="8367f-224">You might choose to create the container with Hyper-V isolation initially, and at run time, choose to run it as a Windows Server container instead.</span></span>

### <a name="additional-resources"></a><span data-ttu-id="8367f-225">Další zdroje</span><span class="sxs-lookup"><span data-stu-id="8367f-225">Additional resources</span></span>

- <span data-ttu-id="8367f-226">**Dokumentace k kontejnerům Windows**</span><span class="sxs-lookup"><span data-stu-id="8367f-226">**Windows Containers documentation**</span></span>

    <https://docs.microsoft.com/virtualization/windowscontainers/>

- <span data-ttu-id="8367f-227">**Základní informace o kontejnerech Windows**</span><span class="sxs-lookup"><span data-stu-id="8367f-227">**Windows Containers fundamentals**</span></span>

    <https://docs.microsoft.com/virtualization/windowscontainers/about/>

- <span data-ttu-id="8367f-228">**Infografika: Microsoft a Containers**</span><span class="sxs-lookup"><span data-stu-id="8367f-228">**Infographic: Microsoft and containers**</span></span>

    <https://info.microsoft.com/rs/157-GQE-382/images/Container%20infographic%201.4.17.pdf>

## <a name="the-container-ecosystem-in-azure"></a><span data-ttu-id="8367f-229">Ekosystém kontejnerů v Azure</span><span class="sxs-lookup"><span data-stu-id="8367f-229">The container ecosystem in Azure</span></span>

<span data-ttu-id="8367f-230">V předchozích částech bylo vysvětleno, jaké jsou výhody kontejnerů Docker a také podrobnosti o konkrétních imagích kontejnerů pro aplikace .NET.</span><span class="sxs-lookup"><span data-stu-id="8367f-230">In previous sections, it’s been explained what the benefits of Docker containers are as well as details on the specific container images for .NET applications.</span></span> <span data-ttu-id="8367f-231">Všechny obecné informace jsou zásadním účelem pro vývoj nebo kontejnerizaceí aplikace.</span><span class="sxs-lookup"><span data-stu-id="8367f-231">All that generic information is fundamental in order to develop or containerize an application.</span></span>
<span data-ttu-id="8367f-232">Při zvažování prostředí produkčního nasazení nebo dokonce řešení pro řešení QA a vývoj a testování ale Microsoft Azure poskytuje otevřenou a širokou škálu voleb, úplný ekosystém kontejnerů v cloudu (viz diagram níže).</span><span class="sxs-lookup"><span data-stu-id="8367f-232">However, when thinking about the production deployment environment or even QA and Dev/Test environments, Microsoft Azure provides an open and broad variety of choices, a full container ecosystem in the cloud (shown in the diagram below).</span></span> <span data-ttu-id="8367f-233">V závislosti na potřebách konkrétní aplikace byste měli zvolit jeden nebo jiný produkt Azure.</span><span class="sxs-lookup"><span data-stu-id="8367f-233">Depending on your specific application’s needs, you should choose one or another Azure product.</span></span>

![Diagram ekosystému kontejnerů v Azure](./media/deploy-existing-net-apps-as-windows-containers/azure-container-ecosystem.png)

<span data-ttu-id="8367f-235">**Obrázek 4 – 7.5**</span><span class="sxs-lookup"><span data-stu-id="8367f-235">**Figure 4-7.5.**</span></span> <span data-ttu-id="8367f-236">Ekosystém kontejnerů v Azure</span><span class="sxs-lookup"><span data-stu-id="8367f-236">The container ecosystem in Azure</span></span>

<span data-ttu-id="8367f-237">Z ekosystému kontejnerů v Azure tyto produkty podporují kontejnery považované za infrastrukturu:</span><span class="sxs-lookup"><span data-stu-id="8367f-237">From the container ecosystem in Azure, the following products supporting containers that are considered infrastructure:</span></span>

- <span data-ttu-id="8367f-238">**Azure Container Instances (ACI)**</span><span class="sxs-lookup"><span data-stu-id="8367f-238">**Azure Container Instances (ACI)**</span></span>
- <span data-ttu-id="8367f-239">**Azure Virtual Machines** (s podporou kontejneru)</span><span class="sxs-lookup"><span data-stu-id="8367f-239">**Azure Virtual Machines** (With container's support)</span></span>
- <span data-ttu-id="8367f-240">**Azure Virtual Machine Scale Sets** (s podporou kontejneru)</span><span class="sxs-lookup"><span data-stu-id="8367f-240">**Azure Virtual Machine Scale Sets** (With container's support)</span></span>

<span data-ttu-id="8367f-241">Od těchto tří ACI přináší skvělé výhody, což je fakt, že nepotřebujete spravovat základní operační systém, nemusíte upgradovat/opravovat atd., ale ACI pořád je umístěný na úrovni infrastruktury, jak je to vhodnější v nadcházejících částech této knihy.</span><span class="sxs-lookup"><span data-stu-id="8367f-241">From those three, ACI provides a great benefit, which is the fact that you don't need to maintain the underlying OS, no need for you to upgrade/patch, etc. but ACI still is positioned in the infrastructure level, as better explained in the upcoming sections of this book.</span></span>

<span data-ttu-id="8367f-242">U produktů v Azure podporujících kontejnery, které jsou na úrovni PaaS (platforma jako služba) Další:</span><span class="sxs-lookup"><span data-stu-id="8367f-242">The products in Azure supporting containers that are at the same time positioned more in the PaaS (Platform as a Service) level are:</span></span>

- <span data-ttu-id="8367f-243">**Azure App Service**</span><span class="sxs-lookup"><span data-stu-id="8367f-243">**Azure App Service**</span></span>
- <span data-ttu-id="8367f-244">**Služba Azure Kubernetes (AKS a ACS)**</span><span class="sxs-lookup"><span data-stu-id="8367f-244">**Azure Kubernetes Service (AKS and ACS)**</span></span>
- <span data-ttu-id="8367f-245">**Azure Batch**</span><span class="sxs-lookup"><span data-stu-id="8367f-245">**Azure Batch**</span></span> 

<span data-ttu-id="8367f-246">Pak Azure Container Registry je vysoce škálovatelný registr kontejnerů hostovaný v Azure, který můžete použít ze všech předchozích produktů při registraci a nasazení vlastních imagí kontejneru.</span><span class="sxs-lookup"><span data-stu-id="8367f-246">Then, Azure Container Registry is a high scalable container registry hosted in Azure that you can use from all the previous products when registering and deploying your custom container images.</span></span>

<span data-ttu-id="8367f-247">Z vašich kontejnerů navíc můžete využívat jiné spravované služby v Azure, jako je Azure SQL Database, Azure Redis Cache, Azure Cosmos DB atd.</span><span class="sxs-lookup"><span data-stu-id="8367f-247">In addition, from your containers, you can consume other managed services in Azure like Azure SQL Database, Azure Redis cache, Azure Cosmos DB, etc.</span></span> <span data-ttu-id="8367f-248">k dispozici jsou řešení/platformy třetích stran, které jsou dostupné v Azure Marketplace jako Cloud Foundry a OpenShift, kde můžete také používat kontejnery v Azure.</span><span class="sxs-lookup"><span data-stu-id="8367f-248">plus there are third-party solutions/platforms available in Azure Marketplace like Cloud Foundry and OpenShift where you can also use containers within Azure.</span></span> 

<span data-ttu-id="8367f-249">V dalších částech můžete prozkoumat doporučení Microsoftu, kdy používat jednotlivé produkty a řešení Azure konkrétně při cílení na kontejnery Windows.</span><span class="sxs-lookup"><span data-stu-id="8367f-249">In the next sections, you can explore Microsoft's recommendations on when to use each of those Azure products and solutions specifically when targeting Windows Containers.</span></span>

>[!div class="step-by-step"]
><span data-ttu-id="8367f-250">[Předchozí](what-about-cloud-native-applications.md)
>[Další](when-not-to-deploy-to-windows-containers.md)</span><span class="sxs-lookup"><span data-stu-id="8367f-250">[Previous](what-about-cloud-native-applications.md)
[Next](when-not-to-deploy-to-windows-containers.md)</span></span>
