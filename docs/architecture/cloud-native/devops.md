---
title: Cloud Native DevOps
description: Architekt cloudových nativních aplikací .NET pro Azure | Cloud Native DevOps
ms.date: 06/30/2019
ms.openlocfilehash: 84d37d14af8a68a51088568ded05ceef2e5e11fb
ms.sourcegitcommit: 2e95559d957a1a942e490c5fd916df04b39d73a9
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 10/16/2019
ms.locfileid: "72393728"
---
# <a name="cloud-native-devops"></a><span data-ttu-id="7c2bb-103">Cloud Native DevOps</span><span class="sxs-lookup"><span data-stu-id="7c2bb-103">Cloud Native DevOps</span></span>

[!INCLUDE [book-preview](../../../includes/book-preview.md)]

<span data-ttu-id="7c2bb-104">Oblíbeným hesloem software konzultantů je odpovědět na všechny otázky, které jsou závislé na.</span><span class="sxs-lookup"><span data-stu-id="7c2bb-104">The favorite mantra of software consultants is to answer "It depends" to any question posed.</span></span> <span data-ttu-id="7c2bb-105">Není to proto, že software konzultanti fond, že neprovádí žádnou pozici.</span><span class="sxs-lookup"><span data-stu-id="7c2bb-105">It isn't because software consultants are fond of not taking a position.</span></span> <span data-ttu-id="7c2bb-106">Je to z toho důvodu, že neexistuje žádná skutečná odpověď na jakékoli dotazy v softwaru.</span><span class="sxs-lookup"><span data-stu-id="7c2bb-106">It's because there's no one true answer to any questions in software.</span></span> <span data-ttu-id="7c2bb-107">Není k dispozici absolutní právo a nesprávné místo, ale rozdíl mezi opačnými hodnotami.</span><span class="sxs-lookup"><span data-stu-id="7c2bb-107">There's no absolute right and wrong, but rather a balance between opposites.</span></span>

<span data-ttu-id="7c2bb-108">Vezměte v úvahu například dvě hlavní školy vývoje webových aplikací: jednostránkové aplikace (jednostránkové) oproti aplikacím na straně serveru.</span><span class="sxs-lookup"><span data-stu-id="7c2bb-108">Take, for instance, the two major schools of developing web applications: Single Page Applications (SPAs) versus server-side applications.</span></span> <span data-ttu-id="7c2bb-109">Na jedné straně je činnost koncového uživatele lepší díky jednostránkové a velikost provozu na webovém serveru může být minimalizována, takže je možné je hostovat na něco jako statické hostování.</span><span class="sxs-lookup"><span data-stu-id="7c2bb-109">On the one hand, the user experience tends to be better with SPAs and the amount of traffic to the web server can be minimized making it possible to host them on something as simple as static hosting.</span></span> <span data-ttu-id="7c2bb-110">Na druhé straně je jednostránkové obvykle pomalejší pro vývoj a obtížnější testování.</span><span class="sxs-lookup"><span data-stu-id="7c2bb-110">On the other hand, SPAs tend to be slower to develop and more difficult to test.</span></span> <span data-ttu-id="7c2bb-111">Kterou jednu si máte správnou volbu?</span><span class="sxs-lookup"><span data-stu-id="7c2bb-111">Which one is the right choice?</span></span> <span data-ttu-id="7c2bb-112">To je dobré, záleží na vaší situaci.</span><span class="sxs-lookup"><span data-stu-id="7c2bb-112">Well, it depends on your situation.</span></span>

<span data-ttu-id="7c2bb-113">Nativní aplikace v cloudu nejsou odolné vůči stejné dichotomy.</span><span class="sxs-lookup"><span data-stu-id="7c2bb-113">Cloud-native applications aren't immune to that same dichotomy.</span></span> <span data-ttu-id="7c2bb-114">Mají jasné výhody z pohledu rychlosti vývoje, stability a škálovatelnosti, ale jejich správa může být poměrně náročná.</span><span class="sxs-lookup"><span data-stu-id="7c2bb-114">They have clear advantages in terms of speed of development, stability, and scalability, but managing them can be quite a bit more difficult.</span></span>

<span data-ttu-id="7c2bb-115">Před lety nebylo běžné pro proces přesunu aplikace z vývoje do produkčního prostředí, které trvá měsíčně nebo ještě více.</span><span class="sxs-lookup"><span data-stu-id="7c2bb-115">Years ago, it wasn't uncommon for the process of moving an application from development to production to take a month, or even more.</span></span> <span data-ttu-id="7c2bb-116">Společnosti vydaly software na 6 měsíců nebo i každý rok tempo.</span><span class="sxs-lookup"><span data-stu-id="7c2bb-116">Companies released software on a 6-month or even every year cadence.</span></span> <span data-ttu-id="7c2bb-117">Abyste získali představu o tempo vydaných verzí, které byly přijatelné před začátkem zelených dnů od Windows 10, je potřeba, abyste si vyhledali ještě více než Microsoft Windows.</span><span class="sxs-lookup"><span data-stu-id="7c2bb-117">One needs to look no further than Microsoft Windows to get an idea for the cadence of releases that were acceptable before the ever-green days of Windows 10.</span></span> <span data-ttu-id="7c2bb-118">Pět let předané mezi systémy Windows XP a Vista a dalšími 3 mezi systémy Vista a Windows 7.</span><span class="sxs-lookup"><span data-stu-id="7c2bb-118">Five years passed between Windows XP and Vista, a further 3 between Vista and Windows 7.</span></span>

<span data-ttu-id="7c2bb-119">Nyní je poměrně dobře navázáno, aby bylo možné rychle vydávat software, což umožňuje rychle přemísťovat společnosti s větším tržním přínosem v rámci svých podobných Sloth konkurentů.</span><span class="sxs-lookup"><span data-stu-id="7c2bb-119">It's now fairly well established that being able to release software rapidly gives fast-moving companies a huge market advantage over their more sloth-like competitors.</span></span> <span data-ttu-id="7c2bb-120">Je to z tohoto důvodu, že hlavní aktualizace Windows 10 jsou teď přibližně každých šest měsíců.</span><span class="sxs-lookup"><span data-stu-id="7c2bb-120">It's for that reason that major updates to Windows 10 are now approximately every six months.</span></span>

<span data-ttu-id="7c2bb-121">Vzorce a postupy, které umožňují rychlejší a spolehlivější vydání hodnoty podniku, jsou souhrnně označovány jako DevOps.</span><span class="sxs-lookup"><span data-stu-id="7c2bb-121">The patterns and practices that enable faster, more reliable releases to deliver value to the business are collectively known as DevOps.</span></span> <span data-ttu-id="7c2bb-122">Skládají se z široké škály nápadů, které pokrývá celý životní cyklus vývoje softwaru, od určení aplikace až po doručení a provozování této aplikace.</span><span class="sxs-lookup"><span data-stu-id="7c2bb-122">They consist of a wide range of ideas spanning the entire software development life cycle from specifying an application all the way up to delivering and operating that application.</span></span>

<span data-ttu-id="7c2bb-123">DevOps se předtím, než mikroslužby a je pravděpodobné, že přesun směrem k menšímu a většímu množství služeb by nebylo možné, aniž by DevOps mohl vydávat a provozovat nejen jednu, ale mnoho aplikací v produkčním prostředí je snazší.</span><span class="sxs-lookup"><span data-stu-id="7c2bb-123">DevOps emerged before microservices and it's likely that the movement towards smaller, more fit to purpose services wouldn't have been possible without DevOps to make releasing and operating not just one but many applications in production easier.</span></span> 

![Obrázek 11-0 hledání trendů znázorňuje, že růst v mikroslužbách nezačíná až po DevOps je poměrně dobře zavedený nápad.](./media/microservices-vs-devops.png)

<span data-ttu-id="7c2bb-125">Osvědčenými postupy DevOps je, že je možné využít výhody cloudových nativních aplikací bez suffocating v rámci práce, ve které aplikace skutečně pracují.</span><span class="sxs-lookup"><span data-stu-id="7c2bb-125">Through good DevOps practices, it's possible to realize the advantages of cloud-native applications without suffocating under a mountain of work actually operating the applications.</span></span>

<span data-ttu-id="7c2bb-126">Při vstupu do DevOps se nevyskytuje žádný zlatý kladiv.</span><span class="sxs-lookup"><span data-stu-id="7c2bb-126">There's no golden hammer when it comes to DevOps.</span></span> <span data-ttu-id="7c2bb-127">Nikdo nemůže prodávat kompletní a komplexní řešení pro uvolňování a provoz vysoce kvalitních aplikací.</span><span class="sxs-lookup"><span data-stu-id="7c2bb-127">Nobody can sell a complete and all-encompassing solution for releasing and operating high-quality applications.</span></span> <span data-ttu-id="7c2bb-128">Je to proto, že každá aplikace je volně odlišná od všech ostatních.</span><span class="sxs-lookup"><span data-stu-id="7c2bb-128">This is because each application is wildly different from all others.</span></span> <span data-ttu-id="7c2bb-129">Existují však nástroje, které umožňují DevOps mnohem méně těžké.</span><span class="sxs-lookup"><span data-stu-id="7c2bb-129">However, there are tools that can make DevOps a far less daunting proposition.</span></span> <span data-ttu-id="7c2bb-130">Jeden z těchto nástrojů je známý jako Azure DevOps.</span><span class="sxs-lookup"><span data-stu-id="7c2bb-130">One of these tools is known as Azure DevOps.</span></span>

## <a name="azure-devops"></a><span data-ttu-id="7c2bb-131">Azure DevOps</span><span class="sxs-lookup"><span data-stu-id="7c2bb-131">Azure DevOps</span></span>

<span data-ttu-id="7c2bb-132">Azure DevOps má dlouhého původu.</span><span class="sxs-lookup"><span data-stu-id="7c2bb-132">Azure DevOps has a long pedigree.</span></span> <span data-ttu-id="7c2bb-133">Může trasovat své kořeny zpět do, když Team Foundation Server nejprve přesunuli do online režimu a prostřednictvím různých změn názvů: Visual Studio Online a Visual Studio Team Services.</span><span class="sxs-lookup"><span data-stu-id="7c2bb-133">It can trace its roots back to when Team Foundation Server first moved online and through the various name changes: Visual Studio Online and Visual Studio Team Services.</span></span> <span data-ttu-id="7c2bb-134">V průběhu let se ale stane mnohem více než jeho předchůdci.</span><span class="sxs-lookup"><span data-stu-id="7c2bb-134">Through the years, however, it has become far more than its predecessors.</span></span>

<span data-ttu-id="7c2bb-135">Azure DevOps je rozdělené na pět hlavních součástí:</span><span class="sxs-lookup"><span data-stu-id="7c2bb-135">Azure DevOps is divided into five major components:</span></span>

![Obrázek 11-1 pět hlavních oblastí služby Azure DevOps](./media/devops-components.png)

<span data-ttu-id="7c2bb-137">**Azure boards** – poskytuje nástroj pro sledování problémů a pracovních položek, který se snaží dovolit uživatelům vybrat pracovní postupy, které jsou pro ně nejvhodnější.</span><span class="sxs-lookup"><span data-stu-id="7c2bb-137">**Azure Boards** - Provides an issue and work item tracking tool that strives to allow users to pick the workflows that work best for them.</span></span> <span data-ttu-id="7c2bb-138">Obsahuje řadu předem nakonfigurovaných šablon, včetně těch, které podporují SCRUM a kanbanové styly vývoje.</span><span class="sxs-lookup"><span data-stu-id="7c2bb-138">It comes with a number of pre-configured templates including ones to support SCRUM and Kanban styles of development.</span></span> 

<span data-ttu-id="7c2bb-139">**Azure Repos** – Správa zdrojového kódu, která podporuje Venerable Správa verzí Team Foundation (TFVC) a obor oblíbených v oboru Git.</span><span class="sxs-lookup"><span data-stu-id="7c2bb-139">**Azure Repos** - Source code management that supports the venerable Team Foundation Version Control (TFVC) and the industry favorite git.</span></span> <span data-ttu-id="7c2bb-140">Žádosti o přijetí změn poskytují způsob, jak povolit sociální kódování prostřednictvím diskuze o změnách, které se provedou.</span><span class="sxs-lookup"><span data-stu-id="7c2bb-140">Pull requests provide a way to enable social coding by fostering discussion of changes as they're made.</span></span>

<span data-ttu-id="7c2bb-141">**Azure Pipelines** – systém pro správu sestavení a vydání, který podporuje úzkou integraci s Azure.</span><span class="sxs-lookup"><span data-stu-id="7c2bb-141">**Azure Pipelines** - A build and release management system that supports tight integration with Azure.</span></span> <span data-ttu-id="7c2bb-142">Buildy je možné spouštět na různých platformách od Windows po Linux až po MacOS.</span><span class="sxs-lookup"><span data-stu-id="7c2bb-142">Builds can be run on a variety of platforms from Windows to Linux to MacOS.</span></span> <span data-ttu-id="7c2bb-143">Agenti sestavení můžou být zřízené v cloudu nebo místně.</span><span class="sxs-lookup"><span data-stu-id="7c2bb-143">Build agents may be provisioned in the cloud or on-premises.</span></span>

<span data-ttu-id="7c2bb-144">**Azure test Plans** – žádná osoba s funkcí QA nezůstane na pozadí pro správu testů a podporu průzkumného testování, kterou nabízí funkce test Plans.</span><span class="sxs-lookup"><span data-stu-id="7c2bb-144">**Azure Test Plans** - No QA person will be left behind with the test management and exploratory testing support offered by the Test Plans feature.</span></span>

<span data-ttu-id="7c2bb-145">**Azure Artifacts** – kanál artefaktu, který společnostem umožňuje vytvářet vlastní, interní, verze NuGet, npm a další.</span><span class="sxs-lookup"><span data-stu-id="7c2bb-145">**Azure Artifacts** - An artifact feed that allows companies to create their own, internal, versions of NuGet, npm, and others.</span></span> <span data-ttu-id="7c2bb-146">Pokud dojde k selhání centralizovaného úložiště, slouží pro ně dvojitý účel, který funguje jako mezipaměť pro nadřazené balíčky.</span><span class="sxs-lookup"><span data-stu-id="7c2bb-146">It serves a double purpose of acting as a cache of upstream packages if there's a failure of a centralized repository.</span></span>

<span data-ttu-id="7c2bb-147">Organizační jednotka nejvyšší úrovně ve službě Azure DevOps se označuje jako projekt.</span><span class="sxs-lookup"><span data-stu-id="7c2bb-147">The top-level organizational unit in Azure DevOps is known as a Project.</span></span> <span data-ttu-id="7c2bb-148">V rámci každého projektu je možné zapnout nebo vypnout různé komponenty, například Azure Artifacts.</span><span class="sxs-lookup"><span data-stu-id="7c2bb-148">Within each project the various components, such as Azure Artifacts, can be turned on and off.</span></span> <span data-ttu-id="7c2bb-149">Pokud uživatelé chtějí spravovat svůj zdrojový kód v GitHubu, ale stále využívají Azure Pipelines, je to dokonale možné.</span><span class="sxs-lookup"><span data-stu-id="7c2bb-149">If users want to manage their source code in GitHub but still take advantage of Azure Pipelines, then that's perfectly possible.</span></span> <span data-ttu-id="7c2bb-150">Mnoho open-source projektů využívá [bezplatné buildy](https://azure.microsoft.com/blog/announcing-azure-pipelines-with-unlimited-ci-cd-minutes-for-open-source/) nabízené službou Azure DevOps a přitom udržuje jejich zdrojový kód na GitHubu.</span><span class="sxs-lookup"><span data-stu-id="7c2bb-150">In fact, many open-source projects leverage the [free builds](https://azure.microsoft.com/blog/announcing-azure-pipelines-with-unlimited-ci-cd-minutes-for-open-source/) offered by Azure DevOps while keeping their source code on GitHub.</span></span> <span data-ttu-id="7c2bb-151">Některé významné open source projekty, například [Visual Studio Code](https://code.visualstudio.com/), [přízi](https://yarnpkg.com/en/), [Gulp](https://gulpjs.com/)a [numpy](https://www.numpy.org/) , provedly přechod.</span><span class="sxs-lookup"><span data-stu-id="7c2bb-151">Some significant open-source projects such as [Visual Studio Code](https://code.visualstudio.com/), [yarn](https://yarnpkg.com/en/), [gulp](https://gulpjs.com/), and [NumPy](https://www.numpy.org/) have made the transition.</span></span>

<span data-ttu-id="7c2bb-152">Každá z těchto komponent poskytuje některé výhody pro cloudové nativní aplikace, ale tři nejužitečnější jsou Správa zdrojového kódu, desky a kanály.</span><span class="sxs-lookup"><span data-stu-id="7c2bb-152">Each of these components provides some advantages for cloud-native applications, but the three most useful are the source control, boards and pipelines.</span></span>  

## <a name="source-control"></a><span data-ttu-id="7c2bb-153">Správa zdrojového kódu</span><span class="sxs-lookup"><span data-stu-id="7c2bb-153">Source control</span></span>

<span data-ttu-id="7c2bb-154">Uspořádání kódu pro nativní cloudové aplikace může být náročné.</span><span class="sxs-lookup"><span data-stu-id="7c2bb-154">Organizing the code for a cloud-native application can be challenging.</span></span> <span data-ttu-id="7c2bb-155">Pro cloudové aplikace, které se navzájem vzájemně komunikují, se místo jedné aplikace obří může jednat o web s menšími aplikacemi.</span><span class="sxs-lookup"><span data-stu-id="7c2bb-155">Instead of a single giant application, the cloud-native applications tend to be made up of a web of smaller applications that talk with one another.</span></span> <span data-ttu-id="7c2bb-156">Stejně jako u všech věcí v computingu si nejlepší uspořádání kódu zůstane otevřené otázky.</span><span class="sxs-lookup"><span data-stu-id="7c2bb-156">As with all things in computing, the best arrangement of code remains an open question.</span></span> <span data-ttu-id="7c2bb-157">K dispozici jsou příklady úspěšných aplikací s různými druhy rozložení, ale dvě varianty vypadají nejvíc oblíbenosti.</span><span class="sxs-lookup"><span data-stu-id="7c2bb-157">There are examples of successful applications using different kinds of layouts, but two variants seem to have the most popularity.</span></span>

<span data-ttu-id="7c2bb-158">Než se pustíte do samotné vlastní správy zdrojového kódu, je pravděpodobné, že se rozhodují, kolik projektů je vhodné.</span><span class="sxs-lookup"><span data-stu-id="7c2bb-158">Before getting down into the actual source control itself, it's probably worth deciding on how many projects are appropriate.</span></span> <span data-ttu-id="7c2bb-159">V rámci jednoho projektu je podporována podpora více úložišť a vytváření kanálů.</span><span class="sxs-lookup"><span data-stu-id="7c2bb-159">Within a single project, there's support for multiple repositories, and build pipelines.</span></span> <span data-ttu-id="7c2bb-160">Hrací panely jsou trochu složitější, ale je možné, že je můžete snadno přiřadit více týmům v rámci jednoho projektu.</span><span class="sxs-lookup"><span data-stu-id="7c2bb-160">Boards are a little more complicated but there too the tasks can easily be assigned to multiple teams within a single project.</span></span> <span data-ttu-id="7c2bb-161">V jednom projektu Azure DevOps je sice možné podporovat stovky i tisíce vývojářů.</span><span class="sxs-lookup"><span data-stu-id="7c2bb-161">It's certainly possible to support hundreds, even thousands of developers, out of a single Azure DevOps project.</span></span> <span data-ttu-id="7c2bb-162">V takovém případě je pravděpodobný nejlepší přístup, protože poskytuje všem vývojářům možnost pracovat z a snížit tak nejasnost najít tuto aplikaci, když vývojáři nezjistí, ve kterých projektech se nachází.</span><span class="sxs-lookup"><span data-stu-id="7c2bb-162">Doing so is likely the best approach as it provides a single place for all developer to work out of and reduces the confusion of finding that one application when developers are unsure in which project in which it resides.</span></span>

<span data-ttu-id="7c2bb-163">Rozdělení kódu pro mikroslužby v rámci projektu Azure DevOps může být trochu náročnější.</span><span class="sxs-lookup"><span data-stu-id="7c2bb-163">Splitting up code for microservices within the Azure DevOps project can be slightly more challenging.</span></span>

![Obrázek 11-2 jedno a více úložišť](./media/single-repository-vs-multiple.png)

### <a name="repository-per-microservice"></a><span data-ttu-id="7c2bb-165">Úložiště na mikroslužbu</span><span class="sxs-lookup"><span data-stu-id="7c2bb-165">Repository per microservice</span></span>

<span data-ttu-id="7c2bb-166">Na první pohled se zdá, že se jedná o největší logický přístup k rozdělení zdrojového kódu pro mikroslužby.</span><span class="sxs-lookup"><span data-stu-id="7c2bb-166">At first glance, this seems like the most logical approach to splitting up the source code for microservices.</span></span> <span data-ttu-id="7c2bb-167">Každé úložiště může obsahovat kód potřebný k vytvoření jedné mikroslužby.</span><span class="sxs-lookup"><span data-stu-id="7c2bb-167">Each repository can contain the code needed to build the one microservice.</span></span> <span data-ttu-id="7c2bb-168">Výhody tohoto přístupu jsou snadno viditelné:</span><span class="sxs-lookup"><span data-stu-id="7c2bb-168">The advantages to this approach are readily visible:</span></span>

1. <span data-ttu-id="7c2bb-169">Pokyny k sestavení a údržbě aplikace lze přidat do souboru READme v kořenovém adresáři každého úložiště.</span><span class="sxs-lookup"><span data-stu-id="7c2bb-169">Instructions for building and maintaining the application can be added to a README file at the root of each repository.</span></span> <span data-ttu-id="7c2bb-170">Při převracení přes úložiště je snadné najít tyto pokyny a zkrátit tak dobu trvání pro vývojáře.</span><span class="sxs-lookup"><span data-stu-id="7c2bb-170">When flipping through the repositories, it's easy to find these instructions, reducing spin-up time for developers.</span></span>
2. <span data-ttu-id="7c2bb-171">Každá služba je umístěná na logickém místě, kterou snadno najde s pochopením názvu služby.</span><span class="sxs-lookup"><span data-stu-id="7c2bb-171">Every service is located in a logical place, easily found by knowing the name of the service.</span></span>
3. <span data-ttu-id="7c2bb-172">Sestavení lze snadno nastavit tak, aby se aktivovala pouze v případě, že je provedena změna na vlastnící úložiště.</span><span class="sxs-lookup"><span data-stu-id="7c2bb-172">Builds can easily be set up such that they're only triggered when a change is made to the owning repository.</span></span>
4. <span data-ttu-id="7c2bb-173">Počet změn přicházejících do úložiště je omezen na malý počet vývojářů pracujících na projektu.</span><span class="sxs-lookup"><span data-stu-id="7c2bb-173">The number of changes coming into a repository is limited to the small number of developers working on the project.</span></span>
5. <span data-ttu-id="7c2bb-174">Zabezpečení je snadné nastavit omezením úložišť, ke kterým mají vývojáři oprávnění ke čtení a zápisu.</span><span class="sxs-lookup"><span data-stu-id="7c2bb-174">Security is easy to set up by restricting the repositories to which developers have read and write permissions.</span></span>
6. <span data-ttu-id="7c2bb-175">Nastavení úrovně úložiště může změnit vlastnící tým o minimum diskuze s ostatními.</span><span class="sxs-lookup"><span data-stu-id="7c2bb-175">Repository level settings can be changed by the owning team with a minimum of discussion with others.</span></span>

<span data-ttu-id="7c2bb-176">Jednou z klíčových nápadů za mikroslužby je, že služby by měly být silo a oddělené od sebe.</span><span class="sxs-lookup"><span data-stu-id="7c2bb-176">One of the key ideas behind microservices is that services should be siloed and separated from each other.</span></span> <span data-ttu-id="7c2bb-177">Když použijete návrh založený na doméně, můžete se rozhodnout na hranicích služeb, které služby působí jako transakční hranice.</span><span class="sxs-lookup"><span data-stu-id="7c2bb-177">When using Domain Driven Design to decide on the boundaries for services the services act as transactional boundaries.</span></span> <span data-ttu-id="7c2bb-178">Aktualizace databáze by neměly zahrnovat více služeb.</span><span class="sxs-lookup"><span data-stu-id="7c2bb-178">Database updates shouldn't span multiple services.</span></span> <span data-ttu-id="7c2bb-179">Tato kolekce souvisejících dat je označována jako ohraničený kontext.</span><span class="sxs-lookup"><span data-stu-id="7c2bb-179">This collection of related data is referred to as a bounded context.</span></span>  <span data-ttu-id="7c2bb-180">Tato nápad se projeví v izolaci dat mikroslužeb k databázi oddělené a autonomní od ostatních služeb.</span><span class="sxs-lookup"><span data-stu-id="7c2bb-180">This idea is reflected by the isolation of microservice data to a database separate and autonomous from the rest of the services.</span></span> <span data-ttu-id="7c2bb-181">Přináší skvělou představu o tom, jak tento nápad přenést až do zdrojového kódu.</span><span class="sxs-lookup"><span data-stu-id="7c2bb-181">It makes a great deal of sense to carry this idea all the way through to the source code.</span></span>

<span data-ttu-id="7c2bb-182">Tento přístup ale není bez problémů.</span><span class="sxs-lookup"><span data-stu-id="7c2bb-182">However, this approach isn't without its issues.</span></span> <span data-ttu-id="7c2bb-183">Jedním z dalších problémů při vývoji Gnarly je Správa závislostí.</span><span class="sxs-lookup"><span data-stu-id="7c2bb-183">One of the more gnarly development problems of our time is managing dependencies.</span></span> <span data-ttu-id="7c2bb-184">Vezměte v úvahu počet souborů, které tvoří průměrný adresář `node_modules`.</span><span class="sxs-lookup"><span data-stu-id="7c2bb-184">Consider the number of files that make up the average `node_modules` directory.</span></span> <span data-ttu-id="7c2bb-185">Nová instalace nějakého, jako je `create-react-app`, se může dostat do tisíců balíčků.</span><span class="sxs-lookup"><span data-stu-id="7c2bb-185">A fresh install of something like `create-react-app` is likely to bring with it thousands of packages.</span></span> <span data-ttu-id="7c2bb-186">Otázka, jak tyto závislosti spravovat, je obtížné.</span><span class="sxs-lookup"><span data-stu-id="7c2bb-186">The question of how to manage these dependencies is a difficult one.</span></span> 

<span data-ttu-id="7c2bb-187">Pokud je závislost aktualizována, musí podřízené balíčky také aktualizovat tuto závislost.</span><span class="sxs-lookup"><span data-stu-id="7c2bb-187">If a dependency is updated, then downstream packages must also update this dependency.</span></span> <span data-ttu-id="7c2bb-188">To bohužel povede ke vývojářské práci, takže invariably adresář `node_modules` skončil s více verzemi jednoho balíčku, každá z nich je závislá na nějakém jiném balíčku, který je ve verzi trochu odlišný tempo.</span><span class="sxs-lookup"><span data-stu-id="7c2bb-188">Unfortunately, that takes development work so, invariably, the `node_modules` directory ends up with multiple versions of a single package, each one a dependency of some other package that is versioned at a slightly different cadence.</span></span> <span data-ttu-id="7c2bb-189">Při nasazování aplikace by měla být použita verze závislosti?</span><span class="sxs-lookup"><span data-stu-id="7c2bb-189">When deploying an application, which version of a dependency should be used?</span></span> <span data-ttu-id="7c2bb-190">Verze, která je aktuálně v produkčním prostředí?</span><span class="sxs-lookup"><span data-stu-id="7c2bb-190">The version that is currently in production?</span></span> <span data-ttu-id="7c2bb-191">Verze, která je aktuálně ve verzi beta, ale která je pravděpodobně v produkčním čase, když ji příjemce provede do produkce?</span><span class="sxs-lookup"><span data-stu-id="7c2bb-191">The version that is currently in Beta but is likely to be in production by the time the consumer makes it to production?</span></span> <span data-ttu-id="7c2bb-192">Obtížné problémy, které se nevyřešily jenom pomocí mikroslužeb.</span><span class="sxs-lookup"><span data-stu-id="7c2bb-192">Difficult problems that aren't resolved by just using microservices.</span></span>

<span data-ttu-id="7c2bb-193">Existují knihovny, které jsou závislé na nejrůznějších projektech.</span><span class="sxs-lookup"><span data-stu-id="7c2bb-193">There are libraries that are depended upon by a wide variety of projects.</span></span> <span data-ttu-id="7c2bb-194">Tím, že mikroslužby vydělíte pomocí jednoho z nich, interní závislosti se můžou nejlépe vyřešit pomocí interního úložiště, Azure Artifacts.</span><span class="sxs-lookup"><span data-stu-id="7c2bb-194">By dividing the microservices up with one in each repository the internal dependencies can best be resolved by using the internal repository, Azure Artifacts.</span></span> <span data-ttu-id="7c2bb-195">Sestavení pro knihovny budou nabízet své nejnovější verze do Azure Artifacts pro interní spotřebu.</span><span class="sxs-lookup"><span data-stu-id="7c2bb-195">Builds for libraries will push their latest versions into Azure Artifacts for internal consumption.</span></span> <span data-ttu-id="7c2bb-196">Aby bylo možné převzít závislosti na nově aktualizovaných balíčcích, musí se projekt pro příjem dat ještě ručně aktualizovat.</span><span class="sxs-lookup"><span data-stu-id="7c2bb-196">The downstream project must still be manually updated to take a dependency on the newly updated packages.</span></span>

<span data-ttu-id="7c2bb-197">Jiná nevýhoda představuje při přesouvání kódu mezi službami sám sebe.</span><span class="sxs-lookup"><span data-stu-id="7c2bb-197">Another disadvantage presents itself when moving code between services.</span></span> <span data-ttu-id="7c2bb-198">I když by bylo dobré se domnívat, že první část aplikace do mikroslužeb je 100% správnosti, je tato realita tím, že je prescient, že nebudete moct dělat žádné chyby dělení služby.</span><span class="sxs-lookup"><span data-stu-id="7c2bb-198">Although it would be nice to believe that the first division of an application into microservices is 100% correct, the reality is that rarely we're so prescient as to make no service division mistakes.</span></span> <span data-ttu-id="7c2bb-199">Proto budou funkce a kód, které jednotky potřebují, přesunout ze služby do služby: úložiště do úložiště.</span><span class="sxs-lookup"><span data-stu-id="7c2bb-199">Thus, functionality and the code that drives it will need to move from service to service: repository to repository.</span></span> <span data-ttu-id="7c2bb-200">Při přestupnosti z jednoho úložiště na jiný kód ztratí svou historii.</span><span class="sxs-lookup"><span data-stu-id="7c2bb-200">When leaping from one repository to another, the code loses its history.</span></span> <span data-ttu-id="7c2bb-201">K dispozici je mnoho případů, zejména v případě auditu, kde je úplná historie v části kódu necenná.</span><span class="sxs-lookup"><span data-stu-id="7c2bb-201">There are many cases, especially in the event of an audit, where having full history on a piece of code is invaluable.</span></span>

<span data-ttu-id="7c2bb-202">Poslední a možná nejdůležitější nevýhodou je koordinace změn.</span><span class="sxs-lookup"><span data-stu-id="7c2bb-202">The final and perhaps most important disadvantage is coordinating changes.</span></span> <span data-ttu-id="7c2bb-203">V pravdivé aplikaci mikroslužeb by neexistovaly žádné závislosti nasazení mezi službami.</span><span class="sxs-lookup"><span data-stu-id="7c2bb-203">In a true microservices application, there should be no deployment dependencies between services.</span></span> <span data-ttu-id="7c2bb-204">Mělo by být možné nasadit služby A, B a C v libovolném pořadí, protože mají volné spojení.</span><span class="sxs-lookup"><span data-stu-id="7c2bb-204">It should be possible to deploy services A, B, and C in any order as they have loose coupling.</span></span> <span data-ttu-id="7c2bb-205">Ve skutečnosti ale existují situace, kdy je žádoucí provést změnu, která překročí více úložišť současně.</span><span class="sxs-lookup"><span data-stu-id="7c2bb-205">In reality, however, there are times when it's desirable to make a change that crosses multiple repositories at the same time.</span></span> <span data-ttu-id="7c2bb-206">Mezi příklady patří aktualizace knihovny pro uzavření bezpečnostního otvoru nebo změna komunikačního protokolu používaného všemi službami.</span><span class="sxs-lookup"><span data-stu-id="7c2bb-206">Some examples include updating a library to close a security hole or changing a communication protocol used by all services.</span></span>

<span data-ttu-id="7c2bb-207">Aby bylo možné provést změnu mezi úložištěm, je třeba provést potvrzení u každého úložiště v případě úspěchu.</span><span class="sxs-lookup"><span data-stu-id="7c2bb-207">To do a cross-repository change requires a commit to each repository be made in succession.</span></span> <span data-ttu-id="7c2bb-208">Každá změna v každém úložišti bude vyžadovat vyžádání a revizi samostatně.</span><span class="sxs-lookup"><span data-stu-id="7c2bb-208">Each change in each repository will need to be pull-requested and reviewed separately.</span></span> <span data-ttu-id="7c2bb-209">To může být obtížné koordinovat a obecně obtěžovat.</span><span class="sxs-lookup"><span data-stu-id="7c2bb-209">This can be difficult to coordinate and generally annoying to do.</span></span>

<span data-ttu-id="7c2bb-210">Alternativou k použití mnoha úložišť je vložení veškerého zdrojového kódu do obří, všechny znalosti a samostatné úložiště.</span><span class="sxs-lookup"><span data-stu-id="7c2bb-210">An alternative to using many repositories is to put all the source code together in a giant, all knowing, single repository.</span></span>

### <a name="single-repository"></a><span data-ttu-id="7c2bb-211">Jedno úložiště</span><span class="sxs-lookup"><span data-stu-id="7c2bb-211">Single repository</span></span>

<span data-ttu-id="7c2bb-212">V tomto přístupu, který se někdy označuje jako [monorepository](https://danluu.com/monorepo/), se všechen zdrojový kód pro každou službu vloží do stejného úložiště.</span><span class="sxs-lookup"><span data-stu-id="7c2bb-212">In this approach, sometimes referred to as a [monorepository](https://danluu.com/monorepo/), all the source code for every service is put into the same repository.</span></span> <span data-ttu-id="7c2bb-213">Napřed to vypadá jako ještěrů nápad, který se bude pravděpodobně týkat zdrojového kódu nepraktický.</span><span class="sxs-lookup"><span data-stu-id="7c2bb-213">At first, this seems like a terrible idea likely to make dealing with source code unwieldy.</span></span> <span data-ttu-id="7c2bb-214">Existují však některé z označených výhod pro práci tímto způsobem.</span><span class="sxs-lookup"><span data-stu-id="7c2bb-214">There are, however, some marked advantages to working this way.</span></span>

<span data-ttu-id="7c2bb-215">První výhodou je, že je snazší spravovat závislosti mezi projekty.</span><span class="sxs-lookup"><span data-stu-id="7c2bb-215">The first advantage is that it's easier to manage dependencies between projects.</span></span> <span data-ttu-id="7c2bb-216">Nemusíte se spoléhat na některý z externích kanálů artefaktů, projekty mohou přímo naimportovat navzájem.</span><span class="sxs-lookup"><span data-stu-id="7c2bb-216">Instead of relying on some external artifact feed, projects can directly import one another.</span></span> <span data-ttu-id="7c2bb-217">To znamená, že aktualizace jsou rychlé a v době kompilace v pracovní stanici vývojáře budou pravděpodobně nalezeny konfliktní verze.</span><span class="sxs-lookup"><span data-stu-id="7c2bb-217">This means that updates are instant, and conflicting versions are likely to be found at compile time on the developer's workstation.</span></span> <span data-ttu-id="7c2bb-218">V důsledku toho se posunují některé z bezplatných testů integrace.</span><span class="sxs-lookup"><span data-stu-id="7c2bb-218">In effect, shifting some of the integration testing left.</span></span>

<span data-ttu-id="7c2bb-219">Při přesouvání kódu mezi projekty je nyní snazší zachovat historii, protože soubory budou zjištěny tak, jak byly přesunuty místo přepsání.</span><span class="sxs-lookup"><span data-stu-id="7c2bb-219">When moving code between projects, it's now easier to preserve the history as the files will be detected as having been moved rather than being rewritten.</span></span>

<span data-ttu-id="7c2bb-220">Další výhodou je, že široký rozsah změn, které jsou mezi hranicemi služeb, se dají provádět v jednom potvrzení.</span><span class="sxs-lookup"><span data-stu-id="7c2bb-220">Another advantage is that wide ranging changes that cross service boundaries can be made in a single commit.</span></span> <span data-ttu-id="7c2bb-221">Tím se snižuje nároky na to, aby se mohly kontrolovat jednotlivé možné spousty změn.</span><span class="sxs-lookup"><span data-stu-id="7c2bb-221">This reduces the overhead of having potentially dozens of changes to review individually.</span></span>

<span data-ttu-id="7c2bb-222">Existuje mnoho nástrojů, které mohou provádět statickou analýzu kódu ke zjištění nebezpečných postupů programování nebo problematického používání rozhraní API.</span><span class="sxs-lookup"><span data-stu-id="7c2bb-222">There are many tools that can perform static analysis of code to detect insecure programming practices or problematic use of APIs.</span></span> <span data-ttu-id="7c2bb-223">Ve světě s více úložišti se musí každé úložiště iterovat, aby bylo možné zjistit problémy v nich.</span><span class="sxs-lookup"><span data-stu-id="7c2bb-223">In a multi-repository world, each repository will need to be iterated over to find the problems in them.</span></span> <span data-ttu-id="7c2bb-224">Jediné úložiště umožňuje spustit analýzu vše na jednom místě.</span><span class="sxs-lookup"><span data-stu-id="7c2bb-224">The single repository allows running the analysis all in one place.</span></span>

<span data-ttu-id="7c2bb-225">Přístup k jednomu úložišti má i mnoho nevýhody.</span><span class="sxs-lookup"><span data-stu-id="7c2bb-225">There are also many disadvantages to the single repository approach.</span></span> <span data-ttu-id="7c2bb-226">Jedním z nejpravděpodobnějších z nich je, že při jednom úložišti dojde k ohrožení zabezpečení.</span><span class="sxs-lookup"><span data-stu-id="7c2bb-226">One of the most worrying ones is that having a single repository raises security concerns.</span></span> <span data-ttu-id="7c2bb-227">Pokud se obsah úložiště nevrací v úložišti podle modelu služby, dojde k minimálnímu množství ztracených kódů.</span><span class="sxs-lookup"><span data-stu-id="7c2bb-227">If the contents of a repository are leaked in a repository per service model, the amount of code lost is minimal.</span></span> <span data-ttu-id="7c2bb-228">S jediným úložištěm může dojít ke ztrátě všech vlastněných společností.</span><span class="sxs-lookup"><span data-stu-id="7c2bb-228">With a single repository, everything the company owns could be lost.</span></span> <span data-ttu-id="7c2bb-229">V minulosti existovalo mnoho příkladů a bylo propadnutí celého úsilí o vývoj her.</span><span class="sxs-lookup"><span data-stu-id="7c2bb-229">There have been many examples in the past of this happening and derailing entire game development efforts.</span></span> <span data-ttu-id="7c2bb-230">Máte-li více úložišť, zveřejňuje méně Surface pásma, což je velmi žádoucí vlastnost ve většině postupů zabezpečení.</span><span class="sxs-lookup"><span data-stu-id="7c2bb-230">Having multiple repositories exposes less surface area, which is a very desirable trait in most security practices.</span></span>

<span data-ttu-id="7c2bb-231">Velikost jednoho úložiště se nejspíš rychle stane nespravovatelným.</span><span class="sxs-lookup"><span data-stu-id="7c2bb-231">The size of the single repository is likely to become unmanageable rapidly.</span></span> <span data-ttu-id="7c2bb-232">To představuje některé zajímavé důsledky výkonu.</span><span class="sxs-lookup"><span data-stu-id="7c2bb-232">This presents some interesting performance implications.</span></span> <span data-ttu-id="7c2bb-233">Může se stát, že budete muset použít specializované nástroje, jako je třeba [virtuální systém souborů pro Git](https://vfsforgit.org/), který byl původně navržený tak, aby vylepšil prostředí pro vývojáře v týmu Windows.</span><span class="sxs-lookup"><span data-stu-id="7c2bb-233">It may become necessary to use specialized tools such as [Virtual File System for Git](https://vfsforgit.org/), which was originally designed to improve the experience for developers on the Windows team.</span></span>

<span data-ttu-id="7c2bb-234">Často je argument pro použití jednoho úložiště převařená na argument, který Facebook nebo Google používá tuto metodu pro uspořádání zdrojového kódu.</span><span class="sxs-lookup"><span data-stu-id="7c2bb-234">Frequently the argument for using a single repository boils down to an argument that Facebook or Google use this method for source code arrangement.</span></span> <span data-ttu-id="7c2bb-235">Je-li přístup pro tyto společnosti dobrý, je surely správným přístupem pro všechny společnosti.</span><span class="sxs-lookup"><span data-stu-id="7c2bb-235">If the approach is good enough for these companies, then, surely, it's the correct approach for all companies.</span></span> <span data-ttu-id="7c2bb-236">Pravdivostí věci je, že hodně společností pracuje na něco, jako je například škálování Facebooku nebo Google.</span><span class="sxs-lookup"><span data-stu-id="7c2bb-236">The truth of the matter is that very few companies operate on anything like the scale of Facebook or Google.</span></span> <span data-ttu-id="7c2bb-237">Problémy, ke kterým dochází v těchto škálováních, se liší od většiny vývojářů.</span><span class="sxs-lookup"><span data-stu-id="7c2bb-237">The problems that occur at those scales are different from those most developers will face.</span></span> <span data-ttu-id="7c2bb-238">To, co je dobré pro hus, nemusí být dobré pro Gander.</span><span class="sxs-lookup"><span data-stu-id="7c2bb-238">What is good for the goose may not be good for the gander.</span></span>

<span data-ttu-id="7c2bb-239">Na konci lze buď řešení použít k hostování zdrojového kódu pro mikroslužby.</span><span class="sxs-lookup"><span data-stu-id="7c2bb-239">In the end, either solution can be used to host the source code for microservices.</span></span> <span data-ttu-id="7c2bb-240">Ve většině případů se ale výhody správy a strojírenství provozu v jednom úložišti nemeager.</span><span class="sxs-lookup"><span data-stu-id="7c2bb-240">However, in most cases, the management and engineering overhead of operating in a single repository isn't worth the meager advantages.</span></span> <span data-ttu-id="7c2bb-241">Rozdělení kódu v různých úložištích podporuje lepší oddělení potíží a podporuje autonomii mezi vývojovými týmy.</span><span class="sxs-lookup"><span data-stu-id="7c2bb-241">Splitting code up over multiple repositories encourages better separation of concerns and encourages autonomy among development teams.</span></span>  

### <a name="standard-directory-structure"></a><span data-ttu-id="7c2bb-242">Standardní adresářová struktura</span><span class="sxs-lookup"><span data-stu-id="7c2bb-242">Standard directory structure</span></span>

<span data-ttu-id="7c2bb-243">Bez ohledu na to, jak jedna z nich má projednání každé služby, bude mít vlastní adresář.</span><span class="sxs-lookup"><span data-stu-id="7c2bb-243">Regardless of the single versus multiple repositories debate each service will have its own directory.</span></span> <span data-ttu-id="7c2bb-244">Jedna z nejlepších optimalizací, která umožňuje vývojářům vzájemnou spolupráci mezi projekty, je udržovat standardní adresářovou strukturu.</span><span class="sxs-lookup"><span data-stu-id="7c2bb-244">One of the best optimizations to allow developers to cross between projects quickly is to maintain a standard directory structure.</span></span>

![Obrázek 11-3 standardní adresářovou strukturu pro služby e-mailu i přihlášení](./media/dir-struct.png)

<span data-ttu-id="7c2bb-246">Vždy, když je vytvořen nový projekt, by měla být použita šablona, která je umístěna na místo správné struktury.</span><span class="sxs-lookup"><span data-stu-id="7c2bb-246">Whenever a new project is created, a template that puts in place the correct structure should be used.</span></span> <span data-ttu-id="7c2bb-247">Tato šablona může také zahrnovat takové užitečné položky jako kostra souboru READme a `azure-pipelines.yml`.</span><span class="sxs-lookup"><span data-stu-id="7c2bb-247">This template can also include such useful items as a skeleton README file and an `azure-pipelines.yml`.</span></span> <span data-ttu-id="7c2bb-248">V jakékoli architektuře mikroslužeb poskytuje vysoký stupeň odchylky mezi projekty složité operace proti službám.</span><span class="sxs-lookup"><span data-stu-id="7c2bb-248">In any microservice architecture, a high degree of variance between projects makes bulk operations against the services more difficult.</span></span>

<span data-ttu-id="7c2bb-249">Existuje mnoho nástrojů, které mohou poskytnout šablonování pro celý adresář, který obsahuje několik adresářů zdrojového kódu.</span><span class="sxs-lookup"><span data-stu-id="7c2bb-249">There are many tools that can provide templating for an entire directory, containing several source code directories.</span></span> <span data-ttu-id="7c2bb-250">[Yeoman](https://yeoman.io/) je oblíbený ve světě JavaScript a GitHub nedávno vydal [šablony úložišť](https://github.blog/2019-06-06-generate-new-repositories-with-repository-templates/), které poskytují většinu stejných funkcí.</span><span class="sxs-lookup"><span data-stu-id="7c2bb-250">[Yeoman](https://yeoman.io/) is popular in the JavaScript world and GitHub have recently released [Repository Templates](https://github.blog/2019-06-06-generate-new-repositories-with-repository-templates/), which provide much of the same functionality.</span></span>

## <a name="task-management"></a><span data-ttu-id="7c2bb-251">Správa úloh</span><span class="sxs-lookup"><span data-stu-id="7c2bb-251">Task management</span></span>

<span data-ttu-id="7c2bb-252">Správa úloh v jakémkoli projektu může být obtížná.</span><span class="sxs-lookup"><span data-stu-id="7c2bb-252">Managing tasks in any project can be difficult.</span></span> <span data-ttu-id="7c2bb-253">Předem je dlouhé otázek, které vám pomohou při sestavování pracovních postupů a zajištění optimální produktivity vývojářů.</span><span class="sxs-lookup"><span data-stu-id="7c2bb-253">Up front there are countless questions to be answered about the sort of workflows to set up to ensure optimal developer productivity.</span></span>

<span data-ttu-id="7c2bb-254">Nativní aplikace v cloudu mají za následek menší než tradiční softwarové produkty nebo alespoň ty, které jsou rozdělené na menší služby.</span><span class="sxs-lookup"><span data-stu-id="7c2bb-254">Cloud-native applications tend to be smaller than traditional software products or at least they're divided into smaller services.</span></span> <span data-ttu-id="7c2bb-255">Sledování problémů nebo úloh souvisejících s těmito službami zůstává důležité jako u jakéhokoli jiného softwarového projektu.</span><span class="sxs-lookup"><span data-stu-id="7c2bb-255">Tracking of issues or tasks related to these services remains as important as with any other software project.</span></span> <span data-ttu-id="7c2bb-256">Nikdo nechce ztratit záznam určité pracovní položky nebo vysvětlit zákazníkovi, že jejich potíže nebyly správně zaznamenány.</span><span class="sxs-lookup"><span data-stu-id="7c2bb-256">Nobody wants to lose track of some work item or explain to a customer that their issue wasn't properly logged.</span></span> <span data-ttu-id="7c2bb-257">Panely jsou konfigurovány na úrovni projektu, ale v rámci každého projektu lze definovat oblasti.</span><span class="sxs-lookup"><span data-stu-id="7c2bb-257">Boards are configured at the project level but within each project, areas can be defined.</span></span> <span data-ttu-id="7c2bb-258">Ty umožňují rozlomení problémů mezi několika komponentami.</span><span class="sxs-lookup"><span data-stu-id="7c2bb-258">These allow breaking down issues across several components.</span></span> <span data-ttu-id="7c2bb-259">Výhodou zachování všech práce pro celou aplikaci na jednom místě je, že je snadné přesunout pracovní položky z jednoho týmu na jiný, protože jsou lépe pochopitelné.</span><span class="sxs-lookup"><span data-stu-id="7c2bb-259">The advantage to keeping all the work for the entire application in one place is that it's easy to move work items from one team to another as they're understood better.</span></span>

<span data-ttu-id="7c2bb-260">Azure DevOps obsahuje předem nakonfigurované množství oblíbených šablon.</span><span class="sxs-lookup"><span data-stu-id="7c2bb-260">Azure DevOps comes with a number of popular templates pre-configured.</span></span> <span data-ttu-id="7c2bb-261">Ve většině základních konfiguracích je potřeba, abyste věděli, co je ve nevyřízených položkách, na kterých lidé pracují, a co se děje.</span><span class="sxs-lookup"><span data-stu-id="7c2bb-261">In the most basic configuration, all that is needed to know is what's in the backlog, what people are working on, and what's done.</span></span> <span data-ttu-id="7c2bb-262">Je důležité mít přehled o procesu sestavování softwaru, aby bylo možné v práci určit prioritu a dokončené úkoly hlášené zákazníkovi.</span><span class="sxs-lookup"><span data-stu-id="7c2bb-262">It's important to have this visibility into the process of building software, so that work can be prioritized and completed tasks reported to the customer.</span></span> <span data-ttu-id="7c2bb-263">Samozřejmě se velmi malým počtem softwarových projektů přilepit proces jednoduchý jako `to do`, `doing` a `done`.</span><span class="sxs-lookup"><span data-stu-id="7c2bb-263">Of course, very few software projects stick to a process as simple as `to do`, `doing`, and `done`.</span></span> <span data-ttu-id="7c2bb-264">Netrvá tak dlouho, aby mohli uživatelé začít přidávat kroky, jako je `QA` nebo `Detailed Specification` do procesu.</span><span class="sxs-lookup"><span data-stu-id="7c2bb-264">It doesn't take long for people to start adding steps like `QA` or `Detailed Specification` to the process.</span></span>

<span data-ttu-id="7c2bb-265">Jednou z důležitějších částí agilních metod je introspekce v pravidelných intervalech.</span><span class="sxs-lookup"><span data-stu-id="7c2bb-265">One of the more important parts of Agile methodologies is self-introspection at regular intervals.</span></span> <span data-ttu-id="7c2bb-266">Tyto recenze jsou určeny k tomu, aby poskytovaly přehled o tom, jaké problémy tým čelí a jak se dají zlepšit.</span><span class="sxs-lookup"><span data-stu-id="7c2bb-266">These reviews are meant to provide insight into what problems the team is facing and how they can be improved.</span></span> <span data-ttu-id="7c2bb-267">Často to znamená změnu toku potíží a funkcí prostřednictvím procesu vývoje.</span><span class="sxs-lookup"><span data-stu-id="7c2bb-267">Frequently, this means changing the flow of issues and features through the development process.</span></span> <span data-ttu-id="7c2bb-268">Proto je naprosto dobrý stav, že rozbalíte rozložení desek s dalšími fázemi.</span><span class="sxs-lookup"><span data-stu-id="7c2bb-268">So, it's perfectly healthy to expand the layouts of the boards with additional stages.</span></span>

<span data-ttu-id="7c2bb-269">Fáze na panelech nejsou jediným nástrojem organizace.</span><span class="sxs-lookup"><span data-stu-id="7c2bb-269">The stages in the boards aren't the only organizational tool.</span></span> <span data-ttu-id="7c2bb-270">V závislosti na konfiguraci panelu je k dispozici hierarchie pracovních položek.</span><span class="sxs-lookup"><span data-stu-id="7c2bb-270">Depending on the configuration of the board, there's a hierarchy of work items.</span></span> <span data-ttu-id="7c2bb-271">Nejpřesnější položka, která se může zobrazit na panelu, je úkol.</span><span class="sxs-lookup"><span data-stu-id="7c2bb-271">The most granular item that can appear on a board is a task.</span></span> <span data-ttu-id="7c2bb-272">Mimo pole úkol obsahuje pole pro název, popis, prioritu, odhad množství zbývající práce a možnost propojení s dalšími pracovními položkami nebo položkami vývoje (větve, potvrzení, žádosti o přijetí změn, sestavení a tak dále).</span><span class="sxs-lookup"><span data-stu-id="7c2bb-272">Out of the box a task contains fields for a title, description, a priority, an estimate of the amount of work remaining and the ability to link to other work items or development items (branches, commits, pull requests, builds, and so forth).</span></span> <span data-ttu-id="7c2bb-273">Pracovní položky mohou být klasifikovány do různých oblastí aplikace a různých iterací (sprinty), aby je bylo možné snadněji najít.</span><span class="sxs-lookup"><span data-stu-id="7c2bb-273">Work items can be classified into different areas of the application and different iterations (sprints) to make finding them easier.</span></span>

![Obrázek 11-4 příklad úlohy ve službě Azure DevOps](./media/task-details.png)

<span data-ttu-id="7c2bb-275">Pole Popis podporuje normální styly, které byste očekávali (tučné, kurzíva a přeškrtnutí), a možnost vkládat obrázky.</span><span class="sxs-lookup"><span data-stu-id="7c2bb-275">The description field supports the normal styles you'd expect (bold, italic underscore and strike through) and the ability to insert images.</span></span> <span data-ttu-id="7c2bb-276">Díky tomu je velmi výkonný nástroj, který se používá při zadávání práce nebo chyb.</span><span class="sxs-lookup"><span data-stu-id="7c2bb-276">This makes it a very powerful tool for use when specifying work or bugs.</span></span>

<span data-ttu-id="7c2bb-277">Úlohy je možné zavádět do funkcí, které definují větší pracovní jednotku.</span><span class="sxs-lookup"><span data-stu-id="7c2bb-277">Tasks can be rolled up into features, which define a larger unit of work.</span></span> <span data-ttu-id="7c2bb-278">Funkce je zase možné zavádět [do náměty](https://docs.microsoft.com/azure/devops/boards/backlogs/define-features-epics?view=azure-devops).</span><span class="sxs-lookup"><span data-stu-id="7c2bb-278">Features, in turn, can be [rolled up into epics](https://docs.microsoft.com/azure/devops/boards/backlogs/define-features-epics?view=azure-devops).</span></span> <span data-ttu-id="7c2bb-279">Klasifikace úkolů v této hierarchii usnadňuje pochopení toho, jak velkou funkci přináší.</span><span class="sxs-lookup"><span data-stu-id="7c2bb-279">Classifying tasks in this hierarchy makes it much easier to understand how close a large feature is to rolling out.</span></span>

![Obrázek 11-5 typy pracovních položek, které jsou ve výchozím nastavení nakonfigurovány v základní šabloně procesu](./media/board-issue-types.png)

<span data-ttu-id="7c2bb-281">Existují různé druhy zobrazení problémů v Azure Boards.</span><span class="sxs-lookup"><span data-stu-id="7c2bb-281">There are different kinds of views into the issues in Azure Boards.</span></span> <span data-ttu-id="7c2bb-282">Položky, které ještě nejsou naplánované, se zobrazí v backlogu.</span><span class="sxs-lookup"><span data-stu-id="7c2bb-282">Items that aren't yet scheduled appear in the backlog.</span></span> <span data-ttu-id="7c2bb-283">Odtud je lze přiřadit ke sprintu.</span><span class="sxs-lookup"><span data-stu-id="7c2bb-283">From there, they can be assigned to a sprint.</span></span> <span data-ttu-id="7c2bb-284">Sprint je časové pole, ve kterém se očekává, že se dokončí některé množství práce.</span><span class="sxs-lookup"><span data-stu-id="7c2bb-284">A sprint is a time box during which it's expected some quantity of work will be completed.</span></span> <span data-ttu-id="7c2bb-285">Tato práce může zahrnovat úkoly, ale také řešení lístků.</span><span class="sxs-lookup"><span data-stu-id="7c2bb-285">This work can include tasks but also the resolution of tickets.</span></span> <span data-ttu-id="7c2bb-286">Po tomto případě lze celý Sprint spravovat z části panelu sprintu.</span><span class="sxs-lookup"><span data-stu-id="7c2bb-286">Once there, the entire sprint can be managed from the Sprint board section.</span></span> <span data-ttu-id="7c2bb-287">Toto zobrazení ukazuje, jak probíhá práce, a obsahuje graf vypálení, který umožňuje průběžnou aktualizaci odhadu, pokud bude Sprint úspěšný.</span><span class="sxs-lookup"><span data-stu-id="7c2bb-287">This view shows how work is progressing and includes a burn down chart to give an ever-updating estimate of if the sprint will be successful.</span></span>

![Obrázek 11-6 panel s definovaným sprintem](./media/sprint-board.png)

<span data-ttu-id="7c2bb-289">Teď by se měl vyhodnotit, že se na deskách v Azure DevOps nachází velký výkon.</span><span class="sxs-lookup"><span data-stu-id="7c2bb-289">By now, it should be apparent that there's a great deal of power in the Boards in Azure DevOps.</span></span> <span data-ttu-id="7c2bb-290">Pro vývojáře máte k dispozici snadnou pohled na to, co se právě zpracovává.</span><span class="sxs-lookup"><span data-stu-id="7c2bb-290">For developers, there are easy views of what is being worked on.</span></span> <span data-ttu-id="7c2bb-291">Pro zobrazení správců projektu na nadcházející práci a přehled stávající práce.</span><span class="sxs-lookup"><span data-stu-id="7c2bb-291">For project managers views into upcoming work as well as an overview of existing work.</span></span> <span data-ttu-id="7c2bb-292">Pro manažery existuje spousta sestav o reportování a kapacitě.</span><span class="sxs-lookup"><span data-stu-id="7c2bb-292">For managers, there are plenty of reports about resourcing and capacity.</span></span> <span data-ttu-id="7c2bb-293">Bohužel neexistují žádné Magical o aplikacích Cloud Native, které eliminují nutnost sledovat práci.</span><span class="sxs-lookup"><span data-stu-id="7c2bb-293">Unfortunately, there's nothing magical about cloud-native applications that eliminate the need to track work.</span></span> <span data-ttu-id="7c2bb-294">Pokud ale potřebujete sledovat práci, je k dispozici několik míst, kde je prostředí lepší než v Azure DevOps.</span><span class="sxs-lookup"><span data-stu-id="7c2bb-294">But if you must track work, there are a few places where the experience is better than in Azure DevOps.</span></span>

## <a name="cicd-pipelines"></a><span data-ttu-id="7c2bb-295">Kanály CI/CD</span><span class="sxs-lookup"><span data-stu-id="7c2bb-295">CI/CD pipelines</span></span>

<span data-ttu-id="7c2bb-296">Téměř žádná změna v životním cyklu vývoje softwaru se proto nenástupema jako pro kontinuální integraci (CI) a průběžné doručování (CD).</span><span class="sxs-lookup"><span data-stu-id="7c2bb-296">Almost no change in the software development life cycle has been so revolutionary as the advent of continuous integration (CI) and continuous delivery (CD).</span></span> <span data-ttu-id="7c2bb-297">Sestavování a spouštění automatizovaných testů proti zdrojovému kódu projektu, jakmile se změna vrátí do brzkého výskytu chyb.</span><span class="sxs-lookup"><span data-stu-id="7c2bb-297">Building and running automated tests against the source code of a project as soon as a change is checked in catches mistakes early.</span></span> <span data-ttu-id="7c2bb-298">Před nástupem sestavení průběžné integrace by nebylo Neběžné získat kód z úložiště a zjistit, že neuspěly v testování nebo nemohly být sestaveny.</span><span class="sxs-lookup"><span data-stu-id="7c2bb-298">Prior to the advent of continuous integration builds, it wouldn't be uncommon to pull code from the repository and find that it didn't pass tests or couldn't even be built.</span></span> <span data-ttu-id="7c2bb-299">Výsledkem je velké množství sledování ze zdroje přetržení.</span><span class="sxs-lookup"><span data-stu-id="7c2bb-299">This resulted in a lot of tracking down the source of the breakage.</span></span>

<span data-ttu-id="7c2bb-300">Tradičně dodávání softwaru do produkčního prostředí vyžaduje rozsáhlou dokumentaci a seznam kroků.</span><span class="sxs-lookup"><span data-stu-id="7c2bb-300">Traditionally shipping software to the production environment required extensive documentation and a list of steps.</span></span> <span data-ttu-id="7c2bb-301">Každý z těchto kroků je nutné ručně provést v rámci velmi náchylného procesu k chybám.</span><span class="sxs-lookup"><span data-stu-id="7c2bb-301">Each one of these steps needed to be manually completed in a very error prone process.</span></span>

![Obrázek 11-7 Kontrolní seznam](./media/checklist.png)

<span data-ttu-id="7c2bb-303">Nedílnou součástí průběžné integrace je průběžné doručování, ve kterém se do prostředí nasadí nově připravené balíčky.</span><span class="sxs-lookup"><span data-stu-id="7c2bb-303">The sister of continuous integration is continuous delivery in which the freshly built packages are deployed to an environment.</span></span> <span data-ttu-id="7c2bb-304">Ruční zpracování se nedá škálovat tak, aby odpovídalo rychlosti vývoje, takže automatizace je důležitější.</span><span class="sxs-lookup"><span data-stu-id="7c2bb-304">The manual process can't scale to match the speed of development so automation becomes more important.</span></span> <span data-ttu-id="7c2bb-305">Kontrolní seznamy jsou nahrazeny skripty, které mohou provádět stejné úlohy rychleji a přesněji než jakékoli lidské.</span><span class="sxs-lookup"><span data-stu-id="7c2bb-305">Checklists are replaced by scripts that can execute the same tasks faster and more accurately than any human.</span></span>

<span data-ttu-id="7c2bb-306">Prostředí, do kterého doručování průběžné doručování může být testovací prostředí nebo, jak je provádí řada velkých technologických společností, může to být provozní prostředí.</span><span class="sxs-lookup"><span data-stu-id="7c2bb-306">The environment to which continuous delivery delivers might be a test environment or, as is being done by many major technology companies, it could be the production environment.</span></span> <span data-ttu-id="7c2bb-307">Ta pak vyžaduje investici do vysoce kvalitních testů, které mohou poskytnout jistotu, že změna nevede k přerušení výroby pro uživatele.</span><span class="sxs-lookup"><span data-stu-id="7c2bb-307">The latter requires an investment in high-quality tests that can give confidence that a change isn't going to break production for users.</span></span> <span data-ttu-id="7c2bb-308">Stejným způsobem, že průběžná integrace přechytila problémy v kódu předčasné průběžné doručování, zachytí v brzkém procesu nasazení problémy.</span><span class="sxs-lookup"><span data-stu-id="7c2bb-308">In the same way that continuous integration caught issues in the code early continuous delivery catches issues in the deployment process early.</span></span>

<span data-ttu-id="7c2bb-309">Důležitost automatizace procesu sestavení a doručování je vykládána pomocí cloudových nativních aplikací.</span><span class="sxs-lookup"><span data-stu-id="7c2bb-309">The importance of automating the build and delivery process is accentuated by cloud-native applications.</span></span> <span data-ttu-id="7c2bb-310">K nasazení dochází častěji a více prostředí, takže Ruční nasazení hranic je nemožné.</span><span class="sxs-lookup"><span data-stu-id="7c2bb-310">Deployments happen more frequently and to more environments so manually deploying borders on impossible.</span></span>

### <a name="azure-builds"></a><span data-ttu-id="7c2bb-311">Sestavení Azure</span><span class="sxs-lookup"><span data-stu-id="7c2bb-311">Azure Builds</span></span>

<span data-ttu-id="7c2bb-312">Azure DevOps poskytuje sadu nástrojů pro zajištění nepřetržité integrace a nasazení snadněji než kdy dřív.</span><span class="sxs-lookup"><span data-stu-id="7c2bb-312">Azure DevOps provides a set of tools to make continuous integration and deployment easier than ever.</span></span> <span data-ttu-id="7c2bb-313">Tyto nástroje jsou umístěné v části Azure Pipelines.</span><span class="sxs-lookup"><span data-stu-id="7c2bb-313">These tools are located under Azure Pipelines.</span></span> <span data-ttu-id="7c2bb-314">První z nich je sestavení Azure, což je nástroj pro spouštění definic sestavení založených na YAML ve velkém měřítku.</span><span class="sxs-lookup"><span data-stu-id="7c2bb-314">The first of them is Azure Builds, which is a tool for running YAML-based build definitions at scale.</span></span> <span data-ttu-id="7c2bb-315">Uživatelé můžou buď přenést své vlastní počítače sestavení (Skvělé pro případ, že sestavení vyžaduje prostředí pečlivě), nebo použít počítač z nepřetržitě aktualizovaného fondu virtuálních počítačů Azure hostovaných pro Azure.</span><span class="sxs-lookup"><span data-stu-id="7c2bb-315">Users can either bring their own build machines (great for if the build requires a meticulously set up environment) or use a machine from a constantly refreshed pool of Azure hosted virtual machines.</span></span> <span data-ttu-id="7c2bb-316">Tyto hostované agenti sestavení přináší předinstalované prostředí široké škály vývojářských nástrojů, nejen vývoj pro .NET, ale pro vše od jazyka Java až po vývoj pro iPhone.</span><span class="sxs-lookup"><span data-stu-id="7c2bb-316">These hosted build agents come pre-installed with a wide range of development tools for not just .NET development but for everything from Java to Python to iPhone development.</span></span>

<span data-ttu-id="7c2bb-317">DevOps zahrnuje široké spektrum neplatných definic sestavení, které lze přizpůsobit pro jakékoli sestavení.</span><span class="sxs-lookup"><span data-stu-id="7c2bb-317">DevOps includes a wide range of out of the box build definitions that can be customized for any build.</span></span> <span data-ttu-id="7c2bb-318">Definice sestavení jsou definovány v souboru s názvem `azure-pipelines.yml` a vráceny do úložiště, aby mohly být ve verzi společně se zdrojovým kódem.</span><span class="sxs-lookup"><span data-stu-id="7c2bb-318">The build definitions are defined in a file called `azure-pipelines.yml` and checked into the repository so they can be versioned along with the source code.</span></span> <span data-ttu-id="7c2bb-319">To usnadňuje změny kanálu sestavení ve větvi, protože změny lze vrátit pouze do této větve.</span><span class="sxs-lookup"><span data-stu-id="7c2bb-319">This makes it much easier to make changes to the build pipeline in a branch as the changes can be checked into just that branch.</span></span> <span data-ttu-id="7c2bb-320">Příklad `azure-pipelines.yml` pro sestavení webové aplikace v ASP.NET na plném rozhraní je znázorněn na obrázku 11-8.</span><span class="sxs-lookup"><span data-stu-id="7c2bb-320">An example `azure-pipelines.yml` for building an ASP.NET web application on full framework is show in Figure 11-8.</span></span>

```yml
name: $(rev:r)

variables:
  version: 9.2.0.$(Build.BuildNumber)
  solution: Portals.sln
  artifactName: drop
  buildPlatform: any cpu
  buildConfiguration: release
  
pool:
  name: Hosted VS2017
  demands:
  - msbuild
  - visualstudio
  - vstest

steps:
- task: NuGetToolInstaller@0
  displayName: 'Use NuGet 4.4.1'
  inputs:
    versionSpec: 4.4.1

- task: NuGetCommand@2
  displayName: 'NuGet restore'
  inputs:
    restoreSolution: '$(solution)'
    
- task: VSBuild@1
  displayName: 'Build solution'
  inputs:
    solution: '$(solution)'
    msbuildArgs: '-p:DeployOnBuild=true -p:WebPublishMethod=Package -p:PackageAsSingleFile=true -p:SkipInvalidConfigurations=true -p:PackageLocation="$(build.artifactstagingdirectory)\\"'
    platform: '$(buildPlatform)'
    configuration: '$(buildConfiguration)'

- task: VSTest@2
  displayName: 'Test Assemblies'
  inputs:
    testAssemblyVer2: |
     **\$(buildConfiguration)\**\*test*.dll
     !**\obj\**
     !**\*testadapter.dll
    platform: '$(buildPlatform)'
    configuration: '$(buildConfiguration)'

- task: CopyFiles@2
  displayName: 'Copy UI Test Files to: $(build.artifactstagingdirectory)'
  inputs:
    SourceFolder: UITests
    TargetFolder: '$(build.artifactstagingdirectory)/uitests'

- task: PublishBuildArtifacts@1
  displayName: 'Publish Artifact'
  inputs:
    PathtoPublish: '$(build.artifactstagingdirectory)'
    ArtifactName: '$(artifactName)'
  condition: succeededOrFailed()
```

<span data-ttu-id="7c2bb-321">**Obrázek 11-8** – vzor Azure-Pipelines. yml</span><span class="sxs-lookup"><span data-stu-id="7c2bb-321">**Figure 11-8** - A sample azure-pipelines.yml</span></span>

<span data-ttu-id="7c2bb-322">Tato definice sestavení používá řadu předdefinovaných úloh, které vytvářejí sestavení tak jednoduché jako sestavení sady galerie (jednodušší než obří Millennium Falcon).</span><span class="sxs-lookup"><span data-stu-id="7c2bb-322">This build definition uses a number of built-in tasks that make creating builds as simple as building a Lego set (simpler than the giant Millennium Falcon).</span></span> <span data-ttu-id="7c2bb-323">Například úloha NuGet obnoví balíčky NuGet, zatímco úloha VSBuild volá nástroje pro sestavení sady Visual Studio, aby provedla vlastní kompilaci.</span><span class="sxs-lookup"><span data-stu-id="7c2bb-323">For instance, the NuGet task restores NuGet packages, while the VSBuild task calls the Visual Studio build tools to perform the actual compilation.</span></span> <span data-ttu-id="7c2bb-324">V Azure DevOps jsou k dispozici stovky různých úloh s tisíci více, které udržuje komunita.</span><span class="sxs-lookup"><span data-stu-id="7c2bb-324">There are hundreds of different tasks available in Azure DevOps, with thousands more that are maintained by the community.</span></span> <span data-ttu-id="7c2bb-325">Je možné, že bez ohledu na to, jaké úlohy sestavení chcete spustit, už někdo vytvořil.</span><span class="sxs-lookup"><span data-stu-id="7c2bb-325">It's likely that no matter what build tasks you're looking to run, somebody has built one already.</span></span>

<span data-ttu-id="7c2bb-326">Sestavení lze aktivovat ručně, vrácením se změnami, podle plánu nebo dokončením jiného buildu.</span><span class="sxs-lookup"><span data-stu-id="7c2bb-326">Builds can be triggered manually, by a check-in, on a schedule, or by the completion of another build.</span></span> <span data-ttu-id="7c2bb-327">Ve většině případů je vhodné sestavovat při každém vrácení se změnami.</span><span class="sxs-lookup"><span data-stu-id="7c2bb-327">In most cases, building on every check-in is desirable.</span></span> <span data-ttu-id="7c2bb-328">Sestavení lze filtrovat, aby různá sestavení běžela v různých částech úložiště nebo v různých větvích.</span><span class="sxs-lookup"><span data-stu-id="7c2bb-328">Builds can be filtered so that different builds run against different parts of the repository or against different branches.</span></span> <span data-ttu-id="7c2bb-329">To umožňuje scénářům, jako je spouštění rychlých buildů s omezeným testováním na žádostech o přijetí změn a spuštění úplné regresní sady na noční bázi.</span><span class="sxs-lookup"><span data-stu-id="7c2bb-329">This allows for scenarios like running fast builds with reduced testing on pull requests and running a full regression suite against the trunk on a nightly basis.</span></span>

<span data-ttu-id="7c2bb-330">Konečný výsledek sestavení je kolekce souborů označovaných jako artefakty sestavení.</span><span class="sxs-lookup"><span data-stu-id="7c2bb-330">The end result of a build is a collection of files known as build artifacts.</span></span> <span data-ttu-id="7c2bb-331">Tyto artefakty mohou být předány k dalšímu kroku procesu sestavení nebo přidány do informačního kanálu artefaktu Azure, aby mohly být spotřebovány jinými sestaveními.</span><span class="sxs-lookup"><span data-stu-id="7c2bb-331">These artifacts can be passed along to the next step in the build process or added to an Azure Artifact feed, so they can be consumed by other builds.</span></span>

### <a name="azure-devops-releases"></a><span data-ttu-id="7c2bb-332">Verze Azure DevOps</span><span class="sxs-lookup"><span data-stu-id="7c2bb-332">Azure DevOps releases</span></span>

<span data-ttu-id="7c2bb-333">Sestavení se postará o zkompilování softwaru do balíčku s přípravnou, ale artefakty ještě musí být vloženy do testovacího prostředí, aby bylo možné dokončit průběžné doručování.</span><span class="sxs-lookup"><span data-stu-id="7c2bb-333">Builds take care of compiling the software into a shippable package, but the artifacts still need to be pushed out to a testing environment to complete continuous delivery.</span></span> <span data-ttu-id="7c2bb-334">V takovém případě Azure DevOps používá samostatný nástroj nazvaný releases.</span><span class="sxs-lookup"><span data-stu-id="7c2bb-334">For this, Azure DevOps uses a separate tool called Releases.</span></span> <span data-ttu-id="7c2bb-335">Vydává využití stejné knihovny, které jsou k dispozici pro sestavení, ale zavádí koncept "fáze".</span><span class="sxs-lookup"><span data-stu-id="7c2bb-335">Releases make use of the same tasks' library that were available to the Build but introduce a concept of "stages".</span></span> <span data-ttu-id="7c2bb-336">Fáze je izolované prostředí, do kterého se balíček nainstaluje.</span><span class="sxs-lookup"><span data-stu-id="7c2bb-336">A stage is an isolated environment into which the package is installed.</span></span> <span data-ttu-id="7c2bb-337">Například produkt může využívat vývoj, QA a produkční prostředí.</span><span class="sxs-lookup"><span data-stu-id="7c2bb-337">For instance, a product might make use of a development, a QA, and a production environment.</span></span> <span data-ttu-id="7c2bb-338">Kód se průběžně doručuje do vývojového prostředí, kde pro něj můžete spouštět automatizované testy.</span><span class="sxs-lookup"><span data-stu-id="7c2bb-338">Code is continuously delivered into the development environment where automated tests can be run against it.</span></span> <span data-ttu-id="7c2bb-339">Po dokončení těchto testů se tato verze přesune do prostředí QA pro manuální testování.</span><span class="sxs-lookup"><span data-stu-id="7c2bb-339">Once those tests pass the release moves onto the QA environment for manual testing.</span></span> <span data-ttu-id="7c2bb-340">Nakonec je kód přesunut do produkčního prostředí, kde je viditelný pro každého.</span><span class="sxs-lookup"><span data-stu-id="7c2bb-340">Finally, the code is pushed to production where it's visible to everybody.</span></span>

![Obrázek 11-9 příklad kanálu vydaných verzí s fázemi vývoje, QA a výroby](./media/release-pipeline.png)

<span data-ttu-id="7c2bb-342">Každou fázi sestavení lze automaticky aktivovat dokončením předchozí fáze.</span><span class="sxs-lookup"><span data-stu-id="7c2bb-342">Each stage in the build can be automatically triggered by the completion of the previous phase.</span></span> <span data-ttu-id="7c2bb-343">V mnoha případech to však není žádoucí.</span><span class="sxs-lookup"><span data-stu-id="7c2bb-343">In many cases, however, this isn't desirable.</span></span> <span data-ttu-id="7c2bb-344">Přesun kódu do produkčního prostředí může vyžadovat schválení od někoho.</span><span class="sxs-lookup"><span data-stu-id="7c2bb-344">Moving code into production might require approval from somebody.</span></span> <span data-ttu-id="7c2bb-345">Vydání tyto verze podporují tím, že umožňují schvalovatele v každém kroku kanálu vydání.</span><span class="sxs-lookup"><span data-stu-id="7c2bb-345">Releases supports this by allowing approvers at each step of the release pipeline.</span></span> <span data-ttu-id="7c2bb-346">Pravidla je možné nastavit tak, aby se určitá osoba nebo skupina osob před tím, než se začne do produkčního prostředí, odhlásila na vydané verzi.</span><span class="sxs-lookup"><span data-stu-id="7c2bb-346">Rules can be set up such that a specific person or group of people must sign off on a release before it makes into production.</span></span> <span data-ttu-id="7c2bb-347">Tyto brány umožňují ruční kontroly kvality a také dodržování zákonných požadavků souvisejících s řízením toho, co se v produkčním prostředí týká.</span><span class="sxs-lookup"><span data-stu-id="7c2bb-347">These gates allow for manual quality checks and also for compliance with any regulatory requirements related to control what goes into production.</span></span>

### <a name="everybody-gets-a-build-pipeline"></a><span data-ttu-id="7c2bb-348">Každý získá kanál sestavení</span><span class="sxs-lookup"><span data-stu-id="7c2bb-348">Everybody gets a build pipeline</span></span>

<span data-ttu-id="7c2bb-349">Pro konfiguraci mnoha kanálů sestavení se neúčtují žádné náklady, takže je výhodné mít aspoň jeden kanál sestavení na mikroslužbu.</span><span class="sxs-lookup"><span data-stu-id="7c2bb-349">There's no cost to configuring many build pipelines, so it's advantageous to have at least one build pipeline per microservice.</span></span> <span data-ttu-id="7c2bb-350">V ideálním případě jsou mikroslužby nezávisle nasazené do jakéhokoli prostředí, takže každý z nich může být vydán prostřednictvím vlastního kanálu, aniž by bylo nutné uvolnit hmotnost nesouvisejícího kódu.</span><span class="sxs-lookup"><span data-stu-id="7c2bb-350">Ideally, microservices are independently deployable to any environment so having each one able to be released via its own pipeline without releasing a mass of unrelated code is perfect.</span></span> <span data-ttu-id="7c2bb-351">Každý kanál může mít vlastní sadu schválení, která umožňuje variace procesu sestavení pro každou službu.</span><span class="sxs-lookup"><span data-stu-id="7c2bb-351">Each pipeline can have its own set of approvals allowing for variations in build process for each service.</span></span>

### <a name="versioning-releases"></a><span data-ttu-id="7c2bb-352">Verze verzí</span><span class="sxs-lookup"><span data-stu-id="7c2bb-352">Versioning releases</span></span>

<span data-ttu-id="7c2bb-353">Jednou z nevýhod používání funkce releases je, že není možné ji definovat v souboru @no__t 0 vráceného se změnami.</span><span class="sxs-lookup"><span data-stu-id="7c2bb-353">One drawback to using the Releases functionality is that it can't be defined in a checked-in `azure-pipelines.yml` file.</span></span> <span data-ttu-id="7c2bb-354">Existuje mnoho důvodů, proč byste to měli udělat, protože definice vydání pro jednotlivé větve obsahují v šabloně projektu kostru vydání.</span><span class="sxs-lookup"><span data-stu-id="7c2bb-354">There are many reasons you might want to do that from having per-branch release definitions to including a release skeleton in your project template.</span></span> <span data-ttu-id="7c2bb-355">Naštěstí je práce v průběhu přesunu některých fází do komponenty buildu.</span><span class="sxs-lookup"><span data-stu-id="7c2bb-355">Fortunately, work is ongoing to shift some of the stages support into the Build component.</span></span> <span data-ttu-id="7c2bb-356">Tento postup se označuje jako sestavení ve více fázích a [první verze je teď k dispozici](https://devblogs.microsoft.com/devops/whats-new-with-azure-pipelines/)!</span><span class="sxs-lookup"><span data-stu-id="7c2bb-356">This will be known as multi-stage build and the [first version is available now](https://devblogs.microsoft.com/devops/whats-new-with-azure-pipelines/)!</span></span>

>[!div class="step-by-step"]
><span data-ttu-id="7c2bb-357">[Předchozí](azure-security.md)
>[Další](infrastructure-as-code.md)</span><span class="sxs-lookup"><span data-stu-id="7c2bb-357">[Previous](azure-security.md)
[Next](infrastructure-as-code.md)</span></span>
