---
title: Představení referenční aplikace eShopOnContainers
description: Představujeme referenční aplikaci eShopOnContainers Cloud Native mikroslužeb pro ASP.NET Core a Azure.
ms.date: 06/30/2019
ms.openlocfilehash: b97b62268db1d9990f762d9769233ad72551c226
ms.sourcegitcommit: 046a9c22487551360e20ec39fc21eef99820a254
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 05/14/2020
ms.locfileid: "83395403"
---
# <a name="introducing-eshoponcontainers-reference-app"></a><span data-ttu-id="6d077-103">Představení referenční aplikace eShopOnContainers</span><span class="sxs-lookup"><span data-stu-id="6d077-103">Introducing eShopOnContainers reference app</span></span>

[!INCLUDE [book-preview](../../../includes/book-preview.md)]

<span data-ttu-id="6d077-104">Společnost Microsoft ve spolupráci s předními odborníky ze komunity vytvořila plnohodnotnou referenční aplikaci mikroslužeb pro cloudové služby, která je eShopOnContainers.</span><span class="sxs-lookup"><span data-stu-id="6d077-104">Microsoft, in partnership with leading community experts, has produced a full-featured cloud-native microservices reference application, eShopOnContainers.</span></span> <span data-ttu-id="6d077-105">Tato aplikace se sestavuje pomocí .NET Core a Docker a volitelně z Azure, Kubernetes a sady Visual Studio k vytvoření online prezentace.</span><span class="sxs-lookup"><span data-stu-id="6d077-105">This application is built to showcase using .NET Core and Docker, and optionally Azure, Kubernetes, and Visual Studio, to build an online storefront.</span></span>

![Snímek obrazovky ukázkové aplikace eShopOnContainers](./media/eshoponcontainers-sample-app-screenshot.png)

<span data-ttu-id="6d077-107">**Obrázek 2-1**.</span><span class="sxs-lookup"><span data-stu-id="6d077-107">**Figure 2-1**.</span></span> <span data-ttu-id="6d077-108">Snímek obrazovky ukázkové aplikace eShopOnContainers</span><span class="sxs-lookup"><span data-stu-id="6d077-108">eShopOnContainers Sample App Screenshot.</span></span>

<span data-ttu-id="6d077-109">Před zahájením této kapitoly doporučujeme stáhnout si [referenční aplikaci eShopOnContainers](https://github.com/dotnet-architecture/eShopOnContainers).</span><span class="sxs-lookup"><span data-stu-id="6d077-109">Before starting this chapter, we recommend that you download the [eShopOnContainers reference application](https://github.com/dotnet-architecture/eShopOnContainers).</span></span> <span data-ttu-id="6d077-110">V takovém případě byste měli být jednodušší sledovat spolu se zobrazenými informacemi.</span><span class="sxs-lookup"><span data-stu-id="6d077-110">If you do so, it should be easier for you to follow along with the information presented.</span></span>

## <a name="features-and-requirements"></a><span data-ttu-id="6d077-111">Funkce a požadavky</span><span class="sxs-lookup"><span data-stu-id="6d077-111">Features and requirements</span></span>

<span data-ttu-id="6d077-112">Pojďme začít s přezkoumáním funkcí a požadavků aplikace.</span><span class="sxs-lookup"><span data-stu-id="6d077-112">Let's start with a review of the application's features and requirements.</span></span> <span data-ttu-id="6d077-113">Aplikace eShopOnContainers představuje online obchod, který prodává různé fyzické produkty, jako jsou trička a káva mugs.</span><span class="sxs-lookup"><span data-stu-id="6d077-113">The eShopOnContainers application represents an online store that sells various physical products like t-shirts and coffee mugs.</span></span> <span data-ttu-id="6d077-114">Pokud jste si koupili cokoli online, měli byste se seznámit s tím, jak by se úložiště mělo používat poměrně.</span><span class="sxs-lookup"><span data-stu-id="6d077-114">If you've bought anything online before, the experience of using the store should be relatively familiar.</span></span> <span data-ttu-id="6d077-115">Tady jsou některé základní funkce, které úložiště implementuje:</span><span class="sxs-lookup"><span data-stu-id="6d077-115">Here are some of the basic features the store implements:</span></span>

- <span data-ttu-id="6d077-116">Výpis položek katalogu</span><span class="sxs-lookup"><span data-stu-id="6d077-116">List catalog items</span></span>
- <span data-ttu-id="6d077-117">Filtrovat položky podle typu</span><span class="sxs-lookup"><span data-stu-id="6d077-117">Filter items by type</span></span>
- <span data-ttu-id="6d077-118">Filtrovat položky podle značky</span><span class="sxs-lookup"><span data-stu-id="6d077-118">Filter items by brand</span></span>
- <span data-ttu-id="6d077-119">Přidání položek do nákupního košíku</span><span class="sxs-lookup"><span data-stu-id="6d077-119">Add items to the shopping basket</span></span>
- <span data-ttu-id="6d077-120">Upravit nebo odebrat položky z koše</span><span class="sxs-lookup"><span data-stu-id="6d077-120">Edit or remove items from the basket</span></span>
- <span data-ttu-id="6d077-121">Rezervovat</span><span class="sxs-lookup"><span data-stu-id="6d077-121">Checkout</span></span>
- <span data-ttu-id="6d077-122">Registrace účtu</span><span class="sxs-lookup"><span data-stu-id="6d077-122">Register an account</span></span>
- <span data-ttu-id="6d077-123">Přihlášení</span><span class="sxs-lookup"><span data-stu-id="6d077-123">Sign in</span></span>
- <span data-ttu-id="6d077-124">Odhlásit se</span><span class="sxs-lookup"><span data-stu-id="6d077-124">Sign out</span></span>
- <span data-ttu-id="6d077-125">Revidovat objednávky</span><span class="sxs-lookup"><span data-stu-id="6d077-125">Review orders</span></span>

<span data-ttu-id="6d077-126">Aplikace má také tyto nefunkční požadavky:</span><span class="sxs-lookup"><span data-stu-id="6d077-126">The application also has the following non-functional requirements:</span></span>

- <span data-ttu-id="6d077-127">Je potřeba, aby byla vysoce dostupná a musí se automaticky škálovat, aby se dosáhlo zvýšeného objemu provozu (a mohlo by se škálovat zpátky po přenosu dat).</span><span class="sxs-lookup"><span data-stu-id="6d077-127">It needs to be highly available and it must scale automatically to meet increased traffic (and scale back down once traffic subsides).</span></span>
- <span data-ttu-id="6d077-128">Měla by poskytovat snadno použitelné monitorování svých stavových protokolů a diagnostické protokoly, které vám pomůžou vyřešit případné problémy, se kterými se setká.</span><span class="sxs-lookup"><span data-stu-id="6d077-128">It should provide easy-to-use monitoring of its health and diagnostic logs to help troubleshoot any issues it encounters.</span></span>
- <span data-ttu-id="6d077-129">Měl by podporovat proces agilního vývoje, včetně podpory pro průběžnou integraci a nasazování (CI/CD).</span><span class="sxs-lookup"><span data-stu-id="6d077-129">It should support an agile development process, including support for continuous integration and deployment (CI/CD).</span></span>
- <span data-ttu-id="6d077-130">Kromě dvou webových front-endy (tradiční a jednostránkové aplikace) musí aplikace podporovat také mobilní klientské aplikace s různými druhy operačních systémů.</span><span class="sxs-lookup"><span data-stu-id="6d077-130">In addition to the two web front ends (traditional and Single Page Application), the application must also support mobile client apps running different kinds of operating systems.</span></span>
- <span data-ttu-id="6d077-131">Měla by podporovat hostování mezi platformami a vývoj pro různé platformy.</span><span class="sxs-lookup"><span data-stu-id="6d077-131">It should support cross-platform hosting and cross-platform development.</span></span>

![Architektura vývoje referenčních aplikací eShopOnContainers.](./media/eshoponcontainers-development-architecture.png)

<span data-ttu-id="6d077-133">**Obrázek 2-2**.</span><span class="sxs-lookup"><span data-stu-id="6d077-133">**Figure 2-2**.</span></span> <span data-ttu-id="6d077-134">Architektura vývoje referenčních aplikací eShopOnContainers.</span><span class="sxs-lookup"><span data-stu-id="6d077-134">eShopOnContainers reference application development architecture.</span></span>

<span data-ttu-id="6d077-135">Aplikace eShopOnContainers je přístupná z webových nebo mobilních klientů, kteří přistupují k aplikaci přes HTTPS cílící na serverovou aplikaci ASP.NET Core MVC nebo příslušnou bránu API.</span><span class="sxs-lookup"><span data-stu-id="6d077-135">The eShopOnContainers application is accessible from web or mobile clients that access the application over HTTPS targeting either the ASP.NET Core MVC server application or an appropriate API Gateway.</span></span> <span data-ttu-id="6d077-136">Brány rozhraní API nabízejí několik výhod, jako je například oddálení back-endové služby od jednotlivých front-end klientů a zajištění vyššího zabezpečení.</span><span class="sxs-lookup"><span data-stu-id="6d077-136">API Gateways offer several advantages, such as decoupling back-end services from individual front-end clients and providing better security.</span></span> <span data-ttu-id="6d077-137">Aplikace také využívá související vzor známý jako back-endy (BFF), což doporučuje vytvořit samostatné brány rozhraní API pro každého front-end klienta.</span><span class="sxs-lookup"><span data-stu-id="6d077-137">The application also makes use of a related pattern known as Backends-for-Frontends (BFF), which recommends creating separate API gateways for each front-end client.</span></span> <span data-ttu-id="6d077-138">Referenční architektura ukazuje rozdělení bran rozhraní API na základě toho, zda požadavek pochází z webového nebo mobilního klienta.</span><span class="sxs-lookup"><span data-stu-id="6d077-138">The reference architecture demonstrates breaking up the API gateways based on whether the request is coming from a web or mobile client.</span></span>

<span data-ttu-id="6d077-139">Funkce aplikace je rozdělená na řadu různých mikroslužeb.</span><span class="sxs-lookup"><span data-stu-id="6d077-139">The application's functionality is broken up into a number of distinct microservices.</span></span> <span data-ttu-id="6d077-140">Existují služby zodpovědné za ověřování a identitu, výpis položek z katalogu produktů, správu nákupních košíků uživatelů a zadávání objednávek.</span><span class="sxs-lookup"><span data-stu-id="6d077-140">There are services responsible for authentication and identity, listing items from the product catalog, managing users' shopping baskets, and  placing orders.</span></span> <span data-ttu-id="6d077-141">Každá z těchto samostatných služeb má své vlastní trvalé úložiště.</span><span class="sxs-lookup"><span data-stu-id="6d077-141">Each of these separate services has its own persistent storage.</span></span> <span data-ttu-id="6d077-142">Neexistuje žádné jediné hlavní úložiště dat, se kterým pracují všechny služby.</span><span class="sxs-lookup"><span data-stu-id="6d077-142">There's no single master data store with which all services interact.</span></span> <span data-ttu-id="6d077-143">Místo toho je koordinace a komunikace mezi službami prováděna podle potřeby a pomocí sběrnice zpráv.</span><span class="sxs-lookup"><span data-stu-id="6d077-143">Instead, coordination and communication between the services is done on an as-needed basis and through the use of a message bus.</span></span>

<span data-ttu-id="6d077-144">Každá z různých mikroslužeb je navržena odlišně na základě jejich individuálních požadavků.</span><span class="sxs-lookup"><span data-stu-id="6d077-144">Each of the different microservices is designed differently, based on their individual requirements.</span></span> <span data-ttu-id="6d077-145">To znamená, že jejich technologický zásobník se může lišit, i když jsou všechny sestavené pomocí .NET Core a jsou navržené pro Cloud.</span><span class="sxs-lookup"><span data-stu-id="6d077-145">This means their technology stack may differ, although they're all built using .NET Core and designed for the cloud.</span></span> <span data-ttu-id="6d077-146">Jednodušší služby poskytují základní přístup k vytvoření a čtení-aktualizaci-odstranění (CRUD) pro základní úložiště dat, zatímco pokročilejší služby využívají přístupy k návrhu založené na doméně a vzory pro správu složitosti firmy.</span><span class="sxs-lookup"><span data-stu-id="6d077-146">Simpler services provide basic Create-Read-Update-Delete (CRUD) access to the underlying data stores, while more advanced services use Domain-Driven Design approaches and patterns to manage business complexity.</span></span>

![Různé druhy mikroslužeb](./media/different-kinds-of-microservices.png)

<span data-ttu-id="6d077-148">**Obrázek 2-3**.</span><span class="sxs-lookup"><span data-stu-id="6d077-148">**Figure 2-3**.</span></span> <span data-ttu-id="6d077-149">Různé druhy mikroslužeb.</span><span class="sxs-lookup"><span data-stu-id="6d077-149">Different kinds of microservices.</span></span>

## <a name="overview-of-the-code"></a><span data-ttu-id="6d077-150">Přehled kódu</span><span class="sxs-lookup"><span data-stu-id="6d077-150">Overview of the code</span></span>

<span data-ttu-id="6d077-151">Vzhledem k tomu, že využívá mikroslužby, zahrnuje aplikace eShopOnContainers ve svém úložišti GitHub poměrně několik samostatných projektů a řešení.</span><span class="sxs-lookup"><span data-stu-id="6d077-151">Because it leverages microservices, the eShopOnContainers app includes quite a few separate projects and solutions in its GitHub repository.</span></span> <span data-ttu-id="6d077-152">Kromě samostatných řešení a spustitelných souborů jsou různé služby navržené tak, aby běžely v jejich vlastních kontejnerech, a to jak během místního vývoje, tak za běhu v produkčním prostředí.</span><span class="sxs-lookup"><span data-stu-id="6d077-152">In addition to separate solutions and executable files, the various services are designed to run inside their own containers, both during local development and at runtime in production.</span></span> <span data-ttu-id="6d077-153">Obrázek 2-4 ukazuje úplné řešení sady Visual Studio, ve kterém jsou uspořádány různé různé projekty.</span><span class="sxs-lookup"><span data-stu-id="6d077-153">Figure 2-4 shows the full Visual Studio solution, in which the various different projects are organized.</span></span>

![Projekty v řešení Visual Studio.](./media/projects-in-visual-studio-solution.png)

<span data-ttu-id="6d077-155">**Obrázek 2-4**.</span><span class="sxs-lookup"><span data-stu-id="6d077-155">**Figure 2-4**.</span></span> <span data-ttu-id="6d077-156">Projekty v řešení Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="6d077-156">Projects in Visual Studio solution.</span></span>

<span data-ttu-id="6d077-157">Kód je uspořádán tak, aby podporoval různé mikroslužby, a v rámci každé mikroslužby je kód rozdělen do logiky domény, aspekty infrastruktury a uživatelského rozhraní nebo koncového bodu služby.</span><span class="sxs-lookup"><span data-stu-id="6d077-157">The code is organized to support the different microservices, and within each microservice, the code is broken up into domain logic, infrastructure concerns, and user interface or service endpoint.</span></span> <span data-ttu-id="6d077-158">V mnoha případech můžou být závislosti každé služby splněné v produkčním prostředí, stejně jako alternativní možnosti pro místní vývoj.</span><span class="sxs-lookup"><span data-stu-id="6d077-158">In many cases, each service's dependencies can be fulfilled by Azure services in production, as well as alternative options for local development.</span></span> <span data-ttu-id="6d077-159">Pojďme se podívat, jak jsou požadavky aplikace mapovány na služby Azure.</span><span class="sxs-lookup"><span data-stu-id="6d077-159">Let's examine how the application's requirements map to Azure services.</span></span>

## <a name="understanding-microservices"></a><span data-ttu-id="6d077-160">Principy mikroslužeb</span><span class="sxs-lookup"><span data-stu-id="6d077-160">Understanding microservices</span></span>

<span data-ttu-id="6d077-161">Tato kniha se zaměřuje na nativní cloudové aplikace sestavené pomocí technologie Azure.</span><span class="sxs-lookup"><span data-stu-id="6d077-161">This book focuses on cloud-native applications built using Azure technology.</span></span> <span data-ttu-id="6d077-162">Další informace o osvědčených postupech mikroslužeb a o tom, jak navrhovat aplikace založené na mikroslužbách, najdete v doprovodné příručce, [mikroslužby .NET: architektura pro kontejnery aplikací .NET](https://dotnet.microsoft.com/download/thank-you/microservices-architecture-ebook).</span><span class="sxs-lookup"><span data-stu-id="6d077-162">To learn more about microservices best practices and how to architect microservice-based applications, read the companion book, [.NET Microservices: Architecture for Containerized .NET Applications](https://dotnet.microsoft.com/download/thank-you/microservices-architecture-ebook).</span></span>

>[!div class="step-by-step"]
><span data-ttu-id="6d077-163">[Předchozí](candidate-apps.md) 
> [Další](map-eshoponcontainers-azure-services.md)</span><span class="sxs-lookup"><span data-stu-id="6d077-163">[Previous](candidate-apps.md)
[Next](map-eshoponcontainers-azure-services.md)</span></span>
