---
title: Nasazení kontejnerů v Azure
description: Nasazení kontejnerů v Azure pomocí Azure Container Registry, služby Azure Kubernetes a Azure Dev Spaces.
ms.date: 04/13/2020
ms.openlocfilehash: ba2854323ee0f1394a3cff0dd3756cb3c7c32d5b
ms.sourcegitcommit: 27db07ffb26f76912feefba7b884313547410db5
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 05/19/2020
ms.locfileid: "83614146"
---
# <a name="deploying-containers-in-azure"></a><span data-ttu-id="9e091-103">Nasazení kontejnerů v Azure</span><span class="sxs-lookup"><span data-stu-id="9e091-103">Deploying containers in Azure</span></span>

<span data-ttu-id="9e091-104">V této kapitole jsme probrali kontejnery a v kapitole 1.</span><span class="sxs-lookup"><span data-stu-id="9e091-104">We've discussed containers in this chapter and in chapter 1.</span></span> <span data-ttu-id="9e091-105">Zjistili jsme, že kontejnery poskytují spoustu výhod aplikacím nativním pro Cloud, včetně přenositelnosti.</span><span class="sxs-lookup"><span data-stu-id="9e091-105">We've seen that containers provide many benefits to cloud-native applications, including portability.</span></span> <span data-ttu-id="9e091-106">V cloudu Azure můžete nasadit stejné kontejnerové služby v rámci pracovních a produkčních prostředí.</span><span class="sxs-lookup"><span data-stu-id="9e091-106">In the Azure cloud, you can deploy the same containerized services across staging and production environments.</span></span> <span data-ttu-id="9e091-107">Azure poskytuje několik možností pro hostování těchto kontejnerových úloh:</span><span class="sxs-lookup"><span data-stu-id="9e091-107">Azure provides several options for hosting these containerized workloads:</span></span>

- <span data-ttu-id="9e091-108">Služby Azure Kubernetes (AKS)</span><span class="sxs-lookup"><span data-stu-id="9e091-108">Azure Kubernetes Services (AKS)</span></span>
- <span data-ttu-id="9e091-109">Azure Container Instance (ACI)</span><span class="sxs-lookup"><span data-stu-id="9e091-109">Azure Container Instance (ACI)</span></span>
- <span data-ttu-id="9e091-110">Azure Web Apps pro kontejnery</span><span class="sxs-lookup"><span data-stu-id="9e091-110">Azure Web Apps for Containers</span></span>

## <a name="azure-container-registry"></a><span data-ttu-id="9e091-111">Azure Container Registry</span><span class="sxs-lookup"><span data-stu-id="9e091-111">Azure Container Registry</span></span>

<span data-ttu-id="9e091-112">Při uzavřeníí mikroslužby nejprve vytvoří kontejner sestavení "image".</span><span class="sxs-lookup"><span data-stu-id="9e091-112">When containerizing a microservice, you first a build container "image."</span></span> <span data-ttu-id="9e091-113">Obrázek je binární reprezentace kódu služby, závislosti a modulu runtime.</span><span class="sxs-lookup"><span data-stu-id="9e091-113">The image is a binary representation of the service code, dependencies, and runtime.</span></span> <span data-ttu-id="9e091-114">I když můžete vytvořit image ručně pomocí `Docker Build` příkazu z rozhraní Docker API, lepší přístup je vytvořit jako součást procesu automatizovaného sestavení.</span><span class="sxs-lookup"><span data-stu-id="9e091-114">While you can manually create an image using the `Docker Build` command from the Docker API, a better approach is to create it as part of an automated build process.</span></span>

<span data-ttu-id="9e091-115">Po vytvoření se image kontejneru ukládají do registrů kontejnerů.</span><span class="sxs-lookup"><span data-stu-id="9e091-115">Once created, container images are stored in container registries.</span></span> <span data-ttu-id="9e091-116">Umožňují vytvářet, ukládat a spravovat image kontejnerů.</span><span class="sxs-lookup"><span data-stu-id="9e091-116">They enable you to build, store, and manage container images.</span></span> <span data-ttu-id="9e091-117">K dispozici je mnoho registrů, veřejný i privátní.</span><span class="sxs-lookup"><span data-stu-id="9e091-117">There are many registries available, both public and private.</span></span> <span data-ttu-id="9e091-118">Azure Container Registry (ACR) je plně spravovaná služba registrů kontejnerů v cloudu Azure.</span><span class="sxs-lookup"><span data-stu-id="9e091-118">Azure Container Registry (ACR) is a fully managed container registry service in the Azure cloud.</span></span> <span data-ttu-id="9e091-119">Ukládá vaše image do sítě Azure a zkracuje čas jejich nasazení na hostitele kontejnerů Azure.</span><span class="sxs-lookup"><span data-stu-id="9e091-119">It persists your images inside the Azure network, reducing the time to deploy them to Azure container hosts.</span></span> <span data-ttu-id="9e091-120">Můžete je také zabezpečit pomocí stejných postupů zabezpečení a identity, které používáte pro jiné prostředky Azure.</span><span class="sxs-lookup"><span data-stu-id="9e091-120">You can also secure them using the same security and identity procedures that you use for other Azure resources.</span></span>

<span data-ttu-id="9e091-121">Azure Container Registry vytvoříte pomocí nástrojů [Azure Portal](https://docs.microsoft.com/azure/container-registry/container-registry-get-started-portal), [Azure CLI](https://docs.microsoft.com/azure/container-registry/container-registry-get-started-azure-cli)nebo [PowerShellu](https://docs.microsoft.com/azure/container-registry/container-registry-get-started-powershell).</span><span class="sxs-lookup"><span data-stu-id="9e091-121">You create an Azure Container Registry using the [Azure portal](https://docs.microsoft.com/azure/container-registry/container-registry-get-started-portal), [Azure CLI](https://docs.microsoft.com/azure/container-registry/container-registry-get-started-azure-cli), or [PowerShell tools](https://docs.microsoft.com/azure/container-registry/container-registry-get-started-powershell).</span></span> <span data-ttu-id="9e091-122">Vytvoření registru v Azure je jednoduché.</span><span class="sxs-lookup"><span data-stu-id="9e091-122">Creating a registry in Azure is simple.</span></span> <span data-ttu-id="9e091-123">Vyžaduje předplatné Azure, skupinu prostředků a jedinečný název.</span><span class="sxs-lookup"><span data-stu-id="9e091-123">It requires an Azure subscription, resource group, and a unique name.</span></span> <span data-ttu-id="9e091-124">Obrázek 3-11 ukazuje základní možnosti pro vytvoření registru, který bude hostovaný na adrese `registryname.azurecr.io` .</span><span class="sxs-lookup"><span data-stu-id="9e091-124">Figure 3-11 shows the basic options for creating a registry, which will be hosted at `registryname.azurecr.io`.</span></span>

![Vytvoření registru kontejneru](./media/create-container-registry.png)

<span data-ttu-id="9e091-126">**Obrázek 3-11**.</span><span class="sxs-lookup"><span data-stu-id="9e091-126">**Figure 3-11**.</span></span> <span data-ttu-id="9e091-127">Vytvoření registru kontejneru</span><span class="sxs-lookup"><span data-stu-id="9e091-127">Create container registry</span></span>

<span data-ttu-id="9e091-128">Po vytvoření registru ho budete muset ověřit, abyste ho mohli použít.</span><span class="sxs-lookup"><span data-stu-id="9e091-128">Once you've created the registry, you'll need to authenticate with it before you can use it.</span></span> <span data-ttu-id="9e091-129">Obvykle se k registru přihlašujete pomocí příkazu Azure CLI:</span><span class="sxs-lookup"><span data-stu-id="9e091-129">Typically, you'll log into the registry using the Azure CLI command:</span></span>

```azurecli
az acr login --name *registryname*
```

<span data-ttu-id="9e091-130">Po ověření můžete k vložení imagí kontejneru do něj použít příkazy Docker.</span><span class="sxs-lookup"><span data-stu-id="9e091-130">Once authenticated, you can use docker commands to push container images to it.</span></span> <span data-ttu-id="9e091-131">Předtím, než to uděláte, musíte si image označit pomocí plně kvalifikovaného názvu (URL) přihlašovacího serveru ACR.</span><span class="sxs-lookup"><span data-stu-id="9e091-131">Before you can do so, however, you must tag your image with the fully qualified name (URL) of your ACR login server.</span></span> <span data-ttu-id="9e091-132">Bude mít formát *Registry*. azurecr.IO.</span><span class="sxs-lookup"><span data-stu-id="9e091-132">It will have the format *registryname*.azurecr.io.</span></span>

```console
docker tag mycontainer myregistry.azurecr.io/mycontainer:v1
```

<span data-ttu-id="9e091-133">Po označení obrázku použijte `docker push` příkaz k nahrání image do instance ACR.</span><span class="sxs-lookup"><span data-stu-id="9e091-133">After you've tagged the image, you use the `docker push` command to push the image to your ACR instance.</span></span>

```console
docker push myregistry.azurecr.io/mycontainer:v1
```

<span data-ttu-id="9e091-134">Po nahrání image do registru je vhodné odebrat image z místního prostředí Docker pomocí tohoto příkazu:</span><span class="sxs-lookup"><span data-stu-id="9e091-134">After you push an image to the registry, it's a good idea to remove the image from your local Docker environment, using this command:</span></span>

```console
docker rmi myregistry.azurecr.io/mycontainer:v1
```

<span data-ttu-id="9e091-135">V rámci osvědčeného postupu vývojáři neměli ručně nasdílet image do registru kontejneru.</span><span class="sxs-lookup"><span data-stu-id="9e091-135">As a best practice, developers shouldn't manually push images to a container registry.</span></span> <span data-ttu-id="9e091-136">Místo toho by měl být pro tento proces zodpovědný kanál sestavení definovaný nástrojem jako GitHub nebo Azure DevOps.</span><span class="sxs-lookup"><span data-stu-id="9e091-136">Instead, a build pipeline defined in a tool like GitHub or Azure DevOps should be responsible for this process.</span></span> <span data-ttu-id="9e091-137">Další informace najdete v [kapitole DevOps v nativním cloudu](devops.md).</span><span class="sxs-lookup"><span data-stu-id="9e091-137">Learn more in the [Cloud-Native DevOps chapter](devops.md).</span></span>

## <a name="acr-tasks"></a><span data-ttu-id="9e091-138">Úlohy ACR</span><span class="sxs-lookup"><span data-stu-id="9e091-138">ACR Tasks</span></span>

<span data-ttu-id="9e091-139">[ACR úkoly](https://docs.microsoft.com/azure/container-registry/container-registry-tasks-overview) jsou sadou funkcí dostupných z Azure Container Registry.</span><span class="sxs-lookup"><span data-stu-id="9e091-139">[ACR Tasks](https://docs.microsoft.com/azure/container-registry/container-registry-tasks-overview) is a set of features available from the Azure Container Registry.</span></span> <span data-ttu-id="9e091-140">Rozšiřuje [cyklus vývoje vnitřních smyček](https://docs.microsoft.com/dotnet/architecture/containerized-lifecycle/design-develop-containerized-apps/docker-apps-inner-loop-workflow) tím, že vytváří a spravuje image kontejnerů v cloudu Azure.</span><span class="sxs-lookup"><span data-stu-id="9e091-140">It extends your [inner-loop development cycle](https://docs.microsoft.com/dotnet/architecture/containerized-lifecycle/design-develop-containerized-apps/docker-apps-inner-loop-workflow) by building and managing container images in the Azure cloud.</span></span> <span data-ttu-id="9e091-141">Namísto vyvolání `docker build` a `docker push` místního nasazení na vašem vývojovém počítači jsou automaticky zpracovány ACR úkoly v cloudu.</span><span class="sxs-lookup"><span data-stu-id="9e091-141">Instead of invoking a `docker build` and `docker push` locally on your development machine, they're automatically handled by ACR Tasks in the cloud.</span></span>

<span data-ttu-id="9e091-142">Pomocí příkazu AZ CLI sestavíte image kontejneru a nahrajete ji do ACR:</span><span class="sxs-lookup"><span data-stu-id="9e091-142">The following AZ CLI command both builds a container image and pushes it to ACR:</span></span>

```azurecli
# create a container registry
az acr create --resource-group myResourceGroup --name myContainerRegistry008 --sku Basic

# build container image in ACR and push it into your container regsitry
az acr build --image sample/hello-world:v1  --registry myContainerRegistry008 --file Dockerfile .
```

<span data-ttu-id="9e091-143">Jak vidíte z předchozího bloku příkazu, není nutné instalovat Docker Desktop do vývojového počítače.</span><span class="sxs-lookup"><span data-stu-id="9e091-143">As you can see from the previous command block, there's no need to install Docker Desktop on your development machine.</span></span> <span data-ttu-id="9e091-144">Kromě toho můžete nakonfigurovat triggery úloh ACR k opětovnému sestavení imagí kontejnerů ve zdrojovém kódu i v základních aktualizacích imagí.</span><span class="sxs-lookup"><span data-stu-id="9e091-144">Additionally, you can configure ACR Task triggers to rebuild containers images on both source code and base image updates.</span></span>

## <a name="azure-kubernetes-service"></a><span data-ttu-id="9e091-145">Azure Kubernetes Service</span><span class="sxs-lookup"><span data-stu-id="9e091-145">Azure Kubernetes Service</span></span>

<span data-ttu-id="9e091-146">V této kapitole jsme probrali službu Azure Kubernetes Service (AKS) s délkou.</span><span class="sxs-lookup"><span data-stu-id="9e091-146">We discussed Azure Kubernetes Service (AKS) at length in this chapter.</span></span> <span data-ttu-id="9e091-147">Zjistili jsme, že jde o de facto kontejner Orchestrator, který spravuje kontejnerové nativní aplikace pro Cloud.</span><span class="sxs-lookup"><span data-stu-id="9e091-147">We've seen that it's the de facto container orchestrator managing containerized cloud-native applications.</span></span>

<span data-ttu-id="9e091-148">Po nasazení bitové kopie do registru, jako je například ACR, můžete nakonfigurovat AKS na automatické vyžádání a nasazení.</span><span class="sxs-lookup"><span data-stu-id="9e091-148">Once you deploy an image to a registry, such as ACR, you can configure AKS to automatically pull and deploy it.</span></span> <span data-ttu-id="9e091-149">Díky kanálu CI/CD můžete nakonfigurovat strategii pro [Kanárské verze](https://martinfowler.com/bliki/CanaryRelease.html) , aby se minimalizovalo riziko při rychlém nasazování aktualizací.</span><span class="sxs-lookup"><span data-stu-id="9e091-149">With a CI/CD pipeline in place, you might configure a  [canary release](https://martinfowler.com/bliki/CanaryRelease.html) strategy to minimize the risk involved when rapidly deploying updates.</span></span> <span data-ttu-id="9e091-150">Tato nová verze aplikace se zpočátku nakonfiguruje v produkčním prostředí a nesměruje na ni žádný provoz.</span><span class="sxs-lookup"><span data-stu-id="9e091-150">The new version of the app is initially configured in production with no traffic routed to it.</span></span> <span data-ttu-id="9e091-151">Systém pak bude směrovat malé procento uživatelů na nově nasazenou verzi.</span><span class="sxs-lookup"><span data-stu-id="9e091-151">Then, the system will route a small percentage of users to the newly deployed version.</span></span> <span data-ttu-id="9e091-152">Vzhledem k tomu, že tým získá důvěru v nové verzi, může kumulativní a vyřazení starých instancí.</span><span class="sxs-lookup"><span data-stu-id="9e091-152">As the team gains confidence in the new version, it can roll out more instances and retire the old.</span></span> <span data-ttu-id="9e091-153">AKS snadno podporuje tento styl nasazení.</span><span class="sxs-lookup"><span data-stu-id="9e091-153">AKS easily supports this style of deployment.</span></span>

<span data-ttu-id="9e091-154">Stejně jako u většiny prostředků v Azure můžete vytvořit cluster služby Azure Kubernetes pomocí portálu, příkazového řádku nebo nástrojů pro automatizaci, jako je Helm nebo Terraformu.</span><span class="sxs-lookup"><span data-stu-id="9e091-154">As with most resources in Azure, you can create an Azure Kubernetes Service cluster using the portal, command-line, or automation tools like Helm or Terraform.</span></span> <span data-ttu-id="9e091-155">Chcete-li začít s novým clusterem, je nutné zadat následující informace:</span><span class="sxs-lookup"><span data-stu-id="9e091-155">To get started with a new cluster, you need to provide the following information:</span></span>

- <span data-ttu-id="9e091-156">Předplatné Azure</span><span class="sxs-lookup"><span data-stu-id="9e091-156">Azure subscription</span></span>
- <span data-ttu-id="9e091-157">Skupina prostředků</span><span class="sxs-lookup"><span data-stu-id="9e091-157">Resource group</span></span>
- <span data-ttu-id="9e091-158">Název clusteru Kubernetes</span><span class="sxs-lookup"><span data-stu-id="9e091-158">Kubernetes cluster name</span></span>
- <span data-ttu-id="9e091-159">Oblast</span><span class="sxs-lookup"><span data-stu-id="9e091-159">Region</span></span>
- <span data-ttu-id="9e091-160">Verze Kubernetes</span><span class="sxs-lookup"><span data-stu-id="9e091-160">Kubernetes version</span></span>
- <span data-ttu-id="9e091-161">Předpona názvu DNS</span><span class="sxs-lookup"><span data-stu-id="9e091-161">DNS name prefix</span></span>
- <span data-ttu-id="9e091-162">Velikost uzlu</span><span class="sxs-lookup"><span data-stu-id="9e091-162">Node size</span></span>
- <span data-ttu-id="9e091-163">Počet uzlů</span><span class="sxs-lookup"><span data-stu-id="9e091-163">Node count</span></span>

<span data-ttu-id="9e091-164">Tyto informace jsou dostatečné k tomu, aby bylo možné začít.</span><span class="sxs-lookup"><span data-stu-id="9e091-164">This information is sufficient to get started.</span></span> <span data-ttu-id="9e091-165">V rámci procesu vytváření v Azure Portal můžete také nakonfigurovat možnosti pro následující funkce clusteru:</span><span class="sxs-lookup"><span data-stu-id="9e091-165">As part of the creation process in the Azure portal, you can also configure options for the following features of your cluster:</span></span>

- <span data-ttu-id="9e091-166">Měřítko</span><span class="sxs-lookup"><span data-stu-id="9e091-166">Scale</span></span>
- <span data-ttu-id="9e091-167">Authentication</span><span class="sxs-lookup"><span data-stu-id="9e091-167">Authentication</span></span>
- <span data-ttu-id="9e091-168">Sítě</span><span class="sxs-lookup"><span data-stu-id="9e091-168">Networking</span></span>
- <span data-ttu-id="9e091-169">Monitorování</span><span class="sxs-lookup"><span data-stu-id="9e091-169">Monitoring</span></span>
- <span data-ttu-id="9e091-170">Značky</span><span class="sxs-lookup"><span data-stu-id="9e091-170">Tags</span></span>

<span data-ttu-id="9e091-171">Tento [rychlý Start vás provede nasazením clusteru AKS pomocí Azure Portal](https://docs.microsoft.com/azure/aks/kubernetes-walkthrough-portal).</span><span class="sxs-lookup"><span data-stu-id="9e091-171">This [quickstart walks through deploying an AKS cluster using the Azure portal](https://docs.microsoft.com/azure/aks/kubernetes-walkthrough-portal).</span></span>

## <a name="azure-dev-spaces"></a><span data-ttu-id="9e091-172">Azure Dev Spaces</span><span class="sxs-lookup"><span data-stu-id="9e091-172">Azure Dev Spaces</span></span>

<span data-ttu-id="9e091-173">Nativní aplikace pro Cloud můžou rychle rozšiřovat rozsáhlé a komplexní a vyžadují, aby se mohly spustit významné výpočetní prostředky.</span><span class="sxs-lookup"><span data-stu-id="9e091-173">Cloud-native applications can quickly grow large and complex, requiring significant compute resources to run.</span></span> <span data-ttu-id="9e091-174">V těchto scénářích nemůže být celá aplikace hostována na vývojovém počítači (zejména notebook).</span><span class="sxs-lookup"><span data-stu-id="9e091-174">In these scenarios, the entire application can't be hosted on a development machine (especially a laptop).</span></span> <span data-ttu-id="9e091-175">Azure Dev Spaces je navržený pro řešení tohoto problému pomocí AKS.</span><span class="sxs-lookup"><span data-stu-id="9e091-175">Azure Dev Spaces is designed to address this problem using AKS.</span></span> <span data-ttu-id="9e091-176">Umožňuje vývojářům pracovat s místní verzí svých služeb a současně hostovat zbytek aplikace v AKS vývojovém clusteru.</span><span class="sxs-lookup"><span data-stu-id="9e091-176">It enables developers to work with a local version of their services while hosting the rest of the application in an AKS development cluster.</span></span>

<span data-ttu-id="9e091-177">Vývojáři sdílejí běžící (vývojovou) instanci v clusteru AKS, který obsahuje celou kontejnerovou aplikaci.</span><span class="sxs-lookup"><span data-stu-id="9e091-177">Developers share a running (development) instance in an AKS cluster that contains the entire containerized application.</span></span> <span data-ttu-id="9e091-178">Ale používají osobní prostory nastavené na svém počítači k místnímu vývoji svých služeb.</span><span class="sxs-lookup"><span data-stu-id="9e091-178">But they use personal spaces set up on their machine to locally develop their services.</span></span> <span data-ttu-id="9e091-179">Po dokončení se otestuje z konce na konec v clusteru AKS – bez závislostí replikace.</span><span class="sxs-lookup"><span data-stu-id="9e091-179">When ready, they test from end-to-end in the AKS cluster - without replicating dependencies.</span></span> <span data-ttu-id="9e091-180">Azure Dev Spaces sloučí kód z místního počítače se službami v AKS.</span><span class="sxs-lookup"><span data-stu-id="9e091-180">Azure Dev Spaces merges code from the local machine with services in AKS.</span></span> <span data-ttu-id="9e091-181">Vývojáři můžou rychle iterovat a ladit kód přímo v Kubernetes pomocí sady Visual Studio nebo Visual Studio Code.</span><span class="sxs-lookup"><span data-stu-id="9e091-181">Developers can rapidly iterate and debug code directly in Kubernetes using Visual Studio or Visual Studio Code.</span></span>

<span data-ttu-id="9e091-182">Abychom porozuměli hodnotě Azure Dev Spaces, umožněte mi, aby mě Nasdílela tuto nabídku z Gabe Monroy, odpoledne v kontejnerech na Microsoft Azure:</span><span class="sxs-lookup"><span data-stu-id="9e091-182">To understand the value of Azure Dev Spaces, let me share this quotation from Gabe Monroy, PM Lead of Containers at Microsoft Azure:</span></span>

> <span data-ttu-id="9e091-183">"Představte si, že jste nový zaměstnanec, který se snaží opravit chybu v komplexní aplikaci mikroslužeb skládající se z desítek komponent, z nichž každá má svou vlastní konfiguraci a službu zálohování.</span><span class="sxs-lookup"><span data-stu-id="9e091-183">"Imagine you're a new employee trying to fix a bug in a complex microservices application consisting of dozens of components, each with their own configuration and backing services.</span></span> <span data-ttu-id="9e091-184">Abyste mohli začít, musíte nakonfigurovat své místní vývojové prostředí tak, aby mohlo napodobovat produkci, včetně nastavení IDE, řetězu nástrojů, kontejnerových závislostí služby, místního prostředí Kubernetes, pokládání pro záložní služby a další.</span><span class="sxs-lookup"><span data-stu-id="9e091-184">To get started, you must configure your local development environment so that it can mimic production including setting up your IDE, building tool chain, containerized service dependencies, a local Kubernetes environment, mocks for backing services, and more.</span></span> <span data-ttu-id="9e091-185">V případě, že se při nastavení vývojového prostředí nastavila tato první chyba, může to trvat několik dní.</span><span class="sxs-lookup"><span data-stu-id="9e091-185">With all the time involved setting up your development environment, fixing that first bug could take days.</span></span>
> <span data-ttu-id="9e091-186">Nebo můžete použít vývojové prostory a AKS. "</span><span class="sxs-lookup"><span data-stu-id="9e091-186">Or you could use Dev Spaces and AKS."</span></span>

<span data-ttu-id="9e091-187">Proces pro práci s Azure Dev Spaces zahrnuje následující kroky:</span><span class="sxs-lookup"><span data-stu-id="9e091-187">The process for working with Azure Dev Spaces involves the following steps:</span></span>

1. <span data-ttu-id="9e091-188">Vytvořte prostor pro vývoj.</span><span class="sxs-lookup"><span data-stu-id="9e091-188">Create the dev space.</span></span>
2. <span data-ttu-id="9e091-189">Nakonfigurujte kořenový prostor pro vývoj.</span><span class="sxs-lookup"><span data-stu-id="9e091-189">Configure the root dev space.</span></span>
3. <span data-ttu-id="9e091-190">Nakonfigurujte podřízený prostor pro vývoj (pro vaši vlastní verzi systému).</span><span class="sxs-lookup"><span data-stu-id="9e091-190">Configure a child dev space (for your own version of the system).</span></span>
4. <span data-ttu-id="9e091-191">Připojte se k prostoru pro vývoj.</span><span class="sxs-lookup"><span data-stu-id="9e091-191">Connect to the dev space.</span></span>

<span data-ttu-id="9e091-192">Všechny tyto kroky můžete provést pomocí Azure CLI a nových `azds` nástrojů příkazového řádku.</span><span class="sxs-lookup"><span data-stu-id="9e091-192">All of these steps can be performed using the Azure CLI and new  `azds` command-line tools.</span></span> <span data-ttu-id="9e091-193">Například pro vytvoření nového vývojového prostoru Azure pro určitý cluster Kubernetes byste měli použít příkaz podobný tomuto:</span><span class="sxs-lookup"><span data-stu-id="9e091-193">For example, to create a new Azure Dev Space for a given Kubernetes cluster, you would use a command like this one:</span></span>

```azurecli
az aks use-dev-spaces -g my-aks-resource-group -n MyAKSCluster
```

<span data-ttu-id="9e091-194">Dále můžete pomocí `azds prep` příkazu vygenerovat potřebné prostředky Docker a graf Helm pro spuštění aplikace.</span><span class="sxs-lookup"><span data-stu-id="9e091-194">Next, you can use the `azds prep` command to generate the necessary Docker and Helm chart assets for running the application.</span></span> <span data-ttu-id="9e091-195">Pak spustíte kód v AKS pomocí `azds up` .</span><span class="sxs-lookup"><span data-stu-id="9e091-195">Then you run your code in AKS using `azds up`.</span></span> <span data-ttu-id="9e091-196">Při prvním spuštění tohoto příkazu se nainstaluje graf Helm.</span><span class="sxs-lookup"><span data-stu-id="9e091-196">The first time you run this command, the Helm chart will be installed.</span></span> <span data-ttu-id="9e091-197">Kontejnery se sestaví a nasadí podle vašich pokynů.</span><span class="sxs-lookup"><span data-stu-id="9e091-197">The containers will be built and deployed according to your instructions.</span></span> <span data-ttu-id="9e091-198">Při prvním spuštění této úlohy může trvat několik minut.</span><span class="sxs-lookup"><span data-stu-id="9e091-198">This task may take a few minutes the first time it's run.</span></span> <span data-ttu-id="9e091-199">Po provedení změn se ale můžete připojit k vlastnímu vývojovému prostoru pro vývoj pomocí `azds space select` a pak nasadit a ladit vaše aktualizace v izolovaném prostředí pro vývoj v izolovaném prostoru.</span><span class="sxs-lookup"><span data-stu-id="9e091-199">However, after you make changes, you can connect to your own child dev space using `azds space select` and then deploy and debug your updates in your isolated child dev space.</span></span> <span data-ttu-id="9e091-200">Jakmile budete mít vývojové prostředí v provozu, můžete k němu odeslat aktualizace opětovným vyvoláním `azds up` příkazu nebo můžete použít integrované nástroje v aplikaci Visual Studio nebo Visual Studio Code.</span><span class="sxs-lookup"><span data-stu-id="9e091-200">Once you have your dev space up and running, you can send updates to it by reissuing the `azds up` command or you can use built-in tooling in Visual Studio or Visual Studio Code.</span></span> <span data-ttu-id="9e091-201">Pomocí VS Code se ke svému vývojovému prostoru připojíte pomocí palety příkazů.</span><span class="sxs-lookup"><span data-stu-id="9e091-201">With VS Code, you use the command palette to connect to your dev space.</span></span> <span data-ttu-id="9e091-202">Obrázek 3-12 ukazuje, jak spustit webovou aplikaci pomocí Azure Dev Spaces v aplikaci Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="9e091-202">Figure 3-12 shows how to launch your web application using Azure Dev Spaces in Visual Studio.</span></span>

<span data-ttu-id="9e091-203">![Připojení k Azure Dev Spaces v aplikaci Visual Studio ](./media/azure-dev-spaces-visual-studio-launchsettings.png)
 **Obrázek 3-12**.</span><span class="sxs-lookup"><span data-stu-id="9e091-203">![Connect to Azure Dev Spaces in Visual Studio](./media/azure-dev-spaces-visual-studio-launchsettings.png)
**Figure 3-12**.</span></span> <span data-ttu-id="9e091-204">Připojení k Azure Dev Spaces v aplikaci Visual Studio</span><span class="sxs-lookup"><span data-stu-id="9e091-204">Connect to Azure Dev Spaces in Visual Studio</span></span>

>[!div class="step-by-step"]
><span data-ttu-id="9e091-205">[Předchozí](combine-containers-serverless-approaches.md) 
> [Další](scale-containers-serverless.md)</span><span class="sxs-lookup"><span data-stu-id="9e091-205">[Previous](combine-containers-serverless-approaches.md)
[Next](scale-containers-serverless.md)</span></span>
