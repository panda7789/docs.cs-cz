---
title: Využití bezserverových funkcí
description: Využití bez serveru a Azure Functions v cloudových nativních aplikacích
ms.date: 06/30/2019
ms.openlocfilehash: 77ddef0eb8844ea1b55cd2fc5ec8aa12593c8631
ms.sourcegitcommit: 559fcfbe4871636494870a8b716bf7325df34ac5
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 10/30/2019
ms.locfileid: "73087111"
---
# <a name="leveraging-serverless-functions"></a><span data-ttu-id="7aa5c-103">Využití bezserverových funkcí</span><span class="sxs-lookup"><span data-stu-id="7aa5c-103">Leveraging serverless functions</span></span>

[!INCLUDE [book-preview](../../../includes/book-preview.md)]

<span data-ttu-id="7aa5c-104">V rámci správy úplných počítačů a operačních systémů pro využívání cloudových možností, bez serveru na extrémním konci, kde jediná věc, za kterou zodpovídáte, je váš kód a platíte jenom při spuštění kódu.</span><span class="sxs-lookup"><span data-stu-id="7aa5c-104">In the spectrum of managing full machines and operating systems to leveraging cloud capabilities, serverless lives at the extreme end where the only thing you're responsible for is your code, and you only pay when your code runs.</span></span> <span data-ttu-id="7aa5c-105">Azure Functions poskytuje způsob, jak v aplikacích vytvářet možnosti bez serveru.</span><span class="sxs-lookup"><span data-stu-id="7aa5c-105">Azure Functions provides a way to build serverless capabilities into your applications.</span></span>

## <a name="what-is-serverless"></a><span data-ttu-id="7aa5c-106">Co je bez serveru?</span><span class="sxs-lookup"><span data-stu-id="7aa5c-106">What is serverless?</span></span>

<span data-ttu-id="7aa5c-107">Computing bez serveru neznamená, že není k dispozici žádný server, na kterém je spuštěná aplikace – kód pořád běží na serveru někam.</span><span class="sxs-lookup"><span data-stu-id="7aa5c-107">Serverless computing doesn't mean there isn't a server involved in running your application - the code still runs on a server somewhere.</span></span> <span data-ttu-id="7aa5c-108">Rozdíl je v tom, že vývojový tým aplikace již nemusí mít obavy při správě serverové infrastruktury.</span><span class="sxs-lookup"><span data-stu-id="7aa5c-108">The distinction is that the application development team no longer needs to concern themselves with managing server infrastructure.</span></span> <span data-ttu-id="7aa5c-109">Computingová řešení bez serveru, jako je Azure Functions týmu, zvyšují produktivitu a umožňují organizacím optimalizovat jejich prostředky a soustředit se na poskytování řešení.</span><span class="sxs-lookup"><span data-stu-id="7aa5c-109">Serverless computing solutions like Azure Functions help teams increase their productivity and allow organizations to optimize their resources and focus on delivering solutions.</span></span>

<span data-ttu-id="7aa5c-110">Výpočetní prostředí bez serveru používá pro hostování aplikace nebo součásti vaší aplikace nestavové kontejnery s aktivační událostí.</span><span class="sxs-lookup"><span data-stu-id="7aa5c-110">Serverless computing uses event-triggered stateless containers to host your application or part of your application.</span></span> <span data-ttu-id="7aa5c-111">Platformy bez serveru se můžou škálovat a v závislosti na požadavcích podle potřeby.</span><span class="sxs-lookup"><span data-stu-id="7aa5c-111">Serverless platforms can scale out and in to meet demand as-needed.</span></span> <span data-ttu-id="7aa5c-112">Platformy, jako je Azure Functions, mají snadný přímý přístup k jiným službám Azure, jako jsou fronty, události a úložiště.</span><span class="sxs-lookup"><span data-stu-id="7aa5c-112">Platforms like Azure Functions have easy direct access to other Azure services like queues, events, and storage.</span></span>

## <a name="what-challenges-are-solved-by-serverless"></a><span data-ttu-id="7aa5c-113">Jaké problémy řeší bez serveru?</span><span class="sxs-lookup"><span data-stu-id="7aa5c-113">What challenges are solved by serverless?</span></span>

<span data-ttu-id="7aa5c-114">Bez serveru je maximální abstrakcí z provozu vlastního hardwaru.</span><span class="sxs-lookup"><span data-stu-id="7aa5c-114">Serverless is the ultimate abstraction away from running your own hardware.</span></span> <span data-ttu-id="7aa5c-115">Vývojáři se můžou zaměřit výhradně na psaní kódu pro řešení obchodních problémů, aniž by se museli starat o některé z následujících úloh, které by mohly být nutné při hostování vlastních serverů:</span><span class="sxs-lookup"><span data-stu-id="7aa5c-115">Developers can focus exclusively on writing code to solve business problems, without concern for any of the following tasks that might have been necessary when hosting your own servers:</span></span>

- <span data-ttu-id="7aa5c-116">Nákup počítačů a licencí softwaru</span><span class="sxs-lookup"><span data-stu-id="7aa5c-116">Purchasing machines and software licenses</span></span>
- <span data-ttu-id="7aa5c-117">Ubytování, zabezpečení, konfigurace a údržba počítačů a jejich požadavků na síť, výkon a/C</span><span class="sxs-lookup"><span data-stu-id="7aa5c-117">Housing, securing, configuring, and maintaining the machines and their networking, power, and A/C requirements</span></span>
- <span data-ttu-id="7aa5c-118">Opravy a upgrade operačních systémů a softwaru</span><span class="sxs-lookup"><span data-stu-id="7aa5c-118">Patching and upgrading operating systems and software</span></span>
- <span data-ttu-id="7aa5c-119">Konfigurace webových serverů nebo služeb počítače pro hostování aplikačního softwaru</span><span class="sxs-lookup"><span data-stu-id="7aa5c-119">Configuring web servers or machine services to host application software</span></span>
- <span data-ttu-id="7aa5c-120">Konfigurace aplikačního softwaru v rámci své platformy</span><span class="sxs-lookup"><span data-stu-id="7aa5c-120">Configuring application software within its platform</span></span>

<span data-ttu-id="7aa5c-121">Mnohé společnosti využívají spoustu pedagogů a přiřazují velké rozpočty na podporu těchto potíží s hardwarovou infrastrukturou.</span><span class="sxs-lookup"><span data-stu-id="7aa5c-121">Many companies employ dozens of staff members and allocate large budgets to support these hardware infrastructure concerns.</span></span> <span data-ttu-id="7aa5c-122">Pouhým přechodem na Cloud eliminují některé z těchto otázek; posunutí aplikací po celém serveru tak, aby se neodstranila zbývající aplikace.</span><span class="sxs-lookup"><span data-stu-id="7aa5c-122">Simply moving to the cloud eliminates some of these concerns; shifting applications all the way to serverless will eliminate the rest.</span></span>

## <a name="what-scenarios-are-appropriate-for-serverless"></a><span data-ttu-id="7aa5c-123">Jaké scénáře jsou vhodné pro bez serveru?</span><span class="sxs-lookup"><span data-stu-id="7aa5c-123">What scenarios are appropriate for serverless?</span></span>

<span data-ttu-id="7aa5c-124">Bez serveru se používají jednotlivé krátkodobé běžící funkce, které jsou volány v reakci na určitou aktivační událost.</span><span class="sxs-lookup"><span data-stu-id="7aa5c-124">Serverless uses individual short-running functions that are called in response to some trigger.</span></span> <span data-ttu-id="7aa5c-125">Díky tomu jsou ideální pro zpracování úloh na pozadí.</span><span class="sxs-lookup"><span data-stu-id="7aa5c-125">This makes them ideal for processing background tasks.</span></span>

<span data-ttu-id="7aa5c-126">Aplikace může například potřebovat poslat e-mail jako součást zpracování žádosti.</span><span class="sxs-lookup"><span data-stu-id="7aa5c-126">For example, an application might need to send an email as part of processing a request.</span></span> <span data-ttu-id="7aa5c-127">Místo odeslání e-mailu v rámci zpracování webové žádosti by se podrobnosti o e-mailu daly umístit do fronty a tato zpráva se dá použít k výběru zprávy a odeslání e-mailu.</span><span class="sxs-lookup"><span data-stu-id="7aa5c-127">Instead of sending the email as part of handling the web request, the details of the email could be placed onto a queue and an Azure Function could be used to pick up the message and send the email.</span></span> <span data-ttu-id="7aa5c-128">Celá řada různých částí aplikace nebo dokonce mnoho aplikací může využít stejnou funkci Azure, která poskytuje lepší výkon a škálovatelnost pro aplikace a používá [Vyrovnávání zatížení založené na frontě](https://docs.microsoft.com/azure/architecture/patterns/queue-based-load-leveling) , aby nedocházelo k problémům při posílání e-mailů.</span><span class="sxs-lookup"><span data-stu-id="7aa5c-128">Many different parts of the application, or even many applications, could leverage this same Azure Function, providing improved performance and scalability for the applications and using [queue-based load leveling](https://docs.microsoft.com/azure/architecture/patterns/queue-based-load-leveling) to avoid bottlenecks related to sending the emails.</span></span>

<span data-ttu-id="7aa5c-129">I když je [vzor vydavatele/předplatitele](https://docs.microsoft.com/azure/architecture/patterns/publisher-subscriber) mezi aplikacemi a Azure Functions nejběžnějším vzorem, je možné použít i jiné vzory.</span><span class="sxs-lookup"><span data-stu-id="7aa5c-129">Although a [Publisher/Subscriber pattern](https://docs.microsoft.com/azure/architecture/patterns/publisher-subscriber) between applications and Azure Functions is the most common pattern, other patterns are possible.</span></span> <span data-ttu-id="7aa5c-130">Azure Functions můžou aktivovat jiné události, jako jsou třeba změny v Azure Blob Storage.</span><span class="sxs-lookup"><span data-stu-id="7aa5c-130">Azure Functions can be triggered by other events, such as changes to Azure Blob Storage.</span></span> <span data-ttu-id="7aa5c-131">Aplikace, která podporuje nahrávání imagí, by mohla mít zodpovědnost za vytváření miniatur nebo změnu velikosti nahraných obrázků na konzistentní rozměry nebo pro optimalizaci velikosti obrázků.</span><span class="sxs-lookup"><span data-stu-id="7aa5c-131">An application that supported image uploads could have an Azure Function responsible for creating thumbnail images, or resizing uploaded images to consistent dimensions, or optimizing image size.</span></span> <span data-ttu-id="7aa5c-132">Všechny tyto funkce mohou být aktivovány přímo vložením do Azure Blob Storage, zachovává složitost a zatížení samotné aplikace.</span><span class="sxs-lookup"><span data-stu-id="7aa5c-132">All of this functionality could be triggered directly by inserts to Azure Blob Storage, keeping the complexity and the workload out of the application itself.</span></span>

<span data-ttu-id="7aa5c-133">Mnoho aplikací má v rámci svých pracovních postupů dlouhotrvající procesy.</span><span class="sxs-lookup"><span data-stu-id="7aa5c-133">Many applications have long-running processes as part of their workflows.</span></span> <span data-ttu-id="7aa5c-134">Tyto úlohy jsou často prováděny v rámci interakce uživatele s aplikací a nutí uživatele počkat a negativně ovlivnit jejich prostředí.</span><span class="sxs-lookup"><span data-stu-id="7aa5c-134">Often these tasks are done as part of the user's interaction with the application, forcing the user to wait and negatively impacting their experience.</span></span> <span data-ttu-id="7aa5c-135">Computing bez serveru poskytuje skvělý způsob, jak provádět pomalejší úkoly mimo smyčku interakce uživatele. tyto úlohy se můžou snadno škálovat na vyžádání, aniž by bylo potřeba škálovat celou aplikaci.</span><span class="sxs-lookup"><span data-stu-id="7aa5c-135">Serverless computing provides a great way to perform slower tasks outside of the user interaction loop, and these tasks can easily scale with demand without requiring the entire application to scale.</span></span>

## <a name="when-should-you-avoid-serverless"></a><span data-ttu-id="7aa5c-136">Kdy byste se měli vyhnout bez serveru?</span><span class="sxs-lookup"><span data-stu-id="7aa5c-136">When should you avoid serverless?</span></span>

<span data-ttu-id="7aa5c-137">Pro úlohy, které neblokují uživatelské rozhraní, se používá výpočetní výkon bez serveru.</span><span class="sxs-lookup"><span data-stu-id="7aa5c-137">Serverless computing is best-used for tasks that don't block the user interface.</span></span> <span data-ttu-id="7aa5c-138">To znamená, že nejsou ideální pro hostování webových aplikací nebo webových rozhraní API přímo.</span><span class="sxs-lookup"><span data-stu-id="7aa5c-138">This means they're not ideal for hosting web applications or web APIs directly.</span></span> <span data-ttu-id="7aa5c-139">Hlavním důvodem je to, že řešení bez serveru se zřídí a na vyžádání se škáluje.</span><span class="sxs-lookup"><span data-stu-id="7aa5c-139">The main reason for this is that serverless solutions are provisioned and scaled on demand.</span></span> <span data-ttu-id="7aa5c-140">Pokud je potřeba nová instance funkce, na kterou se říká *studený start*, trvá zřízení čas.</span><span class="sxs-lookup"><span data-stu-id="7aa5c-140">When a new instance of a function is needed, referred to as a *cold start*, it takes time to provision.</span></span> <span data-ttu-id="7aa5c-141">Tato doba obvykle trvá několik sekund, ale může to trvat i v závislosti na různých faktorech.</span><span class="sxs-lookup"><span data-stu-id="7aa5c-141">This time is typically a few seconds, but can be longer depending on a variety of factors.</span></span> <span data-ttu-id="7aa5c-142">Jedna instance může být často udržována po neomezenou dobu (například tím, že je pravidelně vydává požadavek), ale pokud počet instancí někdy potřebuje horizontální navýšení kapacity, zůstane problém s jeho zahájením.</span><span class="sxs-lookup"><span data-stu-id="7aa5c-142">A single instance can often be kept alive indefinitely (for instance, by periodically making a request to it), but the cold start issue remains if the number of instances ever needs to scale up.</span></span>

<span data-ttu-id="7aa5c-143">![studená vs. začátek](./media/cold-start-warm-start.png)
**obrázek 3-10**.</span><span class="sxs-lookup"><span data-stu-id="7aa5c-143">![Cold versus warm start](./media/cold-start-warm-start.png)
**Figure 3-10**.</span></span> <span data-ttu-id="7aa5c-144">Studené zahájení vs. začátek</span><span class="sxs-lookup"><span data-stu-id="7aa5c-144">Cold start versus warm start.</span></span>

<span data-ttu-id="7aa5c-145">Pokud potřebujete zabránit úplnému startu na začátku, můžete zvolit možnost přepnout z [plánu spotřeby na vyhrazený plán](https://azure.microsoft.com/blog/understanding-serverless-cold-start/).</span><span class="sxs-lookup"><span data-stu-id="7aa5c-145">If you need to avoid cold starts entirely, you can choose to switch from a [consumption plan to a dedicated plan](https://azure.microsoft.com/blog/understanding-serverless-cold-start/).</span></span> <span data-ttu-id="7aa5c-146">Můžete také [nakonfigurovat jednu nebo více předem](https://docs.microsoft.com/azure/azure-functions/functions-premium-plan#pre-warmed-instances) zavedených instancí s plánem Premium, takže pokud potřebujete přidat jinou instanci, je již a připravená k použití.</span><span class="sxs-lookup"><span data-stu-id="7aa5c-146">You can also [configure one or more pre-warmed instances](https://docs.microsoft.com/azure/azure-functions/functions-premium-plan#pre-warmed-instances) with the premium plan so when you need to add another instance, it's already up and ready to go.</span></span> <span data-ttu-id="7aa5c-147">Tyto možnosti mohou zmírnit jeden z klíčových otázek spojených s výpočetním prostředím bez serveru.</span><span class="sxs-lookup"><span data-stu-id="7aa5c-147">These options can mitigate one of the key concerns associated with serverless computing.</span></span>

<span data-ttu-id="7aa5c-148">Měli byste se také obvykle vyhnout serveru bez serveru pro dlouhotrvající úlohy.</span><span class="sxs-lookup"><span data-stu-id="7aa5c-148">You should also typically avoid serverless for long-running tasks.</span></span> <span data-ttu-id="7aa5c-149">Jsou nejvhodnější pro malé části práce, které je možné rychle dokončit.</span><span class="sxs-lookup"><span data-stu-id="7aa5c-149">They're best for small pieces of work that can be completed quickly.</span></span> <span data-ttu-id="7aa5c-150">Většina platforem bez serveru vyžaduje, aby se jednotlivé funkce dokončily během několika minut.</span><span class="sxs-lookup"><span data-stu-id="7aa5c-150">Most serverless platforms require individual functions to complete within a few minutes.</span></span> <span data-ttu-id="7aa5c-151">Azure Functions se výchozí hodnota intervalu 5 minut (může být nakonfigurovaná na 10 minut).</span><span class="sxs-lookup"><span data-stu-id="7aa5c-151">Azure Functions defaults to a 5-minute time-out duration (can be configured up to 10 minutes).</span></span> <span data-ttu-id="7aa5c-152">Plán Azure Functions Premium může zmírnit i tento problém, což je výchozí časový limit na 30 minut a umožňuje nakonfigurovat neomezeně vyšší limit.</span><span class="sxs-lookup"><span data-stu-id="7aa5c-152">The Azure Functions premium plan can mitigate this issue as well, defaulting time outs to 30 minutes and allowing an unbounded higher limit to be configured.</span></span>

<span data-ttu-id="7aa5c-153">A konečně využití bez serveru pro určité úkoly v rámci aplikace přináší složitost.</span><span class="sxs-lookup"><span data-stu-id="7aa5c-153">Finally, leveraging serverless for certain tasks within your application adds complexity.</span></span> <span data-ttu-id="7aa5c-154">Je často vhodné architektovat aplikaci v modulárním, volně připojeném způsobem, a pak zjistit, jestli jsou výhody serveru nevýhodné, aby se zajistila další složitost.</span><span class="sxs-lookup"><span data-stu-id="7aa5c-154">It's often best to architect your application in a modular, loosely coupled manner first, and then identify if there are benefits serverless would offer that make the additional complexity worthwhile.</span></span> <span data-ttu-id="7aa5c-155">Mnohé menší aplikace budou v jednom monolitické nasazení dokonale fungovat, aniž by to vyžadovalo architekturu distribuované aplikace bez serveru.</span><span class="sxs-lookup"><span data-stu-id="7aa5c-155">Many smaller applications will run perfectly well in a single monolithic deployment, without the need for the distributed application architecture serverless computing requires.</span></span>

## <a name="references"></a><span data-ttu-id="7aa5c-156">Reference</span><span class="sxs-lookup"><span data-stu-id="7aa5c-156">References</span></span>

- [<span data-ttu-id="7aa5c-157">Principy studeného startu bez serveru</span><span class="sxs-lookup"><span data-stu-id="7aa5c-157">Understanding serverless cold start</span></span>](https://azure.microsoft.com/blog/understanding-serverless-cold-start/)
- [<span data-ttu-id="7aa5c-158">Předem zahřívání Azure Functions instance</span><span class="sxs-lookup"><span data-stu-id="7aa5c-158">Pre-warmed Azure Functions instances</span></span>](https://docs.microsoft.com/azure/azure-functions/functions-premium-plan#pre-warmed-instances)
- [<span data-ttu-id="7aa5c-159">Vytvoření funkce na platformě Linux pomocí vlastní image</span><span class="sxs-lookup"><span data-stu-id="7aa5c-159">Create a function on Linux using a custom image</span></span>](https://docs.microsoft.com/azure/azure-functions/functions-create-function-linux-custom-image)

>[!div class="step-by-step"]
><span data-ttu-id="7aa5c-160">[Předchozí](leverage-containers-orchestrators.md)
>[Další](combine-containers-serverless-approaches.md)</span><span class="sxs-lookup"><span data-stu-id="7aa5c-160">[Previous](leverage-containers-orchestrators.md)
[Next](combine-containers-serverless-approaches.md)</span></span>
