---
title: Azure Monitor
description: Pomocí Azure Monitor uzískat přehled o vašem systému běží.
ms.date: 02/05/2020
ms.openlocfilehash: 4e5ddba6c1c13dc65662a7748d4ae3a58a6a6f68
ms.sourcegitcommit: f87ad41b8e62622da126aa928f7640108c4eff98
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 04/07/2020
ms.locfileid: "80805627"
---
# <a name="azure-monitor"></a><span data-ttu-id="1d485-103">Azure Monitor</span><span class="sxs-lookup"><span data-stu-id="1d485-103">Azure Monitor</span></span>

[!INCLUDE [book-preview](../../../includes/book-preview.md)]

<span data-ttu-id="1d485-104">Žádný jiný poskytovatel cloudu nemá tak vyspělé řešení monitorování cloudových aplikací, jako je řešení v Azure.</span><span class="sxs-lookup"><span data-stu-id="1d485-104">No other cloud provider has as mature of a cloud application monitoring solution as that found in Azure.</span></span> <span data-ttu-id="1d485-105">Azure Monitor je zastřešující název pro kolekci nástrojů navržených tak, aby poskytovaly přehled o stavu vašeho systému, přehled o všech problémech a optimalizaci vaší aplikace.</span><span class="sxs-lookup"><span data-stu-id="1d485-105">Azure Monitor is an umbrella name for a collection of tools designed to provide visibility into the state of your system, insights into any problems, and optimization of your application.</span></span>

<span data-ttu-id="1d485-106">![Azure Monitor, kolekce nástrojů, které poskytují přehled o tom, jak funguje nativní aplikace cloudu. ](./media/azure-monitor.png)
 **Obrázek 7-12**.</span><span class="sxs-lookup"><span data-stu-id="1d485-106">![Azure Monitor, a collection to tools to provide insight into how a cloud-native application is functioning.](./media/azure-monitor.png)
**Figure 7-12**.</span></span> <span data-ttu-id="1d485-107">Azure Monitor, kolekce nástrojů, které poskytují přehled o tom, jak funguje nativní aplikace cloudu.</span><span class="sxs-lookup"><span data-stu-id="1d485-107">Azure Monitor, a collection to tools to provide insight into how a cloud-native application is functioning.</span></span>

## <a name="gathering-logs-and-metrics"></a><span data-ttu-id="1d485-108">Shromažďování protokolů a metrik</span><span class="sxs-lookup"><span data-stu-id="1d485-108">Gathering logs and metrics</span></span>

<span data-ttu-id="1d485-109">Prvním krokem v každém řešení monitorování je shromáždit co nejvíce dat.</span><span class="sxs-lookup"><span data-stu-id="1d485-109">The first step in any monitoring solution is to gather as much data as possible.</span></span> <span data-ttu-id="1d485-110">Čím více dat lze shromáždit, tím hlubší jsou poznatky, které lze získat.</span><span class="sxs-lookup"><span data-stu-id="1d485-110">The more data that can be gathered, the deeper the insights that can be obtained.</span></span> <span data-ttu-id="1d485-111">Přístrojové systémy byly tradičně obtížné.</span><span class="sxs-lookup"><span data-stu-id="1d485-111">Instrumenting systems has traditionally been difficult.</span></span> <span data-ttu-id="1d485-112">Simple Network Management Protocol (SNMP) byl zlatý standardní protokol pro sběr informací o úrovni stroje, ale vyžadoval velké množství znalostí a konfiguraci.</span><span class="sxs-lookup"><span data-stu-id="1d485-112">Simple Network Management Protocol (SNMP) was the gold standard protocol for collecting machine level information but it required a great deal of knowledge and configuring.</span></span> <span data-ttu-id="1d485-113">Naštěstí velká část této tvrdé práce byla odstraněna jako nejběžnější metriky jsou shromažďovány automaticky Azure Monitor.</span><span class="sxs-lookup"><span data-stu-id="1d485-113">Fortunately, much of this hard work has been eliminated as the most common metrics are gathered automatically by Azure Monitor.</span></span>

<span data-ttu-id="1d485-114">Metriky a události na úrovni aplikace není možné instrumentovat automaticky, protože jsou specifické pro aplikaci, která se nasazuje.</span><span class="sxs-lookup"><span data-stu-id="1d485-114">Application level metrics and events aren't possible to instrument automatically because they're specific to the application being deployed.</span></span> <span data-ttu-id="1d485-115">Za účelem shromáždění těchto metrik jsou [k dispozici sady SDK a rozhraní API,](https://docs.microsoft.com/azure/azure-monitor/app/api-custom-events-metrics) které přímo vykazují tyto informace, například když zákazník zaregistruje nebo dokončí objednávku.</span><span class="sxs-lookup"><span data-stu-id="1d485-115">In order to gather these metrics, there are [SDKs and APIs available](https://docs.microsoft.com/azure/azure-monitor/app/api-custom-events-metrics) to directly report such information, such as when a customer signs up or completes an order.</span></span> <span data-ttu-id="1d485-116">Výjimky můžete také zachytit a ohlásit zpět do Azure Monitor prostřednictvím Application Insights.</span><span class="sxs-lookup"><span data-stu-id="1d485-116">Exceptions can also be captured and reported back into Azure Monitor via Application Insights.</span></span> <span data-ttu-id="1d485-117">Sady SDK podporují většinu všech jazyků nalezených v nativních aplikacích cloudu, včetně go, Pythonu, JavaScriptu a jazyků .NET.</span><span class="sxs-lookup"><span data-stu-id="1d485-117">The SDKs support most every language found in Cloud Native Applications including Go, Python, JavaScript, and the .NET languages.</span></span>

<span data-ttu-id="1d485-118">Konečným cílem shromažďování informací o stavu vaší aplikace je zajistit, aby koncoví uživatelé měli dobré zkušenosti.</span><span class="sxs-lookup"><span data-stu-id="1d485-118">The ultimate goal of gathering information about the state of your application is to ensure that your end users have a good experience.</span></span> <span data-ttu-id="1d485-119">Jaký lepší způsob, jak zjistit, zda uživatelé mají problémy, než dělat [mimo-v webových testů](https://docs.microsoft.com/azure/azure-monitor/app/monitor-web-app-availability)?</span><span class="sxs-lookup"><span data-stu-id="1d485-119">What better way to tell if users are experiencing issues than doing [outside-in web tests](https://docs.microsoft.com/azure/azure-monitor/app/monitor-web-app-availability)?</span></span> <span data-ttu-id="1d485-120">Tyto testy mohou být stejně jednoduché jako ping na vaše webové stránky z míst po celém světě, nebo jako s agenty přihlásit do webu a simulovat akce uživatelů.</span><span class="sxs-lookup"><span data-stu-id="1d485-120">These tests can be as simple as pinging your website from locations around the world or as involved as having agents log into the site and simulate user actions.</span></span>

## <a name="reporting-data"></a><span data-ttu-id="1d485-121">Údaje z vykazování</span><span class="sxs-lookup"><span data-stu-id="1d485-121">Reporting data</span></span>

<span data-ttu-id="1d485-122">Jakmile jsou data shromážděna, mohou být manipulována, shrnuta a vykreslena do grafů, které uživatelům umožňují okamžitě vidět, když se objeví problémy.</span><span class="sxs-lookup"><span data-stu-id="1d485-122">Once the data is gathered, it can be manipulated, summarized, and plotted into charts, which allow users to instantly see when there are problems.</span></span> <span data-ttu-id="1d485-123">Tyto grafy lze shromáždit do řídicích panelů nebo do sešitů, což je vícestránková sestava navržená tak, aby vyprávěla příběh o některých aspektech systému.</span><span class="sxs-lookup"><span data-stu-id="1d485-123">These charts can be gathered into dashboards or into Workbooks, a multi-page report designed to tell a story about some aspect of the system.</span></span>

<span data-ttu-id="1d485-124">Žádná moderní aplikace by nebyla úplná bez umělé inteligence nebo strojového učení.</span><span class="sxs-lookup"><span data-stu-id="1d485-124">No modern application would be complete without some artificial intelligence or machine learning.</span></span> <span data-ttu-id="1d485-125">Za tímto účelem mohou být data [předána](https://www.youtube.com/watch?v=Cuza-I1g9tw) různým nástrojům strojového učení v Azure, abyste mohli extrahovat trendy a informace, které by jinak byly skryté.</span><span class="sxs-lookup"><span data-stu-id="1d485-125">To this end, data [can be passed](https://www.youtube.com/watch?v=Cuza-I1g9tw) to the various machine learning tools in Azure to allow you to extract trends and information that would otherwise be hidden.</span></span>

<span data-ttu-id="1d485-126">Application Insights poskytuje výkonný dotazovací jazyk s názvem Kusto, který lze použít k vyhledání záznamů, jejich shrnutí a dokonce i k vykreslení grafů.</span><span class="sxs-lookup"><span data-stu-id="1d485-126">Application Insights provides a powerful query language called Kusto that can be used to find records, summarize them, and even plot charts.</span></span> <span data-ttu-id="1d485-127">Tento dotaz například vyhledá všechny záznamy za měsíc listopad 2007, seskupí je podle státu a vykreslí prvních 10 jako výsečový graf.</span><span class="sxs-lookup"><span data-stu-id="1d485-127">For instance, this query will locate all the records for the month of November 2007, group them by state, and plot the top 10 as a pie chart.</span></span>

```kusto
StormEvents
| where StartTime >= datetime(2007-11-01) and StartTime < datetime(2007-12-01)
| summarize count() by State
| top 10 by count_
| render piechart
```

<span data-ttu-id="1d485-128">![Výsledek obrázku dotazu](./media/azure-monitor.png)
Přehledy aplikací**7-13**.</span><span class="sxs-lookup"><span data-stu-id="1d485-128">![The result of the Application Insights Query](./media/azure-monitor.png)
**Figure 7-13**.</span></span> <span data-ttu-id="1d485-129">Výsledek application insights dotazu.</span><span class="sxs-lookup"><span data-stu-id="1d485-129">The result of the Application Insights Query.</span></span>

<span data-ttu-id="1d485-130">K dispozici je hřiště pro experimentování s dotazy [Kusto,](https://dataexplorer.azure.com/clusters/help/databases/Samples) což je fantastické místo, kde můžete strávit hodinu nebo dvě.</span><span class="sxs-lookup"><span data-stu-id="1d485-130">There is a [playground for experimenting with Kusto](https://dataexplorer.azure.com/clusters/help/databases/Samples) queries, which is a fantastic place to spend an hour or two.</span></span> <span data-ttu-id="1d485-131">Čtení [ukázkových dotazů](https://docs.microsoft.com/azure/kusto/query/samples) může být také poučné.</span><span class="sxs-lookup"><span data-stu-id="1d485-131">Reading [sample queries](https://docs.microsoft.com/azure/kusto/query/samples) can also be instructive.</span></span>

## <a name="dashboards"></a><span data-ttu-id="1d485-132">Řídicí panely</span><span class="sxs-lookup"><span data-stu-id="1d485-132">Dashboards</span></span>

<span data-ttu-id="1d485-133">Existuje několik různých řídicích paneltechnologií, které mohou být použity k zobrazení informací z Azure Monitoru.</span><span class="sxs-lookup"><span data-stu-id="1d485-133">There are several different dashboard technologies that may be used to surface the information from Azure Monitor.</span></span> <span data-ttu-id="1d485-134">Možná nejjednodušší je jen spustit dotazy v Application Insights a [vykreslit data do grafu](https://docs.microsoft.com/azure/azure-monitor/learn/tutorial-app-dashboards).</span><span class="sxs-lookup"><span data-stu-id="1d485-134">Perhaps the simplest is to just run queries in Application Insights and [plot the data into a chart](https://docs.microsoft.com/azure/azure-monitor/learn/tutorial-app-dashboards).</span></span>

<span data-ttu-id="1d485-135">![Příklad grafů Application Insights vložených do](./media/azure-monitor.png)
hlavního obrázku řídicího panelu Azure**7-14**.</span><span class="sxs-lookup"><span data-stu-id="1d485-135">![An example of Application Insights charts embedded in the main Azure Dashboard](./media/azure-monitor.png)
**Figure 7-14**.</span></span> <span data-ttu-id="1d485-136">Příklad grafů Application Insights vložených do hlavního řídicího panelu Azure.</span><span class="sxs-lookup"><span data-stu-id="1d485-136">An example of Application Insights charts embedded in the main Azure Dashboard.</span></span>

<span data-ttu-id="1d485-137">Tyto grafy pak můžete vložit do webu Azure portal správné pomocí funkce řídicího panelu.</span><span class="sxs-lookup"><span data-stu-id="1d485-137">These charts can then be embedded in the Azure portal proper through use of the dashboard feature.</span></span> <span data-ttu-id="1d485-138">Pro uživatele s náročnějšími požadavky, jako je možnost přejít k podrobnostem do několika úrovní dat, jsou data Azure Monitoru dostupná pro [Power BI](https://powerbi.microsoft.com/).</span><span class="sxs-lookup"><span data-stu-id="1d485-138">For users with more exacting requirements, such as being able to drill down into several tiers of data, Azure Monitor data is available to [Power BI](https://powerbi.microsoft.com/).</span></span> <span data-ttu-id="1d485-139">Power BI je špičkový nástroj podnikové třídy business intelligence, který dokáže agregovat data z mnoha různých zdrojů dat.</span><span class="sxs-lookup"><span data-stu-id="1d485-139">Power BI is an industry-leading, enterprise class, business intelligence tool that can aggregate data from many different data sources.</span></span>

<span data-ttu-id="1d485-140">![Příklad řídicího](./media/azure-monitor.png)
panelu Power BI**Obrázek 7-15**.</span><span class="sxs-lookup"><span data-stu-id="1d485-140">![An example Power BI dashboard](./media/azure-monitor.png)
**Figure 7-15**.</span></span> <span data-ttu-id="1d485-141">Ukázkový řídicí panel Power BI.</span><span class="sxs-lookup"><span data-stu-id="1d485-141">An example Power BI dashboard.</span></span>

## <a name="alerts"></a><span data-ttu-id="1d485-142">Výstrahy</span><span class="sxs-lookup"><span data-stu-id="1d485-142">Alerts</span></span>

<span data-ttu-id="1d485-143">Někdy s řídicí panely dat je nedostatečná.</span><span class="sxs-lookup"><span data-stu-id="1d485-143">Sometimes, having data dashboards is insufficient.</span></span> <span data-ttu-id="1d485-144">Pokud nikdo není vzhůru sledovat řídicí panely, pak to může být ještě mnoho hodin, než je problém vyřešen, nebo dokonce zjištěna.</span><span class="sxs-lookup"><span data-stu-id="1d485-144">If nobody is awake to watch the dashboards, then it can still be many hours before a problem is addressed, or even detected.</span></span> <span data-ttu-id="1d485-145">Za tímto účelem Azure Monitor také poskytuje horní zářez [upozorňující řešení](https://docs.microsoft.com/azure/azure-monitor/platform/alerts-overview).</span><span class="sxs-lookup"><span data-stu-id="1d485-145">To this end, Azure Monitor also provides a top notch [alerting solution](https://docs.microsoft.com/azure/azure-monitor/platform/alerts-overview).</span></span> <span data-ttu-id="1d485-146">Výstrahy mohou být vyvolány širokou škálou podmínek, včetně:</span><span class="sxs-lookup"><span data-stu-id="1d485-146">Alerts can be triggered by a wide range of conditions including:</span></span>

- <span data-ttu-id="1d485-147">Hodnoty metriky</span><span class="sxs-lookup"><span data-stu-id="1d485-147">Metric values</span></span>
- <span data-ttu-id="1d485-148">Vyhledávací dotazy na protokoly</span><span class="sxs-lookup"><span data-stu-id="1d485-148">Log search queries</span></span>
- <span data-ttu-id="1d485-149">Události protokolu aktivit</span><span class="sxs-lookup"><span data-stu-id="1d485-149">Activity Log events</span></span>
- <span data-ttu-id="1d485-150">Stav základní platformy Azure</span><span class="sxs-lookup"><span data-stu-id="1d485-150">Health of the underlying Azure platform</span></span>
- <span data-ttu-id="1d485-151">Testy dostupnosti webových stránek</span><span class="sxs-lookup"><span data-stu-id="1d485-151">Tests for web site availability</span></span>

<span data-ttu-id="1d485-152">Při aktivaci mohou výstrahy provádět širokou škálu úloh.</span><span class="sxs-lookup"><span data-stu-id="1d485-152">When triggered, the alerts can perform a wide variety of tasks.</span></span> <span data-ttu-id="1d485-153">Na jednoduché straně mohou upozornění odeslat e-mailové oznámení do seznamu adresátů nebo textovou zprávu jednotlivci.</span><span class="sxs-lookup"><span data-stu-id="1d485-153">On the simple side, the alerts may just send an e-mail notification to a mailing list or a text message to an individual.</span></span> <span data-ttu-id="1d485-154">Další zapojené výstrahy může aktivovat pracovní postup v nástroji, jako je PagerDuty, který si je vědom toho, kdo je na volání pro konkrétní aplikaci.</span><span class="sxs-lookup"><span data-stu-id="1d485-154">More involved alerts might trigger a workflow in a tool such as PagerDuty, which is aware of who is on call for a particular application.</span></span> <span data-ttu-id="1d485-155">Výstrahy můžou aktivovat akce v [Microsoft Flow,](https://flow.microsoft.com/) které odemykají téměř neomezené možnosti pracovních postupů.</span><span class="sxs-lookup"><span data-stu-id="1d485-155">Alerts can trigger actions in [Microsoft Flow](https://flow.microsoft.com/) unlocking near limitless possibilities for workflows.</span></span>

<span data-ttu-id="1d485-156">Jako běžné příčiny výstrahy jsou identifikovány, výstrahy mohou být rozšířeny s podrobnostmi o běžné příčiny výstrah a kroky k jejich vyřešení.</span><span class="sxs-lookup"><span data-stu-id="1d485-156">As common causes of alerts are identified, the alerts can be enhanced with details about the common causes of the alerts and the steps to take to resolve them.</span></span> <span data-ttu-id="1d485-157">Vysoce vyspělé nasazení aplikací nativní pro cloud se může rozhodnout zahájit úlohy samoopravitelnosti, které provádějí akce, jako je například odebrání neúspěšných uzlů ze škálovací sady nebo spuštění aktivity automatického škálování.</span><span class="sxs-lookup"><span data-stu-id="1d485-157">Highly mature cloud-native application deployments may opt to kick off self-healing tasks, which perform actions such as removing failing nodes from a scale set or triggering an autoscaling activity.</span></span> <span data-ttu-id="1d485-158">Nakonec již nemusí být nutné probudit personál ve 2:00, aby vyřešil problém s živým místem, protože systém se bude moci přizpůsobit kompenzaci nebo alespoň kulhat, dokud někdo nepřijde do práce druhý den ráno.</span><span class="sxs-lookup"><span data-stu-id="1d485-158">Eventually it may no longer be necessary to wake up on-call personnel at 2AM to resolve a live-site issue as the system will be able to adjust itself to compensate or at least limp along until somebody arrives at work the next morning.</span></span>

<span data-ttu-id="1d485-159">Azure Monitor automaticky využívá strojové učení k pochopení běžných provozních parametrů nasazených aplikací.</span><span class="sxs-lookup"><span data-stu-id="1d485-159">Azure Monitor automatically leverages machine learning to understand the normal operating parameters of deployed applications.</span></span> <span data-ttu-id="1d485-160">To umožňuje zjistit služby, které pracují mimo jejich normální parametry.</span><span class="sxs-lookup"><span data-stu-id="1d485-160">This enables it to detect services that are operating outside of their normal parameters.</span></span> <span data-ttu-id="1d485-161">Například typický provoz ve všední den na webu může být 10 000 požadavků za minutu.</span><span class="sxs-lookup"><span data-stu-id="1d485-161">For instance, the typical weekday traffic on the site might be 10,000 requests per minute.</span></span> <span data-ttu-id="1d485-162">A pak, v daném týdnu, najednou počet žádostí zasáhne velmi neobvyklé 20.000 žádostí za minutu.</span><span class="sxs-lookup"><span data-stu-id="1d485-162">And then, on a given week, suddenly the number of requests hits a highly unusual 20,000 requests per minute.</span></span> <span data-ttu-id="1d485-163">[Inteligentní detekce](https://docs.microsoft.com/azure/azure-monitor/app/proactive-diagnostics) si všimne této odchylky od normy a spustí výstrahu.</span><span class="sxs-lookup"><span data-stu-id="1d485-163">[Smart Detection](https://docs.microsoft.com/azure/azure-monitor/app/proactive-diagnostics) will notice this deviation from the norm and trigger an alert.</span></span> <span data-ttu-id="1d485-164">Současně je analýza trendů dostatečně chytrá, aby se vyhnula spouštění falešných poplachů, když se očekává zatížení provozu.</span><span class="sxs-lookup"><span data-stu-id="1d485-164">At the same time, the trend analysis is smart enough to avoid firing false positives when the traffic load is expected.</span></span>

## <a name="references"></a><span data-ttu-id="1d485-165">Odkazy</span><span class="sxs-lookup"><span data-stu-id="1d485-165">References</span></span>

- [<span data-ttu-id="1d485-166">Azure Monitor</span><span class="sxs-lookup"><span data-stu-id="1d485-166">Azure Monitor</span></span>](https://docs.microsoft.com/azure/azure-monitor/overview)

>[!div class="step-by-step"]
><span data-ttu-id="1d485-167">[Předchozí](monitoring-azure-kubernetes.md)
>[další](identity.md)</span><span class="sxs-lookup"><span data-stu-id="1d485-167">[Previous](monitoring-azure-kubernetes.md)
[Next](identity.md)</span></span>
