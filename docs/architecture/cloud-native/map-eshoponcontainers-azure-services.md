---
title: Mapování aplikace eShopOnContainers ke službám Azure
description: Mapování eShopOnContainers na služby Azure, jako je služba Azure Kubernetes, brána API a Azure Service Bus.
ms.date: 05/13/2020
ms.openlocfilehash: 271707404f7fb51aec59c6f682ddaefd0bac82cc
ms.sourcegitcommit: 27db07ffb26f76912feefba7b884313547410db5
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 05/19/2020
ms.locfileid: "83613834"
---
# <a name="mapping-eshoponcontainers-to-azure-services"></a><span data-ttu-id="c0e4a-103">Mapování aplikace eShopOnContainers ke službám Azure</span><span class="sxs-lookup"><span data-stu-id="c0e4a-103">Mapping eShopOnContainers to Azure Services</span></span>

<span data-ttu-id="c0e4a-104">I když to není nutné, Azure je vhodný pro podporu eShopOnContainers, protože projekt byl sestaven jako cloudová nativní aplikace.</span><span class="sxs-lookup"><span data-stu-id="c0e4a-104">Although not required, Azure is well-suited to supporting the eShopOnContainers because the project was built to be a cloud-native application.</span></span> <span data-ttu-id="c0e4a-105">Aplikace je sestavená pomocí .NET Core, takže ji můžete spustit na kontejnerech Linux nebo Windows v závislosti na hostiteli Docker.</span><span class="sxs-lookup"><span data-stu-id="c0e4a-105">The application is built with .NET Core, so it can run on Linux or Windows containers depending on the Docker host.</span></span> <span data-ttu-id="c0e4a-106">Aplikace se skládá z několika autonomních mikroslužeb, z nichž každá má vlastní data.</span><span class="sxs-lookup"><span data-stu-id="c0e4a-106">The application is made up of multiple autonomous microservices, each with its own data.</span></span> <span data-ttu-id="c0e4a-107">Různé mikroslužby prezentují různé přístupy od jednoduchých operací CRUD až po složitější a CQRS vzory.</span><span class="sxs-lookup"><span data-stu-id="c0e4a-107">The different microservices showcase different approaches, ranging from simple CRUD operations to more complex DDD and CQRS patterns.</span></span> <span data-ttu-id="c0e4a-108">Mikroslužby komunikují s klienty přes protokol HTTP a vzájemně komunikují prostřednictvím komunikace založené na zprávách.</span><span class="sxs-lookup"><span data-stu-id="c0e4a-108">Microservices communicate with clients over HTTP and with one another via message-based communication.</span></span> <span data-ttu-id="c0e4a-109">Aplikace podporuje také více platforem pro klienty, protože přijímá protokol HTTP jako standardní komunikační protokol a zahrnuje ASP.NET Core a Xamarin Mobile Apps, které běží na platformách Android, iOS a Windows.</span><span class="sxs-lookup"><span data-stu-id="c0e4a-109">The application supports multiple platforms for clients as well, since it adopts HTTP as a standard communication protocol and includes ASP.NET Core and Xamarin mobile apps that run on Android, iOS, and Windows platforms.</span></span>

<span data-ttu-id="c0e4a-110">Architektura aplikace se zobrazuje na obrázku 2-5.</span><span class="sxs-lookup"><span data-stu-id="c0e4a-110">The application's architecture is shown in Figure 2-5.</span></span> <span data-ttu-id="c0e4a-111">Na levé straně jsou klientské aplikace rozdělené na mobilní, tradiční web a charakter SPA (Web Single Page Application).</span><span class="sxs-lookup"><span data-stu-id="c0e4a-111">On the left are the client apps, broken up into mobile, traditional Web, and Web Single Page Application (SPA) flavors.</span></span> <span data-ttu-id="c0e4a-112">Na pravé straně jsou serverové komponenty, které tvoří systém, z nichž každý je možné hostovat v kontejnerech Docker a clusterech Kubernetes.</span><span class="sxs-lookup"><span data-stu-id="c0e4a-112">On the right are the server-side components that make up the system, each of which can be hosted in Docker containers and Kubernetes clusters.</span></span> <span data-ttu-id="c0e4a-113">Tradiční webová aplikace se používá v aplikaci ASP.NET Core MVC zobrazené žlutě.</span><span class="sxs-lookup"><span data-stu-id="c0e4a-113">The traditional web app is powered by the ASP.NET Core MVC application shown in yellow.</span></span> <span data-ttu-id="c0e4a-114">Tato aplikace a mobilní a webové aplikace SPA komunikují s jednotlivými mikroslužbami přes jednu nebo více bran rozhraní API.</span><span class="sxs-lookup"><span data-stu-id="c0e4a-114">This app and the mobile and web SPA applications communicate with the individual microservices through one or more API gateways.</span></span> <span data-ttu-id="c0e4a-115">Brány rozhraní API se řídí vzorem "back-endy pro front-endy" (BFF), což znamená, že každá brána je navržená tak, aby podporovala daného klienta front-endu.</span><span class="sxs-lookup"><span data-stu-id="c0e4a-115">The API gateways follow the "backends for front ends" (BFF) pattern, meaning that each gateway is designed to support a given front-end client.</span></span> <span data-ttu-id="c0e4a-116">Jednotlivé mikroslužby jsou uvedeny napravo od bran rozhraní API a zahrnují obchodní logiku i určitý druh trvalého úložiště.</span><span class="sxs-lookup"><span data-stu-id="c0e4a-116">The individual microservices are listed to the right of the API gateways and include both business logic and some kind of persistence store.</span></span> <span data-ttu-id="c0e4a-117">Různé služby využívají SQL Server databáze, instance mezipaměti Redis a úložiště MongoDB/CosmosDB.</span><span class="sxs-lookup"><span data-stu-id="c0e4a-117">The different services make use of SQL Server databases, Redis cache instances, and MongoDB/CosmosDB stores.</span></span> <span data-ttu-id="c0e4a-118">Úplně vpravo je systémová sběrnice událostí, která se používá ke komunikaci mezi mikroslužbami.</span><span class="sxs-lookup"><span data-stu-id="c0e4a-118">On the far right is the system's Event Bus, which is used for communication between the microservices.</span></span>

<span data-ttu-id="c0e4a-119">![Obrázek architektury eShopOnContainers ](./media/eshoponcontainers-architecture.png)
 **2-5**.</span><span class="sxs-lookup"><span data-stu-id="c0e4a-119">![eShopOnContainers Architecture](./media/eshoponcontainers-architecture.png)
**Figure 2-5**.</span></span> <span data-ttu-id="c0e4a-120">Architektura eShopOnContainers</span><span class="sxs-lookup"><span data-stu-id="c0e4a-120">The eShopOnContainers Architecture.</span></span>

<span data-ttu-id="c0e4a-121">Komponenty na straně serveru této architektury jsou snadno namapovány na služby Azure.</span><span class="sxs-lookup"><span data-stu-id="c0e4a-121">The server-side components of this architecture all map easily to Azure services.</span></span>

## <a name="container-orchestration-and-clustering"></a><span data-ttu-id="c0e4a-122">Orchestrace kontejnerů a clusteringu</span><span class="sxs-lookup"><span data-stu-id="c0e4a-122">Container orchestration and clustering</span></span>

<span data-ttu-id="c0e4a-123">Služba Azure Kubernetes Service (AKS) může hostovat a spravovat služby hostované v kontejnerech, od ASP.NET Core aplikací MVC až po jednotlivé katalogy a objednávání mikroslužeb.</span><span class="sxs-lookup"><span data-stu-id="c0e4a-123">The application's container-hosted services, from ASP.NET Core MVC apps to individual Catalog and Ordering microservices, can be hosted and managed in Azure Kubernetes Service (AKS).</span></span> <span data-ttu-id="c0e4a-124">Aplikace může běžet místně v Docker a Kubernetes a stejné kontejnery pak můžete nasadit do pracovních a produkčních prostředí hostovaných v AKS.</span><span class="sxs-lookup"><span data-stu-id="c0e4a-124">The application can run locally on Docker and Kubernetes, and the same containers can then be deployed to staging and production environments hosted in AKS.</span></span> <span data-ttu-id="c0e4a-125">Tento proces může být automatizovaný, protože se zobrazí v další části.</span><span class="sxs-lookup"><span data-stu-id="c0e4a-125">This process can be automated as we'll see in the next section.</span></span>

<span data-ttu-id="c0e4a-126">AKS poskytuje služby správy pro jednotlivé clustery kontejnerů.</span><span class="sxs-lookup"><span data-stu-id="c0e4a-126">AKS provides management services for individual clusters of containers.</span></span> <span data-ttu-id="c0e4a-127">Aplikace bude nasazovat samostatné clustery AKS pro jednotlivé mikroslužby zobrazené v diagramu architektury výše.</span><span class="sxs-lookup"><span data-stu-id="c0e4a-127">The application will deploy separate AKS clusters for each microservice shown in the architecture diagram above.</span></span> <span data-ttu-id="c0e4a-128">Díky tomuto přístupu se jednotlivé služby můžou nezávisle škálovat podle svých požadavků na prostředky.</span><span class="sxs-lookup"><span data-stu-id="c0e4a-128">This approach allows each individual service to scale independently according to its resource demands.</span></span> <span data-ttu-id="c0e4a-129">Jednotlivé mikroslužby je také možné nasadit nezávisle a v ideálním případě taková nasazení by měla způsobit nulové výpadky systému.</span><span class="sxs-lookup"><span data-stu-id="c0e4a-129">Each microservice can also be deployed independently, and ideally such deployments should incur zero system downtime.</span></span>

## <a name="api-gateway"></a><span data-ttu-id="c0e4a-130">Brána rozhraní API</span><span class="sxs-lookup"><span data-stu-id="c0e4a-130">API Gateway</span></span>

<span data-ttu-id="c0e4a-131">Aplikace eShopOnContainers má několik front-end klientů a několik různých služeb back-end.</span><span class="sxs-lookup"><span data-stu-id="c0e4a-131">The eShopOnContainers application has multiple front-end clients and multiple different back-end services.</span></span> <span data-ttu-id="c0e4a-132">Mezi klientskými aplikacemi a mikroslužbami, které je podporují, neexistuje žádná korespondence 1:1.</span><span class="sxs-lookup"><span data-stu-id="c0e4a-132">There's no one-to-one correspondence between the client applications and the microservices that support them.</span></span> <span data-ttu-id="c0e4a-133">V takovém scénáři může být složité složitosti při psaní klientského softwaru do rozhraní s různými back-end službami zabezpečeným způsobem.</span><span class="sxs-lookup"><span data-stu-id="c0e4a-133">In such a scenario, there may be a great deal of complexity when writing client software to interface with the various back-end services in a secure manner.</span></span> <span data-ttu-id="c0e4a-134">Každý klient by musel tuto složitost řešit vlastními, výsledkem je duplikace a celá řada míst, kde můžete aktualizovat změny služeb, nebo jsou implementovány nové zásady.</span><span class="sxs-lookup"><span data-stu-id="c0e4a-134">Each client would need to address this complexity on its own, resulting in duplication and many places in which to make updates as services change or new policies are implemented.</span></span>

<span data-ttu-id="c0e4a-135">Azure API Management (APIM) pomáhá organizacím publikovat rozhraní API konzistentním, spravovatelným způsobem.</span><span class="sxs-lookup"><span data-stu-id="c0e4a-135">Azure API Management (APIM) helps organizations publish APIs in a consistent, manageable fashion.</span></span> <span data-ttu-id="c0e4a-136">APIM se skládá ze tří součástí: brány rozhraní API a portálu pro správu (Azure Portal) a portálu pro vývojáře.</span><span class="sxs-lookup"><span data-stu-id="c0e4a-136">APIM consists of three components: the API Gateway, and administration portal (the Azure portal), and a developer portal.</span></span>

<span data-ttu-id="c0e4a-137">Brána API přijímá volání rozhraní API a směruje je do příslušného back-endu rozhraní API.</span><span class="sxs-lookup"><span data-stu-id="c0e4a-137">The API Gateway accepts API calls and routes them to the appropriate back-end API.</span></span> <span data-ttu-id="c0e4a-138">Může také poskytovat další služby, jako je ověřování klíčů rozhraní API nebo tokenů JWT a transformace rozhraní API, bez úprav kódu (například pro uspokojení klientů, které očekávají starší rozhraní).</span><span class="sxs-lookup"><span data-stu-id="c0e4a-138">It can also provide additional services like verification of API keys or JWT tokens and API transformation on the fly without code modifications (for instance, to accommodate clients expecting an older interface).</span></span>

<span data-ttu-id="c0e4a-139">Azure Portal je místo, kde definujete schéma rozhraní API a zabalíte různá rozhraní API do produktů.</span><span class="sxs-lookup"><span data-stu-id="c0e4a-139">The Azure portal is where you define the API schema and package different APIs into products.</span></span> <span data-ttu-id="c0e4a-140">Můžete také nakonfigurovat přístup uživatelů, zobrazit sestavy a nakonfigurovat zásady pro kvóty nebo transformace.</span><span class="sxs-lookup"><span data-stu-id="c0e4a-140">You also configure user access, view reports, and configure policies for quotas or transformations.</span></span>

<span data-ttu-id="c0e4a-141">Portál pro vývojáře slouží jako hlavní prostředek pro vývojáře.</span><span class="sxs-lookup"><span data-stu-id="c0e4a-141">The developer portal serves as the main resource for developers.</span></span> <span data-ttu-id="c0e4a-142">Poskytuje vývojářům dokumentaci k rozhraní API, interaktivní konzolu testu a sestavy o jejich použití.</span><span class="sxs-lookup"><span data-stu-id="c0e4a-142">It provides developers with API documentation, an interactive test console, and reports on their own usage.</span></span> <span data-ttu-id="c0e4a-143">Vývojáři také portál používají k vytváření a správě vlastních účtů, včetně podpory předplatného a klíčů rozhraní API.</span><span class="sxs-lookup"><span data-stu-id="c0e4a-143">Developers also use the portal to create and manage their own accounts, including subscription and API key support.</span></span>

<span data-ttu-id="c0e4a-144">Pomocí APIM můžou aplikace vystavovat několik různých skupin služeb, z nichž každý poskytuje back-end pro konkrétního klienta front-endu.</span><span class="sxs-lookup"><span data-stu-id="c0e4a-144">Using APIM, applications can expose several different groups of services, each providing a back end for a particular front-end client.</span></span> <span data-ttu-id="c0e4a-145">APIM se doporučuje u složitých scénářů.</span><span class="sxs-lookup"><span data-stu-id="c0e4a-145">APIM is recommended for complex scenarios.</span></span> <span data-ttu-id="c0e4a-146">Pro zjednodušení potřeb lze použít zjednodušenou bránu rozhraní API Ocelot.</span><span class="sxs-lookup"><span data-stu-id="c0e4a-146">For simpler needs, the lightweight API Gateway Ocelot can be used.</span></span> <span data-ttu-id="c0e4a-147">Aplikace eShopOnContainers používá Ocelot z důvodu zjednodušení a protože ji lze nasadit do stejného prostředí aplikace jako samotnou aplikaci.</span><span class="sxs-lookup"><span data-stu-id="c0e4a-147">The eShopOnContainers app uses Ocelot because of its simplicity and because it can be deployed into the same application environment as the application itself.</span></span> [<span data-ttu-id="c0e4a-148">Přečtěte si další informace o eShopOnContainers, APIM a Ocelot.</span><span class="sxs-lookup"><span data-stu-id="c0e4a-148">Learn more about eShopOnContainers, APIM, and Ocelot.</span></span>](https://docs.microsoft.com/dotnet/architecture/microservices/architect-microservice-container-applications/direct-client-to-microservice-communication-versus-the-api-gateway-pattern#azure-api-management)

<span data-ttu-id="c0e4a-149">Další možností, pokud vaše aplikace používá AKS, je nasazení řadiče pro příchozí přenos dat služby Azure Gateway jako pod clusterem AKS.</span><span class="sxs-lookup"><span data-stu-id="c0e4a-149">Another option if your application is using AKS is to deploy the Azure Gateway Ingress Controller as a pod within your AKS cluster.</span></span> <span data-ttu-id="c0e4a-150">To umožňuje, aby se cluster integroval s Application Gateway Azure, což umožňuje, aby brána vyrovnala zatížení v AKS luskech.</span><span class="sxs-lookup"><span data-stu-id="c0e4a-150">This allows your cluster to integrate with an Azure Application Gateway, allowing the gateway to load-balance traffic to the AKS pods.</span></span> <span data-ttu-id="c0e4a-151">[Přečtěte si další informace o řadiči Azure Gateway pro příchozí přenosy pro AKS](https://github.com/Azure/application-gateway-kubernetes-ingress).</span><span class="sxs-lookup"><span data-stu-id="c0e4a-151">[Learn more about the Azure Gateway Ingress Controller for AKS](https://github.com/Azure/application-gateway-kubernetes-ingress).</span></span>

## <a name="data"></a><span data-ttu-id="c0e4a-152">Data</span><span class="sxs-lookup"><span data-stu-id="c0e4a-152">Data</span></span>

<span data-ttu-id="c0e4a-153">Různé back-endové služby, které používá eShopOnContainers, mají různé požadavky na úložiště.</span><span class="sxs-lookup"><span data-stu-id="c0e4a-153">The various back-end services used by eShopOnContainers have different storage requirements.</span></span> <span data-ttu-id="c0e4a-154">SQL Server databází používá několik mikroslužeb.</span><span class="sxs-lookup"><span data-stu-id="c0e4a-154">Several microservices use SQL Server databases.</span></span> <span data-ttu-id="c0e4a-155">Mikroslužba košíku využívá pro svůj trvalost mezipaměť Redis Cache.</span><span class="sxs-lookup"><span data-stu-id="c0e4a-155">The Basket microservice leverages a Redis cache for its persistence.</span></span> <span data-ttu-id="c0e4a-156">Mikroslužba umístění očekává pro svá data rozhraní MongoDB API.</span><span class="sxs-lookup"><span data-stu-id="c0e4a-156">The Locations microservice expects a MongoDB API for its data.</span></span> <span data-ttu-id="c0e4a-157">Azure podporuje jednotlivé formáty dat.</span><span class="sxs-lookup"><span data-stu-id="c0e4a-157">Azure supports each of these data formats.</span></span>

<span data-ttu-id="c0e4a-158">V případě podpory databáze SQL Server má Azure produkty pro všechno od samostatných databází až po vysoce škálovatelné SQL Database elastické fondy.</span><span class="sxs-lookup"><span data-stu-id="c0e4a-158">For SQL Server database support, Azure has products for everything from single databases up to highly scalable SQL Database elastic pools.</span></span> <span data-ttu-id="c0e4a-159">Jednotlivé mikroslužby je možné nakonfigurovat tak, aby se rychle a snadno komunikovaly s vlastními SQL Server databázemi.</span><span class="sxs-lookup"><span data-stu-id="c0e4a-159">Individual microservices can be configured to communicate with their own individual SQL Server databases quickly and easily.</span></span> <span data-ttu-id="c0e4a-160">Tyto databáze je možné škálovat podle potřeby, aby podporovaly jednotlivé samostatné mikroslužby podle svých potřeb.</span><span class="sxs-lookup"><span data-stu-id="c0e4a-160">These databases can be scaled as needed to support each separate microservice according to its needs.</span></span>

<span data-ttu-id="c0e4a-161">Aplikace eShopOnContainers ukládá aktuální nákupní košík uživatele mezi požadavky.</span><span class="sxs-lookup"><span data-stu-id="c0e4a-161">The eShopOnContainers application stores the user's current shopping basket between requests.</span></span> <span data-ttu-id="c0e4a-162">Toto je spravováno mikroslužbou košíku, která ukládá data do mezipaměti Redis Cache.</span><span class="sxs-lookup"><span data-stu-id="c0e4a-162">This is managed by the Basket microservice that stores the data in a Redis cache.</span></span> <span data-ttu-id="c0e4a-163">Ve vývoji se tato mezipaměť dá nasadit do kontejneru, zatímco v produkčním prostředí může využít Azure cache pro Redis.</span><span class="sxs-lookup"><span data-stu-id="c0e4a-163">In development, this cache can be deployed in a container, while in production it can utilize Azure Cache for Redis.</span></span> <span data-ttu-id="c0e4a-164">Azure cache pro Redis je plně spravovaná služba, která nabízí vysoký výkon a spolehlivost, aniž by bylo potřeba nasazovat a spravovat Redis instance nebo kontejnery sami.</span><span class="sxs-lookup"><span data-stu-id="c0e4a-164">Azure Cache for Redis is a fully managed service offering high performance and reliability without the need to deploy and manage Redis instances or containers on your own.</span></span>

<span data-ttu-id="c0e4a-165">Mikroslužba umístění používá pro svůj trvalost databázi MongoDB NoSQL.</span><span class="sxs-lookup"><span data-stu-id="c0e4a-165">The Locations microservice uses a MongoDB NoSQL database for its persistence.</span></span> <span data-ttu-id="c0e4a-166">Během vývoje se databáze dá nasadit do vlastního kontejneru, zatímco v produkčním prostředí může využít [rozhraní API Azure Cosmos DB pro MongoDB](https://docs.microsoft.com/azure/cosmos-db/mongodb-introduction).</span><span class="sxs-lookup"><span data-stu-id="c0e4a-166">During development, the database can be deployed in its own container, while in production the service can leverage [Azure Cosmos DB's API for MongoDB](https://docs.microsoft.com/azure/cosmos-db/mongodb-introduction).</span></span> <span data-ttu-id="c0e4a-167">Jednou z výhod Azure Cosmos DB je schopnost využít více různých komunikačních protokolů, včetně rozhraní SQL API a běžných rozhraní NoSQL API, včetně MongoDB, Cassandra, Gremlin a Azure Table Storage.</span><span class="sxs-lookup"><span data-stu-id="c0e4a-167">One of the benefits of Azure Cosmos DB is its ability to leverage multiple different communication protocols, including a SQL API and common NoSQL APIs including MongoDB, Cassandra, Gremlin, and Azure Table Storage.</span></span> <span data-ttu-id="c0e4a-168">Azure Cosmos DB nabízí plně spravovanou a globálně distribuovanou databázi jako službu, která se může škálovat tak, aby splňovala potřeby služeb, které ji používají.</span><span class="sxs-lookup"><span data-stu-id="c0e4a-168">Azure Cosmos DB offers a fully managed and globally distributed database as a service that can scale to meet the needs of the services that use it.</span></span>

<span data-ttu-id="c0e4a-169">Distribuovaná data v nativních aplikacích cloudu jsou podrobněji popsaná v [kapitole 5](distributed-data.md).</span><span class="sxs-lookup"><span data-stu-id="c0e4a-169">Distributed data in cloud-native applications is covered in more detail in [chapter 5](distributed-data.md).</span></span>

## <a name="event-bus"></a><span data-ttu-id="c0e4a-170">Sběrnice událostí</span><span class="sxs-lookup"><span data-stu-id="c0e4a-170">Event Bus</span></span>

<span data-ttu-id="c0e4a-171">Aplikace používá události ke komunikaci mezi různými službami.</span><span class="sxs-lookup"><span data-stu-id="c0e4a-171">The application uses events to communicate changes between different services.</span></span> <span data-ttu-id="c0e4a-172">Tato funkce se dá implementovat s různými implementacemi a místně aplikace eShopOnContainers používá [RabbitMQ](https://www.rabbitmq.com/).</span><span class="sxs-lookup"><span data-stu-id="c0e4a-172">This functionality can be implemented with a variety of implementations, and locally the eShopOnContainers application uses [RabbitMQ](https://www.rabbitmq.com/).</span></span> <span data-ttu-id="c0e4a-173">Při hostování v Azure bude aplikace [Azure Service Bus](https://docs.microsoft.com/azure/service-bus/) pro své zprávy využívat.</span><span class="sxs-lookup"><span data-stu-id="c0e4a-173">When hosted in Azure, the application would leverage [Azure Service Bus](https://docs.microsoft.com/azure/service-bus/) for its messaging.</span></span> <span data-ttu-id="c0e4a-174">Azure Service Bus je plně spravovaný zprostředkovatel integračních zpráv, který umožňuje aplikacím a službám vzájemně komunikovat v odděleném a spolehlivém asynchronním způsobu.</span><span class="sxs-lookup"><span data-stu-id="c0e4a-174">Azure Service Bus is a fully managed integration message broker that allows applications and services to communicate with one another in a decoupled, reliable, asynchronous manner.</span></span> <span data-ttu-id="c0e4a-175">Azure Service Bus podporuje jednotlivé fronty a také samostatná *témata* pro podporu scénářů pro předplatitele vydavatelů.</span><span class="sxs-lookup"><span data-stu-id="c0e4a-175">Azure Service Bus supports individual queues as well as separate *topics* to support publisher-subscriber scenarios.</span></span> <span data-ttu-id="c0e4a-176">Aplikace eShopOnContainers by mohla využít témata, která Azure Service Bus k podpoře distribuce zpráv z jedné mikroslužby do jakékoli jiné mikroslužby, která je potřeba k reakci na danou zprávu.</span><span class="sxs-lookup"><span data-stu-id="c0e4a-176">The eShopOnContainers application would leverage topics with Azure Service Bus to support distributing messages from one microservice to any other microservice that needed to react to a given message.</span></span>

## <a name="resiliency"></a><span data-ttu-id="c0e4a-177">Odolnost</span><span class="sxs-lookup"><span data-stu-id="c0e4a-177">Resiliency</span></span>

<span data-ttu-id="c0e4a-178">Po nasazení do produkčního prostředí by aplikace eShopOnContainers mohla využívat několik služeb Azure, které jsou k dispozici pro zlepšení jeho odolnosti.</span><span class="sxs-lookup"><span data-stu-id="c0e4a-178">Once deployed to production, the eShopOnContainers application would be able to take advantage of several Azure services available to improve its resiliency.</span></span> <span data-ttu-id="c0e4a-179">Aplikace zveřejňuje kontroly stavu, které je možné integrovat s Application Insights, aby poskytovala sestavy a výstrahy na základě dostupnosti aplikace.</span><span class="sxs-lookup"><span data-stu-id="c0e4a-179">The application publishes health checks, which can be integrated with Application Insights to provide reporting and alerts based on the app's availability.</span></span> <span data-ttu-id="c0e4a-180">Prostředky Azure také poskytují diagnostické protokoly, které se dají použít k identifikaci a opravě chyb a problémů s výkonem.</span><span class="sxs-lookup"><span data-stu-id="c0e4a-180">Azure resources also provide diagnostic logs that can be used to identify and correct bugs and performance issues.</span></span> <span data-ttu-id="c0e4a-181">Protokoly prostředků poskytují podrobné informace o tom, kdy a jak aplikace používá různé prostředky Azure.</span><span class="sxs-lookup"><span data-stu-id="c0e4a-181">Resource logs provide detailed information on when and how different Azure resources are used by the application.</span></span> <span data-ttu-id="c0e4a-182">V [kapitole 6](resiliency.md)se dozvíte víc o funkcích odolnosti nativního cloudu.</span><span class="sxs-lookup"><span data-stu-id="c0e4a-182">You'll learn more about cloud-native resiliency features in [chapter 6](resiliency.md).</span></span>

>[!div class="step-by-step"]
><span data-ttu-id="c0e4a-183">[Předchozí](introduce-eshoponcontainers-reference-app.md) 
> [Další](deploy-eshoponcontainers-azure.md)</span><span class="sxs-lookup"><span data-stu-id="c0e4a-183">[Previous](introduce-eshoponcontainers-reference-app.md)
[Next](deploy-eshoponcontainers-azure.md)</span></span>
