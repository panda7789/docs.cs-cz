---
title: Škálování kontejnerů a bezserverových aplikací
description: Škálování aplikací v cloudu pomocí služby Azure Kubernetes tak, aby splňovala požadavky uživatelů díky zvýšení počtu jednotlivých prostředků počítače nebo zvýšení počtu počítačů v clusteru aplikací.
ms.date: 09/23/2019
ms.openlocfilehash: 2d0537fb3ed56beb4eccbf9b8c34a5d87793413b
ms.sourcegitcommit: 55f438d4d00a34b9aca9eedaac3f85590bb11565
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 09/23/2019
ms.locfileid: "71184797"
---
# <a name="scaling-containers-and-serverless-applications"></a><span data-ttu-id="e252f-103">Škálování kontejnerů a bezserverových aplikací</span><span class="sxs-lookup"><span data-stu-id="e252f-103">Scaling containers and serverless applications</span></span>

<span data-ttu-id="e252f-104">Existují dva typické způsoby, jak škálovat aplikaci: horizontální navýšení kapacity a škálování. Předchozí odkazuje na přidání možností pro jednoho hostitele, zatímco druhý odkazuje na přidání do celkového počtu hostitelů.</span><span class="sxs-lookup"><span data-stu-id="e252f-104">There are two typical ways to scale an application: scaling up and scaling out. The former refers to adding capabilities to one host, while the latter refers to adding to the total number of hosts.</span></span> <span data-ttu-id="e252f-105">Častější způsob, jak na to uvažovat, je to, jak si sami získat a některé přátele ve městě.</span><span class="sxs-lookup"><span data-stu-id="e252f-105">A common analogy to use to think about this is how to get yourself and some friends across town.</span></span> <span data-ttu-id="e252f-106">Pokud se jedná o jediného přítele, mohli byste se dovolat do svého pracovního automobilu na dvou sedadlech.</span><span class="sxs-lookup"><span data-stu-id="e252f-106">If it's just one friend, you could hop into your two-seat race car.</span></span> <span data-ttu-id="e252f-107">Pokud se ale jedná o tři nebo čtyři, možná budete muset provést jednu z vašich SUVs nebo minivan, škálovat kapacitu až ke zvýšení kapacity.</span><span class="sxs-lookup"><span data-stu-id="e252f-107">But if it's three or four, you might need to take one of your SUVs or a minivan, scaling up to increase capacity.</span></span> <span data-ttu-id="e252f-108">Když vaše celkové číslo přeskočí až do desítky nebo více, budete pravděpodobně muset převzít více vozidel (Pokud se nejedná o jinou jednotku), což demonstruje pojem horizontálního navýšení kapacity přidáním dalších instancí (v tomto případě více vozidel).</span><span class="sxs-lookup"><span data-stu-id="e252f-108">When your total number jumps up to a dozen or more, though, you probably need to take multiple vehicles (unless someone drives a bus), which demonstrates the concept of scaling out by adding more instances (in this case, more vehicles).</span></span> <span data-ttu-id="e252f-109">Pojďme se podívat, jak to platí pro naše aplikace.</span><span class="sxs-lookup"><span data-stu-id="e252f-109">Let's see how this applies to our applications.</span></span>

## <a name="the-simple-solution-scaling-up"></a><span data-ttu-id="e252f-110">Jednoduché řešení: škálování</span><span class="sxs-lookup"><span data-stu-id="e252f-110">The simple solution: scaling up</span></span>

<span data-ttu-id="e252f-111">Proces upgradu stávajících serverů tak, aby jim poskytoval více prostředků (procesor, paměť, rychlost vstupu/výstupu disku, rychlost vstupu/výstupu v síti), se označuje jako horizontální *navýšení*kapacity.</span><span class="sxs-lookup"><span data-stu-id="e252f-111">The process of upgrading existing servers to give them more resources (CPU, memory, disk I/O speed, network I/O speed) is known as *scaling up*.</span></span> <span data-ttu-id="e252f-112">V cloudových nativních aplikacích se škálování většinou neodkazuje na nákup a instalaci skutečného hardwaru na fyzických počítačích, takže v seznamu dostupných možností je výběr lépe připraveného plánu.</span><span class="sxs-lookup"><span data-stu-id="e252f-112">In cloud-native applications, scaling up doesn't typically refer to purchasing and installing actual hardware on physical machines so much as choosing a more capable plan from a list of options available.</span></span> <span data-ttu-id="e252f-113">Nativní aplikace pro Cloud jsou obvykle škálovatelné změnou velikosti virtuálního počítače, která se používá k hostování jednotlivých uzlů ve fondu uzlů Kubernetes.</span><span class="sxs-lookup"><span data-stu-id="e252f-113">Cloud-native apps typically scale up by modifying the virtual machine (VM) size used to host the individual nodes in their Kubernetes node pool.</span></span> <span data-ttu-id="e252f-114">Kubernetes koncepty, jako jsou uzly, clustery a lusky, jsou podrobněji popsány v [následující části](leverage-containers-orchestrators.md).</span><span class="sxs-lookup"><span data-stu-id="e252f-114">Kubernetes concepts like nodes, clusters, and pods are described further in [the next section](leverage-containers-orchestrators.md).</span></span> <span data-ttu-id="e252f-115">Azure podporuje širokou škálu velikostí virtuálních počítačů, které používají [Windows](https://docs.microsoft.com/azure/virtual-machines/windows/sizes?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json) i [Linux](https://docs.microsoft.com/azure/virtual-machines/linux/sizes).</span><span class="sxs-lookup"><span data-stu-id="e252f-115">Azure supports a wide variety of VM sizes running both [Windows](https://docs.microsoft.com/azure/virtual-machines/windows/sizes?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json) and [Linux](https://docs.microsoft.com/azure/virtual-machines/linux/sizes).</span></span> <span data-ttu-id="e252f-116">Pokud chcete svoji aplikaci vertikálně škálovat, vytvořte nový fond uzlů s větší velikostí virtuálních počítačů uzlů a pak migrujte úlohy do nového fondu.</span><span class="sxs-lookup"><span data-stu-id="e252f-116">To vertically scale your application, create a new node pool with a larger node VM size and then migrate workloads to the new pool.</span></span> <span data-ttu-id="e252f-117">To vyžaduje [více fondů uzlů pro cluster AKS](https://docs.microsoft.com/azure/aks/use-multiple-node-pools), což je funkce, která je aktuálně ve verzi Preview.</span><span class="sxs-lookup"><span data-stu-id="e252f-117">This requires [multiple node pools for your AKS cluster](https://docs.microsoft.com/azure/aks/use-multiple-node-pools), a feature that is currently in preview.</span></span> <span data-ttu-id="e252f-118">Aplikace bez serveru se škálují až po výběru velikostí [plánů Premium](https://docs.microsoft.com/azure/azure-functions/functions-scale) a prémiových instancí nebo výběrem jiného vyhrazeného plánu služby App Service.</span><span class="sxs-lookup"><span data-stu-id="e252f-118">Serverless apps scale up by choosing a [premium plan](https://docs.microsoft.com/azure/azure-functions/functions-scale) and premium instance sizes or by choosing a different dedicated app service plan.</span></span>

## <a name="scaling-out-cloud-native-apps"></a><span data-ttu-id="e252f-119">Horizontální navýšení kapacity cloudových aplikací</span><span class="sxs-lookup"><span data-stu-id="e252f-119">Scaling out cloud-native apps</span></span>

<span data-ttu-id="e252f-120">Cloudové nativní aplikace podporují horizontální navýšení kapacity přidáním dalších uzlů nebo lusků k žádostem o služby.</span><span class="sxs-lookup"><span data-stu-id="e252f-120">Cloud-native apps support scaling out by adding additional nodes or pods to service requests.</span></span> <span data-ttu-id="e252f-121">To můžete provést ručně úpravou nastavení konfigurace pro aplikaci (například [škálování fondu uzlů](https://docs.microsoft.com/azure/aks/use-multiple-node-pools#scale-a-node-pool-manually)) nebo pomocí automatického *škálování*.</span><span class="sxs-lookup"><span data-stu-id="e252f-121">This can be accomplished manually by adjusting configuration settings for the app (for example, [scaling a node pool](https://docs.microsoft.com/azure/aks/use-multiple-node-pools#scale-a-node-pool-manually)), or through *autoscaling*.</span></span> <span data-ttu-id="e252f-122">Automatické škálování upravuje prostředky používané aplikací, aby reagovaly na poptávku, podobně jako termostat reaguje na teplotu voláním pro další vytápění nebo chlazení.</span><span class="sxs-lookup"><span data-stu-id="e252f-122">Autoscaling adjusts the resources used by an app in order to respond to demand, similar to how a thermostat responds to temperature by calling for additional heating or cooling.</span></span> <span data-ttu-id="e252f-123">Při použití automatického škálování je ruční škálování zakázané.</span><span class="sxs-lookup"><span data-stu-id="e252f-123">When using autoscaling, manual scaling is disabled.</span></span>

<span data-ttu-id="e252f-124">Clustery AKS se můžou škálovat jedním ze dvou způsobů:</span><span class="sxs-lookup"><span data-stu-id="e252f-124">AKS clusters can scale in one of two ways:</span></span>

- <span data-ttu-id="e252f-125">[Automatické škálování clusteru](https://docs.microsoft.com/azure/aks/cluster-autoscaler) sleduje lusky, které není možné naplánovat na uzlech z důvodu omezení prostředků.</span><span class="sxs-lookup"><span data-stu-id="e252f-125">The [cluster autoscaler](https://docs.microsoft.com/azure/aks/cluster-autoscaler) watches for pods that can't be scheduled on nodes because of resource constraints.</span></span> <span data-ttu-id="e252f-126">Podle potřeby přidá další uzly.</span><span class="sxs-lookup"><span data-stu-id="e252f-126">It adds additional nodes as required.</span></span>
- <span data-ttu-id="e252f-127">Horizontální navýšení **pod AutoScale** používá server metrik v clusteru Kubernetes ke sledování požadavků na prostředky v luskech.</span><span class="sxs-lookup"><span data-stu-id="e252f-127">The **horizontal pod autoscaler** uses the Metrics Server in a Kubernetes cluster to monitor the resource demands of pods.</span></span> <span data-ttu-id="e252f-128">Pokud služba potřebuje víc prostředků, zvýší se počet lusků.</span><span class="sxs-lookup"><span data-stu-id="e252f-128">If a service needs more resources, the autoscaler increases the number of pods.</span></span>

<span data-ttu-id="e252f-129">Obrázek 3-13 ukazuje vztah mezi těmito dvěma službami škálování.</span><span class="sxs-lookup"><span data-stu-id="e252f-129">Figure 3-13 shows the relationship between these two scaling services.</span></span>

![Horizontální navýšení kapacity App Serviceho plánu.](./media/aks-cluster-autoscaler.png)

<span data-ttu-id="e252f-131">**Obrázek 3-13**.</span><span class="sxs-lookup"><span data-stu-id="e252f-131">**Figure 3-13**.</span></span> <span data-ttu-id="e252f-132">Horizontální navýšení kapacity App Serviceho plánu.</span><span class="sxs-lookup"><span data-stu-id="e252f-132">Scaling out an App Service plan.</span></span>

<span data-ttu-id="e252f-133">Tyto služby mohou také snížit počet lusků nebo uzlů podle potřeby.</span><span class="sxs-lookup"><span data-stu-id="e252f-133">These services can also reduce the number of pods or nodes as needed.</span></span> <span data-ttu-id="e252f-134">Tyto dvě služby můžou spolupracovat společně a často se nasazují společně v clusteru.</span><span class="sxs-lookup"><span data-stu-id="e252f-134">These two services can work together and are often deployed together in a cluster.</span></span> <span data-ttu-id="e252f-135">V kombinaci se horizontální automatické škálování pod ním zaměřuje na spouštění počtu lusků potřebných pro splnění požadavků aplikace.</span><span class="sxs-lookup"><span data-stu-id="e252f-135">When combined, the horizontal pod autoscaler is focused on running the number of pods required to meet application demand.</span></span> <span data-ttu-id="e252f-136">Automatické škálování clusteru se zaměřuje na spouštění počtu uzlů potřebných k podpoře naplánovaných lusků.</span><span class="sxs-lookup"><span data-stu-id="e252f-136">The cluster autoscaler is focused on running the number of nodes required to support the scheduled pods.</span></span>

### <a name="scaling-azure-functions"></a><span data-ttu-id="e252f-137">Škálování Azure Functions</span><span class="sxs-lookup"><span data-stu-id="e252f-137">Scaling Azure Functions</span></span>

<span data-ttu-id="e252f-138">Azure Functions automaticky podporuje horizontální navýšení kapacity. Výchozí plán spotřeby přidává (a odebírá) prostředky dynamicky na základě počtu triggerů přicházejících do.</span><span class="sxs-lookup"><span data-stu-id="e252f-138">Azure Functions automatically supports scaling out. The default consumption plan adds (and removes) resources dynamically based on the number of triggering events coming in.</span></span> <span data-ttu-id="e252f-139">Účtují se vám poplatky za výpočetní prostředky, které se používají, když vaše funkce běží na základě počtu spuštění, času spuštění a využité paměti.</span><span class="sxs-lookup"><span data-stu-id="e252f-139">You're only charged for compute resources being used when your functions are running based on the number of executions, execution time, and memory used.</span></span> <span data-ttu-id="e252f-140">Pomocí plánu Premium získáte stejné funkce, ale můžete také řídit velikosti instancí, které se používají, už nemusíte začínat (aby se předešlo prodlevám při spuštění), a nakonfigurovat vyhrazené virtuální počítače, na kterých se budou spouštět vaše funkce.</span><span class="sxs-lookup"><span data-stu-id="e252f-140">Using the premium plan, you get these same features but you can also control the instance sizes that are used, have instances already warmed up (to avoid cold start delays), and configure dedicated VMs on which to run your functions.</span></span> <span data-ttu-id="e252f-141">Výchozí konfigurace by měla pro většinu aplikací poskytovat ekonomické a škálovatelné řešení. možnost Premium umožňuje vývojářům flexibilitu pro vlastní Azure Functions požadavky.</span><span class="sxs-lookup"><span data-stu-id="e252f-141">While the default configuration should provide an economical and scalable solution for most apps, the premium option allows developers flexibility for custom Azure Functions requirements.</span></span>

## <a name="references"></a><span data-ttu-id="e252f-142">Reference</span><span class="sxs-lookup"><span data-stu-id="e252f-142">References</span></span>

- [<span data-ttu-id="e252f-143">AKS více fondů uzlů</span><span class="sxs-lookup"><span data-stu-id="e252f-143">AKS Multiple Node Pools</span></span>](https://docs.microsoft.com/azure/aks/use-multiple-node-pools)
- [<span data-ttu-id="e252f-144">Automatické škálování clusteru AKS</span><span class="sxs-lookup"><span data-stu-id="e252f-144">AKS Cluster Autoscaler</span></span>](https://docs.microsoft.com/azure/aks/cluster-autoscaler)
- [<span data-ttu-id="e252f-145">Kurz: škálování aplikací v AKS</span><span class="sxs-lookup"><span data-stu-id="e252f-145">Tutorial: Scale applications in AKS</span></span>](https://docs.microsoft.com/azure/aks/tutorial-kubernetes-scale)
- [<span data-ttu-id="e252f-146">Azure Functions škálování a hostování</span><span class="sxs-lookup"><span data-stu-id="e252f-146">Azure Functions scale and hosting</span></span>](https://docs.microsoft.com/azure/azure-functions/functions-scale)

>[!div class="step-by-step"]
><span data-ttu-id="e252f-147">[Předchozí](deploy-containers-azure.md)
>[Další](other-deployment-options.md)</span><span class="sxs-lookup"><span data-stu-id="e252f-147">[Previous](deploy-containers-azure.md)
[Next](other-deployment-options.md)</span></span>
