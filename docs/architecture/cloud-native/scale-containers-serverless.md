---
title: Škálování kontejnerů a bezserverových aplikací
description: Škálování aplikací v cloudu pomocí služby Azure Kubernetes, aby splňovala požadavky uživatelů
ms.date: 05/13/2020
ms.openlocfilehash: a5e1e8df785fd08901d9be41c0a06db35e09296b
ms.sourcegitcommit: 27db07ffb26f76912feefba7b884313547410db5
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 05/19/2020
ms.locfileid: "83613717"
---
# <a name="scaling-containers-and-serverless-applications"></a><span data-ttu-id="36aa6-103">Škálování kontejnerů a bezserverových aplikací</span><span class="sxs-lookup"><span data-stu-id="36aa6-103">Scaling containers and serverless applications</span></span>

<span data-ttu-id="36aa6-104">Existují dva způsoby, jak aplikaci škálovat: nahoru nebo ven. Předchozí odkazuje na přidání kapacity k jednomu prostředku, zatímco druhá odkazuje na přidání dalších prostředků ke zvýšení kapacity.</span><span class="sxs-lookup"><span data-stu-id="36aa6-104">There are two ways to scale an application: up or out. The former refers to adding capacity to a single resource, while the latter refers to adding more resources to increase capacity.</span></span>

## <a name="the-simple-solution-scaling-up"></a><span data-ttu-id="36aa6-105">Jednoduché řešení: škálování</span><span class="sxs-lookup"><span data-stu-id="36aa6-105">The simple solution: scaling up</span></span>

<span data-ttu-id="36aa6-106">Upgrade existujícího hostitelského serveru se zvýšeným využitím procesoru, paměti, rychlosti v/v disku a rychlostí v/v sítě se označuje jako horizontální *navýšení*kapacity.</span><span class="sxs-lookup"><span data-stu-id="36aa6-106">Upgrading an existing host server with increased CPU, memory, disk I/O speed, and network I/O speed is known as *scaling up*.</span></span> <span data-ttu-id="36aa6-107">Horizontální navýšení kapacity cloudové aplikace zahrnuje výběr více možností prostředků od dodavatele cloudu.</span><span class="sxs-lookup"><span data-stu-id="36aa6-107">Scaling up a cloud-native application involves choosing more capable resources from the cloud vendor.</span></span> <span data-ttu-id="36aa6-108">Můžete například vytvořit nový fond uzlů s většími virtuálními počítači v clusteru Kubernetes.</span><span class="sxs-lookup"><span data-stu-id="36aa6-108">For example, you can a new node pool with larger VMs in your Kubernetes cluster.</span></span> <span data-ttu-id="36aa6-109">Pak migrujte své kontejnerové služby do nového fondu.</span><span class="sxs-lookup"><span data-stu-id="36aa6-109">Then, migrate your containerized services to the new pool.</span></span>

<span data-ttu-id="36aa6-110">Aplikace bez serveru se škálují až po výběru velikosti prémiových [funkcí](https://docs.microsoft.com/azure/azure-functions/functions-scale) nebo velikostí instancí Premium z vyhrazeného plánu služby App Service.</span><span class="sxs-lookup"><span data-stu-id="36aa6-110">Serverless apps scale up by choosing the [premium Functions plan](https://docs.microsoft.com/azure/azure-functions/functions-scale) or premium instance sizes from a dedicated app service plan.</span></span>

## <a name="scaling-out-cloud-native-apps"></a><span data-ttu-id="36aa6-111">Horizontální navýšení kapacity cloudových aplikací</span><span class="sxs-lookup"><span data-stu-id="36aa6-111">Scaling out cloud-native apps</span></span>

<span data-ttu-id="36aa6-112">Nativní aplikace pro Cloud mají často zkušenosti s velkými výkyvy na vyžádání a vyžadují škálování na okamžik.</span><span class="sxs-lookup"><span data-stu-id="36aa6-112">Cloud-native applications often experience large fluctuations in demand and require scale on a moment's notice.</span></span> <span data-ttu-id="36aa6-113">Přidávají přednost horizontálnímu škálování. Horizontální navýšení kapacity se provádí horizontálně přidáním dalších počítačů (nazývaných uzly) nebo instancí aplikace do existujícího clusteru.</span><span class="sxs-lookup"><span data-stu-id="36aa6-113">They favor scaling out. Scaling out is done horizontally by adding additional machines (called nodes) or application instances to an existing cluster.</span></span> <span data-ttu-id="36aa6-114">V Kubernetes můžete ručně škálovat úpravou nastavení konfigurace pro aplikaci (například [škálování fondu uzlů](https://docs.microsoft.com/azure/aks/use-multiple-node-pools#scale-a-node-pool-manually)) nebo pomocí automatického škálování.</span><span class="sxs-lookup"><span data-stu-id="36aa6-114">In Kubernetes, you can scale manually by adjusting configuration settings for the app (for example, [scaling a node pool](https://docs.microsoft.com/azure/aks/use-multiple-node-pools#scale-a-node-pool-manually)), or through autoscaling.</span></span>

<span data-ttu-id="36aa6-115">Clustery AKS můžou automatické škálování jedním ze dvou způsobů:</span><span class="sxs-lookup"><span data-stu-id="36aa6-115">AKS clusters can autoscale in one of two ways:</span></span>

<span data-ttu-id="36aa6-116">Nejprve monitor [horizontálně pod automatickým škálováním](https://docs.microsoft.com/azure/aks/tutorial-kubernetes-scale#autoscale-pods) sleduje požadavky na prostředky a automaticky škáluje REPLIKy pod, aby je splňovala.</span><span class="sxs-lookup"><span data-stu-id="36aa6-116">First, the [Horizontal Pod Autoscaler](https://docs.microsoft.com/azure/aks/tutorial-kubernetes-scale#autoscale-pods) monitors resource demand and automatically scales your POD replicas to meet it.</span></span> <span data-ttu-id="36aa6-117">Když se provoz zvyšuje, automaticky se zřídí další repliky pro horizontální navýšení kapacity služeb.</span><span class="sxs-lookup"><span data-stu-id="36aa6-117">When traffic increases, additional replicas are automatically provisioned to scale out your services.</span></span> <span data-ttu-id="36aa6-118">Podobně platí, že když se poptávka sníží, odeberou se do škálování vašich služeb.</span><span class="sxs-lookup"><span data-stu-id="36aa6-118">Likewise, when demand decreases, they're removed to scale-in your services.</span></span> <span data-ttu-id="36aa6-119">Nadefinujete metriku, na které se má škálovat, například využití procesoru.</span><span class="sxs-lookup"><span data-stu-id="36aa6-119">You define the metric on which to scale, for example, CPU usage.</span></span> <span data-ttu-id="36aa6-120">Můžete také zadat minimální a maximální počet replik, které mají být spuštěny.</span><span class="sxs-lookup"><span data-stu-id="36aa6-120">You can also specify the minimum and maximum number of replicas to run.</span></span> <span data-ttu-id="36aa6-121">AKS monitoruje tuto metriku a odpovídajícím způsobem se škáluje.</span><span class="sxs-lookup"><span data-stu-id="36aa6-121">AKS monitors that metric and scales accordingly.</span></span>

<span data-ttu-id="36aa6-122">V dalším kroku funkce [automatického škálování clusteru AKS](https://docs.microsoft.com/azure/aks/cluster-autoscaler) umožňuje automaticky škálovat výpočetní uzly napříč clusterem Kubernetes tak, aby splňovaly požadavky.</span><span class="sxs-lookup"><span data-stu-id="36aa6-122">Next, the [AKS Cluster Autoscaler](https://docs.microsoft.com/azure/aks/cluster-autoscaler) feature enables you to automatically scale compute nodes across a Kubernetes cluster to meet demand.</span></span> <span data-ttu-id="36aa6-123">Díky tomu můžete automaticky přidat nové virtuální počítače do základní sady škálování virtuálních počítačů Azure, když se vyžaduje větší výpočetní kapacita.</span><span class="sxs-lookup"><span data-stu-id="36aa6-123">With it, you can automatically add new VMs to the underlying Azure Virtual Machine Scale Set whenever more compute capacity of is required.</span></span> <span data-ttu-id="36aa6-124">Také odebere uzly, pokud již nejsou vyžadovány.</span><span class="sxs-lookup"><span data-stu-id="36aa6-124">It also removes nodes when no longer required.</span></span>

<span data-ttu-id="36aa6-125">Obrázek 3-13 ukazuje vztah mezi těmito dvěma službami škálování.</span><span class="sxs-lookup"><span data-stu-id="36aa6-125">Figure 3-13 shows the relationship between these two scaling services.</span></span>

![Horizontální navýšení kapacity App Serviceho plánu.](./media/aks-cluster-autoscaler.png)

<span data-ttu-id="36aa6-127">**Obrázek 3-13**.</span><span class="sxs-lookup"><span data-stu-id="36aa6-127">**Figure 3-13**.</span></span> <span data-ttu-id="36aa6-128">Horizontální navýšení kapacity App Serviceho plánu.</span><span class="sxs-lookup"><span data-stu-id="36aa6-128">Scaling out an App Service plan.</span></span>

<span data-ttu-id="36aa6-129">Společně zajistěte, aby se zajistil optimální počet instancí kontejnerů a výpočetních uzlů pro podporu kolísání poptávky.</span><span class="sxs-lookup"><span data-stu-id="36aa6-129">Working together, both ensure an optimal number of container instances and compute nodes to support fluctuating demand.</span></span> <span data-ttu-id="36aa6-130">Automatické škálování vodorovně pod optimalizuje počet požadovaných lusků.</span><span class="sxs-lookup"><span data-stu-id="36aa6-130">The horizontal pod autoscaler optimizes the number of pods required.</span></span> <span data-ttu-id="36aa6-131">Automatické škálování clusteru optimalizuje počet požadovaných uzlů.</span><span class="sxs-lookup"><span data-stu-id="36aa6-131">The cluster autoscaler optimizes the number of nodes required.</span></span>

### <a name="scaling-azure-functions"></a><span data-ttu-id="36aa6-132">Škálování Azure Functions</span><span class="sxs-lookup"><span data-stu-id="36aa6-132">Scaling Azure Functions</span></span>

<span data-ttu-id="36aa6-133">Azure Functions automaticky škálovat na vyžádání.</span><span class="sxs-lookup"><span data-stu-id="36aa6-133">Azure Functions automatically scale out upon demand.</span></span> <span data-ttu-id="36aa6-134">Prostředky serveru se dynamicky přiřazují a odstraňují na základě počtu aktivovaných událostí.</span><span class="sxs-lookup"><span data-stu-id="36aa6-134">Server resources are dynamically allocated and removed based on the number of triggered events.</span></span> <span data-ttu-id="36aa6-135">Účtují se vám jenom výpočetní prostředky spotřebované při spuštění vašich funkcí.</span><span class="sxs-lookup"><span data-stu-id="36aa6-135">You're only charged for compute resources consumed when your functions run.</span></span> <span data-ttu-id="36aa6-136">Fakturace vychází z počtu spuštění, času spuštění a využité paměti.</span><span class="sxs-lookup"><span data-stu-id="36aa6-136">Billing is based upon the number of executions, execution time, and memory used.</span></span>

<span data-ttu-id="36aa6-137">I když výchozí plán spotřeby poskytuje pro většinu aplikací ekonomické a škálovatelné řešení, možnost Premium umožňuje vývojářům pružně využít vlastní požadavky na Azure Functions.</span><span class="sxs-lookup"><span data-stu-id="36aa6-137">While the default consumption plan provides an economical and scalable solution for most apps, the premium option allows developers flexibility for custom Azure Functions requirements.</span></span> <span data-ttu-id="36aa6-138">Upgrade na plán Premium poskytuje kontrolu nad velikostmi instancí, předem zaplacenými instancemi (aby se předešlo zpožděním spuštění) a vyhrazeným virtuálním počítačům.</span><span class="sxs-lookup"><span data-stu-id="36aa6-138">Upgrading to the premium plan provides control over instance sizes, pre-warmed instances (to avoid cold start delays), and dedicated VMs.</span></span>

>[!div class="step-by-step"]
><span data-ttu-id="36aa6-139">[Předchozí](deploy-containers-azure.md) 
> [Další](other-deployment-options.md)</span><span class="sxs-lookup"><span data-stu-id="36aa6-139">[Previous](deploy-containers-azure.md)
[Next](other-deployment-options.md)</span></span>
