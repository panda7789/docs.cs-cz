---
title: Navrhování kontejnerů a aplikací založených na mikroslužbách
description: Navrhování kontejneru a aplikace založené na mikroslužbách není malý výkon a neměly by být brány na lehkou váhu. Naučte se základní pojmy v této kapitole.
ms.date: 09/20/2018
ms.openlocfilehash: aff30c907f1140b94dbcae330ed7cb633b0a744b
ms.sourcegitcommit: 7588136e355e10cbc2582f389c90c127363c02a5
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 03/15/2020
ms.locfileid: "70295516"
---
# <a name="architecting-container-and-microservice-based-applications"></a><span data-ttu-id="f0b9c-104">Navrhování kontejnerů a aplikací založených na mikroslužbách</span><span class="sxs-lookup"><span data-stu-id="f0b9c-104">Architecting container and microservice-based applications</span></span>

<span data-ttu-id="f0b9c-105">*Mikroslužby nabízejí velké výhody, ale také vyvolávají obrovské nové výzvy. Vzory architektury mikroslužeb jsou základní pilíře při vytváření aplikace založené na mikroslužbách.*</span><span class="sxs-lookup"><span data-stu-id="f0b9c-105">*Microservices offer great benefits but also raise huge new challenges. Microservice architecture patterns are fundamental pillars when creating a microservice-based application.*</span></span>

<span data-ttu-id="f0b9c-106">Dříve v této příručce jste se naučili základní koncepty o kontejnerech a Dockeru.</span><span class="sxs-lookup"><span data-stu-id="f0b9c-106">Earlier in this guide, you learned basic concepts about containers and Docker.</span></span> <span data-ttu-id="f0b9c-107">To byly minimální informace, které jste potřebovali, abyste mohli začít s kontejnery.</span><span class="sxs-lookup"><span data-stu-id="f0b9c-107">That was the minimum information you needed to get started with containers.</span></span> <span data-ttu-id="f0b9c-108">I když i v případě, že kontejnery jsou enablers a vhodné pro mikroslužeb, nejsou povinné pro architekturu mikroslužeb a mnoho architektonických konceptů v této části architektury lze použít bez kontejnerů, příliš.</span><span class="sxs-lookup"><span data-stu-id="f0b9c-108">Although, even when containers are enablers and a great fit for microservices, they aren't mandatory for a microservice architecture and many architectural concepts in this architecture section could be applied without containers, too.</span></span> <span data-ttu-id="f0b9c-109">Tyto pokyny se však zaměřuje na průsečík obou kvůli již zavedené důležitosti kontejnerů.</span><span class="sxs-lookup"><span data-stu-id="f0b9c-109">However, this guidance focuses on the intersection of both due to the already introduced importance of containers.</span></span>

<span data-ttu-id="f0b9c-110">Podnikové aplikace mohou být složité a často se skládají z více služeb namísto jedné aplikace založené na službě.</span><span class="sxs-lookup"><span data-stu-id="f0b9c-110">Enterprise applications can be complex and are often composed of multiple services instead of a single service-based application.</span></span> <span data-ttu-id="f0b9c-111">V těchto případech je třeba pochopit další architektonické přístupy, jako jsou například mikroslužeb a některé vzory návrhu řízeného doménou (DDD) plus koncepty orchestrace kontejnerů.</span><span class="sxs-lookup"><span data-stu-id="f0b9c-111">For those cases, you need to understand additional architectural approaches, such as the microservices and certain Domain-Driven Design (DDD) patterns plus container orchestration concepts.</span></span> <span data-ttu-id="f0b9c-112">Všimněte si, že tato kapitola popisuje nejen mikroslužeb na kontejnery, ale všechny kontejnerizované aplikace, také.</span><span class="sxs-lookup"><span data-stu-id="f0b9c-112">Note that this chapter describes not just microservices on containers, but any containerized application, as well.</span></span>

## <a name="container-design-principles"></a><span data-ttu-id="f0b9c-113">Principy návrhu kontejnerů</span><span class="sxs-lookup"><span data-stu-id="f0b9c-113">Container design principles</span></span>

<span data-ttu-id="f0b9c-114">V modelu kontejneru představuje instance image kontejneru jeden proces.</span><span class="sxs-lookup"><span data-stu-id="f0b9c-114">In the container model, a container image instance represents a single process.</span></span> <span data-ttu-id="f0b9c-115">Definováním image kontejneru jako hranice procesu můžete vytvořit primitiva, která lze použít ke změně měřítka procesu nebo k jeho dávkování.</span><span class="sxs-lookup"><span data-stu-id="f0b9c-115">By defining a container image as a process boundary, you can create primitives that can be used to scale the process or to batch it.</span></span>

<span data-ttu-id="f0b9c-116">Při návrhu image kontejneru, uvidíte [entrypoint](https://docs.docker.com/engine/reference/builder/#entrypoint) definice v Dockerfile.</span><span class="sxs-lookup"><span data-stu-id="f0b9c-116">When you design a container image, you'll see an [ENTRYPOINT](https://docs.docker.com/engine/reference/builder/#entrypoint) definition in the Dockerfile.</span></span> <span data-ttu-id="f0b9c-117">To definuje proces, jehož životnost řídí životnost kontejneru.</span><span class="sxs-lookup"><span data-stu-id="f0b9c-117">This defines the process whose lifetime controls the lifetime of the container.</span></span> <span data-ttu-id="f0b9c-118">Po dokončení procesu končí životní cyklus kontejneru.</span><span class="sxs-lookup"><span data-stu-id="f0b9c-118">When the process completes, the container lifecycle ends.</span></span> <span data-ttu-id="f0b9c-119">Kontejnery mohou představovat dlouhotrvající procesy, jako jsou webové servery, ale mohou také představovat krátkodobé procesy, jako jsou dávkové úlohy, které dříve mohly být implementovány jako Azure [WebJobs](https://github.com/Azure/azure-webjobs-sdk/wiki).</span><span class="sxs-lookup"><span data-stu-id="f0b9c-119">Containers might represent long-running processes like web servers, but can also represent short-lived processes like batch jobs, which formerly might have been implemented as Azure [WebJobs](https://github.com/Azure/azure-webjobs-sdk/wiki).</span></span>

<span data-ttu-id="f0b9c-120">Pokud proces selže, kontejner končí a orchestrátor převezme.</span><span class="sxs-lookup"><span data-stu-id="f0b9c-120">If the process fails, the container ends, and the orchestrator takes over.</span></span> <span data-ttu-id="f0b9c-121">Pokud byl orchestrator nakonfigurován tak, aby udržel spuštěno pět instancí a jedna selhala, orchestrátor vytvoří jinou instanci kontejneru, která nahradí neúspěšný proces.</span><span class="sxs-lookup"><span data-stu-id="f0b9c-121">If the orchestrator was configured to keep five instances running and one fails, the orchestrator will create another container instance to replace the failed process.</span></span> <span data-ttu-id="f0b9c-122">V dávkové úloze je proces zahájen s parametry.</span><span class="sxs-lookup"><span data-stu-id="f0b9c-122">In a batch job, the process is started with parameters.</span></span> <span data-ttu-id="f0b9c-123">Po dokončení procesu je práce dokončena.</span><span class="sxs-lookup"><span data-stu-id="f0b9c-123">When the process completes, the work is complete.</span></span> <span data-ttu-id="f0b9c-124">Toto pokyny vrtá dolů na orchestrátory, později.</span><span class="sxs-lookup"><span data-stu-id="f0b9c-124">This guidance drills-down on orchestrators, later on.</span></span>

<span data-ttu-id="f0b9c-125">Můžete najít scénář, kde chcete více procesů spuštěných v jednom kontejneru.</span><span class="sxs-lookup"><span data-stu-id="f0b9c-125">You might find a scenario where you want multiple processes running in a single container.</span></span> <span data-ttu-id="f0b9c-126">Pro tento scénář, protože může existovat pouze jeden vstupní bod na kontejner, můžete spustit skript v rámci kontejneru, který spustí tolik programů podle potřeby.</span><span class="sxs-lookup"><span data-stu-id="f0b9c-126">For that scenario, since there can be only one entry point per container, you could run a script within the container that launches as many programs as needed.</span></span> <span data-ttu-id="f0b9c-127">Můžete například použít [supervisor](http://supervisord.org/) nebo podobný nástroj, abyste se postarali o spuštění více procesů uvnitř jednoho kontejneru.</span><span class="sxs-lookup"><span data-stu-id="f0b9c-127">For example, you can use [Supervisor](http://supervisord.org/) or a similar tool to take care of launching multiple processes inside a single container.</span></span> <span data-ttu-id="f0b9c-128">Však i když můžete najít architektury, které mají více procesů na kontejner, tento přístup není příliš běžné.</span><span class="sxs-lookup"><span data-stu-id="f0b9c-128">However, even though you can find architectures that hold multiple processes per container, that approach isn't very common.</span></span>

>[!div class="step-by-step"]
><span data-ttu-id="f0b9c-129">[Předchozí](../net-core-net-framework-containers/official-net-docker-images.md)
>[další](containerize-monolithic-applications.md)</span><span class="sxs-lookup"><span data-stu-id="f0b9c-129">[Previous](../net-core-net-framework-containers/official-net-docker-images.md)
[Next](containerize-monolithic-applications.md)</span></span>
