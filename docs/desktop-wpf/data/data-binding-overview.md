---
title: Přehled datových vazeb
description: Informace o různých zdrojích dat, které můžete přidat do projektu v systému Windows Presentation Foundation pro .NET Core. Zdroje dat mohou být vázány na prvky XAML a vytvářet dynamické aplikace.
author: thraka
ms.date: 09/19/2019
ms.author: adegeo
dev_langs:
- csharp
- vb
ms.openlocfilehash: 7f17ff094a35c04ba880c87c6966d7d249817516
ms.sourcegitcommit: b75a45f0cfe012b71b45dd9bf723adf32369d40c
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 03/24/2020
ms.locfileid: "82072009"
---
# <a name="data-binding-overview-in-wpf"></a><span data-ttu-id="28922-104">Přehled datové vazby v WPF</span><span class="sxs-lookup"><span data-stu-id="28922-104">Data binding overview in WPF</span></span>

<span data-ttu-id="28922-105">Datová vazba v platformě WPF (Windows Presentation Foundation) poskytuje jednoduchý a konzistentní způsob, jak mohou aplikace prezentovat data a pracovat s nimi.</span><span class="sxs-lookup"><span data-stu-id="28922-105">Data binding in Windows Presentation Foundation (WPF) provides a simple and consistent way for apps to present and interact with data.</span></span> <span data-ttu-id="28922-106">Prvky mohou být vázány na data z různých zdrojů dat ve formě objektů .NET a XML.</span><span class="sxs-lookup"><span data-stu-id="28922-106">Elements can be bound to data from a variety of data sources in the form of .NET objects and XML.</span></span> <span data-ttu-id="28922-107">Všechny <xref:System.Windows.Controls.ContentControl> například <xref:System.Windows.Controls.Button> <xref:System.Windows.Controls.ItemsControl>a všechny <xref:System.Windows.Controls.ListBox> <xref:System.Windows.Controls.ListView>, jako jsou a , mají vestavěné funkce umožňující flexibilní styling jednotlivých datových položek nebo kolekce datových položek.</span><span class="sxs-lookup"><span data-stu-id="28922-107">Any <xref:System.Windows.Controls.ContentControl> such as <xref:System.Windows.Controls.Button> and any <xref:System.Windows.Controls.ItemsControl>, such as <xref:System.Windows.Controls.ListBox> and <xref:System.Windows.Controls.ListView>, have built-in functionality to enable flexible styling of single data items or collections of data items.</span></span> <span data-ttu-id="28922-108">Zobrazení řazení, filtrování a skupinlze vygenerovat nad daty.</span><span class="sxs-lookup"><span data-stu-id="28922-108">Sort, filter, and group views can be generated on top of the data.</span></span>

<span data-ttu-id="28922-109">Funkce datové vazby v WPF má několik výhod oproti tradičním modelům, včetně vlastní podpory datové vazby širokou škálou vlastností, flexibilní reprezentace rozhraní dat a čisté oddělení obchodní logiky od ui.</span><span class="sxs-lookup"><span data-stu-id="28922-109">The data binding functionality in WPF has several advantages over traditional models, including inherent support for data binding by a broad range of properties, flexible UI representation of data, and clean separation of business logic from UI.</span></span>

<span data-ttu-id="28922-110">Tento článek nejprve popisuje koncepty základní wpf datové vazby a potom zahrnuje použití <xref:System.Windows.Data.Binding> třídy a další funkce datové vazby.</span><span class="sxs-lookup"><span data-stu-id="28922-110">This article first discusses concepts fundamental to WPF data binding and then covers the usage of the <xref:System.Windows.Data.Binding> class and other features of data binding.</span></span>

[!INCLUDE [desktop guide under construction](../../../includes/desktop-guide-preview-note.md)]

## <a name="what-is-data-binding"></a><span data-ttu-id="28922-111">Co je datová vazba?</span><span class="sxs-lookup"><span data-stu-id="28922-111">What is data binding?</span></span>

<span data-ttu-id="28922-112">Datová vazba je proces, který naváže spojení mezi unovým uznatým režimem aplikace a daty, která zobrazí.</span><span class="sxs-lookup"><span data-stu-id="28922-112">Data binding is the process that establishes a connection between the app UI and the data it displays.</span></span> <span data-ttu-id="28922-113">Pokud vazba má správné nastavení a data poskytuje správná oznámení, když data změní svou hodnotu, prvky, které jsou vázány na data automaticky odrážet změny.</span><span class="sxs-lookup"><span data-stu-id="28922-113">If the binding has the correct settings and the data provides the proper notifications, when the data changes its value, the elements that are bound to the data reflect changes automatically.</span></span> <span data-ttu-id="28922-114">Datová vazba může také znamenat, že pokud se změní vnější reprezentace dat v prvku, pak podkladová data mohou být automaticky aktualizována tak, aby odrážela změnu.</span><span class="sxs-lookup"><span data-stu-id="28922-114">Data binding can also mean that if an outer representation of the data in an element changes, then the underlying data can be automatically updated to reflect the change.</span></span> <span data-ttu-id="28922-115">Pokud například uživatel upraví hodnotu `TextBox` v prvku, základní hodnota dat se automaticky aktualizuje tak, aby odrážela tuto změnu.</span><span class="sxs-lookup"><span data-stu-id="28922-115">For example, if the user edits the value in a `TextBox` element, the underlying data value is automatically updated to reflect that change.</span></span>

<span data-ttu-id="28922-116">Typické použití datové vazby je umístit server nebo místní konfigurační data do formulářů nebo jiných ovládacích prvků ui.</span><span class="sxs-lookup"><span data-stu-id="28922-116">A typical use of data binding is to place server or local configuration data into forms or other UI controls.</span></span> <span data-ttu-id="28922-117">V WPF tento koncept je rozšířen a zahrnuje vazbu širokou škálu vlastností na různé zdroje dat.</span><span class="sxs-lookup"><span data-stu-id="28922-117">In WPF, this concept is expanded to include binding a broad range of properties to a variety of data sources.</span></span> <span data-ttu-id="28922-118">Ve WPF mohou být vlastnosti závislostí prvků vázány na objekty .NET (včetně ADO.NET objektů nebo objektů přidružených k webovým službám a webovým vlastnostem) a dat xml.</span><span class="sxs-lookup"><span data-stu-id="28922-118">In WPF, dependency properties of elements can be bound to .NET objects (including ADO.NET objects or objects associated with Web Services and Web properties) and XML data.</span></span>

<span data-ttu-id="28922-119">Příklad datové vazby například podívejte se na následující ui aplikace z [ukázky datové vazby][data-binding-demo], která zobrazuje seznam položek aukce.</span><span class="sxs-lookup"><span data-stu-id="28922-119">For an example of data binding, take a look at the following app UI from the [Data Binding Demo][data-binding-demo], which displays a list of auction items.</span></span>

<span data-ttu-id="28922-120">![Ukázkový snímek obrazovky datové vazby](./media/data-binding-overview/demo.png "DataBinding_DataBindingDemo")</span><span class="sxs-lookup"><span data-stu-id="28922-120">![Data binding sample screenshot](./media/data-binding-overview/demo.png "DataBinding_DataBindingDemo")</span></span>

<span data-ttu-id="28922-121">Aplikace ukazuje následující funkce datové vazby:</span><span class="sxs-lookup"><span data-stu-id="28922-121">The app demonstrates the following features of data binding:</span></span>

- <span data-ttu-id="28922-122">Obsah ListBox je vázán na kolekci *AuctionItem* objekty.</span><span class="sxs-lookup"><span data-stu-id="28922-122">The content of the ListBox is bound to a collection of *AuctionItem* objects.</span></span> <span data-ttu-id="28922-123">Objekt *AuctionItem* má vlastnosti jako *Description*, *StartPrice*, *StartDate*, *Category*, *SpecialFeatures*a tak dále.</span><span class="sxs-lookup"><span data-stu-id="28922-123">An *AuctionItem* object has properties such as *Description*, *StartPrice*, *StartDate*, *Category*, *SpecialFeatures*, and so on.</span></span>

- <span data-ttu-id="28922-124">Data *(AuctionItem* objekty) zobrazené v `ListBox` je šablona tak, aby popis a aktuální cena jsou zobrazeny pro každou položku.</span><span class="sxs-lookup"><span data-stu-id="28922-124">The data (*AuctionItem* objects) displayed in the `ListBox` is templated so that the description and the current price are shown for each item.</span></span> <span data-ttu-id="28922-125">Šablona je vytvořena <xref:System.Windows.DataTemplate>pomocí .</span><span class="sxs-lookup"><span data-stu-id="28922-125">The template is created by using a <xref:System.Windows.DataTemplate>.</span></span> <span data-ttu-id="28922-126">Kromě toho vzhled každé položky závisí na *SpecialFeatures* hodnotu *AuctionItem* se zobrazí.</span><span class="sxs-lookup"><span data-stu-id="28922-126">In addition, the appearance of each item depends on the *SpecialFeatures* value of the *AuctionItem* being displayed.</span></span> <span data-ttu-id="28922-127">Pokud je hodnota *SpecialFeatures* *položky AuctionItem* *Barva*, má položka modré ohraničení.</span><span class="sxs-lookup"><span data-stu-id="28922-127">If the *SpecialFeatures* value of the *AuctionItem* is *Color*, the item has a blue border.</span></span> <span data-ttu-id="28922-128">Pokud je hodnota *Zvýraznit*, má položka oranžové ohraničení a hvězdičku.</span><span class="sxs-lookup"><span data-stu-id="28922-128">If the value is *Highlight*, the item has an orange border and a star.</span></span> <span data-ttu-id="28922-129">Část [Data Templating](#data-templating) obsahuje informace o šablonování dat.</span><span class="sxs-lookup"><span data-stu-id="28922-129">The [Data Templating](#data-templating) section provides information about data templating.</span></span>

- <span data-ttu-id="28922-130">Uživatel může data seskupit, `CheckBoxes` filtrovat nebo řadit pomocí dodaných dat.</span><span class="sxs-lookup"><span data-stu-id="28922-130">The user can group, filter, or sort the data using the `CheckBoxes` provided.</span></span> <span data-ttu-id="28922-131">Na obrázku výše jsou vybrány **možnostI Seskupit podle kategorie** a **Seřadit podle kategorie a data.** `CheckBoxes`</span><span class="sxs-lookup"><span data-stu-id="28922-131">In the image above, the **Group by category** and **Sort by category and date** `CheckBoxes` are selected.</span></span> <span data-ttu-id="28922-132">Možná jste si všimli, že data jsou seskupena na základě kategorie produktu a název kategorie je v abecedním pořadí.</span><span class="sxs-lookup"><span data-stu-id="28922-132">You may have noticed that the data is grouped based on the category of the product, and the category name is in alphabetical order.</span></span> <span data-ttu-id="28922-133">Je obtížné si všimnout z obrázku, ale položky jsou také seřazeny podle počátečního data v rámci každé kategorie.</span><span class="sxs-lookup"><span data-stu-id="28922-133">It is difficult to notice from the image but the items are also sorted by the start date within each category.</span></span> <span data-ttu-id="28922-134">Řazení se provádí pomocí *zobrazení kolekce*.</span><span class="sxs-lookup"><span data-stu-id="28922-134">Sorting is done using a *collection view*.</span></span> <span data-ttu-id="28922-135">Vazby [kolekce](#binding-to-collections) části popisuje zobrazení kolekce.</span><span class="sxs-lookup"><span data-stu-id="28922-135">The [Binding to collections](#binding-to-collections) section discusses collection views.</span></span>

- <span data-ttu-id="28922-136">Když uživatel vybere položku, <xref:System.Windows.Controls.ContentControl> zobrazí se podrobnosti o vybrané položce.</span><span class="sxs-lookup"><span data-stu-id="28922-136">When the user selects an item, the <xref:System.Windows.Controls.ContentControl> displays the details of the selected item.</span></span> <span data-ttu-id="28922-137">Tato zkušenost se nazývá *scénář hlavního detailu*.</span><span class="sxs-lookup"><span data-stu-id="28922-137">This experience is called the *Master-detail scenario*.</span></span> <span data-ttu-id="28922-138">Část [Scénář hlavního textu](#master-detail-binding-scenario) obsahuje informace o tomto typu vazby.</span><span class="sxs-lookup"><span data-stu-id="28922-138">The [Master-detail scenario](#master-detail-binding-scenario) section provides information about this type of binding.</span></span>

- <span data-ttu-id="28922-139">Typ vlastnosti *StartDate* <xref:System.DateTime>je , která vrací datum, které obsahuje čas do milisekundy.</span><span class="sxs-lookup"><span data-stu-id="28922-139">The type of the *StartDate* property is <xref:System.DateTime>, which returns a date that includes the time to the millisecond.</span></span> <span data-ttu-id="28922-140">V této aplikaci byl použit vlastní převaděč tak, aby se zobrazil kratší řetězec data.</span><span class="sxs-lookup"><span data-stu-id="28922-140">In this app, a custom converter has been used so that a shorter date string is displayed.</span></span> <span data-ttu-id="28922-141">Část [Převod dat](#data-conversion) obsahuje informace o převaděčích.</span><span class="sxs-lookup"><span data-stu-id="28922-141">The [Data conversion](#data-conversion) section provides information about converters.</span></span>

<span data-ttu-id="28922-142">Když uživatel vybere tlačítko *Přidat produkt,* zobrazí se následující formulář.</span><span class="sxs-lookup"><span data-stu-id="28922-142">When the user selects the *Add Product* button, the following form comes up.</span></span>

<span data-ttu-id="28922-143">![Stránka Přidat výpis produktů](./media/data-binding-overview/demo-addproductlisting.png "DataBinding_Demo_AddProductListing")</span><span class="sxs-lookup"><span data-stu-id="28922-143">![Add Product Listing page](./media/data-binding-overview/demo-addproductlisting.png "DataBinding_Demo_AddProductListing")</span></span>

<span data-ttu-id="28922-144">Uživatel může upravit pole ve formuláři, zobrazit náhled výpisu produktu pomocí `Submit` krátkých nebo podrobných panelů náhledu a vybrat přidání nového výpisu produktu.</span><span class="sxs-lookup"><span data-stu-id="28922-144">The user can edit the fields in the form, preview the product listing using the short or detailed preview panes, and select `Submit` to add the new product listing.</span></span> <span data-ttu-id="28922-145">Pro novou položku se budou vztahovat všechna existující nastavení seskupení, filtrování a řazení.</span><span class="sxs-lookup"><span data-stu-id="28922-145">Any existing grouping, filtering and sorting settings will apply to the new entry.</span></span> <span data-ttu-id="28922-146">V tomto konkrétním případě se položka zadaná na výše uvedeném obrázku zobrazí jako druhá položka v kategorii *Počítač.*</span><span class="sxs-lookup"><span data-stu-id="28922-146">In this particular case, the item entered in the above image will be displayed as the second item within the *Computer* category.</span></span>

<span data-ttu-id="28922-147">Na tomto obrázku není zobrazena logika ověření uvedená v *počátečním datu* <xref:System.Windows.Controls.TextBox>.</span><span class="sxs-lookup"><span data-stu-id="28922-147">Not shown in this image is the validation logic provided in the *Start Date* <xref:System.Windows.Controls.TextBox>.</span></span> <span data-ttu-id="28922-148">Pokud uživatel zadá neplatné datum (neplatné formátování nebo minulé datum), bude <xref:System.Windows.Controls.ToolTip> upozorněn a červeným vykřičníkem vedle <xref:System.Windows.Controls.TextBox>.</span><span class="sxs-lookup"><span data-stu-id="28922-148">If the user enters an invalid date (invalid formatting or a past date), the user will be notified with a <xref:System.Windows.Controls.ToolTip> and a red exclamation point next to the <xref:System.Windows.Controls.TextBox>.</span></span> <span data-ttu-id="28922-149">Část [Ověření dat](#data-validation) popisuje, jak vytvořit logiku ověření.</span><span class="sxs-lookup"><span data-stu-id="28922-149">The [Data Validation](#data-validation) section discusses how to create validation logic.</span></span>

<span data-ttu-id="28922-150">Než přejdeme k různým funkcím výše popsané datové vazby, nejprve probereme základní koncepty, které jsou důležité pro pochopení datové vazby WPF.</span><span class="sxs-lookup"><span data-stu-id="28922-150">Before going into the different features of data binding outlined above, we will first discuss the fundamental concepts that are critical to understanding WPF data binding.</span></span>

## <a name="basic-data-binding-concepts"></a><span data-ttu-id="28922-151">Základní koncepty datové vazby</span><span class="sxs-lookup"><span data-stu-id="28922-151">Basic data binding concepts</span></span>

<span data-ttu-id="28922-152">Bez ohledu na to, jaký prvek jste vazby a povahu zdroje dat, každá vazba vždy následuje model znázorněno na následujícím obrázku.</span><span class="sxs-lookup"><span data-stu-id="28922-152">Regardless of what element you are binding and the nature of your data source, each binding always follows the model illustrated by the following figure.</span></span>

![Diagram, který zobrazuje základní model datové vazby.](./media/data-binding-overview/basic-data-binding-diagram.png)

<span data-ttu-id="28922-154">Jak ukazuje obrázek, vazby dat je v podstatě most mezi cíl vazby a zdroj vazby.</span><span class="sxs-lookup"><span data-stu-id="28922-154">As the figure shows, data binding is essentially the bridge between your binding target and your binding source.</span></span> <span data-ttu-id="28922-155">Obrázek ukazuje následující základní koncepty datové vazby WPF:</span><span class="sxs-lookup"><span data-stu-id="28922-155">The figure demonstrates the following fundamental WPF data binding concepts:</span></span>

- <span data-ttu-id="28922-156">Každá vazba má obvykle čtyři součásti:</span><span class="sxs-lookup"><span data-stu-id="28922-156">Typically, each binding has four components:</span></span>

  - <span data-ttu-id="28922-157">Cílový objekt vazby.</span><span class="sxs-lookup"><span data-stu-id="28922-157">A binding target object.</span></span>
  - <span data-ttu-id="28922-158">Cílová vlastnost.</span><span class="sxs-lookup"><span data-stu-id="28922-158">A target property.</span></span>
  - <span data-ttu-id="28922-159">Zdroj vazby.</span><span class="sxs-lookup"><span data-stu-id="28922-159">A binding source.</span></span>
  - <span data-ttu-id="28922-160">Cesta k hodnotě ve zdroji vazby, který chcete použít.</span><span class="sxs-lookup"><span data-stu-id="28922-160">A path to the value in the binding source to use.</span></span>
  
  > <span data-ttu-id="28922-161">Chcete-li například svázat obsah `TextBox` a `Employee.Name` s vlastností, cílový `TextBox`objekt je vlastnost <xref:System.Windows.Controls.TextBox.Text%2A> , cílová vlastnost je vlastnost, hodnota, která má být používána, je *Name*a zdrojový objekt je Objekt *Employee.*</span><span class="sxs-lookup"><span data-stu-id="28922-161">For example, if you want to bind the content of a `TextBox` to the `Employee.Name` property, your target object is the `TextBox`, the target property is the <xref:System.Windows.Controls.TextBox.Text%2A> property, the value to use is *Name*, and the source object is the *Employee* object.</span></span>

- <span data-ttu-id="28922-162">Vlastnost target musí být vlastnost závislosti.</span><span class="sxs-lookup"><span data-stu-id="28922-162">The target property must be a dependency property.</span></span> <span data-ttu-id="28922-163">Většina <xref:System.Windows.UIElement> vlastností jsou vlastnosti závislostí a většina vlastností závislostí, s výjimkou těch jen pro čtení, podporuje datové vazby ve výchozím nastavení.</span><span class="sxs-lookup"><span data-stu-id="28922-163">Most <xref:System.Windows.UIElement> properties are dependency properties, and most dependency properties, except read-only ones, support data binding by default.</span></span> <span data-ttu-id="28922-164">(Pouze typy odvozené z <xref:System.Windows.DependencyObject> můžete definovat <xref:System.Windows.UIElement> vlastnosti `DependencyObject`závislostí; a všechny typy odvozené z .)</span><span class="sxs-lookup"><span data-stu-id="28922-164">(Only types derived from <xref:System.Windows.DependencyObject> can define dependency properties; and all <xref:System.Windows.UIElement> types derive from `DependencyObject`.)</span></span>

- <span data-ttu-id="28922-165">Ačkoli není zobrazenna obrázku, je třeba poznamenat, že zdrojový objekt vazby není omezen na vlastní objekt .NET.</span><span class="sxs-lookup"><span data-stu-id="28922-165">Although not shown in the figure, it should be noted that the binding source object is not restricted to being a custom .NET object.</span></span> <span data-ttu-id="28922-166">Datová vazba WPF podporuje data ve formě objektů .NET a XML.</span><span class="sxs-lookup"><span data-stu-id="28922-166">WPF data binding supports data in the form of .NET objects and XML.</span></span> <span data-ttu-id="28922-167">Chcete-li uvést některé příklady, <xref:System.Windows.UIElement>může být zdrojem vazby libovolný objekt seznamu, objekt ADO.NET nebo webových služeb nebo xmlnode, který obsahuje data XML.</span><span class="sxs-lookup"><span data-stu-id="28922-167">To provide some examples, your binding source may be a <xref:System.Windows.UIElement>, any list object, an ADO.NET or Web Services object, or an XmlNode that contains your XML data.</span></span> <span data-ttu-id="28922-168">Další informace naleznete v [tématu Přehled zdrojů vazby](../../framework/wpf/data/binding-sources-overview.md).</span><span class="sxs-lookup"><span data-stu-id="28922-168">For more information, see [Binding sources overview](../../framework/wpf/data/binding-sources-overview.md).</span></span>

<span data-ttu-id="28922-169">Je důležité si uvědomit, že při vytváření vazby, jsou vazby *cíl* vazby na zdroj vazby.</span><span class="sxs-lookup"><span data-stu-id="28922-169">It is important to remember that when you are establishing a binding, you are binding a binding target *to* a binding source.</span></span> <span data-ttu-id="28922-170">Pokud například zobrazujete některá podkladová <xref:System.Windows.Controls.ListBox> data XML v datové `ListBox` vazbě pomocí, svážete data XML.</span><span class="sxs-lookup"><span data-stu-id="28922-170">For example, if you are displaying some underlying XML data in a <xref:System.Windows.Controls.ListBox> using data binding, you are binding your `ListBox` to the XML data.</span></span>

<span data-ttu-id="28922-171">Chcete-li vytvořit vazbu, <xref:System.Windows.Data.Binding> použijte objekt.</span><span class="sxs-lookup"><span data-stu-id="28922-171">To establish a binding, you use the <xref:System.Windows.Data.Binding> object.</span></span> <span data-ttu-id="28922-172">Zbývající část tohoto článku popisuje mnoho konceptů spojených s a některé `Binding` vlastnosti a použití objektu.</span><span class="sxs-lookup"><span data-stu-id="28922-172">The rest of this article discusses many of the concepts associated with and some of the properties and usage of the `Binding` object.</span></span>

### <a name="direction-of-the-data-flow"></a><span data-ttu-id="28922-173">Směr toku dat</span><span class="sxs-lookup"><span data-stu-id="28922-173">Direction of the data flow</span></span>

<span data-ttu-id="28922-174">Jak je uvedeno na šipku na předchozím obrázku, tok dat vazby může přejít z cíle vazby na zdroj vazby (například zdrojová hodnota se změní, když uživatel upraví hodnotu `TextBox`) a/nebo ze zdroje vazby na cíl vazby (například váš `TextBox` obsah je aktualizován změnami ve zdroji vazby), pokud zdroj vazby poskytuje správná oznámení.</span><span class="sxs-lookup"><span data-stu-id="28922-174">As indicated by the arrow in the previous figure, the data flow of a binding can go from the binding target to the binding source (for example, the source value changes when a user edits the value of a `TextBox`) and/or from the binding source to the binding target (for example, your `TextBox` content is updated with changes in the binding source) if the binding source provides the proper notifications.</span></span>

<span data-ttu-id="28922-175">Můžete chtít, aby vaše aplikace umožnila uživatelům změnit data a šířit je zpět do zdrojového objektu.</span><span class="sxs-lookup"><span data-stu-id="28922-175">You may want your app to enable users to change the data and propagate it back to the source object.</span></span> <span data-ttu-id="28922-176">Nebo možná nebudete chtít povolit uživatelům aktualizovat zdrojová data.</span><span class="sxs-lookup"><span data-stu-id="28922-176">Or you may not want to enable users to update the source data.</span></span> <span data-ttu-id="28922-177">Tok dat můžete řídit nastavením . <xref:System.Windows.Data.Binding.Mode?displayProperty=nameWithType></span><span class="sxs-lookup"><span data-stu-id="28922-177">You can control the flow of data by setting the <xref:System.Windows.Data.Binding.Mode?displayProperty=nameWithType>.</span></span>

<span data-ttu-id="28922-178">Tento obrázek znázorňuje různé typy toku dat:</span><span class="sxs-lookup"><span data-stu-id="28922-178">This figure illustrates the different types of data flow:</span></span>

<span data-ttu-id="28922-179">![Datový tok datové vazby](./media/data-binding-overview/databinding-dataflow.png "DataBinding_DataFlow")</span><span class="sxs-lookup"><span data-stu-id="28922-179">![Data binding data flow](./media/data-binding-overview/databinding-dataflow.png "DataBinding_DataFlow")</span></span>

- <span data-ttu-id="28922-180"><xref:System.Windows.Data.BindingMode.OneWay>vazba způsobí, že změny vlastnosti source automaticky aktualizují cílovou vlastnost, ale změny vlastnosti target nejsou šířeny zpět do vlastnosti source.</span><span class="sxs-lookup"><span data-stu-id="28922-180"><xref:System.Windows.Data.BindingMode.OneWay> binding causes changes to the source property to automatically update the target property, but changes to the target property are not propagated back to the source property.</span></span> <span data-ttu-id="28922-181">Tento typ vazby je vhodné, pokud je vázán ovládací prvek je implicitně jen pro čtení.</span><span class="sxs-lookup"><span data-stu-id="28922-181">This type of binding is appropriate if the control being bound is implicitly read-only.</span></span> <span data-ttu-id="28922-182">Můžete se například vázat na zdroj, jako je burzovní burzovní burzovní burzovní burzovní burzovní burzovní, nebo možná vaše cílová vlastnost nemá žádné ovládací rozhraní pro provádění změn, jako je například barva pozadí svázaná s daty tabulky.</span><span class="sxs-lookup"><span data-stu-id="28922-182">For instance, you may bind to a source such as a stock ticker, or perhaps your target property has no control interface provided for making changes, such as a data-bound background color of a table.</span></span> <span data-ttu-id="28922-183">Pokud není nutné sledovat změny cílové vlastnosti, <xref:System.Windows.Data.BindingMode.OneWay> pomocí režimu vazby <xref:System.Windows.Data.BindingMode.TwoWay> se vyhnete režii režimu vazby.</span><span class="sxs-lookup"><span data-stu-id="28922-183">If there is no need to monitor the changes of the target property, using the <xref:System.Windows.Data.BindingMode.OneWay> binding mode avoids the overhead of the <xref:System.Windows.Data.BindingMode.TwoWay> binding mode.</span></span>

- <span data-ttu-id="28922-184"><xref:System.Windows.Data.BindingMode.TwoWay>vazba způsobí změny zdrojové vlastnosti nebo cílové vlastnosti, které automaticky aktualizují druhou vlastnost.</span><span class="sxs-lookup"><span data-stu-id="28922-184"><xref:System.Windows.Data.BindingMode.TwoWay> binding causes changes to either the source property or the target property to automatically update the other.</span></span> <span data-ttu-id="28922-185">Tento typ vazby je vhodný pro upravitelné formuláře nebo jiné plně interaktivní scénáře nového nenasytného režimu.</span><span class="sxs-lookup"><span data-stu-id="28922-185">This type of binding is appropriate for editable forms or other fully interactive UI scenarios.</span></span> <span data-ttu-id="28922-186">Většina vlastností výchozí <xref:System.Windows.Data.BindingMode.OneWay> vazbu, ale některé vlastnosti závislostí (obvykle <xref:System.Windows.Controls.TextBox.Text?displayProperty=nameWithType> vlastnosti uživatelem upravitelné ovládací prvky, jako je například a [CheckBox.IsChecked](xref:System.Windows.Controls.Primitives.ToggleButton.IsChecked) výchozí vazba. <xref:System.Windows.Data.BindingMode.TwoWay></span><span class="sxs-lookup"><span data-stu-id="28922-186">Most properties default to <xref:System.Windows.Data.BindingMode.OneWay> binding, but some dependency properties (typically properties of user-editable controls such as the <xref:System.Windows.Controls.TextBox.Text?displayProperty=nameWithType> and  [CheckBox.IsChecked](xref:System.Windows.Controls.Primitives.ToggleButton.IsChecked) default to <xref:System.Windows.Data.BindingMode.TwoWay> binding.</span></span> <span data-ttu-id="28922-187">Programový způsob, jak zjistit, zda závislost vlastnost váže jednosměrný nebo obousměrný ve výchozím <xref:System.Windows.DependencyProperty.GetMetadata%2A?displayProperty=nameWithType> nastavení je získat metadata <xref:System.Windows.FrameworkPropertyMetadata.BindsTwoWayByDefault%2A?displayProperty=nameWithType> vlastnosti s a potom zkontrolujte boolean hodnotu vlastnosti.</span><span class="sxs-lookup"><span data-stu-id="28922-187">A programmatic way to determine whether a dependency property binds one-way or two-way by default is to get the property metadata with <xref:System.Windows.DependencyProperty.GetMetadata%2A?displayProperty=nameWithType> and then check the Boolean value of the <xref:System.Windows.FrameworkPropertyMetadata.BindsTwoWayByDefault%2A?displayProperty=nameWithType> property.</span></span>

- <span data-ttu-id="28922-188"><xref:System.Windows.Data.BindingMode.OneWayToSource>je opakem <xref:System.Windows.Data.BindingMode.OneWay> vazby; aktualizuje vlastnost source při změně vlastnosti target.</span><span class="sxs-lookup"><span data-stu-id="28922-188"><xref:System.Windows.Data.BindingMode.OneWayToSource> is the reverse of <xref:System.Windows.Data.BindingMode.OneWay> binding; it updates the source property when the target property changes.</span></span> <span data-ttu-id="28922-189">Jeden příklad scénáře je, pokud stačí přehodnotit zdrojovou hodnotu z ui.</span><span class="sxs-lookup"><span data-stu-id="28922-189">One example scenario is if you only need to reevaluate the source value from the UI.</span></span>

- <span data-ttu-id="28922-190">Není znázorněno na <xref:System.Windows.Data.BindingMode.OneTime> obrázku je vazby, což způsobí, že vlastnost source inicializovat cíl vlastnost, ale nešíří následné změny.</span><span class="sxs-lookup"><span data-stu-id="28922-190">Not illustrated in the figure is <xref:System.Windows.Data.BindingMode.OneTime> binding, which causes the source property to initialize the target property but does not propagate subsequent changes.</span></span> <span data-ttu-id="28922-191">Pokud se změní kontext dat nebo objekt v kontextu dat, změna se *neprojeví* v cílové vlastnosti.</span><span class="sxs-lookup"><span data-stu-id="28922-191">If the data context changes or the object in the data context changes, the change is *not* reflected in the target property.</span></span> <span data-ttu-id="28922-192">Tento typ vazby je vhodné, pokud je vhodný snímek aktuálního stavu nebo data je skutečně statické.</span><span class="sxs-lookup"><span data-stu-id="28922-192">This type of binding is appropriate if either a snapshot of the current state is appropriate or the data is truly static.</span></span> <span data-ttu-id="28922-193">Tento typ vazby je také užitečné, pokud chcete inicializovat cílovou vlastnost s nějakou hodnotu ze zdrojové vlastnosti a kontext dat není předem znám.</span><span class="sxs-lookup"><span data-stu-id="28922-193">This type of binding is also useful if you want to initialize your target property with some value from a source property and the data context is not known in advance.</span></span> <span data-ttu-id="28922-194">Tento režim je v <xref:System.Windows.Data.BindingMode.OneWay> podstatě jednodušší forma vazby, která poskytuje lepší výkon v případech, kdy se nezmění zdrojová hodnota.</span><span class="sxs-lookup"><span data-stu-id="28922-194">This mode is essentially a simpler form of <xref:System.Windows.Data.BindingMode.OneWay> binding that provides better performance in cases where the source value does not change.</span></span>

<span data-ttu-id="28922-195">Chcete-li zjistit změny <xref:System.Windows.Data.BindingMode.OneWay> <xref:System.Windows.Data.BindingMode.TwoWay> zdroje (použitelné pro a vazby), zdroj <xref:System.ComponentModel.INotifyPropertyChanged>musí implementovat vhodný mechanismus oznamování změny vlastnosti, jako je například .</span><span class="sxs-lookup"><span data-stu-id="28922-195">To detect source changes (applicable to <xref:System.Windows.Data.BindingMode.OneWay> and <xref:System.Windows.Data.BindingMode.TwoWay> bindings), the source must implement a suitable property change notification mechanism such as <xref:System.ComponentModel.INotifyPropertyChanged>.</span></span> <span data-ttu-id="28922-196">Viz [Postup: Implementovat oznámení o změně vlastnosti](../../framework/wpf/data/how-to-implement-property-change-notification.md) pro příklad <xref:System.ComponentModel.INotifyPropertyChanged> implementace.</span><span class="sxs-lookup"><span data-stu-id="28922-196">See [How to: Implement property change notification](../../framework/wpf/data/how-to-implement-property-change-notification.md) for an example of an <xref:System.ComponentModel.INotifyPropertyChanged> implementation.</span></span>

<span data-ttu-id="28922-197">Vlastnost <xref:System.Windows.Data.Binding.Mode?displayProperty=nameWithType> poskytuje další informace o režimech vazby a příklad, jak určit směr vazby.</span><span class="sxs-lookup"><span data-stu-id="28922-197">The <xref:System.Windows.Data.Binding.Mode?displayProperty=nameWithType> property provides more information about binding modes and an example of how to specify the direction of a binding.</span></span>

### <a name="what-triggers-source-updates"></a><span data-ttu-id="28922-198">Co aktivuje zdrojové aktualizace</span><span class="sxs-lookup"><span data-stu-id="28922-198">What triggers source updates</span></span>

<span data-ttu-id="28922-199">Vazby, <xref:System.Windows.Data.BindingMode.TwoWay> které <xref:System.Windows.Data.BindingMode.OneWayToSource> jsou nebo poslouchat změny v cílové vlastnosti a šířit je zpět do zdroje, označované jako aktualizace zdroje.</span><span class="sxs-lookup"><span data-stu-id="28922-199">Bindings that are <xref:System.Windows.Data.BindingMode.TwoWay> or <xref:System.Windows.Data.BindingMode.OneWayToSource> listen for changes in the target property and propagate them back to the source, known as updating the source.</span></span> <span data-ttu-id="28922-200">Můžete například upravit text textového pole a změnit základní zdrojovou hodnotu.</span><span class="sxs-lookup"><span data-stu-id="28922-200">For example, you may edit the text of a TextBox to change the underlying source value.</span></span>

<span data-ttu-id="28922-201">Je však zdrojová hodnota aktualizována při úpravách textu nebo po dokončení úprav textu a ovládací prvek ztratí fokus?</span><span class="sxs-lookup"><span data-stu-id="28922-201">However, is your source value updated while you are editing the text or after you finish editing the text and the control loses focus?</span></span> <span data-ttu-id="28922-202">Vlastnost <xref:System.Windows.Data.Binding.UpdateSourceTrigger?displayProperty=nameWithType> určuje, co aktivuje aktualizaci zdroje.</span><span class="sxs-lookup"><span data-stu-id="28922-202">The <xref:System.Windows.Data.Binding.UpdateSourceTrigger?displayProperty=nameWithType> property determines what triggers the update of the source.</span></span> <span data-ttu-id="28922-203">Tečky šipky vpravo na následujícím obrázku ilustrují roli vlastnosti. <xref:System.Windows.Data.Binding.UpdateSourceTrigger?displayProperty=nameWithType></span><span class="sxs-lookup"><span data-stu-id="28922-203">The dots of the right arrows in the following figure illustrate the role of the <xref:System.Windows.Data.Binding.UpdateSourceTrigger?displayProperty=nameWithType> property.</span></span>

![Diagram, který zobrazuje roli UpdateSourceTrigger vlastnost.](./media/data-binding-overview/data-binding-updatesource-trigger.png)

<span data-ttu-id="28922-205">Pokud `UpdateSourceTrigger` je <xref:System.Windows.Data.UpdateSourceTrigger.PropertyChanged?displayProperty=nameWithType>hodnota , pak hodnota, na <xref:System.Windows.Data.BindingMode.TwoWay> kterou <xref:System.Windows.Data.BindingMode.OneWayToSource> se ukazuje šipka vpravo nebo vazby, je aktualizována, jakmile se změní vlastnost target.</span><span class="sxs-lookup"><span data-stu-id="28922-205">If the `UpdateSourceTrigger` value is <xref:System.Windows.Data.UpdateSourceTrigger.PropertyChanged?displayProperty=nameWithType>, then the value pointed to by the right arrow of <xref:System.Windows.Data.BindingMode.TwoWay> or the <xref:System.Windows.Data.BindingMode.OneWayToSource> bindings is updated as soon as the target property changes.</span></span> <span data-ttu-id="28922-206">Pokud je `UpdateSourceTrigger` však <xref:System.Windows.Data.UpdateSourceTrigger.LostFocus>hodnota , pak je tato hodnota aktualizována pouze novou hodnotou, když cílová vlastnost ztratí fokus.</span><span class="sxs-lookup"><span data-stu-id="28922-206">However, if the `UpdateSourceTrigger` value is <xref:System.Windows.Data.UpdateSourceTrigger.LostFocus>, then that value only is updated with the new value when the target property loses focus.</span></span>

<span data-ttu-id="28922-207">Podobně jako <xref:System.Windows.Data.Binding.Mode%2A> vlastnost mají různé vlastnosti <xref:System.Windows.Data.Binding.UpdateSourceTrigger%2A> závislostí různé výchozí hodnoty.</span><span class="sxs-lookup"><span data-stu-id="28922-207">Similar to the <xref:System.Windows.Data.Binding.Mode%2A> property, different dependency properties have different default <xref:System.Windows.Data.Binding.UpdateSourceTrigger%2A> values.</span></span> <span data-ttu-id="28922-208">Výchozí hodnota pro většinu vlastností závislostí je <xref:System.Windows.Data.UpdateSourceTrigger.PropertyChanged>, zatímco `TextBox.Text` vlastnost má výchozí hodnotu <xref:System.Windows.Data.UpdateSourceTrigger.LostFocus>.</span><span class="sxs-lookup"><span data-stu-id="28922-208">The default value for most dependency properties is <xref:System.Windows.Data.UpdateSourceTrigger.PropertyChanged>, while the `TextBox.Text` property has a default value of <xref:System.Windows.Data.UpdateSourceTrigger.LostFocus>.</span></span> <span data-ttu-id="28922-209">`PropertyChanged`znamená, že aktualizace zdroje obvykle dojít vždy, když se změní cílová vlastnost.</span><span class="sxs-lookup"><span data-stu-id="28922-209">`PropertyChanged` means the source updates usually happen whenever the target property changes.</span></span> <span data-ttu-id="28922-210">Okamžité změny jsou v pořádku pro zaškrtávací políčka a další jednoduché ovládací prvky.</span><span class="sxs-lookup"><span data-stu-id="28922-210">Instant changes are fine for CheckBoxes and other simple controls.</span></span> <span data-ttu-id="28922-211">U textových polí však aktualizace po každém stisknutí klávesy může snížit výkon a odepře uživateli obvyklou příležitost k backspace a opravit chyby při psaní před potvrzením nové hodnoty.</span><span class="sxs-lookup"><span data-stu-id="28922-211">However, for text fields, updating after every keystroke can diminish performance and denies the user the usual opportunity to backspace and fix typing errors before committing to the new value.</span></span>

<span data-ttu-id="28922-212">Informace <xref:System.Windows.Data.Binding.UpdateSourceTrigger%2A> o tom, jak najít výchozí hodnotu vlastnosti závislosti, naleznete na stránce vlastností.</span><span class="sxs-lookup"><span data-stu-id="28922-212">See the <xref:System.Windows.Data.Binding.UpdateSourceTrigger%2A> property page for information about how to find the default value of a dependency property.</span></span>

<span data-ttu-id="28922-213">Následující tabulka obsahuje příklad scénáře <xref:System.Windows.Data.Binding.UpdateSourceTrigger%2A> pro <xref:System.Windows.Controls.TextBox> každou hodnotu pomocí jako příklad.</span><span class="sxs-lookup"><span data-stu-id="28922-213">The following table provides an example scenario for each <xref:System.Windows.Data.Binding.UpdateSourceTrigger%2A> value using the <xref:System.Windows.Controls.TextBox> as an example.</span></span>

| <span data-ttu-id="28922-214">Hodnota UpdateSourceTrigger</span><span class="sxs-lookup"><span data-stu-id="28922-214">UpdateSourceTrigger value</span></span> | <span data-ttu-id="28922-215">Při aktualizaci zdrojové hodnoty</span><span class="sxs-lookup"><span data-stu-id="28922-215">When the source value is updated</span></span> | <span data-ttu-id="28922-216">Příklad scénáře pro textbox</span><span class="sxs-lookup"><span data-stu-id="28922-216">Example scenario for TextBox</span></span> |
| ------------------------- | ---------------------------------- | ---------------------------- |
| <span data-ttu-id="28922-217">`LostFocus`(výchozí <xref:System.Windows.Controls.TextBox.Text%2A?displayProperty=nameWithType>pro )</span><span class="sxs-lookup"><span data-stu-id="28922-217">`LostFocus` (default for <xref:System.Windows.Controls.TextBox.Text%2A?displayProperty=nameWithType>)</span></span> | <span data-ttu-id="28922-218">Když ovládací prvek TextBox ztratí fokus.</span><span class="sxs-lookup"><span data-stu-id="28922-218">When the TextBox control loses focus.</span></span> | <span data-ttu-id="28922-219">Textbox, který je spojen s logikou ověřování (viz [ověření dat](#data-validation) níže).</span><span class="sxs-lookup"><span data-stu-id="28922-219">A TextBox that is associated with validation logic (see [Data Validation](#data-validation) below).</span></span> |
| `PropertyChanged` | <span data-ttu-id="28922-220">Při psaní do <xref:System.Windows.Controls.TextBox>.</span><span class="sxs-lookup"><span data-stu-id="28922-220">As you type into the <xref:System.Windows.Controls.TextBox>.</span></span> | <span data-ttu-id="28922-221">Ovládací prvky TextBox v okně chatovací místnosti.</span><span class="sxs-lookup"><span data-stu-id="28922-221">TextBox controls in a chat room window.</span></span> |
| `Explicit` | <span data-ttu-id="28922-222">Když aplikace <xref:System.Windows.Data.BindingExpression.UpdateSource%2A>volá .</span><span class="sxs-lookup"><span data-stu-id="28922-222">When the app calls <xref:System.Windows.Data.BindingExpression.UpdateSource%2A>.</span></span> | <span data-ttu-id="28922-223">TextBox ovládací prvky v upravitelné podobě (aktualizuje zdrojové hodnoty pouze v případě, že uživatel klepne na tlačítko odeslat).</span><span class="sxs-lookup"><span data-stu-id="28922-223">TextBox controls in an editable form (updates the source values only when the user clicks the submit button).</span></span> |

<span data-ttu-id="28922-224">Příklad najdete v [tématu How to: Control when the TextBox text updates the source](../../framework/wpf/data/how-to-control-when-the-textbox-text-updates-the-source.md).</span><span class="sxs-lookup"><span data-stu-id="28922-224">For an example, see [How to: Control when the TextBox text updates the source](../../framework/wpf/data/how-to-control-when-the-textbox-text-updates-the-source.md).</span></span>

## <a name="creating-a-binding"></a><span data-ttu-id="28922-225">Vytvoření vazby</span><span class="sxs-lookup"><span data-stu-id="28922-225">Creating a binding</span></span>

<span data-ttu-id="28922-226">Chcete-li znovu některé koncepty popsané v předchozích částech, <xref:System.Windows.Data.Binding> vytvořte vazbu pomocí objektu a každá vazba má obvykle čtyři součásti: cíl vazby, cílovou vlastnost, zdroj vazby a cestu ke zdrojové hodnotě, která má být používána.</span><span class="sxs-lookup"><span data-stu-id="28922-226">To restate some of the concepts discussed in the previous sections, you establish a binding using the <xref:System.Windows.Data.Binding> object, and each binding usually has four components: a binding target, a target property, a binding source, and a path to the source value to use.</span></span> <span data-ttu-id="28922-227">Tato část popisuje, jak nastavit vazbu.</span><span class="sxs-lookup"><span data-stu-id="28922-227">This section discusses how to set up a binding.</span></span>

<span data-ttu-id="28922-228">Vezměme si následující příklad, ve kterém zdrojový objekt vazby je třída s názvem *MyData,* která je definována v oboru názvů *SDKSample.*</span><span class="sxs-lookup"><span data-stu-id="28922-228">Consider the following example, in which the binding source object is a class named *MyData* that is defined in the *SDKSample* namespace.</span></span> <span data-ttu-id="28922-229">Pro účely demonstrace *má MyData* vlastnost řetězce s názvem *ColorName,* jejíž hodnota je nastavena na "Red".</span><span class="sxs-lookup"><span data-stu-id="28922-229">For demonstration purposes, *MyData* has a string property named *ColorName* whose value is set to "Red".</span></span> <span data-ttu-id="28922-230">Tento příklad tedy generuje tlačítko s červeným pozadím.</span><span class="sxs-lookup"><span data-stu-id="28922-230">Thus, this example generates a button with a red background.</span></span>

[!code-xaml[BindNonTextProperty](~/samples/snippets/desktop-guide/wpf/data-binding-overview/csharp/AutoConvertPropertyToColor.xaml#BindAutoConvertColor)]

<span data-ttu-id="28922-231">Další informace o syntaxi deklarace vazby a příklady nastavení vazby v kódu naleznete v [tématu Přehled deklarací vazby](../../framework/wpf/data/binding-declarations-overview.md).</span><span class="sxs-lookup"><span data-stu-id="28922-231">For more information on the binding declaration syntax and examples of how to set up a binding in code, see [Binding Declarations Overview](../../framework/wpf/data/binding-declarations-overview.md).</span></span>

<span data-ttu-id="28922-232">Pokud použijeme tento příklad v našem základním diagramu, výsledný obrázek vypadá takto.</span><span class="sxs-lookup"><span data-stu-id="28922-232">If we apply this example to our basic diagram, the resulting figure looks like the following.</span></span> <span data-ttu-id="28922-233">Toto číslo <xref:System.Windows.Data.BindingMode.OneWay> popisuje vazbu, <xref:System.Windows.Data.BindingMode.OneWay> protože vlastnost Background ve výchozím nastavení podporuje vazbu.</span><span class="sxs-lookup"><span data-stu-id="28922-233">This figure describes a <xref:System.Windows.Data.BindingMode.OneWay> binding because the Background property supports <xref:System.Windows.Data.BindingMode.OneWay> binding by default.</span></span>

![Diagram, který zobrazuje vlastnost pozadí datové vazby.](./media/data-binding-overview/data-binding-button-background-example.png)

<span data-ttu-id="28922-235">Možná se divíte, proč tato vazba funguje, <xref:System.Windows.Controls.Control.Background%2A> i když <xref:System.Windows.Media.Brush> *ColorName* vlastnost je typu řetězec, zatímco vlastnost je typu .</span><span class="sxs-lookup"><span data-stu-id="28922-235">You may wonder why this binding works even though the *ColorName* property is of type string while the <xref:System.Windows.Controls.Control.Background%2A> property is of type <xref:System.Windows.Media.Brush>.</span></span> <span data-ttu-id="28922-236">Tato vazba používá výchozí převod typu, který je popsán v části [Převod dat.](#data-conversion)</span><span class="sxs-lookup"><span data-stu-id="28922-236">This binding uses default type conversion, which is discussed in the [Data conversion](#data-conversion) section.</span></span>

### <a name="specifying-the-binding-source"></a><span data-ttu-id="28922-237">Určení zdroje vazby</span><span class="sxs-lookup"><span data-stu-id="28922-237">Specifying the binding source</span></span>

<span data-ttu-id="28922-238">Všimněte si, že v předchozím příkladu je zdroj vazby určen nastavením vlastnosti [DockPanel.DataContext.](xref:System.Windows.FrameworkElement.DataContext)</span><span class="sxs-lookup"><span data-stu-id="28922-238">Notice that in the previous example, the binding source is specified by setting the [DockPanel.DataContext](xref:System.Windows.FrameworkElement.DataContext) property.</span></span> <span data-ttu-id="28922-239">Potom <xref:System.Windows.Controls.Button> dědí <xref:System.Windows.FrameworkElement.DataContext%2A> hodnotu <xref:System.Windows.Controls.DockPanel>z , což je jeho nadřazený prvek.</span><span class="sxs-lookup"><span data-stu-id="28922-239">The <xref:System.Windows.Controls.Button> then inherits the <xref:System.Windows.FrameworkElement.DataContext%2A> value from the <xref:System.Windows.Controls.DockPanel>, which is its parent element.</span></span> <span data-ttu-id="28922-240">Chcete-li zopakovat, objekt zdroje vazby je jednou ze čtyř nezbytných součástí vazby.</span><span class="sxs-lookup"><span data-stu-id="28922-240">To reiterate, the binding source object is one of the four necessary components of a binding.</span></span> <span data-ttu-id="28922-241">Proto bez zadaný objekt zdroje vazby by vazba neprovede nic.</span><span class="sxs-lookup"><span data-stu-id="28922-241">Therefore, without the binding source object being specified, the binding would do nothing.</span></span>

<span data-ttu-id="28922-242">Existuje několik způsobů, jak určit zdrojový objekt vazby.</span><span class="sxs-lookup"><span data-stu-id="28922-242">There are several ways to specify the binding source object.</span></span> <span data-ttu-id="28922-243">Použití <xref:System.Windows.FrameworkElement.DataContext%2A> vlastnosti nadřazeného prvku je užitečné, pokud vazby více vlastností na stejný zdroj.</span><span class="sxs-lookup"><span data-stu-id="28922-243">Using the <xref:System.Windows.FrameworkElement.DataContext%2A> property on a parent element is useful when you are binding multiple properties to the same source.</span></span> <span data-ttu-id="28922-244">Někdy však může být vhodnější určit zdroj vazby na jednotlivé deklarace vazby.</span><span class="sxs-lookup"><span data-stu-id="28922-244">However, sometimes it may be more appropriate to specify the binding source on individual binding declarations.</span></span> <span data-ttu-id="28922-245">Pro předchozí příklad namísto <xref:System.Windows.FrameworkElement.DataContext%2A> použití vlastnosti můžete zadat zdroj <xref:System.Windows.Data.Binding.Source%2A?displayProperty=nameWithType> vazby nastavením vlastnosti přímo na deklaraci vazby tlačítka, jako v následujícím příkladu.</span><span class="sxs-lookup"><span data-stu-id="28922-245">For the previous example, instead of using the <xref:System.Windows.FrameworkElement.DataContext%2A> property, you can specify the binding source by setting the <xref:System.Windows.Data.Binding.Source%2A?displayProperty=nameWithType> property directly on the binding declaration of the button, as in the following example.</span></span>

[!code-xaml[BindNonTextPropertyCompactBinding](~/samples/snippets/desktop-guide/wpf/data-binding-overview/csharp/AutoConvertPropertyToColor.xaml#BindAutoConvertColorCompactBinding)]

<span data-ttu-id="28922-246">Jiné než <xref:System.Windows.FrameworkElement.DataContext%2A> nastavení vlastnosti na prvek <xref:System.Windows.FrameworkElement.DataContext%2A> přímo, dědění hodnoty od předchůdce (například tlačítko v prvním příkladu) a explicitně určení zdroje vazby nastavením <xref:System.Windows.Data.Binding.Source%2A?displayProperty=nameWithType> <xref:System.Windows.Data.Binding.ElementName?displayProperty=nameWithType> vlastnosti <xref:System.Windows.Data.Binding.RelativeSource?displayProperty=nameWithType> na vazbě (například tlačítko poslední příklad), můžete také použít vlastnost nebo vlastnost k určení zdroje vazby.</span><span class="sxs-lookup"><span data-stu-id="28922-246">Other than setting the <xref:System.Windows.FrameworkElement.DataContext%2A> property on an element directly, inheriting the <xref:System.Windows.FrameworkElement.DataContext%2A> value from an ancestor (such as the button in the first example), and explicitly specifying the binding source by setting the <xref:System.Windows.Data.Binding.Source%2A?displayProperty=nameWithType> property on the binding (such as the button the last example), you can also use the <xref:System.Windows.Data.Binding.ElementName?displayProperty=nameWithType> property or the <xref:System.Windows.Data.Binding.RelativeSource?displayProperty=nameWithType> property to specify the binding source.</span></span> <span data-ttu-id="28922-247">Vlastnost <xref:System.Windows.Data.Binding.ElementName%2A> je užitečná, když jste vazby na jiné prvky v aplikaci, například při použití posuvníku upravit šířku tlačítka.</span><span class="sxs-lookup"><span data-stu-id="28922-247">The <xref:System.Windows.Data.Binding.ElementName%2A> property is useful when you are binding to other elements in your app, such as when you are using a slider to adjust the width of a button.</span></span> <span data-ttu-id="28922-248">Vlastnost <xref:System.Windows.Data.Binding.RelativeSource%2A> je užitečná, pokud je <xref:System.Windows.Controls.ControlTemplate> vazba <xref:System.Windows.Style>zadána v nebo .</span><span class="sxs-lookup"><span data-stu-id="28922-248">The <xref:System.Windows.Data.Binding.RelativeSource%2A> property is useful when the binding is specified in a <xref:System.Windows.Controls.ControlTemplate> or a <xref:System.Windows.Style>.</span></span> <span data-ttu-id="28922-249">Další informace naleznete v [tématu How to: Specify the binding source](../../framework/wpf/data/how-to-specify-the-binding-source.md).</span><span class="sxs-lookup"><span data-stu-id="28922-249">For more information, see [How to: Specify the binding source](../../framework/wpf/data/how-to-specify-the-binding-source.md).</span></span>

### <a name="specifying-the-path-to-the-value"></a><span data-ttu-id="28922-250">Určení cesty k hodnotě</span><span class="sxs-lookup"><span data-stu-id="28922-250">Specifying the path to the value</span></span>

<span data-ttu-id="28922-251">Pokud je váš zdroj vazby <xref:System.Windows.Data.Binding.Path?displayProperty=nameWithType> objekt, použijte vlastnost k určení hodnoty, která má být pro vazbu používána.</span><span class="sxs-lookup"><span data-stu-id="28922-251">If your binding source is an object, you use the <xref:System.Windows.Data.Binding.Path?displayProperty=nameWithType> property to specify the value to use for your binding.</span></span> <span data-ttu-id="28922-252">Pokud se vážete k datům <xref:System.Windows.Data.Binding.XPath?displayProperty=nameWithType> XML, použijte vlastnost k určení hodnoty.</span><span class="sxs-lookup"><span data-stu-id="28922-252">If you are binding to XML data, you use the <xref:System.Windows.Data.Binding.XPath?displayProperty=nameWithType> property to specify the value.</span></span> <span data-ttu-id="28922-253">V některých případech může být <xref:System.Windows.Data.Binding.Path%2A> použitelné pro použití vlastnosti i v případě, že vaše data jsou XML.</span><span class="sxs-lookup"><span data-stu-id="28922-253">In some cases, it may be applicable to use the <xref:System.Windows.Data.Binding.Path%2A> property even when your data is XML.</span></span> <span data-ttu-id="28922-254">Například pokud chcete získat přístup name vlastnost vrácené XmlNode (jako výsledek dotazu XPath), měli byste použít <xref:System.Windows.Data.Binding.Path%2A> vlastnost kromě vlastnosti. <xref:System.Windows.Data.Binding.XPath%2A></span><span class="sxs-lookup"><span data-stu-id="28922-254">For example, if you want to access the Name property of a returned XmlNode (as a result of an XPath query), you should use the <xref:System.Windows.Data.Binding.Path%2A> property in addition to the <xref:System.Windows.Data.Binding.XPath%2A> property.</span></span>

<span data-ttu-id="28922-255">Další informace naleznete <xref:System.Windows.Data.Binding.Path%2A> v <xref:System.Windows.Data.Binding.XPath%2A> tématu a vlastnosti.</span><span class="sxs-lookup"><span data-stu-id="28922-255">For more information, see the <xref:System.Windows.Data.Binding.Path%2A> and <xref:System.Windows.Data.Binding.XPath%2A> properties.</span></span>

<span data-ttu-id="28922-256">I když jsme zdůraznili, že <xref:System.Windows.Data.Binding.Path%2A> hodnota to použít je jedním ze čtyř nezbytných součástí vazby, ve scénářích, které chcete vytvořit vazbu na celý objekt, hodnota, která má být stejná jako zdrojový objekt vazby.</span><span class="sxs-lookup"><span data-stu-id="28922-256">Although we have emphasized that the <xref:System.Windows.Data.Binding.Path%2A> to the value to use is one of the four necessary components of a binding, in the scenarios that you want to bind to an entire object, the value to use would be the same as the binding source object.</span></span> <span data-ttu-id="28922-257">V těchto případech se použije na <xref:System.Windows.Data.Binding.Path%2A>nespecifikovat .</span><span class="sxs-lookup"><span data-stu-id="28922-257">In those cases, it is applicable to not specify a <xref:System.Windows.Data.Binding.Path%2A>.</span></span> <span data-ttu-id="28922-258">Představte si následující příklad.</span><span class="sxs-lookup"><span data-stu-id="28922-258">Consider the following example.</span></span>

[!code-xaml[EmptyBinding](~/samples/snippets/desktop-guide/wpf/data-binding-overview/csharp/EmptyBinding.xaml#EmptyBinding)]

<span data-ttu-id="28922-259">Výše uvedený příklad používá syntaxi prázdné vazby: {Binding}.</span><span class="sxs-lookup"><span data-stu-id="28922-259">The above example uses the empty binding syntax: {Binding}.</span></span> <span data-ttu-id="28922-260">V tomto případě <xref:System.Windows.Controls.ListBox> dědí DataContext z nadřazeného DockPanel element (není uvedeno v tomto příkladu).</span><span class="sxs-lookup"><span data-stu-id="28922-260">In this case, the <xref:System.Windows.Controls.ListBox> inherits the DataContext from a parent DockPanel element (not shown in this example).</span></span> <span data-ttu-id="28922-261">Pokud cesta není zadána, výchozí je vazba na celý objekt.</span><span class="sxs-lookup"><span data-stu-id="28922-261">When the path is not specified, the default is to bind to the entire object.</span></span> <span data-ttu-id="28922-262">Jinými slovy v tomto příkladu cesta byla vynechána, <xref:System.Windows.Controls.ItemsControl.ItemsSource%2A> protože jsme vazby vlastnost celý objekt.</span><span class="sxs-lookup"><span data-stu-id="28922-262">In other words, in this example, the path has been left out because we are binding the <xref:System.Windows.Controls.ItemsControl.ItemsSource%2A> property to the entire object.</span></span> <span data-ttu-id="28922-263">(Viz [vazby na kolekce](#binding-to-collections) části pro podrobnou diskusi.)</span><span class="sxs-lookup"><span data-stu-id="28922-263">(See the [Binding to collections](#binding-to-collections) section for an in-depth discussion.)</span></span>

<span data-ttu-id="28922-264">Jiné než vazba na kolekci, tento scénář je také užitečné, pokud chcete vytvořit vazbu na celý objekt namísto pouze jednu vlastnost objektu.</span><span class="sxs-lookup"><span data-stu-id="28922-264">Other than binding to a collection, this scenario is also useful when you want to bind to an entire object instead of just a single property of an object.</span></span> <span data-ttu-id="28922-265">Například pokud je zdrojový objekt <xref:System.String>typu , můžete jednoduše vytvořit vazbu na samotný řetězec.</span><span class="sxs-lookup"><span data-stu-id="28922-265">For example, if your source object is of type <xref:System.String>, you may simply want to bind to the string itself.</span></span> <span data-ttu-id="28922-266">Dalším běžným scénářem je, když chcete svázat prvek s objektem s několika vlastnostmi.</span><span class="sxs-lookup"><span data-stu-id="28922-266">Another common scenario is when you want to bind an element to an object with several properties.</span></span>

<span data-ttu-id="28922-267">Možná budete muset použít vlastní logiku tak, aby data byla smysluplná pro vlastnost target bound.</span><span class="sxs-lookup"><span data-stu-id="28922-267">You may need to apply custom logic so that the data is meaningful to your bound target property.</span></span> <span data-ttu-id="28922-268">Vlastní logika může být ve formě vlastního převaděče, pokud výchozí převod typu neexistuje.</span><span class="sxs-lookup"><span data-stu-id="28922-268">The custom logic may be in the form of a custom converter if default type conversion does not exist.</span></span> <span data-ttu-id="28922-269">Informace o převaděčích najdete v [tématu Převod dat.](#data-conversion)</span><span class="sxs-lookup"><span data-stu-id="28922-269">See [Data conversion](#data-conversion) for information about converters.</span></span>

### <a name="binding-and-bindingexpression"></a><span data-ttu-id="28922-270">Vazba a bindingexpression</span><span class="sxs-lookup"><span data-stu-id="28922-270">Binding and BindingExpression</span></span>

<span data-ttu-id="28922-271">Než se dostanete do jiných funkcí a použití datové <xref:System.Windows.Data.BindingExpression> vazby, je užitečné zavést třídu.</span><span class="sxs-lookup"><span data-stu-id="28922-271">Before getting into other features and usages of data binding, it is useful to introduce the <xref:System.Windows.Data.BindingExpression> class.</span></span> <span data-ttu-id="28922-272">Jak jste viděli v předchozích částech, <xref:System.Windows.Data.Binding> třída je třída na vysoké úrovni pro deklaraci vazby; poskytuje mnoho vlastností, které umožňují určit charakteristiky vazby.</span><span class="sxs-lookup"><span data-stu-id="28922-272">As you have seen in previous sections, the <xref:System.Windows.Data.Binding> class is the high-level class for the declaration of a binding; it provides many properties that allow you to specify the characteristics of a binding.</span></span> <span data-ttu-id="28922-273">Související třída <xref:System.Windows.Data.BindingExpression>, je základní objekt, který udržuje spojení mezi zdrojem a cílem.</span><span class="sxs-lookup"><span data-stu-id="28922-273">A related class, <xref:System.Windows.Data.BindingExpression>, is the underlying object that maintains the connection between the source and the target.</span></span> <span data-ttu-id="28922-274">Vazba obsahuje všechny informace, které mohou být sdíleny mezi několika výrazy vazby.</span><span class="sxs-lookup"><span data-stu-id="28922-274">A binding contains all the information that can be shared across several binding expressions.</span></span> <span data-ttu-id="28922-275">A <xref:System.Windows.Data.BindingExpression> je výraz instance, který nelze sdílet a <xref:System.Windows.Data.Binding>obsahuje všechny informace o instanci .</span><span class="sxs-lookup"><span data-stu-id="28922-275">A <xref:System.Windows.Data.BindingExpression> is an instance expression that cannot be shared and contains all the instance information of the <xref:System.Windows.Data.Binding>.</span></span>

<span data-ttu-id="28922-276">Vezměme si `myDataObject` následující příklad, `MyData` kde `myBinding` je instance <xref:System.Windows.Data.Binding> třídy, je zdrojový objekt a `MyData` `MyDataProperty`je definovaná třída, která obsahuje vlastnost string s názvem .</span><span class="sxs-lookup"><span data-stu-id="28922-276">Consider the following example, where `myDataObject` is an instance of the `MyData` class, `myBinding` is the source <xref:System.Windows.Data.Binding> object, and `MyData` is a defined class that contains a string property named `MyDataProperty`.</span></span> <span data-ttu-id="28922-277">Tento příklad sváže textový `myText`obsah , <xref:System.Windows.Controls.TextBlock>instance `MyDataProperty`.</span><span class="sxs-lookup"><span data-stu-id="28922-277">This example binds the text content of `myText`, an instance of <xref:System.Windows.Controls.TextBlock>, to `MyDataProperty`.</span></span>

[!code-csharp[CodeOnlyBinding](~/samples/snippets/desktop-guide/wpf/data-binding-overview/csharp/ManualBinding.cs#CodeOnlyBinding)]
[!code-vb[CodeOnlyBinding](~/samples/snippets/desktop-guide/wpf/data-binding-overview/vb/ManualBinding.vb#CodeOnlyBinding)]

<span data-ttu-id="28922-278">Můžete použít stejný *objekt myBinding* k vytvoření dalších vazeb.</span><span class="sxs-lookup"><span data-stu-id="28922-278">You can use the same *myBinding* object to create other bindings.</span></span> <span data-ttu-id="28922-279">Objekt *myBinding* můžete například použít k vytvoření vazby textového obsahu zaškrtávacího políčka na *vlastnost MyDataProperty*.</span><span class="sxs-lookup"><span data-stu-id="28922-279">For example, you can use the *myBinding* object to bind the text content of a check box to *MyDataProperty*.</span></span> <span data-ttu-id="28922-280">V tomto scénáři budou existovat <xref:System.Windows.Data.BindingExpression> dvě instance sdílení *myBinding* objektu.</span><span class="sxs-lookup"><span data-stu-id="28922-280">In that scenario, there will be two instances of <xref:System.Windows.Data.BindingExpression> sharing the *myBinding* object.</span></span>

<span data-ttu-id="28922-281">Objekt <xref:System.Windows.Data.BindingExpression> je vrácen <xref:System.Windows.Data.BindingOperations.GetBindingExpression%2A> voláním objektu vázaného na data.</span><span class="sxs-lookup"><span data-stu-id="28922-281">A <xref:System.Windows.Data.BindingExpression> object is returned by calling <xref:System.Windows.Data.BindingOperations.GetBindingExpression%2A> on a data-bound object.</span></span> <span data-ttu-id="28922-282">Následující články ukazují některé použití <xref:System.Windows.Data.BindingExpression> třídy:</span><span class="sxs-lookup"><span data-stu-id="28922-282">The following articles demonstrate some of the usages of the <xref:System.Windows.Data.BindingExpression> class:</span></span>

- [<span data-ttu-id="28922-283">Získání objektu vazby z vlastnosti cíle vazby</span><span class="sxs-lookup"><span data-stu-id="28922-283">Get the binding object from a bound target property</span></span>](../../framework/wpf/data/how-to-get-the-binding-object-from-a-bound-target-property.md)

- [<span data-ttu-id="28922-284">Určit, kdy text TextBox aktualizuje zdroj</span><span class="sxs-lookup"><span data-stu-id="28922-284">Control When the TextBox text updates the source</span></span>](../../framework/wpf/data/how-to-control-when-the-textbox-text-updates-the-source.md)

## <a name="data-conversion"></a><span data-ttu-id="28922-285">Převod dat</span><span class="sxs-lookup"><span data-stu-id="28922-285">Data conversion</span></span>

<span data-ttu-id="28922-286">V [části Vytvoření vazby](#creating-a-binding) je tlačítko <xref:System.Windows.Controls.Control.Background%2A> červené, protože jeho vlastnost je vázána na vlastnost řetězce s hodnotou "Červená".</span><span class="sxs-lookup"><span data-stu-id="28922-286">In the [Creating a binding](#creating-a-binding) section, the button is red because its <xref:System.Windows.Controls.Control.Background%2A> property is bound to a string property with the value "Red".</span></span> <span data-ttu-id="28922-287">Tato hodnota řetězce funguje, protože převaděč typu je k dispozici na <xref:System.Windows.Media.Brush> typu převést hodnotu řetězce na <xref:System.Windows.Media.Brush>.</span><span class="sxs-lookup"><span data-stu-id="28922-287">This string value works because a type converter is present on the <xref:System.Windows.Media.Brush> type to convert the string value to a <xref:System.Windows.Media.Brush>.</span></span>

<span data-ttu-id="28922-288">Přidání těchto informací na obrázek [Vytvoření vazby](#creating-a-binding) části vypadá takto.</span><span class="sxs-lookup"><span data-stu-id="28922-288">Adding this information to the figure the [Creating a Binding](#creating-a-binding) section looks like this.</span></span>

![Diagram, který zobrazuje vlastnost Default datové vazby.](./media/data-binding-overview/data-binding-button-default-conversion.png)

<span data-ttu-id="28922-290">Však co v případě, že místo toho, aby *Color* vlastnost typu <xref:System.Windows.Media.Color>řetězce vazby zdrojový objekt má Color vlastnost typu ?</span><span class="sxs-lookup"><span data-stu-id="28922-290">However, what if instead of having a property of type string your binding source object has a *Color* property of type <xref:System.Windows.Media.Color>?</span></span> <span data-ttu-id="28922-291">V takovém případě, aby vazba pracovat, budete muset nejprve změnit Color <xref:System.Windows.Controls.Control.Background%2A> *hodnotu* vlastnosti do něčeho, co přijímá vlastnost.</span><span class="sxs-lookup"><span data-stu-id="28922-291">In that case, in order for the binding to work you would need to first turn the *Color* property value into something that the <xref:System.Windows.Controls.Control.Background%2A> property accepts.</span></span> <span data-ttu-id="28922-292">Budete muset vytvořit vlastní převaděč <xref:System.Windows.Data.IValueConverter> implementací rozhraní, jako v následujícím příkladu.</span><span class="sxs-lookup"><span data-stu-id="28922-292">You would need to create a custom converter by implementing the <xref:System.Windows.Data.IValueConverter> interface, as in the following example.</span></span>

[!code-csharp[CodeOnlyBinding](~/samples/snippets/desktop-guide/wpf/data-binding-overview/csharp/ColorBrushConverter.cs#ColorBrushConverter)]
[!code-vb[CodeOnlyBinding](~/samples/snippets/desktop-guide/wpf/data-binding-overview/vb/ColorBrushConverter.vb#ColorBrushConverter)]

<span data-ttu-id="28922-293">Další informace naleznete v tématu <xref:System.Windows.Data.IValueConverter>.</span><span class="sxs-lookup"><span data-stu-id="28922-293">See <xref:System.Windows.Data.IValueConverter> for more information.</span></span>

<span data-ttu-id="28922-294">Nyní se místo výchozího převodu používá vlastní převaděč a náš diagram vypadá takto.</span><span class="sxs-lookup"><span data-stu-id="28922-294">Now the custom converter is used instead of default conversion, and our diagram looks like this.</span></span>

![Diagram, který zobrazuje vlastní převaděč datové vazby.](./media/data-binding-overview/data-binding-converter-color-example.png)

<span data-ttu-id="28922-296">Chcete-li zopakovat, výchozí převody mohou být k dispozici z důvodu převaděče typu, které jsou k dispozici v typu je vázán.</span><span class="sxs-lookup"><span data-stu-id="28922-296">To reiterate, default conversions may be available because of type converters that are present in the type being bound to.</span></span> <span data-ttu-id="28922-297">Toto chování bude záviset na tom, které převaděče typu jsou k dispozici v cíli.</span><span class="sxs-lookup"><span data-stu-id="28922-297">This behavior will depend on which type converters are available in the target.</span></span> <span data-ttu-id="28922-298">V případě pochybností si vytvořte vlastní konvertor.</span><span class="sxs-lookup"><span data-stu-id="28922-298">If in doubt, create your own converter.</span></span>

<span data-ttu-id="28922-299">Níže jsou uvedeny některé typické scénáře, kde má smysl implementovat převaděč dat:</span><span class="sxs-lookup"><span data-stu-id="28922-299">The following are some typical scenarios where it makes sense to implement a data converter:</span></span>

- <span data-ttu-id="28922-300">Vaše data by měla být zobrazena odlišně, v závislosti na jazykové verzi.</span><span class="sxs-lookup"><span data-stu-id="28922-300">Your data should be displayed differently, depending on culture.</span></span> <span data-ttu-id="28922-301">Můžete například implementovat převodník měn nebo převodník kalendářního data a času na základě konvencí používaných v určité jazykové verzi.</span><span class="sxs-lookup"><span data-stu-id="28922-301">For instance, you might want to implement a currency converter or a calendar date/time converter based on the conventions used in a particular culture.</span></span>

- <span data-ttu-id="28922-302">Používaná data nemusí nutně změnit textovou hodnotu vlastnosti, ale místo toho jsou určena ke změně jiné hodnoty, například zdroje obrazu nebo barvy nebo stylu zobrazovaného textu.</span><span class="sxs-lookup"><span data-stu-id="28922-302">The data being used is not necessarily intended to change the text value of a property, but is instead intended to change some other value, such as the source for an image, or the color or style of the display text.</span></span> <span data-ttu-id="28922-303">Převaděče lze použít v tomto případě převedením vazby vlastnosti, která se nemusí zdát vhodné, jako je například vazba textové pole na Pozadí vlastnost buňky tabulky.</span><span class="sxs-lookup"><span data-stu-id="28922-303">Converters can be used in this instance by converting the binding of a property that might not seem to be appropriate, such as binding a text field to the Background property of a table cell.</span></span>

- <span data-ttu-id="28922-304">Více než jeden ovládací prvek nebo více vlastností ovládacích prvků jsou vázány na stejná data.</span><span class="sxs-lookup"><span data-stu-id="28922-304">More than one control or multiple properties of controls are bound to the same data.</span></span> <span data-ttu-id="28922-305">V tomto případě primární vazby může pouze zobrazit text, vzhledem k tomu, že jiné vazby zpracovat konkrétní problémy zobrazení, ale stále používat stejnou vazbu jako zdrojové informace.</span><span class="sxs-lookup"><span data-stu-id="28922-305">In this case, the primary binding might just display the text, whereas other bindings handle specific display issues but still use the same binding as source information.</span></span>

- <span data-ttu-id="28922-306">Cílová vlastnost má kolekci vazeb, která <xref:System.Windows.Data.MultiBinding>se nazývá .</span><span class="sxs-lookup"><span data-stu-id="28922-306">A target property has a collection of bindings, which is termed <xref:System.Windows.Data.MultiBinding>.</span></span> <span data-ttu-id="28922-307">Pro <xref:System.Windows.Data.MultiBinding>, můžete <xref:System.Windows.Data.IMultiValueConverter> použít vlastní k vytvoření konečné hodnoty z hodnot vazby.</span><span class="sxs-lookup"><span data-stu-id="28922-307">For <xref:System.Windows.Data.MultiBinding>, you use a custom <xref:System.Windows.Data.IMultiValueConverter> to produce a final value from the values of the bindings.</span></span> <span data-ttu-id="28922-308">Například barva může být vypočítána z červených, modrých a zelených hodnot, což mohou být hodnoty ze stejných nebo různých zdrojových objektů vazby.</span><span class="sxs-lookup"><span data-stu-id="28922-308">For example, color may be computed from red, blue, and green values, which can be values from the same or different binding source objects.</span></span> <span data-ttu-id="28922-309">Viz <xref:System.Windows.Data.MultiBinding> příklady a informace.</span><span class="sxs-lookup"><span data-stu-id="28922-309">See  <xref:System.Windows.Data.MultiBinding> for examples and information.</span></span>

## <a name="binding-to-collections"></a><span data-ttu-id="28922-310">Vazba na kolekce</span><span class="sxs-lookup"><span data-stu-id="28922-310">Binding to collections</span></span>

<span data-ttu-id="28922-311">Zdrojový objekt vazby lze považovat buď za jeden objekt, jehož vlastnosti obsahují data, nebo jako shromažďování dat polymorfních objektů, které jsou často seskupeny (například výsledek dotazu do databáze).</span><span class="sxs-lookup"><span data-stu-id="28922-311">A binding source object can be treated either as a single object whose properties contain data or as a data collection of polymorphic objects that are often grouped together (such as the result of a query to a database).</span></span> <span data-ttu-id="28922-312">Zatím jsme diskutovali pouze o vazbě na jednotlivé objekty.</span><span class="sxs-lookup"><span data-stu-id="28922-312">So far we've only discussed binding to single objects.</span></span> <span data-ttu-id="28922-313">Vazba na shromažďování dat je však běžný scénář.</span><span class="sxs-lookup"><span data-stu-id="28922-313">However, binding to a data collection is a common scenario.</span></span> <span data-ttu-id="28922-314">Běžným scénářem je například <xref:System.Windows.Controls.ItemsControl> použití <xref:System.Windows.Controls.ListBox>například <xref:System.Windows.Controls.ListView> <xref:System.Windows.Controls.TreeView> , nebo zobrazení kolekce dat, například v aplikaci zobrazené v části [Co je datová vazba.](#what-is-data-binding)</span><span class="sxs-lookup"><span data-stu-id="28922-314">For example, a common scenario is to use an <xref:System.Windows.Controls.ItemsControl> such as a <xref:System.Windows.Controls.ListBox>, <xref:System.Windows.Controls.ListView>, or <xref:System.Windows.Controls.TreeView> to display a data collection, such as in the app shown in the [What is data binding](#what-is-data-binding) section.</span></span>

<span data-ttu-id="28922-315">Naštěstí náš základní diagram stále platí.</span><span class="sxs-lookup"><span data-stu-id="28922-315">Fortunately, our basic diagram still applies.</span></span> <span data-ttu-id="28922-316">Pokud jste vazba na <xref:System.Windows.Controls.ItemsControl> kolekci, diagram vypadá takto.</span><span class="sxs-lookup"><span data-stu-id="28922-316">If you are binding an <xref:System.Windows.Controls.ItemsControl> to a collection, the diagram looks like this.</span></span>

![Diagram, který zobrazuje objekt ItemsControl datové vazby.](./media/data-binding-overview/data-binding-itemscontrol.png)

<span data-ttu-id="28922-318">Jak je znázorněno v <xref:System.Windows.Controls.ItemsControl> tomto diagramu, <xref:System.Windows.Controls.ItemsControl.ItemsSource%2A?displayProperty=nameWithType> chcete-li svázat s objektem kolekce, vlastnost je vlastnost, která má být používána.</span><span class="sxs-lookup"><span data-stu-id="28922-318">As shown in this diagram, to bind an <xref:System.Windows.Controls.ItemsControl> to a collection object, <xref:System.Windows.Controls.ItemsControl.ItemsSource%2A?displayProperty=nameWithType> property is the property to use.</span></span> <span data-ttu-id="28922-319">Můžete si `ItemsSource` myslet, jak <xref:System.Windows.Controls.ItemsControl>obsah .</span><span class="sxs-lookup"><span data-stu-id="28922-319">You can think of `ItemsSource` as the content of the <xref:System.Windows.Controls.ItemsControl>.</span></span> <span data-ttu-id="28922-320">Vazba <xref:System.Windows.Data.BindingMode.OneWay> je, `ItemsSource` protože `OneWay` vlastnost podporuje vazbu ve výchozím nastavení.</span><span class="sxs-lookup"><span data-stu-id="28922-320">The binding is <xref:System.Windows.Data.BindingMode.OneWay> because the `ItemsSource` property supports `OneWay` binding by default.</span></span>

### <a name="how-to-implement-collections"></a><span data-ttu-id="28922-321">Jak implementovat kolekce</span><span class="sxs-lookup"><span data-stu-id="28922-321">How to implement collections</span></span>

<span data-ttu-id="28922-322">Můžete výčet přes všechny kolekce, která <xref:System.Collections.IEnumerable> implementuje rozhraní.</span><span class="sxs-lookup"><span data-stu-id="28922-322">You can enumerate over any collection that implements the <xref:System.Collections.IEnumerable> interface.</span></span> <span data-ttu-id="28922-323">Chcete-li však nastavit dynamické vazby tak, aby vložení nebo odstranění v kolekci automaticky <xref:System.Collections.Specialized.INotifyCollectionChanged> aktualizovat uživatelské rozhraní, kolekce musí implementovat rozhraní.</span><span class="sxs-lookup"><span data-stu-id="28922-323">However, to set up dynamic bindings so that insertions or deletions in the collection update the UI automatically, the collection must implement the <xref:System.Collections.Specialized.INotifyCollectionChanged> interface.</span></span> <span data-ttu-id="28922-324">Toto rozhraní zveřejňuje událost, která by měla být vyvolána při každé změně podkladové kolekce.</span><span class="sxs-lookup"><span data-stu-id="28922-324">This interface exposes an event that should be raised whenever the underlying collection changes.</span></span>

<span data-ttu-id="28922-325">WPF poskytuje <xref:System.Collections.ObjectModel.ObservableCollection%601> třídu, která je vestavěnou implementací <xref:System.Collections.Specialized.INotifyCollectionChanged> kolekce dat, která zveřejňuje rozhraní.</span><span class="sxs-lookup"><span data-stu-id="28922-325">WPF provides the <xref:System.Collections.ObjectModel.ObservableCollection%601> class, which is a built-in implementation of a data collection that exposes the <xref:System.Collections.Specialized.INotifyCollectionChanged> interface.</span></span> <span data-ttu-id="28922-326">Chcete-li plně podporovat přenos datových hodnot ze zdrojových objektů na cíle, <xref:System.ComponentModel.INotifyPropertyChanged> musí každý objekt v kolekci, který podporuje vlastnosti s možností vazby, také implementovat rozhraní.</span><span class="sxs-lookup"><span data-stu-id="28922-326">To fully support transferring data values from source objects to targets, each object in your collection that supports bindable properties must also implement the <xref:System.ComponentModel.INotifyPropertyChanged> interface.</span></span> <span data-ttu-id="28922-327">Další informace naleznete v [tématu Přehled zdrojů vazby](../../framework/wpf/data/binding-sources-overview.md).</span><span class="sxs-lookup"><span data-stu-id="28922-327">For more information, see [Binding sources overview](../../framework/wpf/data/binding-sources-overview.md).</span></span>

<span data-ttu-id="28922-328">Před implementací vlastní kolekce <xref:System.Collections.ObjectModel.ObservableCollection%601> zvažte použití nebo jednu <xref:System.Collections.Generic.List%601> <xref:System.Collections.ObjectModel.Collection%601>z <xref:System.ComponentModel.BindingList%601>existujících tříd kolekce, například , , a , mezi mnoha dalšími.</span><span class="sxs-lookup"><span data-stu-id="28922-328">Before implementing your own collection, consider using <xref:System.Collections.ObjectModel.ObservableCollection%601> or one of the existing collection classes, such as <xref:System.Collections.Generic.List%601>, <xref:System.Collections.ObjectModel.Collection%601>, and <xref:System.ComponentModel.BindingList%601>, among many others.</span></span> <span data-ttu-id="28922-329">Pokud máte pokročilý scénář a chcete implementovat vlastní <xref:System.Collections.IList>kolekci, zvažte použití , který poskytuje neobecné kolekce objektů, které lze individuálně přistupovat index a tedy poskytuje nejlepší výkon.</span><span class="sxs-lookup"><span data-stu-id="28922-329">If you have an advanced scenario and want to implement your own collection, consider using <xref:System.Collections.IList>, which provides a non-generic collection of objects that can be individually accessed by the index, and thus provides the best performance.</span></span>

### <a name="collection-views"></a><span data-ttu-id="28922-330">Zobrazení kolekcí</span><span class="sxs-lookup"><span data-stu-id="28922-330">Collection views</span></span>

<span data-ttu-id="28922-331">Jakmile <xref:System.Windows.Controls.ItemsControl> je vaše svázané se shromažďováním dat, můžete data seřadit, filtrovat nebo seskupit.</span><span class="sxs-lookup"><span data-stu-id="28922-331">Once your <xref:System.Windows.Controls.ItemsControl> is bound to a data collection, you may want to sort, filter, or group the data.</span></span> <span data-ttu-id="28922-332">Chcete-li to provést, použijte zobrazení kolekce, <xref:System.ComponentModel.ICollectionView> které jsou třídy, které implementují rozhraní.</span><span class="sxs-lookup"><span data-stu-id="28922-332">To do that, you use collection views, which are classes that implement the <xref:System.ComponentModel.ICollectionView> interface.</span></span>

#### <a name="what-are-collection-views"></a><span data-ttu-id="28922-333">Co jsou zobrazení kolekce?</span><span class="sxs-lookup"><span data-stu-id="28922-333">What Are collection views?</span></span>

<span data-ttu-id="28922-334">Zobrazení kolekce je vrstva nad zdrojovou kolekcí vazby, která umožňuje procházet a zobrazovat zdrojovou kolekci na základě dotazů řazení, filtrování a skupin, aniž byste museli měnit samotnou základní zdrojovou kolekci.</span><span class="sxs-lookup"><span data-stu-id="28922-334">A collection view is a layer on top of a binding source collection that allows you to navigate and display the source collection based on sort, filter, and group queries, without having to change the underlying source collection itself.</span></span> <span data-ttu-id="28922-335">Zobrazení kolekce také udržuje ukazatel na aktuální položku v kolekci.</span><span class="sxs-lookup"><span data-stu-id="28922-335">A collection view also maintains a pointer to the current item in the collection.</span></span> <span data-ttu-id="28922-336">Pokud zdrojkolekce implementuje <xref:System.Collections.Specialized.INotifyCollectionChanged> rozhraní, změny <xref:System.Collections.Specialized.INotifyCollectionChanged.CollectionChanged> vyvolané události jsou rozšířeny do zobrazení.</span><span class="sxs-lookup"><span data-stu-id="28922-336">If the source collection implements the <xref:System.Collections.Specialized.INotifyCollectionChanged> interface, the changes raised by the <xref:System.Collections.Specialized.INotifyCollectionChanged.CollectionChanged> event are propagated to the views.</span></span>

<span data-ttu-id="28922-337">Vzhledem k tomu, že zobrazení nemění základní zdrojové kolekce, každá zdrojová kolekce může mít více zobrazení s ním spojené.</span><span class="sxs-lookup"><span data-stu-id="28922-337">Because views do not change the underlying source collections, each source collection can have multiple views associated with it.</span></span> <span data-ttu-id="28922-338">Můžete mít například *kolekci* Task objekty.</span><span class="sxs-lookup"><span data-stu-id="28922-338">For example, you may have a collection of *Task* objects.</span></span> <span data-ttu-id="28922-339">Při použití zobrazení můžete zobrazit stejná data různými způsoby.</span><span class="sxs-lookup"><span data-stu-id="28922-339">With the use of views, you can display that same data in different ways.</span></span> <span data-ttu-id="28922-340">Na levé straně stránky můžete například zobrazit úkoly seřazené podle priority a na pravé straně seskupené podle oblasti.</span><span class="sxs-lookup"><span data-stu-id="28922-340">For example, on the left side of your page you may want to show tasks sorted by priority, and on the right side, grouped by area.</span></span>

#### <a name="how-to-create-a-view"></a><span data-ttu-id="28922-341">Jak vytvořit zobrazení</span><span class="sxs-lookup"><span data-stu-id="28922-341">How to create a view</span></span>

<span data-ttu-id="28922-342">Jedním ze způsobů, jak vytvořit a použít zobrazení je konkretizovat objekt zobrazení přímo a pak jej použít jako zdroj vazby.</span><span class="sxs-lookup"><span data-stu-id="28922-342">One way to create and use a view is to instantiate the view object directly and then use it as the binding source.</span></span> <span data-ttu-id="28922-343">Zvažte například ukázkovou aplikaci [datové vazby][data-binding-demo] zobrazenou v části [Co je datová vazba.](#what-is-data-binding)</span><span class="sxs-lookup"><span data-stu-id="28922-343">For example, consider the [Data binding demo][data-binding-demo] app shown in the [What is data binding](#what-is-data-binding) section.</span></span> <span data-ttu-id="28922-344">Aplikace je implementována <xref:System.Windows.Controls.ListBox> tak, že se váže na zobrazení přes shromažďování dat namísto shromažďování dat přímo.</span><span class="sxs-lookup"><span data-stu-id="28922-344">The app is implemented such that the <xref:System.Windows.Controls.ListBox> binds to a view over the data collection instead of the data collection directly.</span></span> <span data-ttu-id="28922-345">Následující příklad je extrahován z ukázkové aplikace [datové vazby.][data-binding-demo]</span><span class="sxs-lookup"><span data-stu-id="28922-345">The following example is extracted from the [Data binding demo][data-binding-demo] app.</span></span> <span data-ttu-id="28922-346">Třída <xref:System.Windows.Data.CollectionViewSource> je proxy xaml třídy, která <xref:System.Windows.Data.CollectionView>dědí z .</span><span class="sxs-lookup"><span data-stu-id="28922-346">The <xref:System.Windows.Data.CollectionViewSource> class is the XAML proxy of a class that inherits from <xref:System.Windows.Data.CollectionView>.</span></span> <span data-ttu-id="28922-347">V tomto konkrétním <xref:System.Windows.Data.CollectionViewSource.Source%2A> příkladu zobrazení je vázána na *AuctionItems* kolekce (typu) <xref:System.Collections.ObjectModel.ObservableCollection%601>aktuální ho objektu aplikace.</span><span class="sxs-lookup"><span data-stu-id="28922-347">In this particular example, the <xref:System.Windows.Data.CollectionViewSource.Source%2A> of the view is bound to the *AuctionItems* collection (of type <xref:System.Collections.ObjectModel.ObservableCollection%601>) of the current app object.</span></span>

[!code-xaml[CollectionView](~/samples/snippets/desktop-guide/wpf/data-binding-overview/csharp/CollectionView.xaml#CollectionView)]

<span data-ttu-id="28922-348">Zdroj *výpisDataView* pak slouží jako zdroj vazby pro prvky v aplikaci, jako je například <xref:System.Windows.Controls.ListBox>.</span><span class="sxs-lookup"><span data-stu-id="28922-348">The resource *listingDataView* then serves as the binding source for elements in the app, such as the <xref:System.Windows.Controls.ListBox>.</span></span>

[!code-xaml[ListBoxCollectionView](~/samples/snippets/desktop-guide/wpf/data-binding-overview/csharp/CollectionView.xaml#ListBoxCollectionView)]

<span data-ttu-id="28922-349">Chcete-li vytvořit jiné zobrazení pro stejnou <xref:System.Windows.Data.CollectionViewSource> kolekci, můžete `x:Key` vytvořit jinou instanci a dát jí jiný název.</span><span class="sxs-lookup"><span data-stu-id="28922-349">To create another view for the same collection, you can create another <xref:System.Windows.Data.CollectionViewSource> instance and give it a different `x:Key` name.</span></span>

<span data-ttu-id="28922-350">V následující tabulce je uvedeno, jaké datové typy <xref:System.Windows.Data.CollectionViewSource> zobrazení jsou vytvořeny jako výchozí zobrazení kolekce nebo podle typu zdrojové kolekce.</span><span class="sxs-lookup"><span data-stu-id="28922-350">The following table shows what view data types are created as the default collection view or by <xref:System.Windows.Data.CollectionViewSource> based on the source collection type.</span></span>

| <span data-ttu-id="28922-351">Typ zdrojové kolekce</span><span class="sxs-lookup"><span data-stu-id="28922-351">Source collection type</span></span>                    | <span data-ttu-id="28922-352">Typ zobrazení kolekce</span><span class="sxs-lookup"><span data-stu-id="28922-352">Collection view type</span></span> | <span data-ttu-id="28922-353">Poznámky</span><span class="sxs-lookup"><span data-stu-id="28922-353">Notes</span></span> |
| ----------------------------------------- | -------------------- | ----- |
| <xref:System.Collections.IEnumerable>     | <span data-ttu-id="28922-354">Interní typ založený na<xref:System.Windows.Data.CollectionView></span><span class="sxs-lookup"><span data-stu-id="28922-354">An internal type based on <xref:System.Windows.Data.CollectionView></span></span> | <span data-ttu-id="28922-355">Položky nelze seskupit.</span><span class="sxs-lookup"><span data-stu-id="28922-355">Cannot group items.</span></span> |
| <xref:System.Collections.IList>           | <xref:System.Windows.Data.ListCollectionView> | <span data-ttu-id="28922-356">Nejrychlejší.</span><span class="sxs-lookup"><span data-stu-id="28922-356">Fastest.</span></span> |
| <xref:System.ComponentModel.IBindingList> | <xref:System.Windows.Data.BindingListCollectionView> | |

#### <a name="using-a-default-view"></a><span data-ttu-id="28922-357">Použití výchozího zobrazení</span><span class="sxs-lookup"><span data-stu-id="28922-357">Using a default view</span></span>

<span data-ttu-id="28922-358">Určení zobrazení kolekce jako zdroje vazby je jedním ze způsobů, jak vytvořit a použít zobrazení kolekce.</span><span class="sxs-lookup"><span data-stu-id="28922-358">Specifying a collection view as a binding source is one way to create and use a collection view.</span></span> <span data-ttu-id="28922-359">WPF také vytvoří výchozí zobrazení kolekce pro každou kolekci, která se používá jako zdroj vazby.</span><span class="sxs-lookup"><span data-stu-id="28922-359">WPF also creates a default collection view for every collection used as a binding source.</span></span> <span data-ttu-id="28922-360">Pokud svážete přímo na kolekci, WPF váže na jeho výchozí zobrazení.</span><span class="sxs-lookup"><span data-stu-id="28922-360">If you bind directly to a collection, WPF binds to its default view.</span></span> <span data-ttu-id="28922-361">Toto výchozí zobrazení je sdíleno všemi vazbami do stejné kolekce, takže změna provedená ve výchozím zobrazení jedním vázaným ovládacím prvkem nebo kódem (například řazení nebo změna ukazatele aktuální položky, popisovaná později) se projeví ve všech ostatních vazbách do stejné kolekce.</span><span class="sxs-lookup"><span data-stu-id="28922-361">This default view is shared by all bindings to the same collection, so a change made to a default view by one bound control or code (such as sorting or a change to the current item pointer, discussed later) is reflected in all other bindings to the same collection.</span></span>

<span data-ttu-id="28922-362">Chcete-li získat výchozí zobrazení, použijte metodu. <xref:System.Windows.Data.CollectionViewSource.GetDefaultView%2A></span><span class="sxs-lookup"><span data-stu-id="28922-362">To get the default view, you use the <xref:System.Windows.Data.CollectionViewSource.GetDefaultView%2A> method.</span></span> <span data-ttu-id="28922-363">Příklad najdete v [tématu Získání výchozího zobrazení kolekce dat](../../framework/wpf/data/how-to-get-the-default-view-of-a-data-collection.md).</span><span class="sxs-lookup"><span data-stu-id="28922-363">For an example, see [Get the default view of a data collection](../../framework/wpf/data/how-to-get-the-default-view-of-a-data-collection.md).</span></span>

#### <a name="collection-views-with-adonet-datatables"></a><span data-ttu-id="28922-364">Zobrazení kolekce s ADO.NET datatables</span><span class="sxs-lookup"><span data-stu-id="28922-364">Collection views with ADO.NET DataTables</span></span>

<span data-ttu-id="28922-365">Chcete-li zlepšit výkon, <xref:System.Data.DataTable> <xref:System.Data.DataView> zobrazení kolekce pro ADO.NET nebo <xref:System.Data.DataView>objekty delegovat řazení a filtrování na , což způsobí, že řazení a filtrování, které mají být sdíleny ve všech zobrazení kolekce zdroje dat.</span><span class="sxs-lookup"><span data-stu-id="28922-365">To improve performance, collection views for ADO.NET <xref:System.Data.DataTable> or <xref:System.Data.DataView> objects delegate sorting and filtering to the <xref:System.Data.DataView>, which causes sorting and filtering to be shared across all collection views of the data source.</span></span> <span data-ttu-id="28922-366">Chcete-li povolit každé zobrazení kolekce seřadit a filtrovat <xref:System.Data.DataView> nezávisle, inicializovat každé zobrazení kolekce s vlastním objektem.</span><span class="sxs-lookup"><span data-stu-id="28922-366">To enable each collection view to sort and filter independently, initialize each collection view with its own <xref:System.Data.DataView> object.</span></span>

#### <a name="sorting"></a><span data-ttu-id="28922-367">Řazení</span><span class="sxs-lookup"><span data-stu-id="28922-367">Sorting</span></span>

<span data-ttu-id="28922-368">Jak již bylo zmíněno dříve, zobrazení můžete použít pořadí řazení kolekce.</span><span class="sxs-lookup"><span data-stu-id="28922-368">As mentioned before, views can apply a sort order to a collection.</span></span> <span data-ttu-id="28922-369">Vzhledem k tomu, že existují v podkladové kolekci, vaše data mohou nebo nemusí mít relevantní, vlastní pořadí.</span><span class="sxs-lookup"><span data-stu-id="28922-369">As it exists in the underlying collection, your data may or may not have a relevant, inherent order.</span></span> <span data-ttu-id="28922-370">Zobrazení nad kolekcí umožňuje uložit objednávku nebo změnit výchozí pořadí na základě kritérií porovnání, která zadáte.</span><span class="sxs-lookup"><span data-stu-id="28922-370">The view over the collection allows you to impose an order, or change the default order, based on comparison criteria that you supply.</span></span> <span data-ttu-id="28922-371">Vzhledem k tomu, že se jedná o zobrazení dat založené na klientovi, běžným scénářem je, že uživatel může chtít třídit sloupce tabulkových dat podle hodnoty, které sloupec odpovídá.</span><span class="sxs-lookup"><span data-stu-id="28922-371">Because it is a client-based view of the data, a common scenario is that the user might want to sort columns of tabular data per the value that the column corresponds to.</span></span> <span data-ttu-id="28922-372">Pomocí zobrazení lze použít toto uživatelem řízené řazení, znovu bez provedení jakýchkoli změn v podkladové kolekci nebo dokonce nutnosti opětovného dotazu na obsah kolekce.</span><span class="sxs-lookup"><span data-stu-id="28922-372">Using views, this user-driven sort can be applied, again without making any changes to the underlying collection or even having to requery for the collection content.</span></span> <span data-ttu-id="28922-373">Příklad najdete v [tématu Seřazení sloupce GridView po klepnutí na záhlaví](../../framework/wpf/controls/how-to-sort-a-gridview-column-when-a-header-is-clicked.md).</span><span class="sxs-lookup"><span data-stu-id="28922-373">For an example, see [Sort a GridView column when a header is clicked](../../framework/wpf/controls/how-to-sort-a-gridview-column-when-a-header-is-clicked.md).</span></span>

<span data-ttu-id="28922-374">Následující příklad ukazuje logiku řazení "Seřadit podle <xref:System.Windows.Controls.CheckBox> kategorie a data" [What is data binding](#what-is-data-binding) uj.</span><span class="sxs-lookup"><span data-stu-id="28922-374">The following example shows the sorting logic of the "Sort by category and date" <xref:System.Windows.Controls.CheckBox> of the app UI in the [What is data binding](#what-is-data-binding) section.</span></span>

[!code-csharp[AddSortChecked](~/samples/snippets/desktop-guide/wpf/data-binding-overview/csharp/CollectionView.xaml.cs#AddSortChecked)]
[!code-vb[AddSortChecked](~/samples/snippets/desktop-guide/wpf/data-binding-overview/vb/CollectionView.xaml.vb#AddSortChecked)]

#### <a name="filtering"></a><span data-ttu-id="28922-375">Filtrování</span><span class="sxs-lookup"><span data-stu-id="28922-375">Filtering</span></span>

<span data-ttu-id="28922-376">Zobrazení můžete také použít filtr pro kolekci tak, aby zobrazení zobrazuje pouze určitou podmnožinu celé kolekce.</span><span class="sxs-lookup"><span data-stu-id="28922-376">Views can also apply a filter to a collection, so that the view shows only a certain subset of the full collection.</span></span> <span data-ttu-id="28922-377">Můžete filtrovat podle podmínky v datech.</span><span class="sxs-lookup"><span data-stu-id="28922-377">You might filter on a condition in the data.</span></span> <span data-ttu-id="28922-378">Například, jak to dělá aplikace v části [Co je datová vazba,](#what-is-data-binding) "Zobrazit pouze výhodné ceny" <xref:System.Windows.Controls.CheckBox> obsahuje logiku pro odfiltrování položek, které stojí $ 25 nebo více.</span><span class="sxs-lookup"><span data-stu-id="28922-378">For instance, as is done by the app in the [What is data binding](#what-is-data-binding) section, the "Show only bargains" <xref:System.Windows.Controls.CheckBox> contains logic to filter out items that cost $25 or more.</span></span> <span data-ttu-id="28922-379">Následující kód je spuštěn nastavit *ShowOnlyBargainsFilter* jako obslužnou rutinu <xref:System.Windows.Data.CollectionViewSource.Filter> události, <xref:System.Windows.Controls.CheckBox> když je vybrána.</span><span class="sxs-lookup"><span data-stu-id="28922-379">The following code is executed to set *ShowOnlyBargainsFilter* as the <xref:System.Windows.Data.CollectionViewSource.Filter> event handler when that <xref:System.Windows.Controls.CheckBox> is selected.</span></span>

[!code-csharp[ListingViewFilter](~/samples/snippets/desktop-guide/wpf/data-binding-overview/csharp/CollectionView.xaml.cs#ListingViewFilter)]
[!code-vb[ListingViewFilter](~/samples/snippets/desktop-guide/wpf/data-binding-overview/vb/CollectionView.xaml.vb#ListingViewFilter)]

<span data-ttu-id="28922-380">Obslužná rutina události *ShowOnlyBargainsFilter* má následující implementaci.</span><span class="sxs-lookup"><span data-stu-id="28922-380">The *ShowOnlyBargainsFilter* event handler has the following implementation.</span></span>

[!code-csharp[FilterEvent](~/samples/snippets/desktop-guide/wpf/data-binding-overview/csharp/CollectionView.xaml.cs#FilterEvent)]
[!code-vb[FilterEvent](~/samples/snippets/desktop-guide/wpf/data-binding-overview/vb/CollectionView.xaml.vb#FilterEvent)]

<span data-ttu-id="28922-381">Pokud používáte jednu <xref:System.Windows.Data.CollectionView> z tříd <xref:System.Windows.Data.CollectionViewSource>přímo místo <xref:System.Windows.Data.CollectionView.Filter%2A> , byste použít vlastnost k určení zpětného volání.</span><span class="sxs-lookup"><span data-stu-id="28922-381">If you are using one of the <xref:System.Windows.Data.CollectionView> classes directly instead of <xref:System.Windows.Data.CollectionViewSource>, you would use the <xref:System.Windows.Data.CollectionView.Filter%2A> property to specify a callback.</span></span> <span data-ttu-id="28922-382">Příklad najdete v tématu [Filtrování dat v zobrazení](../../framework/wpf/data/how-to-filter-data-in-a-view.md).</span><span class="sxs-lookup"><span data-stu-id="28922-382">For an example, see [Filter Data in a View](../../framework/wpf/data/how-to-filter-data-in-a-view.md).</span></span>

#### <a name="grouping"></a><span data-ttu-id="28922-383">Seskupování</span><span class="sxs-lookup"><span data-stu-id="28922-383">Grouping</span></span>

<span data-ttu-id="28922-384">S výjimkou vnitřní třídy, která zobrazí <xref:System.Collections.IEnumerable> kolekci, všechna zobrazení kolekce podporují *seskupení*, což umožňuje uživateli rozdělit kolekci v zobrazení kolekce do logických skupin.</span><span class="sxs-lookup"><span data-stu-id="28922-384">Except for the internal class that views an <xref:System.Collections.IEnumerable> collection, all collection views support *grouping*, which allows the user to partition the collection in the collection view into logical groups.</span></span> <span data-ttu-id="28922-385">Skupiny mohou být explicitní, kde uživatel poskytuje seznam skupin nebo implicitní, kde jsou skupiny generovány dynamicky v závislosti na datech.</span><span class="sxs-lookup"><span data-stu-id="28922-385">The groups can be explicit, where the user supplies a list of groups, or implicit, where the groups are generated dynamically depending on the data.</span></span>

<span data-ttu-id="28922-386">Následující příklad ukazuje logiku "Seskupit podle kategorie" <xref:System.Windows.Controls.CheckBox>.</span><span class="sxs-lookup"><span data-stu-id="28922-386">The following example shows the logic of the "Group by category" <xref:System.Windows.Controls.CheckBox>.</span></span>

[!code-csharp[ListingGroupCheck](~/samples/snippets/desktop-guide/wpf/data-binding-overview/csharp/CollectionView.xaml.cs#ListingGroupCheck)]
[!code-vb[ListingGroupCheck](~/samples/snippets/desktop-guide/wpf/data-binding-overview/vb/CollectionView.xaml.vb#ListingGroupCheck)]

<span data-ttu-id="28922-387">Další příklad seskupení naleznete [v tématu Položky skupiny v ListView, který implementuje GridView](../../framework/wpf/controls/how-to-group-items-in-a-listview-that-implements-a-gridview.md).</span><span class="sxs-lookup"><span data-stu-id="28922-387">For another grouping example, see [Group Items in a ListView That Implements a GridView](../../framework/wpf/controls/how-to-group-items-in-a-listview-that-implements-a-gridview.md).</span></span>

#### <a name="current-item-pointers"></a><span data-ttu-id="28922-388">Ukazatele aktuální položky</span><span class="sxs-lookup"><span data-stu-id="28922-388">Current item pointers</span></span>

<span data-ttu-id="28922-389">Zobrazení také podporují pojem aktuální položky.</span><span class="sxs-lookup"><span data-stu-id="28922-389">Views also support the notion of a current item.</span></span> <span data-ttu-id="28922-390">Můžete procházet objekty v zobrazení kolekce.</span><span class="sxs-lookup"><span data-stu-id="28922-390">You can navigate through the objects in a collection view.</span></span> <span data-ttu-id="28922-391">Při navigaci přesouváte ukazatel položky, který umožňuje načíst objekt, který existuje v tomto konkrétním umístění v kolekci.</span><span class="sxs-lookup"><span data-stu-id="28922-391">As you navigate, you are moving an item pointer that allows you to retrieve the object that exists at that particular location in the collection.</span></span> <span data-ttu-id="28922-392">Příklad naleznete v [tématu Procházení objektů v zobrazení collectionview dat](../../framework/wpf/data/how-to-navigate-through-the-objects-in-a-data-collectionview.md).</span><span class="sxs-lookup"><span data-stu-id="28922-392">For an example, see [Navigate through the objects in a data CollectionView](../../framework/wpf/data/how-to-navigate-through-the-objects-in-a-data-collectionview.md).</span></span>

<span data-ttu-id="28922-393">Vzhledem k tomu, že WPF váže na kolekci pouze pomocí zobrazení (buď zobrazení, které zadáte, nebo výchozí zobrazení kolekce), všechny vazby do kolekcí mají ukazatel aktuální položky.</span><span class="sxs-lookup"><span data-stu-id="28922-393">Because WPF binds to a collection only by using a view (either a view you specify, or the collection's default view), all bindings to collections have a current item pointer.</span></span> <span data-ttu-id="28922-394">Při vazbě na zobrazení znak lomítka `Path` ("/") v hodnotě označuje aktuální položku zobrazení.</span><span class="sxs-lookup"><span data-stu-id="28922-394">When binding to a view, the slash ("/") character in a `Path` value designates the current item of the view.</span></span> <span data-ttu-id="28922-395">V následujícím příkladu je kontext dat zobrazení kolekce.</span><span class="sxs-lookup"><span data-stu-id="28922-395">In the following example, the data context is a collection view.</span></span> <span data-ttu-id="28922-396">První řádek se váže na kolekci.</span><span class="sxs-lookup"><span data-stu-id="28922-396">The first line binds to the collection.</span></span> <span data-ttu-id="28922-397">Druhý řádek se váže na aktuální položku v kolekci.</span><span class="sxs-lookup"><span data-stu-id="28922-397">The second line binds to the current item in the collection.</span></span> <span data-ttu-id="28922-398">Třetí řádek se váže `Description` na vlastnost aktuální položky v kolekci.</span><span class="sxs-lookup"><span data-stu-id="28922-398">The third line binds to the `Description` property of the current item in the collection.</span></span>

```xaml
<Button Content="{Binding }" />
<Button Content="{Binding Path=/}" />
<Button Content="{Binding Path=/Description}" />
```

<span data-ttu-id="28922-399">Syntaxe lomítka a vlastnosti lze také stohovat k procházení hierarchie kolekcí.</span><span class="sxs-lookup"><span data-stu-id="28922-399">The slash and property syntax can also be stacked to traverse a hierarchy of collections.</span></span> <span data-ttu-id="28922-400">Následující příklad se váže na aktuální položku kolekce s názvem `Offices`, což je vlastnost aktuální položky zdrojové kolekce.</span><span class="sxs-lookup"><span data-stu-id="28922-400">The following example binds to the current item of a collection named `Offices`, which is a property of the current item of the source collection.</span></span>

```xaml
<Button Content="{Binding /Offices/}" />
```

<span data-ttu-id="28922-401">Aktuální položka ukazatel může být ovlivněna řazení nebo filtrování, která je použita pro kolekci.</span><span class="sxs-lookup"><span data-stu-id="28922-401">The current item pointer can be affected by any sorting or filtering that is applied to the collection.</span></span> <span data-ttu-id="28922-402">Řazení zachová ukazatel aktuální položky na poslední vybrané položce, ale zobrazení kolekce je nyní restrukturalizováno kolem něj.</span><span class="sxs-lookup"><span data-stu-id="28922-402">Sorting preserves the current item pointer on the last item selected, but the collection view is now restructured around it.</span></span> <span data-ttu-id="28922-403">(Možná, že vybraná položka byla na začátku seznamu dříve, ale nyní vybraná položka může být někde uprostřed.) Filtrování zachová vybranou položku, pokud tento výběr zůstane po filtrování v zobrazení.</span><span class="sxs-lookup"><span data-stu-id="28922-403">(Perhaps the selected item was at the beginning of the list before, but now the selected item might be somewhere in the middle.) Filtering preserves the selected item if that selection remains in view after the filtering.</span></span> <span data-ttu-id="28922-404">V opačném případě je ukazatel aktuální položky nastaven na první položku zobrazení filtrované kolekce.</span><span class="sxs-lookup"><span data-stu-id="28922-404">Otherwise, the current item pointer is set to the first item of the filtered collection view.</span></span>

#### <a name="master-detail-binding-scenario"></a><span data-ttu-id="28922-405">Scénář vazby hlavního detailu</span><span class="sxs-lookup"><span data-stu-id="28922-405">Master-detail binding scenario</span></span>

<span data-ttu-id="28922-406">Pojem aktuální položky je užitečné nejen pro navigaci položek v kolekci, ale také pro scénář vazby hlavní podrobnosti.</span><span class="sxs-lookup"><span data-stu-id="28922-406">The notion of a current item is useful not only for navigation of items in a collection, but also for the master-detail binding scenario.</span></span> <span data-ttu-id="28922-407">Zvažte znovu uhlavní ho v yi v aplikaci v části [Co je datová vazba.](#what-is-data-binding)</span><span class="sxs-lookup"><span data-stu-id="28922-407">Consider the app UI in the [What is data binding](#what-is-data-binding) section again.</span></span> <span data-ttu-id="28922-408">V této aplikaci výběr <xref:System.Windows.Controls.ListBox> v rámci určuje <xref:System.Windows.Controls.ContentControl>obsah zobrazený v .</span><span class="sxs-lookup"><span data-stu-id="28922-408">In that app, the selection within the <xref:System.Windows.Controls.ListBox> determines the content shown in the <xref:System.Windows.Controls.ContentControl>.</span></span> <span data-ttu-id="28922-409">Chcete-li ji umístit jiným <xref:System.Windows.Controls.ListBox> způsobem, když <xref:System.Windows.Controls.ContentControl> je položka vybrána, zobrazí se podrobnosti o vybrané položce.</span><span class="sxs-lookup"><span data-stu-id="28922-409">To put it in another way, when a <xref:System.Windows.Controls.ListBox> item is selected, the <xref:System.Windows.Controls.ContentControl> shows the details of the selected item.</span></span>

<span data-ttu-id="28922-410">Scénář hlavního podrobností můžete implementovat jednoduše tak, že dva nebo více ovládacích prvků bude vázáno na stejné zobrazení.</span><span class="sxs-lookup"><span data-stu-id="28922-410">You can implement the master-detail scenario simply by having two or more controls bound to the same view.</span></span> <span data-ttu-id="28922-411">Následující příklad z [ukázky datové vazby][data-binding-demo] <xref:System.Windows.Controls.ListBox> zobrazuje <xref:System.Windows.Controls.ContentControl> značky a zobrazí se na ui aplikace v část [Co je datová vazba.](#what-is-data-binding)</span><span class="sxs-lookup"><span data-stu-id="28922-411">The following example from the [Data binding demo][data-binding-demo] shows the markup of the <xref:System.Windows.Controls.ListBox> and the <xref:System.Windows.Controls.ContentControl> you see on the app UI in the [What is data binding](#what-is-data-binding) section.</span></span>

[!code-xaml[ListBoxContentControl](~/samples/snippets/desktop-guide/wpf/data-binding-overview/csharp/CollectionView.xaml#ListBoxContentControl)]

<span data-ttu-id="28922-412">Všimněte si, že oba ovládací prvky jsou vázány na stejný zdroj, *výpisDataView* statický prostředek (viz definice tohoto prostředku v [Jak vytvořit zobrazení části](#how-to-create-a-view)).</span><span class="sxs-lookup"><span data-stu-id="28922-412">Notice that both of the controls are bound to the same source, the *listingDataView* static resource (see the definition of this resource in the [How to create a view section](#how-to-create-a-view)).</span></span> <span data-ttu-id="28922-413">Tato vazba funguje, protože když <xref:System.Windows.Controls.ContentControl> singleton objekt (v tomto případě) je vázán <xref:System.Windows.Data.CollectionView.CurrentItem%2A> na zobrazení kolekce, automaticky váže na zobrazení.</span><span class="sxs-lookup"><span data-stu-id="28922-413">This binding works because when a singleton object (the <xref:System.Windows.Controls.ContentControl> in this case) is bound to a collection view, it automatically binds to the <xref:System.Windows.Data.CollectionView.CurrentItem%2A> of the view.</span></span> <span data-ttu-id="28922-414">Objekty <xref:System.Windows.Data.CollectionViewSource> automaticky synchronizují měnu a výběr.</span><span class="sxs-lookup"><span data-stu-id="28922-414">The <xref:System.Windows.Data.CollectionViewSource> objects automatically synchronize currency and selection.</span></span> <span data-ttu-id="28922-415">Pokud váš ovládací prvek seznamu <xref:System.Windows.Data.CollectionViewSource> není vázán na objekt jako v <xref:System.Windows.Controls.Primitives.Selector.IsSynchronizedWithCurrentItem%2A> tomto `true` příkladu, budete muset nastavit jeho vlastnost, aby to fungovalo.</span><span class="sxs-lookup"><span data-stu-id="28922-415">If your list control is not bound to a <xref:System.Windows.Data.CollectionViewSource> object as in this example, then you would need to set its <xref:System.Windows.Controls.Primitives.Selector.IsSynchronizedWithCurrentItem%2A> property to `true` for this to work.</span></span>

<span data-ttu-id="28922-416">Další příklady naleznete [v tématech Vazba na kolekci a zobrazení informací na základě výběru](../../framework/wpf/data/how-to-bind-to-a-collection-and-display-information-based-on-selection.md) a [Použití vzoru podrobností předlohy s hierarchickými daty](../../framework/wpf/data/how-to-use-the-master-detail-pattern-with-hierarchical-data.md).</span><span class="sxs-lookup"><span data-stu-id="28922-416">For other examples, see [Bind to a collection and display information based on selection](../../framework/wpf/data/how-to-bind-to-a-collection-and-display-information-based-on-selection.md) and [Use the master-detail pattern with hierarchical data](../../framework/wpf/data/how-to-use-the-master-detail-pattern-with-hierarchical-data.md).</span></span>

<span data-ttu-id="28922-417">Možná jste si všimli, že výše uvedený příklad používá šablonu.</span><span class="sxs-lookup"><span data-stu-id="28922-417">You may have noticed that the above example uses a template.</span></span> <span data-ttu-id="28922-418">Ve skutečnosti by údaje nebyly zobrazeny tak, jak bychom si přáli bez <xref:System.Windows.Controls.ContentControl> použití šablon (ten, <xref:System.Windows.Controls.ListBox>který výslovně používá a ten implicitně používaný ).</span><span class="sxs-lookup"><span data-stu-id="28922-418">In fact, the data would not be displayed the way we wish without the use of templates (the one explicitly used by the <xref:System.Windows.Controls.ContentControl> and the one implicitly used by the <xref:System.Windows.Controls.ListBox>).</span></span> <span data-ttu-id="28922-419">Nyní se obracíme na data šablonování v další části.</span><span class="sxs-lookup"><span data-stu-id="28922-419">We now turn to data templating in the next section.</span></span>

## <a name="data-templating"></a><span data-ttu-id="28922-420">Šablony dat</span><span class="sxs-lookup"><span data-stu-id="28922-420">Data templating</span></span>

<span data-ttu-id="28922-421">Bez použití šablon dat by naše uživatelské uživatelské tlačítko aplikace v části [Co je datová vazba](#what-is-data-binding) vypadat takto.</span><span class="sxs-lookup"><span data-stu-id="28922-421">Without the use of data templates, our app UI in the [What is data binding](#what-is-data-binding) section would look like the following.</span></span>

![Ukázka datové vazby bez šablon dat](./media/data-binding-overview/demo-no-template.png)

<span data-ttu-id="28922-423">Jak je znázorněno v příkladu <xref:System.Windows.Controls.ListBox> v předchozí <xref:System.Windows.Controls.ContentControl> části, ovládací prvek i jsou vázány na celý objekt kolekce (nebo konkrétněji zobrazení objektu kolekce) *AuctionItem*s.</span><span class="sxs-lookup"><span data-stu-id="28922-423">As shown in the example in the previous section, both the <xref:System.Windows.Controls.ListBox> control and the <xref:System.Windows.Controls.ContentControl> are bound to the entire collection object (or more specifically, the view over the collection object) of *AuctionItem*s.</span></span> <span data-ttu-id="28922-424">Bez konkrétní pokyny, jak zobrazit shromažďování <xref:System.Windows.Controls.ListBox> dat, zobrazí řetězec reprezentace každého objektu v podkladové kolekci a <xref:System.Windows.Controls.ContentControl> zobrazí řetězec reprezentace objektu, který je vázán.</span><span class="sxs-lookup"><span data-stu-id="28922-424">Without specific instructions of how to display the data collection, the <xref:System.Windows.Controls.ListBox> displays the string representation of each object in the underlying collection, and the <xref:System.Windows.Controls.ContentControl> displays the string representation of the object it is bound to.</span></span>

<span data-ttu-id="28922-425">Chcete-li tento problém vyřešit, aplikace definuje <xref:System.Windows.DataTemplate?text=DataTemplates>.</span><span class="sxs-lookup"><span data-stu-id="28922-425">To solve that problem, the app defines <xref:System.Windows.DataTemplate?text=DataTemplates>.</span></span> <span data-ttu-id="28922-426">Jak je znázorněno v příkladu <xref:System.Windows.Controls.ContentControl> v předchozí části, explicitně používá šablonu dat *detailsProductListingTemplate.*</span><span class="sxs-lookup"><span data-stu-id="28922-426">As shown in the example in the previous section, the <xref:System.Windows.Controls.ContentControl> explicitly uses the *detailsProductListingTemplate* data template.</span></span> <span data-ttu-id="28922-427">Ovládací <xref:System.Windows.Controls.ListBox> prvek implicitně používá následující šablonu dat při zobrazení *AuctionItem* objekty v kolekci.</span><span class="sxs-lookup"><span data-stu-id="28922-427">The <xref:System.Windows.Controls.ListBox> control implicitly uses the following data template when displaying the *AuctionItem* objects in the collection.</span></span>

[!code-xaml[AuctionItemDataTemplate](~/samples/snippets/desktop-guide/wpf/data-binding-overview/csharp/CollectionView.xaml#AuctionItemDataTemplate)]

<span data-ttu-id="28922-428">Při použití těchto dvou DataTemplates výsledné uživatelské okno je jeden je uveden v co [je datové vazby](#what-is-data-binding) části.</span><span class="sxs-lookup"><span data-stu-id="28922-428">With the use of those two DataTemplates, the resulting UI is the one shown in the [What is data binding](#what-is-data-binding) section.</span></span> <span data-ttu-id="28922-429">Jak můžete vidět z tohoto snímku obrazovky, kromě toho, že vám data umožňují umístit data do ovládacích prvků, datašablony vám umožní definovat přesvědčivé vizuály pro vaše data.</span><span class="sxs-lookup"><span data-stu-id="28922-429">As you can see from that screenshot, in addition to letting you place data in your controls, DataTemplates allow you to define compelling visuals for your data.</span></span> <span data-ttu-id="28922-430">Například <xref:System.Windows.DataTrigger>s se používají <xref:System.Windows.DataTemplate> ve výše tak, aby *AuctionItem*s *s SpecialFeatures* hodnota *HighLight* by být zobrazeny s oranžovou hranici a hvězdy.</span><span class="sxs-lookup"><span data-stu-id="28922-430">For example, <xref:System.Windows.DataTrigger>s are used in the above <xref:System.Windows.DataTemplate> so that *AuctionItem*s with *SpecialFeatures* value of *HighLight* would be displayed with an orange border and a star.</span></span>

<span data-ttu-id="28922-431">Další informace o šablonách dat naleznete v [přehledu šablon dat](../../framework/wpf/data/data-templating-overview.md).</span><span class="sxs-lookup"><span data-stu-id="28922-431">For more information about data templates, see the [Data templating overview](../../framework/wpf/data/data-templating-overview.md).</span></span>

## <a name="data-validation"></a><span data-ttu-id="28922-432">Ověřování dat</span><span class="sxs-lookup"><span data-stu-id="28922-432">Data validation</span></span>

<span data-ttu-id="28922-433">Většina aplikací, které berou vstup uživatele, musí mít logiku ověření, aby bylo zajištěno, že uživatel zadal očekávané informace.</span><span class="sxs-lookup"><span data-stu-id="28922-433">Most app that take user input need to have validation logic to ensure that the user has entered the expected information.</span></span> <span data-ttu-id="28922-434">Kontroly ověření mohou být založeny na typu, rozsahu, formátu nebo jiných požadavcích specifických pro aplikaci.</span><span class="sxs-lookup"><span data-stu-id="28922-434">The validation checks can be based on type, range, format, or other app-specific requirements.</span></span> <span data-ttu-id="28922-435">Tato část popisuje, jak funguje ověření dat v WPF.</span><span class="sxs-lookup"><span data-stu-id="28922-435">This section discusses how data validation works in WPF.</span></span>

### <a name="associating-validation-rules-with-a-binding"></a><span data-ttu-id="28922-436">Sladění ověřovacích pravidel s vazbou</span><span class="sxs-lookup"><span data-stu-id="28922-436">Associating validation rules with a binding</span></span>

<span data-ttu-id="28922-437">Model datové vazby WPF <xref:System.Windows.Data.Binding.ValidationRules%2A> umožňuje <xref:System.Windows.Data.Binding> přidružit k objektu.</span><span class="sxs-lookup"><span data-stu-id="28922-437">The WPF data binding model allows you to associate <xref:System.Windows.Data.Binding.ValidationRules%2A> with your <xref:System.Windows.Data.Binding> object.</span></span> <span data-ttu-id="28922-438">Například následující příklad váže <xref:System.Windows.Controls.TextBox> a na `StartPrice` vlastnost s <xref:System.Windows.Controls.ExceptionValidationRule> názvem <xref:System.Windows.Data.Binding.ValidationRules%2A?displayProperty=nameWithType> a přidá objekt vlastnost.</span><span class="sxs-lookup"><span data-stu-id="28922-438">For example, the following example binds a <xref:System.Windows.Controls.TextBox> to a property named `StartPrice` and adds a <xref:System.Windows.Controls.ExceptionValidationRule> object to the <xref:System.Windows.Data.Binding.ValidationRules%2A?displayProperty=nameWithType> property.</span></span>

[!code-xaml[TextboxStartPrice](~/samples/snippets/desktop-guide/wpf/data-binding-overview/csharp/DataValidation.xaml#TextboxStartPrice)]

<span data-ttu-id="28922-439">Objekt <xref:System.Windows.Controls.ValidationRule> zkontroluje, zda je hodnota vlastnosti platná.</span><span class="sxs-lookup"><span data-stu-id="28922-439">A <xref:System.Windows.Controls.ValidationRule> object checks whether the value of a property is valid.</span></span> <span data-ttu-id="28922-440">WPF má dva typy <xref:System.Windows.Controls.ValidationRule> předdefinovaných objektů:</span><span class="sxs-lookup"><span data-stu-id="28922-440">WPF has two types of built-in <xref:System.Windows.Controls.ValidationRule> objects:</span></span>

- <span data-ttu-id="28922-441">A <xref:System.Windows.Controls.ExceptionValidationRule> kontroly výjimky vyvolány během aktualizace vlastnosti zdroje vazby.</span><span class="sxs-lookup"><span data-stu-id="28922-441">A <xref:System.Windows.Controls.ExceptionValidationRule> checks for exceptions thrown during the update of the binding source property.</span></span> <span data-ttu-id="28922-442">V předchozím příkladu `StartPrice` je typ celé číslo.</span><span class="sxs-lookup"><span data-stu-id="28922-442">In the previous example, `StartPrice` is of type integer.</span></span> <span data-ttu-id="28922-443">Když uživatel zadá hodnotu, kterou nelze převést na celé číslo, je vyvolána výjimka, což způsobí, že vazba bude označena jako neplatná.</span><span class="sxs-lookup"><span data-stu-id="28922-443">When the user enters a value that cannot be converted to an integer, an exception is thrown, causing the binding to be marked as invalid.</span></span> <span data-ttu-id="28922-444">Alternativní syntaxe k <xref:System.Windows.Controls.ExceptionValidationRule> nastavení explicitně <xref:System.Windows.Data.Binding.ValidatesOnExceptions%2A> je `true` nastavení <xref:System.Windows.Data.Binding> <xref:System.Windows.Data.MultiBinding> vlastnosti na váš nebo objekt.</span><span class="sxs-lookup"><span data-stu-id="28922-444">An alternative syntax to setting the <xref:System.Windows.Controls.ExceptionValidationRule> explicitly is to set the <xref:System.Windows.Data.Binding.ValidatesOnExceptions%2A> property to `true` on your <xref:System.Windows.Data.Binding> or <xref:System.Windows.Data.MultiBinding> object.</span></span>

- <span data-ttu-id="28922-445">Objekt <xref:System.Windows.Controls.DataErrorValidationRule> kontroluje chyby, které jsou vyvolány objekty, které implementují <xref:System.ComponentModel.IDataErrorInfo> rozhraní.</span><span class="sxs-lookup"><span data-stu-id="28922-445">A <xref:System.Windows.Controls.DataErrorValidationRule> object checks for errors that are raised by objects that implement the <xref:System.ComponentModel.IDataErrorInfo> interface.</span></span> <span data-ttu-id="28922-446">Příklad použití tohoto ověřovacího pravidla <xref:System.Windows.Controls.DataErrorValidationRule>naleznete v tématu .</span><span class="sxs-lookup"><span data-stu-id="28922-446">For an example of using this validation rule, see <xref:System.Windows.Controls.DataErrorValidationRule>.</span></span> <span data-ttu-id="28922-447">Alternativní syntaxe k <xref:System.Windows.Controls.DataErrorValidationRule> nastavení explicitně <xref:System.Windows.Data.Binding.ValidatesOnDataErrors%2A> je `true` nastavení <xref:System.Windows.Data.Binding> <xref:System.Windows.Data.MultiBinding> vlastnosti na váš nebo objekt.</span><span class="sxs-lookup"><span data-stu-id="28922-447">An alternative syntax to setting the <xref:System.Windows.Controls.DataErrorValidationRule> explicitly is to set the <xref:System.Windows.Data.Binding.ValidatesOnDataErrors%2A> property to `true` on your <xref:System.Windows.Data.Binding> or <xref:System.Windows.Data.MultiBinding> object.</span></span>

<span data-ttu-id="28922-448">Můžete také vytvořit vlastní ověřovací pravidlo odvozením <xref:System.Windows.Controls.ValidationRule> z třídy <xref:System.Windows.Controls.ValidationRule.Validate%2A> a implementací metody.</span><span class="sxs-lookup"><span data-stu-id="28922-448">You can also create your own validation rule by deriving from the <xref:System.Windows.Controls.ValidationRule> class and implementing the <xref:System.Windows.Controls.ValidationRule.Validate%2A> method.</span></span> <span data-ttu-id="28922-449">Následující příklad ukazuje pravidlo používané v části Přidání <xref:System.Windows.Controls.TextBox> seznamu *produktů* "Datum zahájení" z části Co je [datová vazba.](#what-is-data-binding)</span><span class="sxs-lookup"><span data-stu-id="28922-449">The following example shows the rule used by the *Add Product Listing* "Start Date" <xref:System.Windows.Controls.TextBox> from the [What is data binding](#what-is-data-binding) section.</span></span>

[!code-csharp[FutureDateRule](~/samples/snippets/desktop-guide/wpf/data-binding-overview/csharp/FutureDateRule.cs#FutureDateRule)]
[!code-vb[FutureDateRule](~/samples/snippets/desktop-guide/wpf/data-binding-overview/vb/FutureDateRule.vb#FutureDateRule)]

<span data-ttu-id="28922-450">*Funkce StartDateEntryForm* <xref:System.Windows.Controls.TextBox> používá toto *pravidlo FutureDateRule*, jak je znázorněno v následujícím příkladu.</span><span class="sxs-lookup"><span data-stu-id="28922-450">The *StartDateEntryForm* <xref:System.Windows.Controls.TextBox> uses this *FutureDateRule*, as shown in the following example.</span></span>

[!code-xaml[TextboxStartDate](~/samples/snippets/desktop-guide/wpf/data-binding-overview/csharp/DataValidation.xaml#TextboxStartDate)]

<span data-ttu-id="28922-451">Vzhledem <xref:System.Windows.Data.Binding.UpdateSourceTrigger%2A> k <xref:System.Windows.Data.UpdateSourceTrigger.PropertyChanged>tomu, že hodnota je , modul vazby aktualizuje zdrojovou <xref:System.Windows.Data.Binding.ValidationRules%2A> hodnotu na každém stisknutí klávesy, což znamená, že také kontroluje každé pravidlo v kolekci na každém stisknutí klávesy.</span><span class="sxs-lookup"><span data-stu-id="28922-451">Because the <xref:System.Windows.Data.Binding.UpdateSourceTrigger%2A> value is <xref:System.Windows.Data.UpdateSourceTrigger.PropertyChanged>, the binding engine updates the source value on every keystroke, which means it also checks every rule in the <xref:System.Windows.Data.Binding.ValidationRules%2A> collection on every keystroke.</span></span> <span data-ttu-id="28922-452">Dále o tom diskutujeme v části Proces ověření.</span><span class="sxs-lookup"><span data-stu-id="28922-452">We discuss this further in the Validation Process section.</span></span>

### <a name="providing-visual-feedback"></a><span data-ttu-id="28922-453">Poskytování vizuální zpětné vazby</span><span class="sxs-lookup"><span data-stu-id="28922-453">Providing visual feedback</span></span>

<span data-ttu-id="28922-454">Pokud uživatel zadá neplatnou hodnotu, můžete poskytnout nějakou zpětnou vazbu o chybě v uživatelském rozhraní aplikace.</span><span class="sxs-lookup"><span data-stu-id="28922-454">If the user enters an invalid value, you may want to provide some feedback about the error on the app UI.</span></span> <span data-ttu-id="28922-455">Jedním ze způsobů, jak poskytnout <xref:System.Windows.Controls.Validation.ErrorTemplate%2A?displayProperty=nameWithType> takovou zpětnou <xref:System.Windows.Controls.ControlTemplate>vazbu, je nastavit připojenou vlastnost na vlastní .</span><span class="sxs-lookup"><span data-stu-id="28922-455">One way to provide such feedback is to set the <xref:System.Windows.Controls.Validation.ErrorTemplate%2A?displayProperty=nameWithType> attached property to a custom <xref:System.Windows.Controls.ControlTemplate>.</span></span> <span data-ttu-id="28922-456">Jak je znázorněno v předchozí podčásti, <xref:System.Windows.Controls.Validation.ErrorTemplate%2A> *StartDateEntryForm* <xref:System.Windows.Controls.TextBox> používá nazvaný *validationTemplate*.</span><span class="sxs-lookup"><span data-stu-id="28922-456">As shown in the previous subsection, the *StartDateEntryForm* <xref:System.Windows.Controls.TextBox> uses an <xref:System.Windows.Controls.Validation.ErrorTemplate%2A> called *validationTemplate*.</span></span> <span data-ttu-id="28922-457">Následující příklad ukazuje definici *validationTemplate*.</span><span class="sxs-lookup"><span data-stu-id="28922-457">The following example shows the definition of *validationTemplate*.</span></span>

[!code-xaml[ControlTemplate](~/samples/snippets/desktop-guide/wpf/data-binding-overview/csharp/DataValidation.xaml#ControlTemplate)]

<span data-ttu-id="28922-458">Prvek <xref:System.Windows.Controls.AdornedElementPlaceholder> určuje, kde by měl být umístěn ovládací prvek, který je adorned umístěn.</span><span class="sxs-lookup"><span data-stu-id="28922-458">The <xref:System.Windows.Controls.AdornedElementPlaceholder> element specifies where the control being adorned should be placed.</span></span>

<span data-ttu-id="28922-459">Kromě toho můžete také <xref:System.Windows.Controls.ToolTip> použít k zobrazení chybové zprávy.</span><span class="sxs-lookup"><span data-stu-id="28922-459">In addition, you may also use a <xref:System.Windows.Controls.ToolTip> to display the error message.</span></span> <span data-ttu-id="28922-460">Oba *StartDateEntryForm* a *StartPriceEntryForm*<xref:System.Windows.Controls.TextBox>es použít styl *textStyleTextBox*, který vytvoří, který zobrazí chybovou <xref:System.Windows.Controls.ToolTip> zprávu.</span><span class="sxs-lookup"><span data-stu-id="28922-460">Both the *StartDateEntryForm* and the *StartPriceEntryForm*<xref:System.Windows.Controls.TextBox>es use the style *textStyleTextBox*, which creates a <xref:System.Windows.Controls.ToolTip> that displays the error message.</span></span> <span data-ttu-id="28922-461">Následující příklad ukazuje definici *textStyleTextBox*.</span><span class="sxs-lookup"><span data-stu-id="28922-461">The following example shows the definition of *textStyleTextBox*.</span></span> <span data-ttu-id="28922-462">Připojené vlastnosti <xref:System.Windows.Controls.Validation.HasError%2A?displayProperty=nameWithType> `true` je, když jeden nebo více vazeb na vlastnosti vázaného prvku jsou v omylu.</span><span class="sxs-lookup"><span data-stu-id="28922-462">The attached property <xref:System.Windows.Controls.Validation.HasError%2A?displayProperty=nameWithType> is `true` when one or more of the bindings on the properties of the bound element are in error.</span></span>

[!code-xaml[TextBoxStyle](~/samples/snippets/desktop-guide/wpf/data-binding-overview/csharp/DataValidation.xaml#TextBoxStyle)]

<span data-ttu-id="28922-463">S vlastní <xref:System.Windows.Controls.Validation.ErrorTemplate%2A> a <xref:System.Windows.Controls.ToolTip>, *StartDateEntryForm* <xref:System.Windows.Controls.TextBox> vypadá takto, pokud je chyba ověření.</span><span class="sxs-lookup"><span data-stu-id="28922-463">With the custom <xref:System.Windows.Controls.Validation.ErrorTemplate%2A> and the <xref:System.Windows.Controls.ToolTip>, the *StartDateEntryForm* <xref:System.Windows.Controls.TextBox> looks like the following when there is a validation error.</span></span>

<span data-ttu-id="28922-464">![Chyba ověření datové vazby](./media/data-binding-overview/demo-validation-date.png "DataBindingDemo_Validation")</span><span class="sxs-lookup"><span data-stu-id="28922-464">![Data binding validation error](./media/data-binding-overview/demo-validation-date.png "DataBindingDemo_Validation")</span></span>

<span data-ttu-id="28922-465">Pokud <xref:System.Windows.Data.Binding> má přidružená ověřovací pravidla, <xref:System.Windows.Controls.Validation.ErrorTemplate%2A> ale nezadáte na <xref:System.Windows.Controls.Validation.ErrorTemplate%2A> vázané ovládací prvek, bude výchozí použít upozornit uživatele, pokud dojde k chybě ověření.</span><span class="sxs-lookup"><span data-stu-id="28922-465">If your <xref:System.Windows.Data.Binding> has associated validation rules but you do not specify an <xref:System.Windows.Controls.Validation.ErrorTemplate%2A> on the bound control, a default <xref:System.Windows.Controls.Validation.ErrorTemplate%2A> will be used to notify users when there is a validation error.</span></span> <span data-ttu-id="28922-466">Výchozí <xref:System.Windows.Controls.Validation.ErrorTemplate%2A> je šablona ovládacího prvku, která definuje červené ohraničení ve vrstvě adorner.</span><span class="sxs-lookup"><span data-stu-id="28922-466">The default <xref:System.Windows.Controls.Validation.ErrorTemplate%2A> is a control template that defines a red border in the adorner layer.</span></span> <span data-ttu-id="28922-467">S výchozí <xref:System.Windows.Controls.Validation.ErrorTemplate%2A> a <xref:System.Windows.Controls.ToolTip>, ui *StartPriceEntryForm* <xref:System.Windows.Controls.TextBox> vypadá takto, pokud je chyba ověření.</span><span class="sxs-lookup"><span data-stu-id="28922-467">With the default <xref:System.Windows.Controls.Validation.ErrorTemplate%2A> and the <xref:System.Windows.Controls.ToolTip>, the UI of the *StartPriceEntryForm* <xref:System.Windows.Controls.TextBox> looks like the following when there is a validation error.</span></span>

<span data-ttu-id="28922-468">![Chyba ověření datové vazby](./media/data-binding-overview/demo-validation-price.png "DataBindingDemo_ValidationDefault")</span><span class="sxs-lookup"><span data-stu-id="28922-468">![Data binding validation error](./media/data-binding-overview/demo-validation-price.png "DataBindingDemo_ValidationDefault")</span></span>

<span data-ttu-id="28922-469">Příklad, jak poskytnout logiku pro ověření všech ovládacích prvků v dialogovém okně, naleznete v části Vlastní dialogová okna v [přehledu dialogových oken](../../framework/wpf/app-development/dialog-boxes-overview.md).</span><span class="sxs-lookup"><span data-stu-id="28922-469">For an example of how to provide logic to validate all controls in a dialog box, see the Custom Dialog Boxes section in the [Dialog boxes overview](../../framework/wpf/app-development/dialog-boxes-overview.md).</span></span>

### <a name="validation-process"></a><span data-ttu-id="28922-470">Proces ověření</span><span class="sxs-lookup"><span data-stu-id="28922-470">Validation process</span></span>

<span data-ttu-id="28922-471">K ověření obvykle dochází, když je hodnota cíle přenesena na vlastnost zdroje vazby.</span><span class="sxs-lookup"><span data-stu-id="28922-471">Validation usually occurs when the value of a target is transferred to the binding source property.</span></span> <span data-ttu-id="28922-472">K tomuto <xref:System.Windows.Data.BindingMode.TwoWay> přenosu <xref:System.Windows.Data.BindingMode.OneWayToSource> dochází na a vazby.</span><span class="sxs-lookup"><span data-stu-id="28922-472">This transfer occurs on <xref:System.Windows.Data.BindingMode.TwoWay> and <xref:System.Windows.Data.BindingMode.OneWayToSource> bindings.</span></span> <span data-ttu-id="28922-473">Chcete-li zopakovat, co způsobí, že <xref:System.Windows.Data.Binding.UpdateSourceTrigger%2A> zdrojová aktualizace závisí na hodnotě vlastnosti, jak je popsáno v části [Co aktivuje zdrojové aktualizace.](#what-triggers-source-updates)</span><span class="sxs-lookup"><span data-stu-id="28922-473">To reiterate, what causes a source update depends on the value of the <xref:System.Windows.Data.Binding.UpdateSourceTrigger%2A> property, as described in the [What triggers source updates](#what-triggers-source-updates) section.</span></span>

<span data-ttu-id="28922-474">Následující položky popisují proces *ověření.*</span><span class="sxs-lookup"><span data-stu-id="28922-474">The following items describe the *validation* process.</span></span> <span data-ttu-id="28922-475">Pokud dojde k chybě ověření nebo jinému typu chyby kdykoli během tohoto procesu, proces se zastaví:</span><span class="sxs-lookup"><span data-stu-id="28922-475">If a validation error or other type of error occurs at any time during this process, the process is halted:</span></span>

1. <span data-ttu-id="28922-476">Modul vazby zkontroluje, <xref:System.Windows.Controls.ValidationRule> zda existují <xref:System.Windows.Controls.ValidationRule.ValidationStep%2A> nějaké <xref:System.Windows.Controls.ValidationStep.RawProposedValue> vlastní <xref:System.Windows.Data.Binding>objekty definované, jejichž <xref:System.Windows.Controls.ValidationRule.Validate%2A> je <xref:System.Windows.Controls.ValidationRule> nastavena na pro to , v takovém případě volá metodu na každém z nich, dokud jeden z nich narazí na chybu nebo dokud všechny z nich projít.</span><span class="sxs-lookup"><span data-stu-id="28922-476">The binding engine checks if there are any custom <xref:System.Windows.Controls.ValidationRule> objects defined whose <xref:System.Windows.Controls.ValidationRule.ValidationStep%2A> is set to <xref:System.Windows.Controls.ValidationStep.RawProposedValue> for that <xref:System.Windows.Data.Binding>, in which case it calls the <xref:System.Windows.Controls.ValidationRule.Validate%2A> method on each <xref:System.Windows.Controls.ValidationRule> until one of them runs into an error or until all of them pass.</span></span>

2. <span data-ttu-id="28922-477">Modul vazby pak volá převaděč, pokud existuje.</span><span class="sxs-lookup"><span data-stu-id="28922-477">The binding engine then calls the converter, if one exists.</span></span>

3. <span data-ttu-id="28922-478">Pokud převaděč úspěšné, modul vazby zkontroluje, <xref:System.Windows.Controls.ValidationRule.ValidationStep%2A> zda existují <xref:System.Windows.Controls.ValidationStep.ConvertedProposedValue> všechny <xref:System.Windows.Data.Binding>vlastní <xref:System.Windows.Controls.ValidationRule> objekty definované, jejichž <xref:System.Windows.Controls.ValidationRule> je <xref:System.Windows.Controls.ValidationRule.ValidationStep%2A> nastavena na to , v takovém případě volá metodu <xref:System.Windows.Controls.ValidationStep.ConvertedProposedValue> <xref:System.Windows.Controls.ValidationRule.Validate%2A> na každý, který má nastavena, dokud jeden z nich narazí na chybu nebo dokud všechny z nich projít.</span><span class="sxs-lookup"><span data-stu-id="28922-478">If the converter succeeds, the binding engine checks if there are any custom <xref:System.Windows.Controls.ValidationRule> objects defined whose <xref:System.Windows.Controls.ValidationRule.ValidationStep%2A> is set to <xref:System.Windows.Controls.ValidationStep.ConvertedProposedValue> for that <xref:System.Windows.Data.Binding>, in which case it calls the <xref:System.Windows.Controls.ValidationRule.Validate%2A> method on each <xref:System.Windows.Controls.ValidationRule> that has <xref:System.Windows.Controls.ValidationRule.ValidationStep%2A> set to <xref:System.Windows.Controls.ValidationStep.ConvertedProposedValue> until one of them runs into an error or until all of them pass.</span></span>

4. <span data-ttu-id="28922-479">Modul vazby nastaví vlastnost source.</span><span class="sxs-lookup"><span data-stu-id="28922-479">The binding engine sets the source property.</span></span>

5. <span data-ttu-id="28922-480">Modul vazby zkontroluje, <xref:System.Windows.Controls.ValidationRule> zda existují <xref:System.Windows.Controls.ValidationRule.ValidationStep%2A> nějaké <xref:System.Windows.Controls.ValidationStep.UpdatedValue> vlastní <xref:System.Windows.Data.Binding>objekty definované, jejichž <xref:System.Windows.Controls.ValidationRule.Validate%2A> je <xref:System.Windows.Controls.ValidationRule> nastavena <xref:System.Windows.Controls.ValidationRule.ValidationStep%2A> na <xref:System.Windows.Controls.ValidationStep.UpdatedValue> pro to , v takovém případě volá metodu na každý, který má nastavena, dokud jeden z nich narazí na chybu nebo dokud všechny z nich projít.</span><span class="sxs-lookup"><span data-stu-id="28922-480">The binding engine checks if there are any custom <xref:System.Windows.Controls.ValidationRule> objects defined whose <xref:System.Windows.Controls.ValidationRule.ValidationStep%2A> is set to <xref:System.Windows.Controls.ValidationStep.UpdatedValue> for that <xref:System.Windows.Data.Binding>, in which case it calls the <xref:System.Windows.Controls.ValidationRule.Validate%2A> method on each <xref:System.Windows.Controls.ValidationRule> that has <xref:System.Windows.Controls.ValidationRule.ValidationStep%2A> set to <xref:System.Windows.Controls.ValidationStep.UpdatedValue> until one of them runs into an error or until all of them pass.</span></span> <span data-ttu-id="28922-481">Pokud <xref:System.Windows.Controls.DataErrorValidationRule> je a přidružena <xref:System.Windows.Controls.ValidationRule.ValidationStep%2A> k vazbě a <xref:System.Windows.Controls.ValidationStep.UpdatedValue>její <xref:System.Windows.Controls.DataErrorValidationRule> je nastavena na výchozí, , je kontrolována v tomto okamžiku.</span><span class="sxs-lookup"><span data-stu-id="28922-481">If a <xref:System.Windows.Controls.DataErrorValidationRule> is associated with a binding and its <xref:System.Windows.Controls.ValidationRule.ValidationStep%2A> is set to the default, <xref:System.Windows.Controls.ValidationStep.UpdatedValue>, the <xref:System.Windows.Controls.DataErrorValidationRule> is checked at this point.</span></span> <span data-ttu-id="28922-482">V tomto okamžiku je <xref:System.Windows.Data.Binding.ValidatesOnDataErrors%2A> zkontrolována jakákoli vazba, která má nastavenou. `true`</span><span class="sxs-lookup"><span data-stu-id="28922-482">At this point any binding that has the <xref:System.Windows.Data.Binding.ValidatesOnDataErrors%2A> set to `true` is checked.</span></span>

6. <span data-ttu-id="28922-483">Modul vazby zkontroluje, <xref:System.Windows.Controls.ValidationRule> zda existují <xref:System.Windows.Controls.ValidationRule.ValidationStep%2A> nějaké <xref:System.Windows.Controls.ValidationStep.CommittedValue> vlastní <xref:System.Windows.Data.Binding>objekty definované, jejichž <xref:System.Windows.Controls.ValidationRule.Validate%2A> je <xref:System.Windows.Controls.ValidationRule> nastavena <xref:System.Windows.Controls.ValidationRule.ValidationStep%2A> na <xref:System.Windows.Controls.ValidationStep.CommittedValue> pro to , v takovém případě volá metodu na každý, který má nastavena, dokud jeden z nich narazí na chybu nebo dokud všechny z nich projít.</span><span class="sxs-lookup"><span data-stu-id="28922-483">The binding engine checks if there are any custom <xref:System.Windows.Controls.ValidationRule> objects defined whose <xref:System.Windows.Controls.ValidationRule.ValidationStep%2A> is set to <xref:System.Windows.Controls.ValidationStep.CommittedValue> for that <xref:System.Windows.Data.Binding>, in which case it calls the <xref:System.Windows.Controls.ValidationRule.Validate%2A> method on each <xref:System.Windows.Controls.ValidationRule> that has <xref:System.Windows.Controls.ValidationRule.ValidationStep%2A> set to <xref:System.Windows.Controls.ValidationStep.CommittedValue> until one of them runs into an error or until all of them pass.</span></span>

<span data-ttu-id="28922-484">Pokud <xref:System.Windows.Controls.ValidationRule> a neprojde kdykoli v průběhu tohoto procesu, modul vazby vytvoří <xref:System.Windows.Controls.ValidationError> objekt a přidá jej do <xref:System.Windows.Controls.Validation.Errors%2A?displayProperty=nameWithType> kolekce vázaný prvek.</span><span class="sxs-lookup"><span data-stu-id="28922-484">If a <xref:System.Windows.Controls.ValidationRule> does not pass at any time throughout this process, the binding engine creates a <xref:System.Windows.Controls.ValidationError> object and adds it to the <xref:System.Windows.Controls.Validation.Errors%2A?displayProperty=nameWithType> collection of the bound element.</span></span> <span data-ttu-id="28922-485">Před vazby motoru <xref:System.Windows.Controls.ValidationRule> spustí objekty v daném <xref:System.Windows.Controls.ValidationError> kroku, odebere všechny, které byly přidány do <xref:System.Windows.Controls.Validation.Errors%2A?displayProperty=nameWithType> připojené vlastnosti vázaného prvku během tohoto kroku.</span><span class="sxs-lookup"><span data-stu-id="28922-485">Before the binding engine runs the <xref:System.Windows.Controls.ValidationRule> objects at any given step, it removes any <xref:System.Windows.Controls.ValidationError> that was added to the <xref:System.Windows.Controls.Validation.Errors%2A?displayProperty=nameWithType> attached property of the bound element during that step.</span></span> <span data-ttu-id="28922-486">Například pokud <xref:System.Windows.Controls.ValidationRule> <xref:System.Windows.Controls.ValidationRule.ValidationStep%2A> a, jehož je nastavena na <xref:System.Windows.Controls.ValidationStep.UpdatedValue> selhání, při příštím procesu ověření dojde, modul vazby odebere, že <xref:System.Windows.Controls.ValidationError> bezprostředně před zavolá všechny, <xref:System.Windows.Controls.ValidationRule> které má nastavena <xref:System.Windows.Controls.ValidationRule.ValidationStep%2A> na <xref:System.Windows.Controls.ValidationStep.UpdatedValue>.</span><span class="sxs-lookup"><span data-stu-id="28922-486">For example, if a <xref:System.Windows.Controls.ValidationRule> whose <xref:System.Windows.Controls.ValidationRule.ValidationStep%2A> is set to <xref:System.Windows.Controls.ValidationStep.UpdatedValue> failed, the next time the validation process occurs, the binding engine removes that <xref:System.Windows.Controls.ValidationError> immediately before it calls any <xref:System.Windows.Controls.ValidationRule> that has <xref:System.Windows.Controls.ValidationRule.ValidationStep%2A> set to <xref:System.Windows.Controls.ValidationStep.UpdatedValue>.</span></span>

<span data-ttu-id="28922-487">Pokud <xref:System.Windows.Controls.Validation.Errors%2A?displayProperty=nameWithType> není prázdný, <xref:System.Windows.Controls.Validation.HasError%2A?displayProperty=nameWithType> připojené vlastnost prvku je `true`nastavena na .</span><span class="sxs-lookup"><span data-stu-id="28922-487">When <xref:System.Windows.Controls.Validation.Errors%2A?displayProperty=nameWithType> is not empty, the <xref:System.Windows.Controls.Validation.HasError%2A?displayProperty=nameWithType> attached property of the element is set to `true`.</span></span> <span data-ttu-id="28922-488">Také pokud <xref:System.Windows.Data.Binding.NotifyOnValidationError%2A> vlastnost <xref:System.Windows.Data.Binding> je nastavena `true`na , pak <xref:System.Windows.Controls.Validation.Error?displayProperty=nameWithType> vazby motoru vyvolá připojené události na prvek.</span><span class="sxs-lookup"><span data-stu-id="28922-488">Also, if the <xref:System.Windows.Data.Binding.NotifyOnValidationError%2A> property of the <xref:System.Windows.Data.Binding> is set to `true`, then the binding engine raises the <xref:System.Windows.Controls.Validation.Error?displayProperty=nameWithType> attached event on the element.</span></span>

<span data-ttu-id="28922-489">Všimněte si také, že platný přenos hodnoty v obou směrech <xref:System.Windows.Controls.Validation.Errors%2A?displayProperty=nameWithType> (cíl na zdroj nebo zdroj na cíl) vymaže připojené vlastnosti.</span><span class="sxs-lookup"><span data-stu-id="28922-489">Also note that a valid value transfer in either direction (target to source or source to target) clears the <xref:System.Windows.Controls.Validation.Errors%2A?displayProperty=nameWithType> attached property.</span></span>

<span data-ttu-id="28922-490">Pokud vazba má <xref:System.Windows.Controls.ExceptionValidationRule> přidružené s ním <xref:System.Windows.Data.Binding.ValidatesOnExceptions%2A> nebo měl `true` vlastnost je nastavena a je vyvolána výjimka, když modul vazby <xref:System.Windows.Data.Binding.UpdateSourceExceptionFilter%2A>nastaví zdroj, modul vazby zkontroluje, zda je .</span><span class="sxs-lookup"><span data-stu-id="28922-490">If the binding either has an <xref:System.Windows.Controls.ExceptionValidationRule> associated with it, or had the <xref:System.Windows.Data.Binding.ValidatesOnExceptions%2A> property is set to `true` and an exception is thrown when the binding engine sets the source, the binding engine checks to see if there is a <xref:System.Windows.Data.Binding.UpdateSourceExceptionFilter%2A>.</span></span> <span data-ttu-id="28922-491">Máte možnost použít zpětné <xref:System.Windows.Data.Binding.UpdateSourceExceptionFilter%2A> volání poskytnout vlastní obslužnou rutinu pro zpracování výjimek.</span><span class="sxs-lookup"><span data-stu-id="28922-491">You have the option to use the <xref:System.Windows.Data.Binding.UpdateSourceExceptionFilter%2A> callback to provide a custom handler for handling exceptions.</span></span> <span data-ttu-id="28922-492">Pokud <xref:System.Windows.Data.Binding.UpdateSourceExceptionFilter%2A> není zadán na <xref:System.Windows.Data.Binding>, modul vazby vytvoří <xref:System.Windows.Controls.ValidationError> s výjimkou <xref:System.Windows.Controls.Validation.Errors%2A?displayProperty=nameWithType> a přidá ji do kolekce vázaný prvek.</span><span class="sxs-lookup"><span data-stu-id="28922-492">If an <xref:System.Windows.Data.Binding.UpdateSourceExceptionFilter%2A> is not specified on the <xref:System.Windows.Data.Binding>, the binding engine creates a <xref:System.Windows.Controls.ValidationError> with the exception and adds it to the <xref:System.Windows.Controls.Validation.Errors%2A?displayProperty=nameWithType> collection of the bound element.</span></span>

## <a name="debugging-mechanism"></a><span data-ttu-id="28922-493">Ladicí mechanismus</span><span class="sxs-lookup"><span data-stu-id="28922-493">Debugging mechanism</span></span>

<span data-ttu-id="28922-494">Můžete nastavit připojené vlastnosti <xref:System.Diagnostics.PresentationTraceSources.TraceLevel%2A?displayProperty=nameWithType> na objekt související s vazbou přijímat informace o stavu konkrétní vazby.</span><span class="sxs-lookup"><span data-stu-id="28922-494">You can set the attached property <xref:System.Diagnostics.PresentationTraceSources.TraceLevel%2A?displayProperty=nameWithType> on a binding-related object to receive information about the status of a specific binding.</span></span>

## <a name="see-also"></a><span data-ttu-id="28922-495">Viz také</span><span class="sxs-lookup"><span data-stu-id="28922-495">See also</span></span>

- <xref:System.Windows.Controls.DataErrorValidationRule>
- [<span data-ttu-id="28922-496">Vazba na výsledky dotazu LINQ</span><span class="sxs-lookup"><span data-stu-id="28922-496">Bind to the results of a LINQ query</span></span>](../../framework/wpf/data/how-to-bind-to-the-results-of-a-linq-query.md)
- [<span data-ttu-id="28922-497">Datová vazba</span><span class="sxs-lookup"><span data-stu-id="28922-497">Data binding</span></span>](../../framework/wpf/advanced/optimizing-performance-data-binding.md)
- <span data-ttu-id="28922-498">[Ukázka datové vazby][data-binding-demo]</span><span class="sxs-lookup"><span data-stu-id="28922-498">[Data binding demo][data-binding-demo]</span></span>
- [<span data-ttu-id="28922-499">Články s postupy</span><span class="sxs-lookup"><span data-stu-id="28922-499">How-to articles</span></span>](../../framework/wpf/data/data-binding-how-to-topics.md)
- [<span data-ttu-id="28922-500">Vytvoření vazby ke zdroji dat ADO.NET</span><span class="sxs-lookup"><span data-stu-id="28922-500">Bind to an ADO.NET data source</span></span>](../../framework/wpf/data/how-to-bind-to-an-ado-net-data-source.md)

[data-binding-demo]: https://github.com/microsoft/WPF-Samples/tree/master/Sample%20Applications/DataBindingDemo "ukázková aplikace datové vazby"
