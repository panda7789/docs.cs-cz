---
title: Důležité informace o zabezpečení pro jazyk XAML
ms.date: 03/30/2017
helpviewer_keywords:
- security [XAML Services], .NET XAML services
- XAML security [XAML Services]
ms.assetid: 544296d4-f38e-4498-af49-c9f4dad28964
ms.openlocfilehash: 1864910b339c74e3033fb4d6d8baebffada1a4f8
ms.sourcegitcommit: c2d9718996402993cf31541f11e95531bc68bad0
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 02/27/2020
ms.locfileid: "82071687"
---
# <a name="xaml-security-considerations"></a><span data-ttu-id="a43f3-102">Důležité informace o zabezpečení XAML</span><span class="sxs-lookup"><span data-stu-id="a43f3-102">XAML security considerations</span></span>

<span data-ttu-id="a43f3-103">Tento článek popisuje osvědčené postupy pro zabezpečení v aplikacích při použití rozhraní XAML a .NET XAML Services API.</span><span class="sxs-lookup"><span data-stu-id="a43f3-103">This article describes best practices for security in applications when you use XAML and .NET XAML Services API.</span></span>

## <a name="untrusted-xaml-in-applications"></a><span data-ttu-id="a43f3-104">Nedůvěryhodný XAML v aplikacích</span><span class="sxs-lookup"><span data-stu-id="a43f3-104">Untrusted XAML in Applications</span></span>

<span data-ttu-id="a43f3-105">V nejobecnějším smyslu je nedůvěryhodný XAML jakýkoli zdroj XAML, který vaše aplikace konkrétně neobsahovala nebo nevyzařovala.</span><span class="sxs-lookup"><span data-stu-id="a43f3-105">In the most general sense, untrusted XAML is any XAML source that your application did not specifically include or emit.</span></span>

<span data-ttu-id="a43f3-106">XAML, který je kompilován `resx`do nebo uložen jako prostředek typu v rámci důvěryhodného a podepsaného sestavení, není ze své podstaty nedůvěryhodný.</span><span class="sxs-lookup"><span data-stu-id="a43f3-106">XAML that is compiled into or stored as a `resx`-type resource within a trusted and signed assembly is not inherently untrusted.</span></span> <span data-ttu-id="a43f3-107">XAML můžete důvěřovat stejně jako sestavení jako celku.</span><span class="sxs-lookup"><span data-stu-id="a43f3-107">You can trust the XAML as much as you trust the assembly as a whole.</span></span> <span data-ttu-id="a43f3-108">Ve většině případů se zabýváte pouze aspekty důvěryhodnosti volné XAML, což je zdroj XAML, který načtete z datového proudu nebo jiné vstupně-v.V.</span><span class="sxs-lookup"><span data-stu-id="a43f3-108">In most cases, you are only concerned with the trust aspects of loose XAML, which is a XAML source that you load from a stream or other I/O.</span></span> <span data-ttu-id="a43f3-109">Volné XAML není konkrétní součást nebo funkce aplikačního modelu s infrastrukturou nasazení a balení.</span><span class="sxs-lookup"><span data-stu-id="a43f3-109">Loose XAML is not a specific component or feature of an application model with a deployment and packaging infrastructure.</span></span> <span data-ttu-id="a43f3-110">Sestavení však může implementovat chování, které zahrnuje načítání volné XAML.</span><span class="sxs-lookup"><span data-stu-id="a43f3-110">However, an assembly might implement a behavior that involves loading loose XAML.</span></span>

<span data-ttu-id="a43f3-111">Pro nedůvěryhodné XAML byste měli zacházet obecně stejně, jako kdyby to byl nedůvěryhodný kód.</span><span class="sxs-lookup"><span data-stu-id="a43f3-111">For untrusted XAML, you should treat it generally the same as if it were untrusted code.</span></span> <span data-ttu-id="a43f3-112">Použijte sandboxing nebo jiné metafory, abyste zabránili možnému nedůvěryhodnému xaml v přístupu k důvěryhodnému kódu.</span><span class="sxs-lookup"><span data-stu-id="a43f3-112">Use sandboxing or other metaphors to prevent possibly untrusted XAML from accessing your trusted code.</span></span>

<span data-ttu-id="a43f3-113">Povaha xaml schopnosti dává XAML právo vytvářet objekty a nastavit jejich vlastnosti.</span><span class="sxs-lookup"><span data-stu-id="a43f3-113">The nature of XAML capabilities gives the XAML the right to construct objects and set their properties.</span></span> <span data-ttu-id="a43f3-114">Tyto funkce také zahrnují přístup k převaděčům typů, mapování a přístup `x:Code` k sestavením v doméně aplikace pomocí rozšíření značek, bloků a tak dále.</span><span class="sxs-lookup"><span data-stu-id="a43f3-114">These capabilities also include accessing type converters, mapping and accessing assemblies in the application domain, using markup extensions, `x:Code` blocks, and so on.</span></span>

<span data-ttu-id="a43f3-115">Kromě možností na úrovni jazyka se XAML používá pro definici uživatelského rozhraní v mnoha technologiích.</span><span class="sxs-lookup"><span data-stu-id="a43f3-115">In addition to its language-level capabilities, XAML is used for UI definition in many technologies.</span></span> <span data-ttu-id="a43f3-116">Načítání nedůvěryhodného xaml může znamenat načtení škodlivého uživatelského uživatelského uživatelského zařízení spoofingu.</span><span class="sxs-lookup"><span data-stu-id="a43f3-116">Loading untrusted XAML might mean loading a malicious spoofing UI.</span></span>

## <a name="sharing-context-between-readers-and-writers"></a><span data-ttu-id="a43f3-117">Sdílení kontextu mezi čtenáři a spisovateli</span><span class="sxs-lookup"><span data-stu-id="a43f3-117">Sharing Context Between Readers and Writers</span></span>

<span data-ttu-id="a43f3-118">Architektura služby .NET XAML services pro čtečky XAML a autory XAML často vyžaduje sdílení čtečky XAML se zapisovatelem XAML nebo sdílený kontext schématu XAML.</span><span class="sxs-lookup"><span data-stu-id="a43f3-118">.NET XAML Services architecture for XAML readers and XAML writers often requires sharing a XAML reader to a XAML writer, or a shared XAML schema context.</span></span> <span data-ttu-id="a43f3-119">Sdílení objektů nebo kontextů může být vyžadováno, pokud píšete logiku smyčky uzlu XAML nebo poskytujete vlastní cestu pro uložení.</span><span class="sxs-lookup"><span data-stu-id="a43f3-119">Sharing objects or contexts might be required if you are writing XAML node loop logic, or providing a custom save path.</span></span> <span data-ttu-id="a43f3-120">Nesdílejte instance čtečky XAML, nevýchozí kontext schématu XAML ani nastavení tříd čtečky a zapisovače XAML mezi důvěryhodným a nedůvěryhodným kódem.</span><span class="sxs-lookup"><span data-stu-id="a43f3-120">Don't share XAML reader instances, nondefault XAML schema context, or settings for XAML reader/writer classes between trusted and untrusted code.</span></span>

<span data-ttu-id="a43f3-121">Většina scénářů a operací zahrnujících zápis objektu XAML pro zálohování typu clr můžete použít pouze výchozí kontext schématu XAML.</span><span class="sxs-lookup"><span data-stu-id="a43f3-121">Most scenarios and operations involving XAML object writing for a CLR-based type backing can just use default XAML schema context.</span></span> <span data-ttu-id="a43f3-122">Výchozí kontext schématu XAML explicitně neobsahuje nastavení, která by mohla ohrozit úplnou důvěryhodnost.</span><span class="sxs-lookup"><span data-stu-id="a43f3-122">The default XAML schema context does not explicitly include settings that could compromise full trust.</span></span> <span data-ttu-id="a43f3-123">Je tedy bezpečné sdílet kontext mezi důvěryhodnými a nedůvěryhodnými komponentami čtečky/zapisovače XAML.</span><span class="sxs-lookup"><span data-stu-id="a43f3-123">It is thus safe to share context between trusted and untrusted XAML reader/writer components.</span></span> <span data-ttu-id="a43f3-124">Pokud to však uděláte, je stále osvědčeným postupem <xref:System.AppDomain> uchovávat takové čtenáře a autory v samostatných oborech, přičemž jeden z nich je speciálně určen/sandboxed pro částečnou důvěryhodnost.</span><span class="sxs-lookup"><span data-stu-id="a43f3-124">However, if you do this, it is still a best practice to keep such readers and writers in separate <xref:System.AppDomain> scopes, with one of them specifically intended/sandboxed for partial trust.</span></span>

## <a name="xaml-namespaces-and-assembly-trust"></a><span data-ttu-id="a43f3-125">Obory názvů XAML a vztah důvěryhodnosti sestavení</span><span class="sxs-lookup"><span data-stu-id="a43f3-125">XAML Namespaces and Assembly Trust</span></span>

<span data-ttu-id="a43f3-126">Základní nekvalifikovaná syntaxe a definice způsobu, jakým XAML interpretuje vlastní mapování oboru názvů XAML na sestavení, nerozlišuje mezi důvěryhodným a nedůvěryhodným sestavením načteným do domény aplikace.</span><span class="sxs-lookup"><span data-stu-id="a43f3-126">The basic unqualified syntax and definition for how XAML interprets a custom XAML namespace mapping to an assembly does not distinguish between a trusted and untrusted assembly as loaded into the application domain.</span></span> <span data-ttu-id="a43f3-127">Proto je technicky možné pro nedůvěryhodné sestavení zfalšovat důvěryhodné sestavení zamýšlené mapování oboru názvů XAML a zachytit informace o deklarovaném objektu a vlastnostech zdroje XAML.</span><span class="sxs-lookup"><span data-stu-id="a43f3-127">Thus, it is technically possible for an untrusted assembly to spoof a trusted assembly's intended XAML namespace mapping and capture a XAML source's declared object and property information.</span></span> <span data-ttu-id="a43f3-128">Pokud máte požadavky na zabezpečení, abyste se této situaci vyhnuli, mělo by být zamýšleno mapování oboru názvů XAML provedeno jedním z následujících postupů:</span><span class="sxs-lookup"><span data-stu-id="a43f3-128">If you have security requirements to avoid this situation, your intended XAML namespace mapping should be made using one of the following techniques:</span></span>

- <span data-ttu-id="a43f3-129">Použijte plně kvalifikovaný název sestavení se silným názvem v libovolném mapování oboru názvů XAML provedeném xaml vaší aplikace.</span><span class="sxs-lookup"><span data-stu-id="a43f3-129">Use a fully qualified assembly name with strong name in any XAML namespace mapping made by your application's XAML.</span></span>

- <span data-ttu-id="a43f3-130">Omezte mapování sestavení na pevnou sadu referenčních sestavení vytvořením specificképro <xref:System.Xaml.XamlSchemaContext> čtečky XAML a zapisovače objektů XAML.</span><span class="sxs-lookup"><span data-stu-id="a43f3-130">Restrict assembly mapping to a fixed set of reference assemblies, by constructing a specific <xref:System.Xaml.XamlSchemaContext> for your XAML readers and XAML object writers.</span></span> <span data-ttu-id="a43f3-131">Viz třída <xref:System.Xaml.XamlSchemaContext.%23ctor%28System.Collections.Generic.IEnumerable%7BSystem.Reflection.Assembly%7D%29>.</span><span class="sxs-lookup"><span data-stu-id="a43f3-131">See <xref:System.Xaml.XamlSchemaContext.%23ctor%28System.Collections.Generic.IEnumerable%7BSystem.Reflection.Assembly%7D%29>.</span></span>

## <a name="xaml-type-mapping-and-type-system-access"></a><span data-ttu-id="a43f3-132">Mapování typu XAML a přístup k systému typů</span><span class="sxs-lookup"><span data-stu-id="a43f3-132">XAML Type Mapping and Type System Access</span></span>

<span data-ttu-id="a43f3-133">XAML podporuje vlastní typový systém, který je v mnoha ohledech rovnocenným způsobem, jak CLR implementuje základní systém typu CLR.</span><span class="sxs-lookup"><span data-stu-id="a43f3-133">XAML supports its own type system, which in many ways is a peer to how CLR implements the basic CLR type system.</span></span> <span data-ttu-id="a43f3-134">Pro některé aspekty povědomí o typu, kde provádíte rozhodnutí o důvěryhodnosti o typu na základě informací o typu, byste však měli odložit na informace o typu v typech zálohování CLR.</span><span class="sxs-lookup"><span data-stu-id="a43f3-134">However, for certain aspects of type awareness where you are making trust decisions about a type based on its type information, you should defer to the type information in the CLR backing types.</span></span> <span data-ttu-id="a43f3-135">Důvodem je, že některé specifické možnosti vykazování systému typu XAML jsou ponechány otevřené jako virtuální metody a proto nejsou plně pod kontrolou původníimplementace .NET XAML Services.</span><span class="sxs-lookup"><span data-stu-id="a43f3-135">This is because some of the specific reporting capabilities of the XAML type system are left open as virtual methods and are therefore, not fully under the control of the original .NET XAML Services implementations.</span></span> <span data-ttu-id="a43f3-136">Tyto body rozšiřitelnosti existují, protože systém typu XAML je rozšiřitelný tak, aby odpovídal rozšiřitelnosti samotného xaml a jeho možných alternativních strategií mapování typu oproti výchozí implementaci podporované CLR a výchozímu kontextu schématu XAML.</span><span class="sxs-lookup"><span data-stu-id="a43f3-136">These extensibility points exist because the XAML type system is extensible, to match the extensibility of XAML itself and its possible alternative type-mapping strategies versus the default CLR-backed implementation and default XAML schema context.</span></span> <span data-ttu-id="a43f3-137">Další informace naleznete v konkrétních poznámkách <xref:System.Xaml.XamlType> k <xref:System.Xaml.XamlMember>několika vlastnostem aplikace a .</span><span class="sxs-lookup"><span data-stu-id="a43f3-137">For more information, see the specific notes on several of the properties of <xref:System.Xaml.XamlType> and <xref:System.Xaml.XamlMember>.</span></span>

## <a name="see-also"></a><span data-ttu-id="a43f3-138">Viz také</span><span class="sxs-lookup"><span data-stu-id="a43f3-138">See also</span></span>

- <xref:System.Xaml.Permissions.XamlAccessLevel>
