---
title: Převaděče typů a rozšíření značek pro jazyk XAML
ms.date: 03/30/2017
helpviewer_keywords:
- XAML [XAML Services], type converter services
- XAML [XAML Services], value converters
- XAML [XAML Services], markup extension services
- value converters for XAML [XAML Services]
- XAML [XAML Services], service context
ms.assetid: db07a952-05ce-4aa4-b6f9-aac7397d0326
ms.openlocfilehash: bee94b03d4fd6e6f5ef8571e83f554b381dd6582
ms.sourcegitcommit: c2d9718996402993cf31541f11e95531bc68bad0
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 02/27/2020
ms.locfileid: "82071652"
---
# <a name="type-converters-and-markup-extensions-for-xaml"></a><span data-ttu-id="1c762-102">Převaděče typů a rozšíření značek pro jazyk XAML</span><span class="sxs-lookup"><span data-stu-id="1c762-102">Type Converters and Markup Extensions for XAML</span></span>

<span data-ttu-id="1c762-103">Převaděče typů a rozšíření značek jsou dvě techniky, které systémy typu XAML a zapisovače XAML používají ke generování komponent objektového grafu.</span><span class="sxs-lookup"><span data-stu-id="1c762-103">Type converters and markup extensions are two techniques that XAML type systems and XAML writers use to generate object graph components.</span></span> <span data-ttu-id="1c762-104">Přestože sdílejí některé charakteristiky, převaděče typů a rozšíření značek jsou v datovém proudu uzlu XAML reprezentovány odlišně.</span><span class="sxs-lookup"><span data-stu-id="1c762-104">Although they share some characteristics, type converters and markup extensions are represented differently in a XAML node stream.</span></span> <span data-ttu-id="1c762-105">V této sadě dokumentace převaděče typů, rozšíření značek a podobné konstrukce jsou někdy souhrnně označovány jako převaděče hodnot.</span><span class="sxs-lookup"><span data-stu-id="1c762-105">In this documentation set, type converters, markup extensions, and similar constructs are sometimes collectively referred to as value converters.</span></span>

## <a name="value-converters"></a><span data-ttu-id="1c762-106">Převaděče hodnot</span><span class="sxs-lookup"><span data-stu-id="1c762-106">Value Converters</span></span>

<span data-ttu-id="1c762-107">V XAML převaděče hodnot se používají pro různé scénáře.</span><span class="sxs-lookup"><span data-stu-id="1c762-107">In XAML, value converters are used for various scenarios.</span></span> <span data-ttu-id="1c762-108">V následujícím seznamu jsou uvedeny různé typy převaděčů hodnot v jazyce XAML:</span><span class="sxs-lookup"><span data-stu-id="1c762-108">The following list shows the different types of value converters in XAML:</span></span>

- <span data-ttu-id="1c762-109">Převaděč typů</span><span class="sxs-lookup"><span data-stu-id="1c762-109">Type converter</span></span>

- <span data-ttu-id="1c762-110">Rozšíření o značky</span><span class="sxs-lookup"><span data-stu-id="1c762-110">Markup extension</span></span>

- <span data-ttu-id="1c762-111">Serializátor hodnoty</span><span class="sxs-lookup"><span data-stu-id="1c762-111">Value serializer</span></span>

- <span data-ttu-id="1c762-112">Související třída nebo třída podpory, která poskytuje logiku pro syntaxi textu XAML</span><span class="sxs-lookup"><span data-stu-id="1c762-112">Related class or support class that provides the logic for a XAML text syntax</span></span>

## <a name="type-converters"></a><span data-ttu-id="1c762-113">Převaděče typů</span><span class="sxs-lookup"><span data-stu-id="1c762-113">Type Converters</span></span>

<span data-ttu-id="1c762-114">V definici služby .NET XAML jsou převaděči typu třídy, které jsou odvozeny z třídy CLR. <xref:System.ComponentModel.TypeConverter></span><span class="sxs-lookup"><span data-stu-id="1c762-114">In .NET XAML Services definition, type converters are classes that derive from the CLR <xref:System.ComponentModel.TypeConverter> class.</span></span> <span data-ttu-id="1c762-115"><xref:System.ComponentModel.TypeConverter>je třída, která byla v rozhraní .NET před xaml existoval.</span><span class="sxs-lookup"><span data-stu-id="1c762-115"><xref:System.ComponentModel.TypeConverter> is a class that was in the .NET before XAML existed.</span></span> <span data-ttu-id="1c762-116">Jeho původním účelem bylo podporovat okna vlastností a podobné textové úpravy metafory pro vlastnosti IDE.</span><span class="sxs-lookup"><span data-stu-id="1c762-116">Its original purpose was to support property windows and similar text-based editing metaphors for IDE properties.</span></span> <span data-ttu-id="1c762-117">Zavedení XAML do rozhraní <xref:System.ComponentModel.TypeConverter> .NET používá k převodu syntaxe textu (jak je uvedeno v hodnotě atributu nebo uzlu hodnoty XAML) na objekt.</span><span class="sxs-lookup"><span data-stu-id="1c762-117">The introduction of XAML to .NET uses <xref:System.ComponentModel.TypeConverter> to convert a text syntax (as found in an attribute value or a XAML value node) into an object.</span></span> <span data-ttu-id="1c762-118"><xref:System.ComponentModel.TypeConverter>lze také serializovat hodnotu objektu do syntaxe textu.</span><span class="sxs-lookup"><span data-stu-id="1c762-118"><xref:System.ComponentModel.TypeConverter> can also be used to serialize an object value to text syntax.</span></span> <span data-ttu-id="1c762-119"><xref:System.ComponentModel.TypeConverter>byl také použit v předchozích implementacích XAML specifických pro architekturu v systémech Windows Presentation Foundation (WPF) a Windows Communication Foundation (WCF).</span><span class="sxs-lookup"><span data-stu-id="1c762-119"><xref:System.ComponentModel.TypeConverter> was also used in previous framework-specific XAML implementations in Windows Presentation Foundation (WPF) and Windows Communication Foundation (WCF).</span></span> <span data-ttu-id="1c762-120">Další informace o <xref:System.ComponentModel.TypeConverter> zařízení v XAML naleznete v [tématu Type Converters for XAML Overview](type-converters-overview.md).</span><span class="sxs-lookup"><span data-stu-id="1c762-120">For more information about the <xref:System.ComponentModel.TypeConverter> in XAML, see [Type Converters for XAML Overview](type-converters-overview.md).</span></span>

## <a name="markup-extensions"></a><span data-ttu-id="1c762-121">Rozšíření značek</span><span class="sxs-lookup"><span data-stu-id="1c762-121">Markup Extensions</span></span>

<span data-ttu-id="1c762-122">V implementaci služby .NET XAML Services jsou rozšíření <xref:System.Windows.Markup.MarkupExtension> značek třídy, které jsou odvozeny z třídy.</span><span class="sxs-lookup"><span data-stu-id="1c762-122">In .NET XAML Services implementation, markup extensions are classes that derive from the <xref:System.Windows.Markup.MarkupExtension> class.</span></span> <span data-ttu-id="1c762-123">Rozšíření značek jsou koncept, který v tomto formuláři pochází z jazyka XAML.</span><span class="sxs-lookup"><span data-stu-id="1c762-123">Markup extensions are a concept that in this form is originated by the XAML language.</span></span> <span data-ttu-id="1c762-124">Můžete si myslet, že rozšíření značky jako něco jako rozšiřitelné escape sekvence, která volá do třídy služby poskytovat jeho logiku.</span><span class="sxs-lookup"><span data-stu-id="1c762-124">You can think of a markup extension as being something like an extensible escape sequence that calls into a service class to provide its logic.</span></span> <span data-ttu-id="1c762-125">Pokud jde o značky, procesory XAML univerzálně rozpoznají rozšíření značek textovou sekvencí, která začíná počáteční závorkou ({) v textovém řetězci.</span><span class="sxs-lookup"><span data-stu-id="1c762-125">In terms of markup, XAML processors universally recognize a markup extension by a text sequence that starts with an opening brace ({) in a text string.</span></span>

<span data-ttu-id="1c762-126">Rozšíření značek se liší od převaděčů typů.</span><span class="sxs-lookup"><span data-stu-id="1c762-126">Markup extensions differ from type converters.</span></span> <span data-ttu-id="1c762-127">Převaděče typu jsou obvykle spojeny s typy nebo členy.</span><span class="sxs-lookup"><span data-stu-id="1c762-127">Type converters are typically associated with types or members.</span></span> <span data-ttu-id="1c762-128">Jsou vyvolány, když vytvoření grafu objektu nebo serializace narazí na syntaxi textu, která je přidružena k těmto entitám.</span><span class="sxs-lookup"><span data-stu-id="1c762-128">They are invoked when an object graph creation or a serialization encounters text syntax that is associated with those entities.</span></span>

<span data-ttu-id="1c762-129">Rozšíření značek jsou přidružena k jedné třídě podpůrné služby, ale lze je použít pro libovolnou hodnotu člena.</span><span class="sxs-lookup"><span data-stu-id="1c762-129">Markup extensions are associated with a single supporting service class, but can be applied for any member value.</span></span> <span data-ttu-id="1c762-130">(Rozšíření o značky však můžete implementovat tak, aby bylo jeho použití záměrně možné omezit na určité členy nebo cílové typy pomocí kontextu služby.) Rozšíření značek mohou přepsat přidružení převaděče typů.</span><span class="sxs-lookup"><span data-stu-id="1c762-130">(However, you can implement your markup extension to deliberately restrict its use to certain members or destination types, by using service context.) Markup extensions can override a type converter association.</span></span> <span data-ttu-id="1c762-131">Nebo je můžete použít k určení hodnoty atributu pro členy, kteří by jinak nepodporovali textovou syntaxi.</span><span class="sxs-lookup"><span data-stu-id="1c762-131">Or you can use them to specify an attribute value for members that would not otherwise support a text syntax.</span></span>

<span data-ttu-id="1c762-132">Další informace o vzoru implementace rozšíření značek pro XAML naleznete v [tématu Rozšíření značek pro přehled XAML](markup-extensions-overview.md).</span><span class="sxs-lookup"><span data-stu-id="1c762-132">For more information about the markup extension implementation pattern for XAML, see [Markup Extensions for XAML Overview](markup-extensions-overview.md).</span></span>

## <a name="value-serializers"></a><span data-ttu-id="1c762-133">Serializátory hodnot</span><span class="sxs-lookup"><span data-stu-id="1c762-133">Value Serializers</span></span>

<span data-ttu-id="1c762-134">A <xref:System.Windows.Markup.ValueSerializer> je specializovaný převaděč typu, který je optimalizován pro převod objektu na řetězec.</span><span class="sxs-lookup"><span data-stu-id="1c762-134">A <xref:System.Windows.Markup.ValueSerializer> is a specialized type converter that is optimized for converting an object to a string.</span></span> <span data-ttu-id="1c762-135">A <xref:System.Windows.Markup.ValueSerializer> pro XAML nemusí `ConvertFrom` implementovat metodu vůbec.</span><span class="sxs-lookup"><span data-stu-id="1c762-135">A <xref:System.Windows.Markup.ValueSerializer> for XAML might not implement the `ConvertFrom` method at all.</span></span> <span data-ttu-id="1c762-136">Implementace <xref:System.Windows.Markup.ValueSerializer> získává služby způsobem, který <xref:System.ComponentModel.TypeConverter> je jako implementace.</span><span class="sxs-lookup"><span data-stu-id="1c762-136">A <xref:System.Windows.Markup.ValueSerializer> implementation obtains services in a manner that is like a <xref:System.ComponentModel.TypeConverter> implementation.</span></span> <span data-ttu-id="1c762-137">Virtuální metody poskytují `context` vstupní parametr.</span><span class="sxs-lookup"><span data-stu-id="1c762-137">The virtual methods provide an input `context` parameter.</span></span> <span data-ttu-id="1c762-138">Parametr `context` je typu <xref:System.Windows.Markup.IValueSerializerContext>, který dědí z <xref:System.IServiceProvider> <xref:System.IServiceProvider.GetService%2A> rozhraní a má metodu.</span><span class="sxs-lookup"><span data-stu-id="1c762-138">The `context` parameter is of type <xref:System.Windows.Markup.IValueSerializerContext>, which inherits from the <xref:System.IServiceProvider> interface and has a <xref:System.IServiceProvider.GetService%2A> method.</span></span>

<span data-ttu-id="1c762-139">V systému typu XAML a pro implementace zapisovače XAML, které používají zpracování smyčky uzlu XAML pro serializaci, je převaděč hodnot, který je přidružen k typu nebo členu, vykázán vlastní <xref:System.Xaml.XamlType.ValueSerializer%2A?displayProperty=nameWithType> vlastností.</span><span class="sxs-lookup"><span data-stu-id="1c762-139">In the XAML type system and for XAML writer implementations that use XAML node loop processing for serialization, a value converter that is associated with a type or member is reported by its own <xref:System.Xaml.XamlType.ValueSerializer%2A?displayProperty=nameWithType> property.</span></span> <span data-ttu-id="1c762-140">Význam pro autory XAML, kteří provádějí <xref:System.Xaml.XamlType.TypeConverter%2A?displayProperty=nameWithType> <xref:System.Xaml.XamlType.ValueSerializer%2A?displayProperty=nameWithType> serializaci, je, že pokud a existují, převaděč typu by měl být použit pro cestu zatížení a serializátor hodnoty by měl být použit pro cestu uložení.</span><span class="sxs-lookup"><span data-stu-id="1c762-140">The meaning to XAML writers that perform serialization is that if a <xref:System.Xaml.XamlType.TypeConverter%2A?displayProperty=nameWithType> and <xref:System.Xaml.XamlType.ValueSerializer%2A?displayProperty=nameWithType> exist, the type converter should be used for the load path and the value serializer should be used for the save path.</span></span> <span data-ttu-id="1c762-141">Pokud <xref:System.Xaml.XamlType.TypeConverter%2A?displayProperty=nameWithType> existuje, <xref:System.Xaml.XamlType.ValueSerializer%2A?displayProperty=nameWithType> `null`ale je , převaděč typu se používá také pro uložit cestu.</span><span class="sxs-lookup"><span data-stu-id="1c762-141">If <xref:System.Xaml.XamlType.TypeConverter%2A?displayProperty=nameWithType> exists but <xref:System.Xaml.XamlType.ValueSerializer%2A?displayProperty=nameWithType> is `null`, the type converter is also used for the save path.</span></span>

## <a name="other-value-converters"></a><span data-ttu-id="1c762-142">Jiné převaděče hodnot</span><span class="sxs-lookup"><span data-stu-id="1c762-142">Other Value Converters</span></span>

<span data-ttu-id="1c762-143">Převaděč hodnot je rozšiřitelný nad rámec určitých vzorků převaděče typu nebo rozšíření značek.</span><span class="sxs-lookup"><span data-stu-id="1c762-143">A value converter is extensible beyond the specific patterns of a type converter or a markup extension.</span></span> <span data-ttu-id="1c762-144">Toto přizpůsobení by však také vyžadovalo předefinování systému typu XAML poskytovaného službou .NET XAML Services.</span><span class="sxs-lookup"><span data-stu-id="1c762-144">However, this customization would also require the redefinition of the XAML type system as provided by .NET XAML Services.</span></span> <span data-ttu-id="1c762-145">Stávající systém typů XAML má reprezentace a systémy vykazování pro převaděče typů, rozšíření značek a serializátory hodnot, ale ne pro vlastní formy převodu hodnoty.</span><span class="sxs-lookup"><span data-stu-id="1c762-145">The existing XAML type system has representations and reporting systems for type converters, markup extensions, and value serializers, but not for custom forms of value conversion.</span></span> <span data-ttu-id="1c762-146">Pokud chcete vytvořit vlastní převaděče <xref:System.Xaml.Schema.XamlValueConverter%601> hodnot, použijte typ.</span><span class="sxs-lookup"><span data-stu-id="1c762-146">If you want to create custom value converters, use the <xref:System.Xaml.Schema.XamlValueConverter%601> type.</span></span>

## <a name="type-converters-and-markup-extensions-in-combination"></a><span data-ttu-id="1c762-147">Převaděče typů a rozšíření značek v kombinaci</span><span class="sxs-lookup"><span data-stu-id="1c762-147">Type Converters and Markup Extensions in Combination</span></span>

<span data-ttu-id="1c762-148">Značky rozšíření a převaděče typu se používají pro různé situace v XAML.</span><span class="sxs-lookup"><span data-stu-id="1c762-148">Markup extensions and type converters are used for different situations in XAML.</span></span> <span data-ttu-id="1c762-149">Přestože kontext je k dispozici pro použití rozšíření značek, typ převodu chování vlastností, kde rozšíření značky poskytuje hodnotu je obecně není kontrolována v implementacích rozšíření značky.</span><span class="sxs-lookup"><span data-stu-id="1c762-149">Although context is available for markup extension usages, type conversion behavior of properties where a markup extension provides a value is generally is not checked in the markup extension implementations.</span></span> <span data-ttu-id="1c762-150">Jinými slovy, i když rozšíření značky vrátí `ProvideValue` textový řetězec jako svůj výstup, není vyvoláno chování převodu typu na tomto řetězci, jak je použito na určitou vlastnost nebo typ hodnoty vlastnosti.</span><span class="sxs-lookup"><span data-stu-id="1c762-150">In other words, even if a markup extension returns a text string as its `ProvideValue` output, type conversion behavior on that string as applied to a specific property or property value type is not invoked.</span></span> <span data-ttu-id="1c762-151">Obecně je účelem rozšíření značek zpracovat řetězec a vrátit objekt bez jakéhokoli převaděče typu.</span><span class="sxs-lookup"><span data-stu-id="1c762-151">Generally, the purpose of a markup extension is to process a string and return an object without any type converter involved.</span></span>

## <a name="service-context-for-a-value-converter"></a><span data-ttu-id="1c762-152">Kontext služby pro převaděč hodnot</span><span class="sxs-lookup"><span data-stu-id="1c762-152">Service Context for a Value Converter</span></span>

<span data-ttu-id="1c762-153">Při implementaci převaděče hodnot často potřebujete přístup k kontextu, ve kterém je použit převaděč hodnot.</span><span class="sxs-lookup"><span data-stu-id="1c762-153">When you implement a value converter, you often need access to a context in which the value converter is applied.</span></span> <span data-ttu-id="1c762-154">Tento kontext se označuje jako kontext služby.</span><span class="sxs-lookup"><span data-stu-id="1c762-154">This context is known as the service context.</span></span> <span data-ttu-id="1c762-155">Kontext služby může zahrnovat informace, jako je například aktivní kontext schématu XAML, přístup k systému mapování typů, který poskytuje kontext schématu XAML a zapisovač objektů XAML a tak dále.</span><span class="sxs-lookup"><span data-stu-id="1c762-155">The service context might include information such as the active XAML schema context, access to the type-mapping system that the XAML schema context and XAML object writer provide, and so on.</span></span> <span data-ttu-id="1c762-156">Další informace o kontextech služby, které jsou k dispozici pro převaděč hodnot a o tom, jak získat přístup ke službám, které může poskytnout kontext [služby, naleznete v tématu Kontexty služby dostupné převaděčům typu a rozšíření o značky](service-contexts-with-type-converters-and-markup-extensions.md).</span><span class="sxs-lookup"><span data-stu-id="1c762-156">For more information about the service contexts available for a value converter and how to access the services that a service context might provide, see [Service Contexts Available to Type Converters and Markup Extensions](service-contexts-with-type-converters-and-markup-extensions.md).</span></span>

## <a name="see-also"></a><span data-ttu-id="1c762-157">Viz také</span><span class="sxs-lookup"><span data-stu-id="1c762-157">See also</span></span>

- <xref:System.Windows.Markup.MarkupExtension>
- <xref:System.Xaml.XamlObjectWriter>
- [<span data-ttu-id="1c762-158">Přehled rozšíření značek pro jazyk XAML</span><span class="sxs-lookup"><span data-stu-id="1c762-158">Markup Extensions for XAML Overview</span></span>](markup-extensions-overview.md)
- [<span data-ttu-id="1c762-159">Přehled převaděčů typů pro jazyk XAML</span><span class="sxs-lookup"><span data-stu-id="1c762-159">Type Converters for XAML Overview</span></span>](type-converters-overview.md)
- [<span data-ttu-id="1c762-160">Kontexty služby dostupné pro převaděče typů a rozšíření značek</span><span class="sxs-lookup"><span data-stu-id="1c762-160">Service Contexts Available to Type Converters and Markup Extensions</span></span>](service-contexts-with-type-converters-and-markup-extensions.md)
