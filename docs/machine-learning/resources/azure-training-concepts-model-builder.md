---
title: Školicí materiály Azure pro tvůrce modelů
description: Příručka k prostředkům pro Azure Machine Learning
ms.topic: reference
ms.date: 06/01/2020
ms.author: luquinta
author: luisquintanilla
ms.openlocfilehash: d9eb5560ef33f8f80dbe53e17087c606a8697378
ms.sourcegitcommit: 33deec3e814238fb18a49b2a7e89278e27888291
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 06/02/2020
ms.locfileid: "84289470"
---
# <a name="model-builder-azure-training-resources"></a><span data-ttu-id="d9b9b-103">Školicí materiály Azure pro tvůrce modelů</span><span class="sxs-lookup"><span data-stu-id="d9b9b-103">Model Builder Azure Training Resources</span></span>

<span data-ttu-id="d9b9b-104">Následuje návod, který vám pomůže získat další informace o prostředcích používaných ke výukě modelů v Azure pomocí Tvůrce modelů.</span><span class="sxs-lookup"><span data-stu-id="d9b9b-104">The following is a guide to help you learn more about resources used to train models in Azure with Model Builder.</span></span>

## <a name="what-is-an-azure-machine-learning-experiment"></a><span data-ttu-id="d9b9b-105">Co je Azure Machine Learning experiment?</span><span class="sxs-lookup"><span data-stu-id="d9b9b-105">What is an Azure Machine Learning experiment?</span></span>

<span data-ttu-id="d9b9b-106">Azure Machine Learning experiment je prostředek, který je potřeba vytvořit před spuštěním školení tvůrce modelů v Azure.</span><span class="sxs-lookup"><span data-stu-id="d9b9b-106">An Azure Machine Learning experiment is a resource that needs to be created before running Model Builder training on Azure.</span></span>

<span data-ttu-id="d9b9b-107">Experiment zapouzdřuje konfiguraci a výsledky pro jedno nebo více školicích běhů pro strojové učení.</span><span class="sxs-lookup"><span data-stu-id="d9b9b-107">The experiment encapsulates the configuration and results for one or more machine learning training runs.</span></span> <span data-ttu-id="d9b9b-108">Experimenty patří do konkrétního pracovního prostoru.</span><span class="sxs-lookup"><span data-stu-id="d9b9b-108">Experiments belong to a specific workspace.</span></span> <span data-ttu-id="d9b9b-109">Při prvním vytvoření experimentu je jeho název zaregistrován v pracovním prostoru.</span><span class="sxs-lookup"><span data-stu-id="d9b9b-109">The first time an experiment is created, its name is registered in the workspace.</span></span> <span data-ttu-id="d9b9b-110">Jakákoli následná spuštění – Pokud se používá stejný název experimentu – jsou protokolovány jako součást stejného experimentu.</span><span class="sxs-lookup"><span data-stu-id="d9b9b-110">Any subsequent runs - if the same experiment name is used - are logged as part of the same experiment.</span></span> <span data-ttu-id="d9b9b-111">V opačném případě se vytvoří nový experiment.</span><span class="sxs-lookup"><span data-stu-id="d9b9b-111">Otherwise, a new experiment is created.</span></span>

## <a name="what-is-an-azure-machine-learning-workspace"></a><span data-ttu-id="d9b9b-112">Co je Azure Machine Learning pracovní prostor?</span><span class="sxs-lookup"><span data-stu-id="d9b9b-112">What is an Azure Machine Learning workspace?</span></span>

<span data-ttu-id="d9b9b-113">Pracovní prostor je Azure Machine Learning prostředek, který poskytuje centrální místo pro všechny prostředky Azure Machine Learning a artefakty vytvořené v rámci školicích běhů.</span><span class="sxs-lookup"><span data-stu-id="d9b9b-113">A workspace is an Azure Machine Learning resource that provides a central place for all Azure Machine Learning resources and artifacts created as part of training run.</span></span>

<span data-ttu-id="d9b9b-114">Chcete-li vytvořit pracovní prostor Azure Machine Learning, jsou potřeba následující:</span><span class="sxs-lookup"><span data-stu-id="d9b9b-114">To create an Azure Machine Learning workspace, the following are required:</span></span>

- <span data-ttu-id="d9b9b-115">Name (název): název pracovního prostoru mezi 3-33 znaky.</span><span class="sxs-lookup"><span data-stu-id="d9b9b-115">Name: A name for your workspace between 3-33 characters.</span></span> <span data-ttu-id="d9b9b-116">Názvy mohou obsahovat pouze alfanumerické znaky a spojovníky.</span><span class="sxs-lookup"><span data-stu-id="d9b9b-116">Names may only contain alphanumeric characters and hyphens.</span></span>
- <span data-ttu-id="d9b9b-117">Oblast: geografické umístění datového centra, do kterého se nasadí váš pracovní prostor a prostředky.</span><span class="sxs-lookup"><span data-stu-id="d9b9b-117">Region: The geographic location of the data center where your workspace and resources are deployed to.</span></span> <span data-ttu-id="d9b9b-118">Doporučuje se zvolit umístění blízko místa, kde jste vy nebo vaši zákazníci.</span><span class="sxs-lookup"><span data-stu-id="d9b9b-118">It is recommended that you choose a location close to where you or your customers are.</span></span>
- <span data-ttu-id="d9b9b-119">Skupina prostředků: kontejner, který obsahuje všechny související prostředky pro řešení Azure.</span><span class="sxs-lookup"><span data-stu-id="d9b9b-119">Resource group: A container that contains all related resources for an Azure solution.</span></span>

## <a name="what-is-an-azure-machine-learning-compute"></a><span data-ttu-id="d9b9b-120">Co je Azure Machine Learning COMPUTE?</span><span class="sxs-lookup"><span data-stu-id="d9b9b-120">What is an Azure Machine Learning compute?</span></span>

<span data-ttu-id="d9b9b-121">Azure Machine Learning COMPUTE je cloudový virtuální počítač se systémem Linux, který se používá pro školení.</span><span class="sxs-lookup"><span data-stu-id="d9b9b-121">An Azure Machine Learning compute is a cloud-based Linux VM used for training.</span></span>

<span data-ttu-id="d9b9b-122">Chcete-li vytvořit pracovní prostor Azure Machine Learning, jsou potřeba následující:</span><span class="sxs-lookup"><span data-stu-id="d9b9b-122">To create an Azure Machine Learning workspace, the following are required:</span></span>

- <span data-ttu-id="d9b9b-123">Name (název): název pracovního prostoru mezi 2-16 znaky.</span><span class="sxs-lookup"><span data-stu-id="d9b9b-123">Name: A name for your workspace between 2-16 characters.</span></span> <span data-ttu-id="d9b9b-124">Názvy mohou obsahovat pouze alfanumerické znaky a spojovníky.</span><span class="sxs-lookup"><span data-stu-id="d9b9b-124">Names may only contain alphanumeric characters and hyphens.</span></span>
- <span data-ttu-id="d9b9b-125">Velikost výpočetního prostředí</span><span class="sxs-lookup"><span data-stu-id="d9b9b-125">Compute size</span></span>

    <span data-ttu-id="d9b9b-126">Tvůrce modelů může používat jeden z následujících výpočetních typů optimalizovaný pro procesory GPU:</span><span class="sxs-lookup"><span data-stu-id="d9b9b-126">Model Builder can use one of the following GPU-optimized compute types:</span></span>

    | <span data-ttu-id="d9b9b-127">Velikost</span><span class="sxs-lookup"><span data-stu-id="d9b9b-127">Size</span></span> | <span data-ttu-id="d9b9b-128">Virtuální procesory</span><span class="sxs-lookup"><span data-stu-id="d9b9b-128">vCPU</span></span> | <span data-ttu-id="d9b9b-129">Paměť: GiB</span><span class="sxs-lookup"><span data-stu-id="d9b9b-129">Memory: GiB</span></span> | <span data-ttu-id="d9b9b-130">Dočasné úložiště (SSD): GiB</span><span class="sxs-lookup"><span data-stu-id="d9b9b-130">Temp storage (SSD) GiB</span></span> | <span data-ttu-id="d9b9b-131">GPU</span><span class="sxs-lookup"><span data-stu-id="d9b9b-131">GPU</span></span> | <span data-ttu-id="d9b9b-132">Paměť GPU: GiB</span><span class="sxs-lookup"><span data-stu-id="d9b9b-132">GPU memory: GiB</span></span> | <span data-ttu-id="d9b9b-133">Max. datových disků</span><span class="sxs-lookup"><span data-stu-id="d9b9b-133">Max data disks</span></span> | <span data-ttu-id="d9b9b-134">Maximální počet síťových karet</span><span class="sxs-lookup"><span data-stu-id="d9b9b-134">Max NICs</span></span> |
    |---|---|---|---|---|---|---|---|
    | <span data-ttu-id="d9b9b-135">Standard_NC12</span><span class="sxs-lookup"><span data-stu-id="d9b9b-135">Standard_NC12</span></span>   | <span data-ttu-id="d9b9b-136">12</span><span class="sxs-lookup"><span data-stu-id="d9b9b-136">12</span></span> | <span data-ttu-id="d9b9b-137">112</span><span class="sxs-lookup"><span data-stu-id="d9b9b-137">112</span></span> | <span data-ttu-id="d9b9b-138">680</span><span class="sxs-lookup"><span data-stu-id="d9b9b-138">680</span></span>  | <span data-ttu-id="d9b9b-139">2</span><span class="sxs-lookup"><span data-stu-id="d9b9b-139">2</span></span> | <span data-ttu-id="d9b9b-140">24</span><span class="sxs-lookup"><span data-stu-id="d9b9b-140">24</span></span> | <span data-ttu-id="d9b9b-141">48</span><span class="sxs-lookup"><span data-stu-id="d9b9b-141">48</span></span> | <span data-ttu-id="d9b9b-142">2</span><span class="sxs-lookup"><span data-stu-id="d9b9b-142">2</span></span> |
    | <span data-ttu-id="d9b9b-143">Standard_NC24</span><span class="sxs-lookup"><span data-stu-id="d9b9b-143">Standard_NC24</span></span>   | <span data-ttu-id="d9b9b-144">24</span><span class="sxs-lookup"><span data-stu-id="d9b9b-144">24</span></span> | <span data-ttu-id="d9b9b-145">224</span><span class="sxs-lookup"><span data-stu-id="d9b9b-145">224</span></span> | <span data-ttu-id="d9b9b-146">1440</span><span class="sxs-lookup"><span data-stu-id="d9b9b-146">1440</span></span> | <span data-ttu-id="d9b9b-147">4</span><span class="sxs-lookup"><span data-stu-id="d9b9b-147">4</span></span> | <span data-ttu-id="d9b9b-148">48</span><span class="sxs-lookup"><span data-stu-id="d9b9b-148">48</span></span> | <span data-ttu-id="d9b9b-149">64</span><span class="sxs-lookup"><span data-stu-id="d9b9b-149">64</span></span> | <span data-ttu-id="d9b9b-150">4</span><span class="sxs-lookup"><span data-stu-id="d9b9b-150">4</span></span> |

    <span data-ttu-id="d9b9b-151">Další podrobnosti o výpočetních typech optimalizovaných pro procesory GPU najdete v [dokumentaci k virtuálním počítačům s řadou NC-Series Linux](https://docs.microsoft.com/azure/virtual-machines/nc-series?toc=/azure/virtual-machines/linux/toc.json&bc=/azure/virtual-machines/linux/breadcrumb/toc.json) .</span><span class="sxs-lookup"><span data-stu-id="d9b9b-151">Visit the [NC-series Linux VM documentation](https://docs.microsoft.com/azure/virtual-machines/nc-series?toc=/azure/virtual-machines/linux/toc.json&bc=/azure/virtual-machines/linux/breadcrumb/toc.json) for more details on GPU optimized compute types.</span></span>
- <span data-ttu-id="d9b9b-152">Priorita výpočtů</span><span class="sxs-lookup"><span data-stu-id="d9b9b-152">Compute priority</span></span>

  - <span data-ttu-id="d9b9b-153">Nízká priorita: hodí se pro úlohy s kratší dobou spuštění.</span><span class="sxs-lookup"><span data-stu-id="d9b9b-153">Low-priority: Suited for tasks with shorter execution times.</span></span> <span data-ttu-id="d9b9b-154">Může mít vliv na přerušení a nedostatek dostupnosti.</span><span class="sxs-lookup"><span data-stu-id="d9b9b-154">May be impacted by interruptions and lack of availability.</span></span> <span data-ttu-id="d9b9b-155">Obvykle je méně nákladná, protože využívá nadbytečné kapacity v Azure.</span><span class="sxs-lookup"><span data-stu-id="d9b9b-155">Usually costs less because it takes advantage of surplus capacity in Azure.</span></span>
  - <span data-ttu-id="d9b9b-156">Vyhrazeno: vhodné pro úlohy jakékoli doby trvání, ale zejména dlouhotrvající úlohy.</span><span class="sxs-lookup"><span data-stu-id="d9b9b-156">Dedicated: Suited for tasks of any duration, but especially long-running jobs.</span></span> <span data-ttu-id="d9b9b-157">Nemá vliv na přerušení nebo nedostatek dostupnosti.</span><span class="sxs-lookup"><span data-stu-id="d9b9b-157">Not impacted by interruptions or lack of availability.</span></span> <span data-ttu-id="d9b9b-158">Obvykle se náklady vyhradí, protože rezervuje vyhrazenou sadu výpočetních prostředků v Azure pro vaše úkoly.</span><span class="sxs-lookup"><span data-stu-id="d9b9b-158">Usually costs more because it reserves a dedicated set of compute resources in Azure for your tasks.</span></span>

## <a name="training"></a><span data-ttu-id="d9b9b-159">Školení</span><span class="sxs-lookup"><span data-stu-id="d9b9b-159">Training</span></span>

<span data-ttu-id="d9b9b-160">Školení v Azure je dostupné jenom pro scénář klasifikace imagí v Tvůrci modelů.</span><span class="sxs-lookup"><span data-stu-id="d9b9b-160">Training on Azure is only available for the Model Builder image classification scenario.</span></span> <span data-ttu-id="d9b9b-161">Algoritmus používaný ke výukě těchto modelů je rozsáhlá neuronové síť založená na architektuře ResNet50.</span><span class="sxs-lookup"><span data-stu-id="d9b9b-161">The algorithm used to train these models is a Deep Neural Network based on the ResNet50 architecture.</span></span> <span data-ttu-id="d9b9b-162">Školicí proces trvá určitou dobu a množství času se může lišit v závislosti na velikosti vybraného výpočetního prostředí i na množství dat.</span><span class="sxs-lookup"><span data-stu-id="d9b9b-162">The training process takes some time and the amount of time may vary depending on the size of compute selected as well as amount of data.</span></span> <span data-ttu-id="d9b9b-163">Při prvním školení modelu můžete očekávat trochu delší dobu školení, protože je potřeba zřídit prostředky.</span><span class="sxs-lookup"><span data-stu-id="d9b9b-163">The first time a model is trained, you can expect a slightly longer training time because resources have to be provisioned.</span></span> <span data-ttu-id="d9b9b-164">Průběh spuštění můžete sledovat výběrem odkazu monitorovat aktuální spuštění v Azure Portal v aplikaci Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="d9b9b-164">You can track the progress of your runs by selecting the "Monitor current run in Azure portal" link in Visual Studio.</span></span>

## <a name="results"></a><span data-ttu-id="d9b9b-165">Výsledky</span><span class="sxs-lookup"><span data-stu-id="d9b9b-165">Results</span></span>

<span data-ttu-id="d9b9b-166">Po dokončení školení se do řešení přidají dva projekty s následujícími příponami:</span><span class="sxs-lookup"><span data-stu-id="d9b9b-166">Once training is complete, two projects are added to your solution with the following suffixes:</span></span>

- <span data-ttu-id="d9b9b-167">*ConsoleApp*: Konzolová aplikace C# .NET Core, která poskytuje počáteční kód pro sestavení kanálu předpovědi a vytvoření předpovědi.</span><span class="sxs-lookup"><span data-stu-id="d9b9b-167">*ConsoleApp*: A C# .NET Core console application that provides starter code to build the prediction pipeline and make predictions.</span></span>
- <span data-ttu-id="d9b9b-168">*Model*: .NET Standard aplikace v C#, která obsahuje datové modely definující schéma vstupních a výstupních dat modelu a také následující prostředky:</span><span class="sxs-lookup"><span data-stu-id="d9b9b-168">*Model*: A C# .NET Standard application that contains the data models that define the schema of input and output model data as well as the following assets:</span></span>

  - <span data-ttu-id="d9b9b-169">bestModel. Onnx: serializovaná verze modelu ve formátu Open neuronové Network Exchange (ONNX).</span><span class="sxs-lookup"><span data-stu-id="d9b9b-169">bestModel.onnx: A serialized version of the model in Open Neural Network Exchange (ONNX) format.</span></span> <span data-ttu-id="d9b9b-170">ONNX je open source formát pro modely AI, který podporuje interoperabilitu mezi platformami, jako je ML.NET, PyTorch a TensorFlow.</span><span class="sxs-lookup"><span data-stu-id="d9b9b-170">ONNX is an open source format for AI models that supports interoperability between frameworks like ML.NET, PyTorch and TensorFlow.</span></span>
  - <span data-ttu-id="d9b9b-171">bestModelMap. JSON: seznam kategorií používaných při vytváření předpovědi k mapování výstupu modelu na textovou kategorii.</span><span class="sxs-lookup"><span data-stu-id="d9b9b-171">bestModelMap.json: A list of categories used when making predictions to map the model output to a text category.</span></span>
  - <span data-ttu-id="d9b9b-172">MLModel. zip: serializovaná verze kanálu předpovědi ML.NET, která používá serializovanou verzi modelu *bestModel. Onnx* k vytvoření předpovědi a mapování výstupů pomocí `bestModelMap.json` souboru.</span><span class="sxs-lookup"><span data-stu-id="d9b9b-172">MLModel.zip: A serialized version of the ML.NET prediction pipeline that uses the serialized version of the model *bestModel.onnx* to make predictions and maps outputs using the `bestModelMap.json` file.</span></span>

## <a name="use-the-machine-learning-model"></a><span data-ttu-id="d9b9b-173">Použití modelu Machine Learning</span><span class="sxs-lookup"><span data-stu-id="d9b9b-173">Use the machine learning model</span></span>

<span data-ttu-id="d9b9b-174">`ModelInput`Třídy a `ModelOutput` v projektu *modelu* definují schéma očekávaného vstupu a výstupu modelu.</span><span class="sxs-lookup"><span data-stu-id="d9b9b-174">The `ModelInput` and `ModelOutput` classes in the *Model* project define the schema of the model's expected input and output respectively.</span></span>

<span data-ttu-id="d9b9b-175">Ve scénáři klasifikace obrázku `ModelInput` obsahuje dva sloupce:</span><span class="sxs-lookup"><span data-stu-id="d9b9b-175">In an image classification scenario, the `ModelInput` contains two columns:</span></span>

- <span data-ttu-id="d9b9b-176">`ImageSource`: Cesta k řetězci umístění obrázku.</span><span class="sxs-lookup"><span data-stu-id="d9b9b-176">`ImageSource`: The string path of the image location.</span></span>
- <span data-ttu-id="d9b9b-177">`Label`: Skutečná kategorie, do které obrázek patří.</span><span class="sxs-lookup"><span data-stu-id="d9b9b-177">`Label`: The actual category the image belongs to.</span></span> <span data-ttu-id="d9b9b-178">`Label`se používá jako vstup pouze při výuce a není nutné jej zadávat při provádění předpovědi.</span><span class="sxs-lookup"><span data-stu-id="d9b9b-178">`Label` is only used as an input when training and does not need to be provided when making predictions.</span></span>

<span data-ttu-id="d9b9b-179">`ModelOutput`Obsahuje dva sloupce:</span><span class="sxs-lookup"><span data-stu-id="d9b9b-179">The `ModelOutput` contains two columns:</span></span>

- <span data-ttu-id="d9b9b-180">`Prediction`: Předpokládaná kategorie obrázku.</span><span class="sxs-lookup"><span data-stu-id="d9b9b-180">`Prediction`: The image's predicted category.</span></span>
- <span data-ttu-id="d9b9b-181">`Score`: Seznam pravděpodobností pro všechny kategorie (nejvyšší patří do `Prediction` ).</span><span class="sxs-lookup"><span data-stu-id="d9b9b-181">`Score`: The list of probabilities for all categories (the highest belongs to the `Prediction`).</span></span>

## <a name="troubleshooting"></a><span data-ttu-id="d9b9b-182">Řešení potíží</span><span class="sxs-lookup"><span data-stu-id="d9b9b-182">Troubleshooting</span></span>

### <a name="cannot-create-compute"></a><span data-ttu-id="d9b9b-183">Nejde vytvořit výpočetní prostředky.</span><span class="sxs-lookup"><span data-stu-id="d9b9b-183">Cannot create compute</span></span>

<span data-ttu-id="d9b9b-184">Pokud dojde k chybě během Azure Machine Learning vytváření výpočetních prostředků, výpočetní prostředek může stále existovat v chybovém stavu.</span><span class="sxs-lookup"><span data-stu-id="d9b9b-184">If an error occurs during Azure Machine Learning compute creation, the compute resource may still exist, in an errored state.</span></span> <span data-ttu-id="d9b9b-185">Pokud se pokusíte znovu vytvořit výpočetní prostředek se stejným názvem, operace se nezdařila.</span><span class="sxs-lookup"><span data-stu-id="d9b9b-185">If you try to re-create the compute resource with the same name, the operation fails.</span></span> <span data-ttu-id="d9b9b-186">Chcete-li tuto chybu vyřešit, postupujte takto:</span><span class="sxs-lookup"><span data-stu-id="d9b9b-186">To fix this error, either:</span></span>

- <span data-ttu-id="d9b9b-187">Vytvoření nového COMPUTE s jiným názvem</span><span class="sxs-lookup"><span data-stu-id="d9b9b-187">Create the new compute with a different name</span></span>
- <span data-ttu-id="d9b9b-188">Přejít na Azure Portal a odebrat původní výpočetní prostředek</span><span class="sxs-lookup"><span data-stu-id="d9b9b-188">Go to the Azure portal, and remove the original compute resource</span></span>
