---
title: 'Kurz: Klasifikovat porušení stavu s Model Builder'
description: Tento kurz ukazuje, jak vytvořit vícetřídní klasifikační model pomocí ML.NET Model Builder klasifikovat závažnost porušení stavu restaurace v San Francisku.
author: luisquintanilla
ms.author: luquinta
ms.date: 11/21/2019
ms.topic: tutorial
ms.custom: mvc,mlnet-tooling
ms.openlocfilehash: 6a36989f9453208e436ef8a4db2d4440aa0a1382
ms.sourcegitcommit: 2ff49dcf9ddf107d139b4055534681052febad62
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 03/31/2020
ms.locfileid: "80438193"
---
# <a name="tutorial-classify-the-severity-of-restaurant-health-violations-with-model-builder"></a><span data-ttu-id="79ba2-103">Kurz: Klasifikujte závažnost porušení stavu restaurace s Model Builder</span><span class="sxs-lookup"><span data-stu-id="79ba2-103">Tutorial: Classify the severity of restaurant health violations with Model Builder</span></span>

<span data-ttu-id="79ba2-104">Naučte se, jak vytvořit vícetřídní klasifikační model pomocí Tvůrce modelů ke kategorizaci úrovně rizika porušení restaurací zjištěných při kontrolách stavu.</span><span class="sxs-lookup"><span data-stu-id="79ba2-104">Learn how to build a multiclass classification model using Model Builder to categorize the risk level of restaurant violations found during health inspections.</span></span>

<span data-ttu-id="79ba2-105">V tomto kurzu se naučíte:</span><span class="sxs-lookup"><span data-stu-id="79ba2-105">In this tutorial, you learn how to:</span></span>

> [!div class="checklist"]
>
> - <span data-ttu-id="79ba2-106">Příprava a pochopení dat</span><span class="sxs-lookup"><span data-stu-id="79ba2-106">Prepare and understand the data</span></span>
> - <span data-ttu-id="79ba2-107">Výběr scénáře</span><span class="sxs-lookup"><span data-stu-id="79ba2-107">Choose a scenario</span></span>
> - <span data-ttu-id="79ba2-108">Načtení dat z databáze</span><span class="sxs-lookup"><span data-stu-id="79ba2-108">Load data from a database</span></span>
> - <span data-ttu-id="79ba2-109">Trénování modelu</span><span class="sxs-lookup"><span data-stu-id="79ba2-109">Train the model</span></span>
> - <span data-ttu-id="79ba2-110">Vyhodnocení modelu</span><span class="sxs-lookup"><span data-stu-id="79ba2-110">Evaluate the model</span></span>
> - <span data-ttu-id="79ba2-111">Použití modelu pro předpovědi</span><span class="sxs-lookup"><span data-stu-id="79ba2-111">Use the model for predictions</span></span>

> [!NOTE]
> <span data-ttu-id="79ba2-112">Tvůrce modelů je momentálně ve verzi Preview.</span><span class="sxs-lookup"><span data-stu-id="79ba2-112">Model Builder is currently in Preview.</span></span>

## <a name="prerequisites"></a><span data-ttu-id="79ba2-113">Požadavky</span><span class="sxs-lookup"><span data-stu-id="79ba2-113">Prerequisites</span></span>

<span data-ttu-id="79ba2-114">Seznam předpokladů a pokynů k instalaci naleznete v [instalační příručce výrobce modelů](../how-to-guides/install-model-builder.md).</span><span class="sxs-lookup"><span data-stu-id="79ba2-114">For a list of prerequisites and installation instructions, visit the [Model Builder installation guide](../how-to-guides/install-model-builder.md).</span></span>

## <a name="model-builder-multiclass-classification-overview"></a><span data-ttu-id="79ba2-115">Přehled klasifikace vícetřídového tvůrce modelů</span><span class="sxs-lookup"><span data-stu-id="79ba2-115">Model Builder multiclass classification overview</span></span>

<span data-ttu-id="79ba2-116">Tato ukázka vytvoří aplikaci konzoly C# .NET Core, která kategorizuje riziko porušení stavu pomocí modelu strojového učení vytvořeného pomocí tvůrce modelů.</span><span class="sxs-lookup"><span data-stu-id="79ba2-116">This sample creates a C# .NET Core console application that categorizes the risk of health violations using a machine learning model built with Model Builder.</span></span> <span data-ttu-id="79ba2-117">Zdrojový kód pro tento kurz najdete v úložišti GitHub [dotnet/machinelearning-samples.](https://github.com/dotnet/machinelearning-samples/tree/master/samples/modelbuilder/MulticlassClassification_RestaurantViolations)</span><span class="sxs-lookup"><span data-stu-id="79ba2-117">You can find the source code for this tutorial at the [dotnet/machinelearning-samples](https://github.com/dotnet/machinelearning-samples/tree/master/samples/modelbuilder/MulticlassClassification_RestaurantViolations) GitHub repository.</span></span>

## <a name="create-a-console-application"></a><span data-ttu-id="79ba2-118">Vytvoření konzolové aplikace</span><span class="sxs-lookup"><span data-stu-id="79ba2-118">Create a console application</span></span>

1. <span data-ttu-id="79ba2-119">Vytvořte **aplikaci konzoly C# .NET Core** s názvem "RestaurantViolations".</span><span class="sxs-lookup"><span data-stu-id="79ba2-119">Create a **C# .NET Core console application** called "RestaurantViolations".</span></span> <span data-ttu-id="79ba2-120">Ujistěte se, že **umístit řešení a projekt ve stejném adresáři** je **nezaškrtnuté** (VS 2019) nebo **vytvořit adresář pro řešení** je **zaškrtnuto** (VS 2017).</span><span class="sxs-lookup"><span data-stu-id="79ba2-120">Make sure **Place solution and project in the same directory** is **unchecked** (VS 2019), or **Create directory for solution** is **checked** (VS 2017).</span></span>

## <a name="prepare-and-understand-the-data"></a><span data-ttu-id="79ba2-121">Příprava a pochopení dat</span><span class="sxs-lookup"><span data-stu-id="79ba2-121">Prepare and understand the data</span></span>

> <span data-ttu-id="79ba2-122">Soubor dat používaný k trénování a vyhodnocování modelu strojového učení pochází původně z [oddělení sanfranciského ministerstva bezpečnosti restaurací pro veřejné zdraví](https://www.sfdph.org/dph/EH/Food/score/default.asp).</span><span class="sxs-lookup"><span data-stu-id="79ba2-122">The data set used to train and evaluate the machine learning model is originally from the [San Francisco Department of Public Health Restaurant Safety Scores](https://www.sfdph.org/dph/EH/Food/score/default.asp).</span></span> <span data-ttu-id="79ba2-123">Pro větší pohodlí byla datová sada zhuštěna tak, aby obsahovala pouze sloupce důležité pro trénování modelu a předpovědi.</span><span class="sxs-lookup"><span data-stu-id="79ba2-123">For convenience, the dataset has been condensed to only include the columns relevant to train the model and make predictions.</span></span> <span data-ttu-id="79ba2-124">Další informace o [datové sadě](https://data.sfgov.org/Health-and-Social-Services/Restaurant-Scores-LIVES-Standard/pyih-qa8i?row_index=0)naleznete na následujícím webu .</span><span class="sxs-lookup"><span data-stu-id="79ba2-124">Visit the following website to learn more about the [dataset](https://data.sfgov.org/Health-and-Social-Services/Restaurant-Scores-LIVES-Standard/pyih-qa8i?row_index=0).</span></span>

<span data-ttu-id="79ba2-125">[Stáhněte si datovou sadu Restaurant Safety Scores](https://github.com/luisquintanilla/machinelearning-samples/raw/AB1608219/samples/modelbuilder/MulticlassClassification_RestaurantViolations/RestaurantScores.zip) a rozbalte ji.</span><span class="sxs-lookup"><span data-stu-id="79ba2-125">[Download the Restaurant Safety Scores dataset](https://github.com/luisquintanilla/machinelearning-samples/raw/AB1608219/samples/modelbuilder/MulticlassClassification_RestaurantViolations/RestaurantScores.zip) and unzip it.</span></span>

<span data-ttu-id="79ba2-126">Každý řádek v datovém souboru obsahuje informace o porušeních zjištěných při kontrole ze strany ministerstva zdravotnictví a posouzení rizik a rizika, které tato porušení představují pro veřejné zdraví a bezpečnost.</span><span class="sxs-lookup"><span data-stu-id="79ba2-126">Each row in the dataset contains information regarding violations observed during an inspection from the Health Department and a risk assessment of the threat those violations present to public health and safety.</span></span>

| <span data-ttu-id="79ba2-127">Typ kontroly</span><span class="sxs-lookup"><span data-stu-id="79ba2-127">InspectionType</span></span> | <span data-ttu-id="79ba2-128">PorušeníPopis</span><span class="sxs-lookup"><span data-stu-id="79ba2-128">ViolationDescription</span></span> | <span data-ttu-id="79ba2-129">Kategorie rizika</span><span class="sxs-lookup"><span data-stu-id="79ba2-129">RiskCategory</span></span> |
| --- | --- | --- |
| <span data-ttu-id="79ba2-130">Rutina - neplánovaná</span><span class="sxs-lookup"><span data-stu-id="79ba2-130">Routine - Unscheduled</span></span> | <span data-ttu-id="79ba2-131">Nedostatečně vyčištěné nebo dezinfikované povrchy styku s potravinami</span><span class="sxs-lookup"><span data-stu-id="79ba2-131">Inadequately cleaned or sanitized food contact surfaces</span></span> | <span data-ttu-id="79ba2-132">Mírné riziko</span><span class="sxs-lookup"><span data-stu-id="79ba2-132">Moderate Risk</span></span> |
| <span data-ttu-id="79ba2-133">Nové vlastnictví</span><span class="sxs-lookup"><span data-stu-id="79ba2-133">New Ownership</span></span> | <span data-ttu-id="79ba2-134">Vysoce rizikové zamoření škůdci</span><span class="sxs-lookup"><span data-stu-id="79ba2-134">High risk vermin infestation</span></span> | <span data-ttu-id="79ba2-135">Vysoké riziko</span><span class="sxs-lookup"><span data-stu-id="79ba2-135">High Risk</span></span> |
| <span data-ttu-id="79ba2-136">Rutina - neplánovaná</span><span class="sxs-lookup"><span data-stu-id="79ba2-136">Routine - Unscheduled</span></span> | <span data-ttu-id="79ba2-137">Utěrací utěrky nejsou čisté nebo řádně uložené nebo nedostatečné dezinfekční</span><span class="sxs-lookup"><span data-stu-id="79ba2-137">Wiping cloths not clean or properly stored or inadequate sanitizer</span></span> | <span data-ttu-id="79ba2-138">Nízké riziko</span><span class="sxs-lookup"><span data-stu-id="79ba2-138">Low Risk</span></span> |

- <span data-ttu-id="79ba2-139">**InspectionType**: typ kontroly.</span><span class="sxs-lookup"><span data-stu-id="79ba2-139">**InspectionType**: the type of inspection.</span></span> <span data-ttu-id="79ba2-140">Může se jednalo buď o první inspekci nového zařízení, rutinní inspekci, inspekci stížností a mnoho dalších typů.</span><span class="sxs-lookup"><span data-stu-id="79ba2-140">This can either be a first-time inspection for a new establishment, a routine inspection, a complaint inspection, and many other types.</span></span>
- <span data-ttu-id="79ba2-141">**PorušeníPopis**: popis porušení zjištěného během kontroly.</span><span class="sxs-lookup"><span data-stu-id="79ba2-141">**ViolationDescription**: a description of the violation found during inspection.</span></span>
- <span data-ttu-id="79ba2-142">**RizikaKategorie**: závažnost rizika porušení představuje pro veřejné zdraví a bezpečnost.</span><span class="sxs-lookup"><span data-stu-id="79ba2-142">**RiskCategory**: the risk severity a violation poses to public health and safety.</span></span>

<span data-ttu-id="79ba2-143">Je `label` sloupec, který chcete předpovědět.</span><span class="sxs-lookup"><span data-stu-id="79ba2-143">The `label` is the column you want to predict.</span></span> <span data-ttu-id="79ba2-144">Při provádění úkolu klasifikace je cílem přiřadit kategorii (text nebo číselné).</span><span class="sxs-lookup"><span data-stu-id="79ba2-144">When performing a classification task, the goal is to assign a category (text or numerical).</span></span> <span data-ttu-id="79ba2-145">V tomto scénáři klasifikace závažnost porušení je přiřazena hodnota nízké, střední nebo vysoké riziko.</span><span class="sxs-lookup"><span data-stu-id="79ba2-145">In this classification scenario, the severity of the violation is assigned the value of low, moderate, or high risk.</span></span> <span data-ttu-id="79ba2-146">Proto **RiskCategory** je popisek.</span><span class="sxs-lookup"><span data-stu-id="79ba2-146">Therefore, the **RiskCategory** is the label.</span></span> <span data-ttu-id="79ba2-147">Jsou `features` vstupy, které dáte modelu `label`předpovědět .</span><span class="sxs-lookup"><span data-stu-id="79ba2-147">The `features` are the inputs you give the model to predict the `label`.</span></span> <span data-ttu-id="79ba2-148">V tomto případě **InspectionType** a **ViolationDescription** se používají jako funkce nebo vstupy předpovědět **RiskCategory**.</span><span class="sxs-lookup"><span data-stu-id="79ba2-148">In this case, the **InspectionType** and **ViolationDescription** are used as features or inputs to predict the **RiskCategory**.</span></span>

## <a name="choose-a-scenario"></a><span data-ttu-id="79ba2-149">Výběr scénáře</span><span class="sxs-lookup"><span data-stu-id="79ba2-149">Choose a scenario</span></span>

![Průvodce tvůrcem modelů v sadě Visual Studio](./media/sentiment-analysis-model-builder/model-builder-screen.png)

<span data-ttu-id="79ba2-151">Chcete-li trénovat model, vyberte ze seznamu dostupných scénářů strojového učení, které poskytuje Tvůrce modelů.</span><span class="sxs-lookup"><span data-stu-id="79ba2-151">To train your model, select from the list of available machine learning scenarios provided by Model Builder.</span></span> <span data-ttu-id="79ba2-152">V tomto případě je scénář *klasifikace vydání*.</span><span class="sxs-lookup"><span data-stu-id="79ba2-152">In this case, the scenario is *Issue Classification*.</span></span>

1. <span data-ttu-id="79ba2-153">V **Průzkumníku řešení**klepněte pravým tlačítkem myši na projekt *RestaurantViolations* a vyberte **přidat** > **strojové učení**.</span><span class="sxs-lookup"><span data-stu-id="79ba2-153">In **Solution Explorer**, right-click the *RestaurantViolations* project, and select **Add** > **Machine Learning**.</span></span>
1. <span data-ttu-id="79ba2-154">Pro tuto ukázku scénář je klasifikace více tříd.</span><span class="sxs-lookup"><span data-stu-id="79ba2-154">For this sample, the scenario is multiclass classification.</span></span> <span data-ttu-id="79ba2-155">V kroku *scénář* tvůrce modelů vyberte scénář **klasifikace problémů.**</span><span class="sxs-lookup"><span data-stu-id="79ba2-155">In the *Scenario* step of Model Builder, select the **Issue Classification** scenario.</span></span>

## <a name="load-the-data"></a><span data-ttu-id="79ba2-156">Načtení dat</span><span class="sxs-lookup"><span data-stu-id="79ba2-156">Load the data</span></span>

<span data-ttu-id="79ba2-157">Tvůrce modelů přijímá data z databáze serveru SQL `csv` `tsv` Server nebo místního souboru ve formátu nebo formátu.</span><span class="sxs-lookup"><span data-stu-id="79ba2-157">Model Builder accepts data from a SQL Server database or a local file in `csv` or `tsv` format.</span></span>

1. <span data-ttu-id="79ba2-158">V datovém kroku nástroje Model Builder vyberte **SQL Server** z rozevíracího souboru zdroje dat.</span><span class="sxs-lookup"><span data-stu-id="79ba2-158">In the data step of the Model Builder tool, select **SQL Server** from the data source dropdown.</span></span>
1. <span data-ttu-id="79ba2-159">Vyberte tlačítko vedle textového pole **Připojit k databázi serveru SQL Server.**</span><span class="sxs-lookup"><span data-stu-id="79ba2-159">Select the button next to the **Connect to SQL Server database** text box.</span></span>
    1. <span data-ttu-id="79ba2-160">V dialogovém okně **Zvolit data** vyberte **položku Microsoft SQL Server Database File**.</span><span class="sxs-lookup"><span data-stu-id="79ba2-160">In the **Choose Data** dialog, select **Microsoft SQL Server Database File**.</span></span>
    1. <span data-ttu-id="79ba2-161">Zrušte zaškrtnutí políčka **Vždy použít tento výběr** a vyberte **pokračovat**.</span><span class="sxs-lookup"><span data-stu-id="79ba2-161">Uncheck the **Always use this selection** checkbox and select **Continue**.</span></span>
    1. <span data-ttu-id="79ba2-162">V dialogovém okně **Vlastnosti připojení** vyberte **Procházet** a vyberte stažený soubor *RestaurantScores.mdf.*</span><span class="sxs-lookup"><span data-stu-id="79ba2-162">In the **Connection Properties** dialog, select **Browse** and select the downloaded *RestaurantScores.mdf* file.</span></span>
    1. <span data-ttu-id="79ba2-163">Vyberte **OK**.</span><span class="sxs-lookup"><span data-stu-id="79ba2-163">Select **OK**.</span></span>
1. <span data-ttu-id="79ba2-164">V rozevíracím souboru **Název tabulky** zvolte **Porušení.**</span><span class="sxs-lookup"><span data-stu-id="79ba2-164">Choose **Violations** from the **Table Name** dropdown.</span></span>
1. <span data-ttu-id="79ba2-165">V rozevíracím seznamu **Sloupec k předvídání (Popisek)** zvolte **Kategorie rizika.**</span><span class="sxs-lookup"><span data-stu-id="79ba2-165">Choose **RiskCategory** in the **Column to Predict (Label)** dropdown.</span></span>
1. <span data-ttu-id="79ba2-166">Ponechte výchozí výběr **sloupců, InspectionType** a **ViolationDescription**, se změnami v rozevírací seznam **Vstupní sloupce (Funkce).**</span><span class="sxs-lookup"><span data-stu-id="79ba2-166">Leave the default column selections, **InspectionType** and **ViolationDescription**, checked in the **Input Columns (Features)** dropdown.</span></span>
1. <span data-ttu-id="79ba2-167">Vyberte **vlak** odkaz přejít na další krok v Builder.</span><span class="sxs-lookup"><span data-stu-id="79ba2-167">Select the **Train** link to move to the next step in Model Builder.</span></span>

## <a name="train-the-model"></a><span data-ttu-id="79ba2-168">Trénování modelu</span><span class="sxs-lookup"><span data-stu-id="79ba2-168">Train the model</span></span>

<span data-ttu-id="79ba2-169">Úloha strojového učení slouží k trénování modelu klasifikace problémů v tomto kurzu je klasifikace více tříd.</span><span class="sxs-lookup"><span data-stu-id="79ba2-169">The machine learning task used to train the issue classification model in this tutorial is multiclass classification.</span></span> <span data-ttu-id="79ba2-170">Během procesu školení modelu Model Builder trénuje samostatné modely pomocí různých algoritmů klasifikace více tříd a nastavení, aby našel nejvýkonnější model pro vaši datovou sadu.</span><span class="sxs-lookup"><span data-stu-id="79ba2-170">During the model training process, Model Builder trains separate models using different multiclass classification algorithms and settings to find the best performing model for your dataset.</span></span>

<span data-ttu-id="79ba2-171">Doba potřebná pro model pro trénování je úměrná množství dat.</span><span class="sxs-lookup"><span data-stu-id="79ba2-171">The time required for the model to train is proportional to the amount of data.</span></span> <span data-ttu-id="79ba2-172">Tvůrce modelů automaticky vybere výchozí hodnotu pro **čas pro trénování (sekundy)** na základě velikosti zdroje dat.</span><span class="sxs-lookup"><span data-stu-id="79ba2-172">Model Builder automatically selects a default value for **Time to train (seconds)** based on the size of your data source.</span></span>

1. <span data-ttu-id="79ba2-173">Přestože Model Builder nastaví hodnotu **Čas trénovat (sekundy)** na 10 sekund, zvyšte ji na 30 sekund.</span><span class="sxs-lookup"><span data-stu-id="79ba2-173">Although Model Builder sets the value of **Time to train (seconds)** to 10 seconds, increase it to 30 seconds.</span></span> <span data-ttu-id="79ba2-174">Školení pro delší časové zpracování umožňuje Model Builder prozkoumat větší počet algoritmů a kombinace parametrů při hledání nejlepší model.</span><span class="sxs-lookup"><span data-stu-id="79ba2-174">Training for a longer period of time allows Model Builder to explore a larger number of algorithms and combination of parameters in search of the best model.</span></span>
1. <span data-ttu-id="79ba2-175">Vyberte **možnost Zahájit trénink**.</span><span class="sxs-lookup"><span data-stu-id="79ba2-175">Select **Start Training**.</span></span>

    <span data-ttu-id="79ba2-176">V průběhu tréninkového procesu se `Progress` údaje o průběhu zobrazují v části kroku vlaku.</span><span class="sxs-lookup"><span data-stu-id="79ba2-176">Throughout the training process, progress data is displayed in the `Progress` section of the train step.</span></span>

    - <span data-ttu-id="79ba2-177">**Stav** zobrazuje stav dokončení procesu školení.</span><span class="sxs-lookup"><span data-stu-id="79ba2-177">**Status** displays the completion status of the training process.</span></span>
    - <span data-ttu-id="79ba2-178">**Nejlepší přesnost** zobrazuje přesnost nejvýkonnějšího modelu, který dosud našel Model Builder.</span><span class="sxs-lookup"><span data-stu-id="79ba2-178">**Best accuracy** displays the accuracy of the best performing model found by Model Builder so far.</span></span> <span data-ttu-id="79ba2-179">Vyšší přesnost znamená, že model byl na testovacích datech předpovězen správněji.</span><span class="sxs-lookup"><span data-stu-id="79ba2-179">Higher accuracy means the model predicted more correctly on test data.</span></span>
    - <span data-ttu-id="79ba2-180">**Nejlepší algoritmus** zobrazí název algoritmu s nejlepším výkonem, který dosud našel Model Builder.</span><span class="sxs-lookup"><span data-stu-id="79ba2-180">**Best algorithm** displays the name of the best-performing algorithm found by Model Builder so far.</span></span>
    - <span data-ttu-id="79ba2-181">**Poslední algoritmus** zobrazí název algoritmu, který byl naposledy použit tvůrcem modelů k trénování modelu.</span><span class="sxs-lookup"><span data-stu-id="79ba2-181">**Last algorithm** displays the name of the algorithm most recently used by Model Builder to train the model.</span></span>

1. <span data-ttu-id="79ba2-182">Po dokončení tréninku vyberte odkaz **Vyhodnotit a** přejděte k dalšímu kroku.</span><span class="sxs-lookup"><span data-stu-id="79ba2-182">Once training is complete, select the **Evaluate** link to move to the next step.</span></span>

## <a name="evaluate-the-model"></a><span data-ttu-id="79ba2-183">Vyhodnocení modelu</span><span class="sxs-lookup"><span data-stu-id="79ba2-183">Evaluate the model</span></span>

<span data-ttu-id="79ba2-184">Výsledkem kroku školení je jeden model, který měl nejlepší výkon.</span><span class="sxs-lookup"><span data-stu-id="79ba2-184">The result of the training step is the one model that had the best performance.</span></span> <span data-ttu-id="79ba2-185">V kroku vyhodnocení Tvůrce modelů obsahuje výstupní část algoritmus používaný nejvýkonnějším modelem v položce **Nejlepší model** spolu s metrikami v **kategorii Nejlepší přesnost modelu**.</span><span class="sxs-lookup"><span data-stu-id="79ba2-185">In the evaluate step of Model Builder, the output section contains the algorithm used by the best performing model in the **Best Model** entry along with metrics in **Best Model Accuracy**.</span></span> <span data-ttu-id="79ba2-186">Kromě toho se zobrazí souhrnná tabulka obsahující až pět modelů, které byly prozkoumány a jejich metriky.</span><span class="sxs-lookup"><span data-stu-id="79ba2-186">Additionally, a summary table containing up to five models that were explored and their metrics is displayed.</span></span>

<span data-ttu-id="79ba2-187">Pokud nejste spokojeni s metrikami přesnosti, některé jednoduché způsoby, jak se pokusit zlepšit přesnost modelu, je prodloužit dobu pro trénování modelu nebo použití více dat.</span><span class="sxs-lookup"><span data-stu-id="79ba2-187">If you're not satisfied with your accuracy metrics, some easy ways to try to improve model accuracy are to increase the amount of time to train the model or use more data.</span></span> <span data-ttu-id="79ba2-188">V opačném případě vyberte odkaz **kódu** pro přechod na poslední krok v Builder.</span><span class="sxs-lookup"><span data-stu-id="79ba2-188">Otherwise, select the **code** link to move to the final step in Model Builder.</span></span>

## <a name="add-the-code-to-make-predictions"></a><span data-ttu-id="79ba2-189">Přidání kódu pro předpověď</span><span class="sxs-lookup"><span data-stu-id="79ba2-189">Add the code to make predictions</span></span>

<span data-ttu-id="79ba2-190">Dva projekty jsou vytvořeny v důsledku procesu školení.</span><span class="sxs-lookup"><span data-stu-id="79ba2-190">Two projects are created as a result of the training process.</span></span>

- <span data-ttu-id="79ba2-191">RestaurantViolationsML.ConsoleApp: Aplikace C# .NET Core Console, která obsahuje trénování modelu a kód spotřeby vzorku.</span><span class="sxs-lookup"><span data-stu-id="79ba2-191">RestaurantViolationsML.ConsoleApp: A C# .NET Core Console application that contains the model training and sample consumption code.</span></span>
- <span data-ttu-id="79ba2-192">RestaurantViolationsML.Model: Knihovna třídy .NET Standard obsahující datové modely, které definují schéma vstupních a výstupních dat modelu, uloženou `ConsumeModel` verzi nejvýkonnějšího modelu během trénovaní a pomocnou třídu volanou k předpovědi.</span><span class="sxs-lookup"><span data-stu-id="79ba2-192">RestaurantViolationsML.Model: A .NET Standard class library containing the data models that define the schema of input and output model data, the saved version of the best performing model during training, and a helper class called `ConsumeModel` to make predictions.</span></span>

1. <span data-ttu-id="79ba2-193">V kroku kódu Tvůrce modelů vyberte **Přidat projekty** a přidejte do řešení automaticky generované projekty.</span><span class="sxs-lookup"><span data-stu-id="79ba2-193">In the code step of Model Builder, select **Add Projects** to add the autogenerated projects to the solution.</span></span>
1. <span data-ttu-id="79ba2-194">Otevřete soubor *Program.cs* v projektu *RestaurantViolations.*</span><span class="sxs-lookup"><span data-stu-id="79ba2-194">Open the *Program.cs* file in the *RestaurantViolations* project.</span></span>
1. <span data-ttu-id="79ba2-195">Přidejte následující příkaz using, abyste odkazovali na projekt *RestaurantViolationsML.Model:*</span><span class="sxs-lookup"><span data-stu-id="79ba2-195">Add the following using statement to reference the *RestaurantViolationsML.Model* project:</span></span>

    [!code-csharp [ProgramUsings](~/machinelearning-samples/samples/modelbuilder/MulticlassClassification_RestaurantViolations/RestaurantViolations/Program.cs#L2)]

1. <span data-ttu-id="79ba2-196">Chcete-li předpovědět nová data pomocí modelu, vytvořte `ModelInput` novou `Main` instanci třídy uvnitř metody vaší aplikace.</span><span class="sxs-lookup"><span data-stu-id="79ba2-196">To make a prediction on new data using the model, create a new instance of the `ModelInput` class inside the `Main` method of your application.</span></span> <span data-ttu-id="79ba2-197">Všimněte si, že kategorie rizika není součástí vstupu.</span><span class="sxs-lookup"><span data-stu-id="79ba2-197">Notice that the risk category is not part of the input.</span></span> <span data-ttu-id="79ba2-198">Důvodem je, že model generuje předpověď pro něj.</span><span class="sxs-lookup"><span data-stu-id="79ba2-198">This is because the model generates the prediction for it.</span></span>

    [!code-csharp [TestData](~/machinelearning-samples/samples/modelbuilder/MulticlassClassification_RestaurantViolations/RestaurantViolations/Program.cs#L11-L15)]

1. <span data-ttu-id="79ba2-199">Použijte `Predict` metodu `ConsumeModel` z třídy.</span><span class="sxs-lookup"><span data-stu-id="79ba2-199">Use the `Predict` method from the `ConsumeModel` class.</span></span> <span data-ttu-id="79ba2-200">Metoda `Predict` načte trénovaný [`PredictionEngine`](xref:Microsoft.ML.PredictionEngine%602) model, vytvoří pro model a používá jej k vytváření předpovědí na nová data.</span><span class="sxs-lookup"><span data-stu-id="79ba2-200">The `Predict` method loads the trained model, creates a [`PredictionEngine`](xref:Microsoft.ML.PredictionEngine%602) for the model, and uses it to make predictions on new data.</span></span>

    [!code-csharp [Prediction](~/machinelearning-samples/samples/modelbuilder/MulticlassClassification_RestaurantViolations/RestaurantViolations/Program.cs#L17-L24)]

1. <span data-ttu-id="79ba2-201">Spusťte aplikaci.</span><span class="sxs-lookup"><span data-stu-id="79ba2-201">Run the application.</span></span>

    <span data-ttu-id="79ba2-202">Výstup generovaný programem by měl vypadat podobně jako výstřižek níže:</span><span class="sxs-lookup"><span data-stu-id="79ba2-202">The output generated by the program should look similar to the snippet below:</span></span>

    ```bash
    Inspection Type: Complaint
    Violation Description: Inadequate sewage or wastewater disposal
    Risk Category: Moderate Risk
    ```

<span data-ttu-id="79ba2-203">Pokud potřebujete odkazovat na generované projekty později uvnitř jiného řešení, `C:\Users\%USERNAME%\AppData\Local\Temp\MLVSTools` můžete je najít uvnitř adresáře.</span><span class="sxs-lookup"><span data-stu-id="79ba2-203">If you need to reference the generated projects at a later time inside of another solution, you can find them inside the `C:\Users\%USERNAME%\AppData\Local\Temp\MLVSTools` directory.</span></span>

<span data-ttu-id="79ba2-204">Blahopřejeme!</span><span class="sxs-lookup"><span data-stu-id="79ba2-204">Congratulations!</span></span> <span data-ttu-id="79ba2-205">Úspěšně jste vytvořili model strojového učení, abyste kategorizovali riziko porušení stavu pomocí Tvůrce modelů.</span><span class="sxs-lookup"><span data-stu-id="79ba2-205">You've successfully built a machine learning model to categorize the risk of health violations using Model Builder.</span></span> <span data-ttu-id="79ba2-206">Zdrojový kód pro tento kurz najdete v úložišti GitHub [dotnet/machinelearning-samples.](https://github.com/dotnet/machinelearning-samples/tree/master/samples/modelbuilder/MulticlassClassification_RestaurantViolations)</span><span class="sxs-lookup"><span data-stu-id="79ba2-206">You can find the source code for this tutorial at the [dotnet/machinelearning-samples](https://github.com/dotnet/machinelearning-samples/tree/master/samples/modelbuilder/MulticlassClassification_RestaurantViolations) GitHub repository.</span></span>

## <a name="additional-resources"></a><span data-ttu-id="79ba2-207">Další zdroje</span><span class="sxs-lookup"><span data-stu-id="79ba2-207">Additional resources</span></span>

<span data-ttu-id="79ba2-208">Další informace o tématech uvedených v tomto kurzu naleznete v následujících zdrojích:</span><span class="sxs-lookup"><span data-stu-id="79ba2-208">To learn more about topics mentioned in this tutorial, visit the following resources:</span></span>

- [<span data-ttu-id="79ba2-209">Scénáře tvůrce modelů</span><span class="sxs-lookup"><span data-stu-id="79ba2-209">Model Builder Scenarios</span></span>](../automate-training-with-model-builder.md#scenario)
- [<span data-ttu-id="79ba2-210">Klasifikace více tříd</span><span class="sxs-lookup"><span data-stu-id="79ba2-210">Multiclass Classification</span></span>](../resources/glossary.md#multiclass-classification)
- [<span data-ttu-id="79ba2-211">Metriky modelu klasifikace více tříd</span><span class="sxs-lookup"><span data-stu-id="79ba2-211">Multiclass Classification Model Metrics</span></span>](../resources/metrics.md#evaluation-metrics-for-multi-class-classification)
