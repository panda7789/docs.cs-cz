---
title: 'Kurz: klasifikace porušení stavu pomocí Tvůrce modelů'
description: Tento kurz ukazuje, jak vytvořit model klasifikace s více třídami pomocí Tvůrce modelů ML.NET ke klasifikaci závažnosti porušení stavu Restaurace v San Francisco.
author: luisquintanilla
ms.author: luquinta
ms.date: 10/30/2019
ms.topic: tutorial
ms.custom: mvc
ms.openlocfilehash: 53f446d4aad8517d758e936d2d2881071f319423
ms.sourcegitcommit: 559fcfbe4871636494870a8b716bf7325df34ac5
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 10/30/2019
ms.locfileid: "73142177"
---
# <a name="tutorial-classify-the-severity-of-restaurant-health-violations-with-model-builder"></a><span data-ttu-id="e8a1f-103">Kurz: klasifikace závažnosti porušení stavu restaurací pomocí Tvůrce modelů</span><span class="sxs-lookup"><span data-stu-id="e8a1f-103">Tutorial: Classify the severity of restaurant health violations with Model Builder</span></span>

<span data-ttu-id="e8a1f-104">Naučte se vytvářet model klasifikace s více třídami pomocí Tvůrce modelů ke kategorizaci úrovně rizika porušení v restauracích, která byla zjištěna během kontrol stavu.</span><span class="sxs-lookup"><span data-stu-id="e8a1f-104">Learn how to build a multiclass classification model using Model Builder to categorize the risk level of restaurant violations found during health inspections.</span></span>

<span data-ttu-id="e8a1f-105">V tomto kurzu se naučíte:</span><span class="sxs-lookup"><span data-stu-id="e8a1f-105">In this tutorial, you learn how to:</span></span>

> [!div class="checklist"]
>
> - <span data-ttu-id="e8a1f-106">Příprava a pochopení dat</span><span class="sxs-lookup"><span data-stu-id="e8a1f-106">Prepare and understand the data</span></span>
> - <span data-ttu-id="e8a1f-107">Zvolit scénář</span><span class="sxs-lookup"><span data-stu-id="e8a1f-107">Choose a scenario</span></span>
> - <span data-ttu-id="e8a1f-108">Načtení dat z databáze</span><span class="sxs-lookup"><span data-stu-id="e8a1f-108">Load data from a database</span></span>
> - <span data-ttu-id="e8a1f-109">Výuka modelu</span><span class="sxs-lookup"><span data-stu-id="e8a1f-109">Train the model</span></span>
> - <span data-ttu-id="e8a1f-110">Vyhodnocení modelu</span><span class="sxs-lookup"><span data-stu-id="e8a1f-110">Evaluate the model</span></span>
> - <span data-ttu-id="e8a1f-111">Použití modelu pro předpovědi</span><span class="sxs-lookup"><span data-stu-id="e8a1f-111">Use the model for predictions</span></span>

> [!NOTE]
> <span data-ttu-id="e8a1f-112">Tvůrce modelů je aktuálně ve verzi Preview.</span><span class="sxs-lookup"><span data-stu-id="e8a1f-112">Model Builder is currently in Preview.</span></span>

## <a name="prerequisites"></a><span data-ttu-id="e8a1f-113">Požadavky</span><span class="sxs-lookup"><span data-stu-id="e8a1f-113">Prerequisites</span></span>

<span data-ttu-id="e8a1f-114">Seznam požadavků a pokyny k instalaci najdete v [Průvodci instalací modelu modelů](../how-to-guides/install-model-builder.md).</span><span class="sxs-lookup"><span data-stu-id="e8a1f-114">For a list of prerequisites and installation instructions, visit the [Model Builder installation guide](../how-to-guides/install-model-builder.md).</span></span>

## <a name="model-builder-multiclass-classification-overview"></a><span data-ttu-id="e8a1f-115">Přehled klasifikace více tříd tvůrce modelů</span><span class="sxs-lookup"><span data-stu-id="e8a1f-115">Model Builder multiclass classification overview</span></span> 

<span data-ttu-id="e8a1f-116">Tato ukázka vytvoří konzolovou aplikaci C# .NET Core, která kategorizuje riziko porušení stavu pomocí modelu strojového učení sestaveného pomocí Tvůrce modelů.</span><span class="sxs-lookup"><span data-stu-id="e8a1f-116">This sample creates a C# .NET Core console application that categorizes the risk of health violations using a machine learning model built with Model Builder.</span></span> <span data-ttu-id="e8a1f-117">Zdrojový kód pro tento kurz najdete v úložišti GitHub [/machinelearning-Samples](https://github.com/dotnet/machinelearning-samples/tree/master/samples/modelbuilder/MulticlassClassification_RestaurantViolations) .</span><span class="sxs-lookup"><span data-stu-id="e8a1f-117">You can find the source code for this tutorial at the [dotnet/machinelearning-samples](https://github.com/dotnet/machinelearning-samples/tree/master/samples/modelbuilder/MulticlassClassification_RestaurantViolations) GitHub repository.</span></span>

## <a name="create-a-console-application"></a><span data-ttu-id="e8a1f-118">Vytvoření konzolové aplikace</span><span class="sxs-lookup"><span data-stu-id="e8a1f-118">Create a console application</span></span>

1. <span data-ttu-id="e8a1f-119">Vytvořte  **C# konzolovou aplikaci .NET Core** nazvanou "RestaurantViolations".</span><span class="sxs-lookup"><span data-stu-id="e8a1f-119">Create a **C# .NET Core console application** called "RestaurantViolations".</span></span>

## <a name="prepare-and-understand-the-data"></a><span data-ttu-id="e8a1f-120">Příprava a pochopení dat</span><span class="sxs-lookup"><span data-stu-id="e8a1f-120">Prepare and understand the data</span></span>

> <span data-ttu-id="e8a1f-121">Datová sada, která se používá ke studiu a vyhodnocení modelu Machine Learning, je původně od [Francisco oddělení San veřejného zdravotního hodnocení z oblasti bezpečnosti restaurace](https://www.sfdph.org/dph/EH/Food/score/default.asp).</span><span class="sxs-lookup"><span data-stu-id="e8a1f-121">The data set used to train and evaluate the machine learning model is originally from the [San Francisco Department of Public Health Restaurant Safety Scores](https://www.sfdph.org/dph/EH/Food/score/default.asp).</span></span> <span data-ttu-id="e8a1f-122">Pro usnadnění pohodlí byla datová sada zhuštěná tak, aby obsahovala pouze sloupce, které jsou relevantní pro výuku modelu a předpovědi.</span><span class="sxs-lookup"><span data-stu-id="e8a1f-122">For convenience, the dataset has been condensed to only include the columns relevant to train the model and make predictions.</span></span> <span data-ttu-id="e8a1f-123">Další informace o této [datové sadě](https://data.sfgov.org/Health-and-Social-Services/Restaurant-Scores-LIVES-Standard/pyih-qa8i?row_index=0)najdete na následujícím webu.</span><span class="sxs-lookup"><span data-stu-id="e8a1f-123">Visit the following website to learn more about the [dataset](https://data.sfgov.org/Health-and-Social-Services/Restaurant-Scores-LIVES-Standard/pyih-qa8i?row_index=0).</span></span>

<span data-ttu-id="e8a1f-124">[Stáhněte si datovou sadu výsledků pro bezpečnost restaurace](https://github.com/luisquintanilla/machinelearning-samples/raw/AB1608219/samples/modelbuilder/MulticlassClassification_RestaurantViolations/RestaurantScores.zip) a rozbalte ji.</span><span class="sxs-lookup"><span data-stu-id="e8a1f-124">[Download the Restaurant Safety Scores dataset](https://github.com/luisquintanilla/machinelearning-samples/raw/AB1608219/samples/modelbuilder/MulticlassClassification_RestaurantViolations/RestaurantScores.zip) and unzip it.</span></span>

<span data-ttu-id="e8a1f-125">Každý řádek v datové sadě obsahuje informace o porušeních zjištěných během kontroly ze zdravotního oddělení a posouzení rizika ohrožení bezpečnosti veřejného zdraví a bezpečnosti.</span><span class="sxs-lookup"><span data-stu-id="e8a1f-125">Each row in the dataset contains information regarding violations observed during an inspection from the Health Department and a risk assessment of the threat those violations present to public health and safety.</span></span>

| <span data-ttu-id="e8a1f-126">InspectionType</span><span class="sxs-lookup"><span data-stu-id="e8a1f-126">InspectionType</span></span> | <span data-ttu-id="e8a1f-127">ViolationDescription</span><span class="sxs-lookup"><span data-stu-id="e8a1f-127">ViolationDescription</span></span> | <span data-ttu-id="e8a1f-128">RiskCategory</span><span class="sxs-lookup"><span data-stu-id="e8a1f-128">RiskCategory</span></span> |
| --- | --- | --- |
| <span data-ttu-id="e8a1f-129">Rutina – neplánovaná</span><span class="sxs-lookup"><span data-stu-id="e8a1f-129">Routine - Unscheduled</span></span> | <span data-ttu-id="e8a1f-130">Nedostatečné vyčištěné nebo upravené kontaktní plochy v potravinách</span><span class="sxs-lookup"><span data-stu-id="e8a1f-130">Inadequately cleaned or sanitized food contact surfaces</span></span> | <span data-ttu-id="e8a1f-131">Střední riziko</span><span class="sxs-lookup"><span data-stu-id="e8a1f-131">Moderate Risk</span></span> |
| <span data-ttu-id="e8a1f-132">Nové vlastnictví</span><span class="sxs-lookup"><span data-stu-id="e8a1f-132">New Ownership</span></span> | <span data-ttu-id="e8a1f-133">Vysoce rizikové napadení škůdci</span><span class="sxs-lookup"><span data-stu-id="e8a1f-133">High risk vermin infestation</span></span> | <span data-ttu-id="e8a1f-134">Vysoké riziko</span><span class="sxs-lookup"><span data-stu-id="e8a1f-134">High Risk</span></span> |
| <span data-ttu-id="e8a1f-135">Rutina – neplánovaná</span><span class="sxs-lookup"><span data-stu-id="e8a1f-135">Routine - Unscheduled</span></span> | <span data-ttu-id="e8a1f-136">Vymazání tkanin není čisté nebo správně uložené nebo nedostatečného upraveného.</span><span class="sxs-lookup"><span data-stu-id="e8a1f-136">Wiping cloths not clean or properly stored or inadequate sanitizer</span></span> | <span data-ttu-id="e8a1f-137">Nízké riziko</span><span class="sxs-lookup"><span data-stu-id="e8a1f-137">Low Risk</span></span> |

- <span data-ttu-id="e8a1f-138">**InspectionType**: typ kontroly.</span><span class="sxs-lookup"><span data-stu-id="e8a1f-138">**InspectionType**: the type of inspection.</span></span> <span data-ttu-id="e8a1f-139">Může to být buď první kontrola pro nové zařízení, rutinní kontrola, kontrola stížnosti a mnoho dalších typů.</span><span class="sxs-lookup"><span data-stu-id="e8a1f-139">This can either be a first-time inspection for a new establishment, a routine inspection, a complaint inspection, and many other types.</span></span>
- <span data-ttu-id="e8a1f-140">**ViolationDescription**: byl zjištěn popis porušení během kontroly.</span><span class="sxs-lookup"><span data-stu-id="e8a1f-140">**ViolationDescription**: a description of the violation found during inspection.</span></span> 
- <span data-ttu-id="e8a1f-141">**RiskCategory**: závažnost rizika, které je porušením, představuje veřejný stav a bezpečnost.</span><span class="sxs-lookup"><span data-stu-id="e8a1f-141">**RiskCategory**: the risk severity a violation poses to public health and safety.</span></span>

<span data-ttu-id="e8a1f-142">`label` je sloupec, který chcete předpovědět.</span><span class="sxs-lookup"><span data-stu-id="e8a1f-142">The `label` is the column you want to predict.</span></span> <span data-ttu-id="e8a1f-143">Při provádění úlohy klasifikace je cílem přiřadit kategorii (text nebo číselnou).</span><span class="sxs-lookup"><span data-stu-id="e8a1f-143">When performing a classification task, the goal is to assign a category (text or numerical).</span></span> <span data-ttu-id="e8a1f-144">V tomto scénáři klasifikace je závažnost porušení přiřazena hodnotě nízké, střední nebo vysoké rizikovosti.</span><span class="sxs-lookup"><span data-stu-id="e8a1f-144">In this classification scenario, the severity of the violation is assigned the value of low, moderate, or high risk.</span></span> <span data-ttu-id="e8a1f-145">Proto je **RiskCategory** jmenovka.</span><span class="sxs-lookup"><span data-stu-id="e8a1f-145">Therefore, the **RiskCategory** is the label.</span></span> <span data-ttu-id="e8a1f-146">`features` jsou vstupy, které modelu udělíte pro předpověď `label`.</span><span class="sxs-lookup"><span data-stu-id="e8a1f-146">The `features` are the inputs you give the model to predict the `label`.</span></span> <span data-ttu-id="e8a1f-147">V tomto případě se **InspectionType** a **ViolationDescription** používají jako funkce nebo vstupy pro předpověď **RiskCategory**.</span><span class="sxs-lookup"><span data-stu-id="e8a1f-147">In this case, the **InspectionType** and **ViolationDescription** are used as features or inputs to predict the **RiskCategory**.</span></span>

## <a name="choose-a-scenario"></a><span data-ttu-id="e8a1f-148">Zvolit scénář</span><span class="sxs-lookup"><span data-stu-id="e8a1f-148">Choose a scenario</span></span>

![Průvodce tvůrcem modelů v aplikaci Visual Studio](./media/sentiment-analysis-model-builder/model-builder-screen.png)

<span data-ttu-id="e8a1f-150">Pokud chcete svůj model naučit, vyberte si ze seznamu dostupných scénářů strojového učení, které poskytuje tvůrce modelů.</span><span class="sxs-lookup"><span data-stu-id="e8a1f-150">To train your model, select from the list of available machine learning scenarios provided by Model Builder.</span></span> <span data-ttu-id="e8a1f-151">V takovém případě se jedná o scénář *klasifikace*.</span><span class="sxs-lookup"><span data-stu-id="e8a1f-151">In this case, the scenario is *Issue Classification*.</span></span>

1. <span data-ttu-id="e8a1f-152">V **Průzkumník řešení**klikněte pravým tlačítkem myši na projekt *RestaurantViolations* a vyberte **Přidat** > **Machine Learning**.</span><span class="sxs-lookup"><span data-stu-id="e8a1f-152">In **Solution Explorer**, right-click the *RestaurantViolations* project, and select **Add** > **Machine Learning**.</span></span>
1. <span data-ttu-id="e8a1f-153">Pro tuto ukázku je scénářem klasifikace s více třídami.</span><span class="sxs-lookup"><span data-stu-id="e8a1f-153">For this sample, the scenario is multiclass classification.</span></span> <span data-ttu-id="e8a1f-154">V kroku *scénář* v Tvůrci modelů vyberte scénář **klasifikace problému** .</span><span class="sxs-lookup"><span data-stu-id="e8a1f-154">In the *Scenario* step of Model Builder, select the **Issue Classification** scenario.</span></span>

## <a name="load-the-data"></a><span data-ttu-id="e8a1f-155">Načtení dat</span><span class="sxs-lookup"><span data-stu-id="e8a1f-155">Load the data</span></span>

<span data-ttu-id="e8a1f-156">Tvůrce modelů přijímá data z databáze SQL Server nebo místního souboru ve formátu `csv` nebo `tsv`.</span><span class="sxs-lookup"><span data-stu-id="e8a1f-156">Model Builder accepts data from a SQL Server database or a local file in `csv` or `tsv` format.</span></span>

1. <span data-ttu-id="e8a1f-157">V kroku data nástroje Tvůrce modelů vyberte v rozevíracím seznamu zdroj dat možnost **SQL Server** .</span><span class="sxs-lookup"><span data-stu-id="e8a1f-157">In the data step of the Model Builder tool, select **SQL Server** from the data source dropdown.</span></span>
1. <span data-ttu-id="e8a1f-158">Vyberte tlačítko vedle textového pole **připojit k SQL Server databázi** .</span><span class="sxs-lookup"><span data-stu-id="e8a1f-158">Select the button next to the **Connect to SQL Server database** text box.</span></span>
    1. <span data-ttu-id="e8a1f-159">V dialogovém okně **Vybrat data** vyberte **Microsoft SQL Server databázový soubor**.</span><span class="sxs-lookup"><span data-stu-id="e8a1f-159">In the **Choose Data** dialog, select **Microsoft SQL Server Database File**.</span></span> 
    1. <span data-ttu-id="e8a1f-160">Zrušte zaškrtnutí políčka **vždy použít tento výběr** a vyberte **pokračovat**.</span><span class="sxs-lookup"><span data-stu-id="e8a1f-160">Uncheck the **Always use this selection** checkbox and select **Continue**.</span></span>
    1. <span data-ttu-id="e8a1f-161">V dialogovém okně **Vlastnosti připojení** vyberte **Procházet** a vyberte stažený soubor *RestaurantScores. mdf* .</span><span class="sxs-lookup"><span data-stu-id="e8a1f-161">In the **Connection Properties** dialog, select **Browse** and select the downloaded *RestaurantScores.mdf* file.</span></span>
    1. <span data-ttu-id="e8a1f-162">Vyberte **OK**.</span><span class="sxs-lookup"><span data-stu-id="e8a1f-162">Select **OK**.</span></span>
1. <span data-ttu-id="e8a1f-163">V rozevíracím seznamu **název tabulky** vyberte možnost **porušení** .</span><span class="sxs-lookup"><span data-stu-id="e8a1f-163">Choose **Violations** from the **Table Name** dropdown.</span></span>
1. <span data-ttu-id="e8a1f-164">V rozevíracím seznamu **sloupec pro předpověď (popisek)** vyberte **RiskCategory** .</span><span class="sxs-lookup"><span data-stu-id="e8a1f-164">Choose **RiskCategory** in the **Column to Predict (Label)** dropdown.</span></span>
1. <span data-ttu-id="e8a1f-165">Ponechte výchozí výběry sloupců, **InspectionType** a **ViolationDescription**, zaškrtněte rozevírací seznam **vstupní sloupce (funkce)** .</span><span class="sxs-lookup"><span data-stu-id="e8a1f-165">Leave the default column selections, **InspectionType** and **ViolationDescription**, checked in the **Input Columns (Features)** dropdown.</span></span>
1. <span data-ttu-id="e8a1f-166">Vyberte odkaz **výuka** , který se přesune k dalšímu kroku v Tvůrci modelů.</span><span class="sxs-lookup"><span data-stu-id="e8a1f-166">Select the **Train** link to move to the next step in Model Builder.</span></span>

## <a name="train-the-model"></a><span data-ttu-id="e8a1f-167">Výuka modelu</span><span class="sxs-lookup"><span data-stu-id="e8a1f-167">Train the model</span></span>

<span data-ttu-id="e8a1f-168">Úkolem strojového učení, který se používá ke studiu modelu klasifikace problému v tomto kurzu, je klasifikace s více třídami.</span><span class="sxs-lookup"><span data-stu-id="e8a1f-168">The machine learning task used to train the issue classification model in this tutorial is multiclass classification.</span></span> <span data-ttu-id="e8a1f-169">V průběhu procesu školení modelů vlacích sestaví model modelování samostatné modely pomocí různých algoritmů a nastavení třídy s více třídami, aby bylo možné najít nejlepší model pro datovou sadu.</span><span class="sxs-lookup"><span data-stu-id="e8a1f-169">During the model training process, Model Builder trains separate models using different multiclass classification algorithms and settings to find the best performing model for your dataset.</span></span>

<span data-ttu-id="e8a1f-170">Čas potřebný ke školení modelu je úměrný množství dat.</span><span class="sxs-lookup"><span data-stu-id="e8a1f-170">The time required for the model to train is proportional to the amount of data.</span></span> <span data-ttu-id="e8a1f-171">Tvůrce modelů automaticky vybere výchozí hodnotu pro **čas do výuky (sekundy)** na základě velikosti zdroje dat.</span><span class="sxs-lookup"><span data-stu-id="e8a1f-171">Model Builder automatically selects a default value for **Time to train (seconds)** based on the size of your data source.</span></span>

1. <span data-ttu-id="e8a1f-172">I když tvůrce modelů nastaví hodnotu **času na vlak (sekundy)** až 10 sekund, narůstá na 30 sekund.</span><span class="sxs-lookup"><span data-stu-id="e8a1f-172">Although Model Builder sets the value of **Time to train (seconds)** to 10 seconds, increase it to 30 seconds.</span></span> <span data-ttu-id="e8a1f-173">Školení po delší dobu umožňuje tvůrci modelů prozkoumat větší počet algoritmů a kombinaci parametrů při hledání nejlepšího modelu.</span><span class="sxs-lookup"><span data-stu-id="e8a1f-173">Training for a longer period of time allows Model Builder to explore a larger number of algorithms and combination of parameters in search of the best model.</span></span>
1. <span data-ttu-id="e8a1f-174">Vyberte **Spustit školení**.</span><span class="sxs-lookup"><span data-stu-id="e8a1f-174">Select **Start Training**.</span></span>

    <span data-ttu-id="e8a1f-175">V průběhu procesu školení se data o průběhu zobrazují v části `Progress` kroku výukového programu.</span><span class="sxs-lookup"><span data-stu-id="e8a1f-175">Throughout the training process, progress data is displayed in the `Progress` section of the train step.</span></span>

    - <span data-ttu-id="e8a1f-176">**Stav** zobrazuje stav dokončení procesu školení.</span><span class="sxs-lookup"><span data-stu-id="e8a1f-176">**Status** displays the completion status of the training process.</span></span>
    - <span data-ttu-id="e8a1f-177">**Nejlepší přesnost** zobrazuje přesnost nejlepšího modelu, kterou najde tvůrce modelů, zatím.</span><span class="sxs-lookup"><span data-stu-id="e8a1f-177">**Best accuracy** displays the accuracy of the best performing model found by Model Builder so far.</span></span> <span data-ttu-id="e8a1f-178">Vyšší přesnost znamená, že model se v testovacích datech podrobnějším způsobem vypovídat.</span><span class="sxs-lookup"><span data-stu-id="e8a1f-178">Higher accuracy means the model predicted more correctly on test data.</span></span>
    - <span data-ttu-id="e8a1f-179">**Nejlepší algoritmus** zobrazuje název nejlepšího algoritmu nalezeného tvůrcem modelu, zatím.</span><span class="sxs-lookup"><span data-stu-id="e8a1f-179">**Best algorithm** displays the name of the best-performing algorithm found by Model Builder so far.</span></span>
    - <span data-ttu-id="e8a1f-180">**Poslední algoritmus** zobrazuje název algoritmu naposledy, který tvůrce modelů použil k vytvoření výukového modelu.</span><span class="sxs-lookup"><span data-stu-id="e8a1f-180">**Last algorithm** displays the name of the algorithm most recently used by Model Builder to train the model.</span></span>

1. <span data-ttu-id="e8a1f-181">Po dokončení školení vyberte odkaz **vyhodnotit** , který se přesune k dalšímu kroku.</span><span class="sxs-lookup"><span data-stu-id="e8a1f-181">Once training is complete, select the **Evaluate** link to move to the next step.</span></span>

## <a name="evaluate-the-model"></a><span data-ttu-id="e8a1f-182">Vyhodnocení modelu</span><span class="sxs-lookup"><span data-stu-id="e8a1f-182">Evaluate the model</span></span>

<span data-ttu-id="e8a1f-183">Výsledkem kroku školení je jeden model, který má nejlepší výkon.</span><span class="sxs-lookup"><span data-stu-id="e8a1f-183">The result of the training step is the one model that had the best performance.</span></span> <span data-ttu-id="e8a1f-184">V kroku vyhodnocení v Tvůrci modelů obsahuje oddíl Output algoritmus používaný modelem nejlepšího provádění v **nejlepším záznamu modelu** spolu se metrikami v **nejvyšší přesnosti modelu**.</span><span class="sxs-lookup"><span data-stu-id="e8a1f-184">In the evaluate step of Model Builder, the output section contains the algorithm used by the best performing model in the **Best Model** entry along with metrics in **Best Model Accuracy**.</span></span> <span data-ttu-id="e8a1f-185">Kromě toho se zobrazí Souhrnná tabulka obsahující až pět modelů, které se prozkoumaly a jejich metriky.</span><span class="sxs-lookup"><span data-stu-id="e8a1f-185">Additionally, a summary table containing up to five models that were explored and their metrics is displayed.</span></span>

<span data-ttu-id="e8a1f-186">Pokud nejste spokojeni s metrikami přesnosti, můžou se některé snadné způsoby, jak se pokusit zvýšit přesnost modelu, zvýšit množství času pro výuku modelu nebo použít více dat.</span><span class="sxs-lookup"><span data-stu-id="e8a1f-186">If you're not satisfied with your accuracy metrics, some easy ways to try to improve model accuracy are to increase the amount of time to train the model or use more data.</span></span> <span data-ttu-id="e8a1f-187">V opačném případě vyberte odkaz **kód** , který se přesune k poslednímu kroku v Tvůrci modelů.</span><span class="sxs-lookup"><span data-stu-id="e8a1f-187">Otherwise, select the **code** link to move to the final step in Model Builder.</span></span>

## <a name="add-the-code-to-make-predictions"></a><span data-ttu-id="e8a1f-188">Přidejte kód, který provede předpovědi</span><span class="sxs-lookup"><span data-stu-id="e8a1f-188">Add the code to make predictions</span></span>

<span data-ttu-id="e8a1f-189">Dva projekty jsou vytvořeny v důsledku školicího procesu.</span><span class="sxs-lookup"><span data-stu-id="e8a1f-189">Two projects are created as a result of the training process.</span></span>

- <span data-ttu-id="e8a1f-190">RestaurantViolationsML. ConsoleApp: Konzolová aplikace C# .NET Core, která obsahuje kód pro školení modelů a ukázku kódu.</span><span class="sxs-lookup"><span data-stu-id="e8a1f-190">RestaurantViolationsML.ConsoleApp: A C# .NET Core Console application that contains the model training and sample consumption code.</span></span>
- <span data-ttu-id="e8a1f-191">RestaurantViolationsML. model: .NET Standard knihovny tříd obsahující datové modely, které definují schéma vstupních a výstupních dat modelu, uloženou verzi modelu nejlepšího provádění během školení a pomocnou třídu nazvanou `ConsumeModel` k vytvoření předpovědi.</span><span class="sxs-lookup"><span data-stu-id="e8a1f-191">RestaurantViolationsML.Model: A .NET Standard class library containing the data models that define the schema of input and output model data, the saved version of the best performing model during training, and a helper class called `ConsumeModel` to make predictions.</span></span>

1. <span data-ttu-id="e8a1f-192">V kroku Code v Tvůrci modelů vyberte **Přidat projekty** a přidejte do řešení automaticky generované projekty.</span><span class="sxs-lookup"><span data-stu-id="e8a1f-192">In the code step of Model Builder, select **Add Projects** to add the autogenerated projects to the solution.</span></span>
1. <span data-ttu-id="e8a1f-193">Otevřete soubor *program.cs* v projektu *RestaurantViolations* .</span><span class="sxs-lookup"><span data-stu-id="e8a1f-193">Open the *Program.cs* file in the *RestaurantViolations* project.</span></span>
1. <span data-ttu-id="e8a1f-194">Přidejte následující příkaz using pro odkaz na projekt *RestaurantViolationsML. model* :</span><span class="sxs-lookup"><span data-stu-id="e8a1f-194">Add the following using statement to reference the *RestaurantViolationsML.Model* project:</span></span>

    [!code-csharp [ProgramUsings](~/machinelearning-samples/samples/modelbuilder/MulticlassClassification_RestaurantViolations/RestaurantViolations/Program.cs#L2)]

1. <span data-ttu-id="e8a1f-195">Chcete-li vytvořit předpovědi pro nová data pomocí modelu, vytvořte novou instanci třídy `ModelInput` uvnitř metody `Main` vaší aplikace.</span><span class="sxs-lookup"><span data-stu-id="e8a1f-195">To make a prediction on new data using the model, create a new instance of the `ModelInput` class inside the `Main` method of your application.</span></span> <span data-ttu-id="e8a1f-196">Všimněte si, že kategorie rizik není součástí vstupu.</span><span class="sxs-lookup"><span data-stu-id="e8a1f-196">Notice that the risk category is not part of the input.</span></span> <span data-ttu-id="e8a1f-197">Důvodem je to, že model vygeneruje předpověď pro něj.</span><span class="sxs-lookup"><span data-stu-id="e8a1f-197">This is because the model generates the prediction for it.</span></span> 

    [!code-csharp [TestData](~/machinelearning-samples/samples/modelbuilder/MulticlassClassification_RestaurantViolations/RestaurantViolations/Program.cs#L11-L15)]

1. <span data-ttu-id="e8a1f-198">Použijte metodu `Predict` ze třídy `ConsumeModel`.</span><span class="sxs-lookup"><span data-stu-id="e8a1f-198">Use the `Predict` method from the `ConsumeModel` class.</span></span> <span data-ttu-id="e8a1f-199">Metoda `Predict` načte vyškolený model, vytvoří [`PredictionEngine`](xref:Microsoft.ML.PredictionEngine%602) pro model a použije ho k předpovědií nových dat.</span><span class="sxs-lookup"><span data-stu-id="e8a1f-199">The `Predict` method loads the trained model, creates a [`PredictionEngine`](xref:Microsoft.ML.PredictionEngine%602) for the model, and uses it to make predictions on new data.</span></span> 

    [!code-csharp [Prediction](~/machinelearning-samples/samples/modelbuilder/MulticlassClassification_RestaurantViolations/RestaurantViolations/Program.cs#L17-L24)]

1. <span data-ttu-id="e8a1f-200">Spusťte aplikaci.</span><span class="sxs-lookup"><span data-stu-id="e8a1f-200">Run the application.</span></span>

    <span data-ttu-id="e8a1f-201">Výstup generovaný programem by měl vypadat podobně jako následující fragment kódu:</span><span class="sxs-lookup"><span data-stu-id="e8a1f-201">The output generated by the program should look similar to the snippet below:</span></span>

    ```bash
    Inspection Type: Complaint
    Violation Description: Inadequate sewage or wastewater disposal
    Risk Category: Moderate Risk
    ```

<span data-ttu-id="e8a1f-202">Pokud potřebujete odkazovat na vygenerované projekty později v jiném řešení, můžete je najít v adresáři `C:\Users\%USERNAME%\AppData\Local\Temp\MLVSTools`.</span><span class="sxs-lookup"><span data-stu-id="e8a1f-202">If you need to reference the generated projects at a later time inside of another solution, you can find them inside the `C:\Users\%USERNAME%\AppData\Local\Temp\MLVSTools` directory.</span></span>

<span data-ttu-id="e8a1f-203">Blahopřejeme!</span><span class="sxs-lookup"><span data-stu-id="e8a1f-203">Congratulations!</span></span> <span data-ttu-id="e8a1f-204">Úspěšně jste vytvořili model strojového učení pro kategorizaci rizika narušení stavu pomocí Tvůrce modelů.</span><span class="sxs-lookup"><span data-stu-id="e8a1f-204">You've successfully built a machine learning model to categorize the risk of health violations using Model Builder.</span></span> <span data-ttu-id="e8a1f-205">Zdrojový kód pro tento kurz najdete v úložišti GitHub [/machinelearning-Samples](https://github.com/dotnet/machinelearning-samples/tree/master/samples/modelbuilder/MulticlassClassification_RestaurantViolations) .</span><span class="sxs-lookup"><span data-stu-id="e8a1f-205">You can find the source code for this tutorial at the [dotnet/machinelearning-samples](https://github.com/dotnet/machinelearning-samples/tree/master/samples/modelbuilder/MulticlassClassification_RestaurantViolations) GitHub repository.</span></span>

## <a name="additional-resources"></a><span data-ttu-id="e8a1f-206">Další zdroje</span><span class="sxs-lookup"><span data-stu-id="e8a1f-206">Additional resources</span></span>

<span data-ttu-id="e8a1f-207">Další informace o tématech uvedených v tomto kurzu najdete v následujících zdrojích informací:</span><span class="sxs-lookup"><span data-stu-id="e8a1f-207">To learn more about topics mentioned in this tutorial, visit the following resources:</span></span>

- [<span data-ttu-id="e8a1f-208">Scénáře tvůrce modelů</span><span class="sxs-lookup"><span data-stu-id="e8a1f-208">Model Builder Scenarios</span></span>](../automate-training-with-model-builder.md#scenarios)
- [<span data-ttu-id="e8a1f-209">Klasifikace s více třídami</span><span class="sxs-lookup"><span data-stu-id="e8a1f-209">Multiclass Classification</span></span>](../resources/glossary.md#multiclass-classification)
- [<span data-ttu-id="e8a1f-210">Metrika modelu klasifikace s více třídami</span><span class="sxs-lookup"><span data-stu-id="e8a1f-210">Multiclass Classification Model Metrics</span></span>](../resources/metrics.md#metrics-for-multi-class-classification)
