---
title: Další požadavky na zabezpečení
ms.date: 03/30/2017
helpviewer_keywords:
- Windows Forms, secure calls to Windows API
- security [Windows Forms]
- security [Windows Forms], calling APIs
- Clipboard [Windows Forms], securing access
ms.assetid: 15abda8b-0527-47c7-aedb-77ab595f2bf1
ms.openlocfilehash: c8d51a57194f1dc536bc4b5d0376987dbfd3b2cf
ms.sourcegitcommit: de17a7a0a37042f0d4406f5ae5393531caeb25ba
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 01/24/2020
ms.locfileid: "76739819"
---
# <a name="additional-security-considerations-in-windows-forms"></a><span data-ttu-id="9db19-102">Dodatečné informace o zabezpečení ve Windows Forms</span><span class="sxs-lookup"><span data-stu-id="9db19-102">Additional Security Considerations in Windows Forms</span></span>
<span data-ttu-id="9db19-103">Nastavení zabezpečení .NET Framework může způsobit, že vaše aplikace bude běžet jinak v prostředí s částečným vztahem důvěryhodnosti, než na místním počítači.</span><span class="sxs-lookup"><span data-stu-id="9db19-103">.NET Framework security settings might cause your application to run differently in a partial trust environment than on your local computer.</span></span> <span data-ttu-id="9db19-104">.NET Framework kromě jiných věcí omezuje přístup k takovým důležitým místním prostředkům jako systém souborů, síť a nespravovaná rozhraní API.</span><span class="sxs-lookup"><span data-stu-id="9db19-104">The .NET Framework restricts access to such critical local resources as the file system, network, and unmanaged APIs, among other things.</span></span> <span data-ttu-id="9db19-105">Nastavení zabezpečení má vliv na možnost volání rozhraní Microsoft Windows API nebo jiných rozhraní API, která nelze ověřit systémem zabezpečení.</span><span class="sxs-lookup"><span data-stu-id="9db19-105">The security settings affect the ability to call the Microsoft Windows API or other APIs that cannot be verified by the security system.</span></span> <span data-ttu-id="9db19-106">Zabezpečení má vliv také na další aspekty aplikace, včetně souborů a přístupu k datům a tisku.</span><span class="sxs-lookup"><span data-stu-id="9db19-106">Security also affects other aspects of your application, including file and data access, and printing.</span></span> <span data-ttu-id="9db19-107">Další informace o přístupu k souborům a datům v prostředí s částečným vztahem důvěryhodnosti najdete [v tématu bezpečnější přístup k souborům a datům v model Windows Forms](more-secure-file-and-data-access-in-windows-forms.md).</span><span class="sxs-lookup"><span data-stu-id="9db19-107">For more information about file and data access in a partial trust environment, see [More Secure File and Data Access in Windows Forms](more-secure-file-and-data-access-in-windows-forms.md).</span></span> <span data-ttu-id="9db19-108">Další informace o tisku v prostředí s částečným vztahem důvěryhodnosti najdete v tématu bezpečnější [Tisk v model Windows Forms](more-secure-printing-in-windows-forms.md).</span><span class="sxs-lookup"><span data-stu-id="9db19-108">For more information about printing in a partial trust environment, see [More Secure Printing in Windows Forms](more-secure-printing-in-windows-forms.md).</span></span>  
  
 <span data-ttu-id="9db19-109">Následující části popisují, jak pracovat se schránkou, provádět manipulaci s okny a volat rozhraní Windows API z aplikací, které běží v prostředí s částečným vztahem důvěryhodnosti.</span><span class="sxs-lookup"><span data-stu-id="9db19-109">The following sections discuss how to work with the Clipboard, perform window manipulation, and call the Windows API from applications that are running in a partial trust environment.</span></span>  
  
## <a name="clipboard-access"></a><span data-ttu-id="9db19-110">Přístup do schránky</span><span class="sxs-lookup"><span data-stu-id="9db19-110">Clipboard Access</span></span>  
 <span data-ttu-id="9db19-111">Třída <xref:System.Security.Permissions.UIPermission> řídí přístup ke schránce a přidružená hodnota výčtu <xref:System.Security.Permissions.UIPermissionClipboard> označuje úroveň přístupu.</span><span class="sxs-lookup"><span data-stu-id="9db19-111">The <xref:System.Security.Permissions.UIPermission> class controls access to the Clipboard, and the associated <xref:System.Security.Permissions.UIPermissionClipboard> enumeration value indicates the level of access.</span></span> <span data-ttu-id="9db19-112">V následující tabulce jsou uvedeny možné úrovně oprávnění.</span><span class="sxs-lookup"><span data-stu-id="9db19-112">The following table shows the possible permission levels.</span></span>  
  
|<span data-ttu-id="9db19-113">Hodnota UIPermissionClipboard</span><span class="sxs-lookup"><span data-stu-id="9db19-113">UIPermissionClipboard value</span></span>|<span data-ttu-id="9db19-114">Popis</span><span class="sxs-lookup"><span data-stu-id="9db19-114">Description</span></span>|  
|---------------------------------|-----------------|  
|<xref:System.Security.Permissions.UIPermissionClipboard.AllClipboard>|<span data-ttu-id="9db19-115">Schránku lze použít bez omezení.</span><span class="sxs-lookup"><span data-stu-id="9db19-115">The Clipboard can be used without restriction.</span></span>|  
|<xref:System.Security.Permissions.UIPermissionClipboard.OwnClipboard>|<span data-ttu-id="9db19-116">Schránku lze použít s některými omezeními.</span><span class="sxs-lookup"><span data-stu-id="9db19-116">The Clipboard can be used with some restrictions.</span></span> <span data-ttu-id="9db19-117">Možnost vkládat data do schránky (operace kopírování nebo vyjmutí příkazu) nejsou omezeny.</span><span class="sxs-lookup"><span data-stu-id="9db19-117">The ability to put data on the Clipboard (Copy or Cut command operations) is unrestricted.</span></span> <span data-ttu-id="9db19-118">Vnitřní ovládací prvky, které přijímají vložení, jako je například textové pole, mohou přijímat data ze schránky, ale uživatelské ovládací prvky nemohou číst ze schránky programově.</span><span class="sxs-lookup"><span data-stu-id="9db19-118">Intrinsic controls that accept paste, such as a text box, can accept Clipboard data, but user controls cannot programmatically read from the Clipboard.</span></span>|  
|<xref:System.Security.Permissions.UIPermissionClipboard.NoClipboard>|<span data-ttu-id="9db19-119">Schránku nelze použít.</span><span class="sxs-lookup"><span data-stu-id="9db19-119">The Clipboard cannot be used.</span></span>|  
  
 <span data-ttu-id="9db19-120">Ve výchozím nastavení obdrží zóna místního intranetu přístup <xref:System.Security.Permissions.UIPermissionClipboard.AllClipboard> a zóna Internetu obdrží přístup <xref:System.Security.Permissions.UIPermissionClipboard.OwnClipboard>.</span><span class="sxs-lookup"><span data-stu-id="9db19-120">By default, the Local Intranet zone receives <xref:System.Security.Permissions.UIPermissionClipboard.AllClipboard> access and the Internet zone receives <xref:System.Security.Permissions.UIPermissionClipboard.OwnClipboard> access.</span></span> <span data-ttu-id="9db19-121">To znamená, že aplikace může kopírovat data do schránky, ale aplikace nemůže programově vkládat nebo číst ze schránky.</span><span class="sxs-lookup"><span data-stu-id="9db19-121">This means that the application can copy data to the Clipboard, but the application cannot programmatically paste to or read from the Clipboard.</span></span> <span data-ttu-id="9db19-122">Tato omezení zabraňují programům bez úplné důvěryhodnosti v čtení obsahu zkopírovaného do schránky jinou aplikací.</span><span class="sxs-lookup"><span data-stu-id="9db19-122">These restrictions prevent programs without full trust from reading content copied to the Clipboard by another application.</span></span> <span data-ttu-id="9db19-123">Pokud vaše aplikace vyžaduje úplný přístup do schránky, ale nemáte oprávnění, budete muset zvýšit oprávnění pro vaši aplikaci.</span><span class="sxs-lookup"><span data-stu-id="9db19-123">If your application requires full Clipboard access but you do not have the permissions, you will have to elevate the permissions for your application.</span></span> <span data-ttu-id="9db19-124">Další informace o oprávněních ke zvýšení oprávnění najdete v tématu [Obecná Správa zásad zabezpečení](https://docs.microsoft.com/previous-versions/dotnet/netframework-4.0/ed5htz45(v=vs.100)).</span><span class="sxs-lookup"><span data-stu-id="9db19-124">For more information about elevating permissions, see [General Security Policy Administration](https://docs.microsoft.com/previous-versions/dotnet/netframework-4.0/ed5htz45(v=vs.100)).</span></span>  
  
## <a name="window-manipulation"></a><span data-ttu-id="9db19-125">Manipulace s Windows</span><span class="sxs-lookup"><span data-stu-id="9db19-125">Window Manipulation</span></span>  
 <span data-ttu-id="9db19-126">Třída <xref:System.Security.Permissions.UIPermission> také ovládá oprávnění k provádění manipulace s oknem a dalších akcí souvisejících s uživatelským rozhraním a přidružená hodnota výčtu <xref:System.Security.Permissions.UIPermissionWindow> označuje úroveň přístupu.</span><span class="sxs-lookup"><span data-stu-id="9db19-126">The <xref:System.Security.Permissions.UIPermission> class also controls permission to perform window manipulation and other UI-related actions, and the associated <xref:System.Security.Permissions.UIPermissionWindow> enumeration value indicates the level of access.</span></span> <span data-ttu-id="9db19-127">V následující tabulce jsou uvedeny možné úrovně oprávnění.</span><span class="sxs-lookup"><span data-stu-id="9db19-127">The following table shows the possible permission levels.</span></span>  
  
 <span data-ttu-id="9db19-128">Ve výchozím nastavení obdrží zóna místního intranetu přístup <xref:System.Security.Permissions.UIPermissionWindow.AllWindows> a zóna Internetu obdrží přístup <xref:System.Security.Permissions.UIPermissionWindow.SafeTopLevelWindows>.</span><span class="sxs-lookup"><span data-stu-id="9db19-128">By default, the Local Intranet zone receives <xref:System.Security.Permissions.UIPermissionWindow.AllWindows> access and the Internet zone receives <xref:System.Security.Permissions.UIPermissionWindow.SafeTopLevelWindows> access.</span></span> <span data-ttu-id="9db19-129">To znamená, že v zóně Internet může aplikace provádět většinu oken a akcí uživatelského rozhraní, ale vzhled okna se upraví.</span><span class="sxs-lookup"><span data-stu-id="9db19-129">This means that in the Internet zone, the application can perform most windowing and UI actions, but the window's appearance will be modified.</span></span> <span data-ttu-id="9db19-130">Změněné okno zobrazí při prvním spuštění oznámení s bublinou, obsahuje upravený text záhlaví a vyžaduje na záhlaví tlačítko Zavřít.</span><span class="sxs-lookup"><span data-stu-id="9db19-130">The modified window displays a balloon notification when first run, contains modified title bar text, and requires a close button on the title bar.</span></span> <span data-ttu-id="9db19-131">Oznámení a záhlaví v bublině se identifikují uživateli aplikace, že aplikace běží v částečném vztahu důvěryhodnosti.</span><span class="sxs-lookup"><span data-stu-id="9db19-131">The balloon notification and the title bar identify to the user of the application that the application is running under partial trust.</span></span>  
  
|<span data-ttu-id="9db19-132">Hodnota UIPermissionWindow</span><span class="sxs-lookup"><span data-stu-id="9db19-132">UIPermissionWindow value</span></span>|<span data-ttu-id="9db19-133">Popis</span><span class="sxs-lookup"><span data-stu-id="9db19-133">Description</span></span>|  
|------------------------------|-----------------|  
|<xref:System.Security.Permissions.UIPermissionWindow.AllWindows>|<span data-ttu-id="9db19-134">Uživatelé můžou bez omezení použít všechny události vstupu v systému Windows a uživatelem.</span><span class="sxs-lookup"><span data-stu-id="9db19-134">Users can use all windows and user input events without restriction.</span></span>|  
|<xref:System.Security.Permissions.UIPermissionWindow.SafeTopLevelWindows>|<span data-ttu-id="9db19-135">Uživatelé můžou použít jenom bezpečnější okna na nejvyšší úrovni a bezpečněji pro vykreslování a můžou použít jenom události vstupu uživatele pro uživatelské rozhraní v rámci těchto oken a podoken na nejvyšší úrovni.</span><span class="sxs-lookup"><span data-stu-id="9db19-135">Users can use only safer top-level windows and safer subwindows for drawing, and can use only user input events for the user interface within those top-level windows and subwindows.</span></span> <span data-ttu-id="9db19-136">Tato bezpečnější okna jsou jasně označená a mají omezení minimální a maximální velikosti.</span><span class="sxs-lookup"><span data-stu-id="9db19-136">These safer windows are clearly labeled and have minimum and maximum size restrictions.</span></span> <span data-ttu-id="9db19-137">Tato omezení zabraňují potenciálně škodlivým útokům prostřednictvím falešného poškození, jako je například napodobení přihlašovacích obrazovek systému nebo plochy systému, a omezují programový přístup k nadřazeným systémům Windows, rozhraním API souvisejících s fokusem a použití ovládacího prvku <xref:System.Windows.Forms.ToolTip>,</span><span class="sxs-lookup"><span data-stu-id="9db19-137">The restrictions prevent potentially harmful spoofing attacks, such as imitating system logon screens or the system desktop, and restricts programmatic access to parent windows, focus-related APIs, and use of the <xref:System.Windows.Forms.ToolTip> control,</span></span>|  
|<xref:System.Security.Permissions.UIPermissionWindow.SafeSubWindows>|<span data-ttu-id="9db19-138">Uživatelé můžou použít jenom bezpečnější podoken k vykreslování a můžou pro uživatelské rozhraní v tomto podoknì používat jenom události vstupu uživatele.</span><span class="sxs-lookup"><span data-stu-id="9db19-138">Users can use only safer subwindows for drawing, and can use only user input events for the user interface within that subwindow.</span></span> <span data-ttu-id="9db19-139">Příkladem bezpečnějšího podoken je ovládací prvek zobrazený v prohlížeči.</span><span class="sxs-lookup"><span data-stu-id="9db19-139">A control displayed within a browser is an example of a safer subwindow.</span></span>|  
|<xref:System.Security.Permissions.UIPermissionWindow.NoWindows>|<span data-ttu-id="9db19-140">Uživatelé nemůžou používat žádné události Windows ani uživatelského rozhraní.</span><span class="sxs-lookup"><span data-stu-id="9db19-140">Users cannot use any windows or user interface events.</span></span> <span data-ttu-id="9db19-141">Nelze použít žádné uživatelské rozhraní.</span><span class="sxs-lookup"><span data-stu-id="9db19-141">No user interface can be used.</span></span>|  
  
 <span data-ttu-id="9db19-142">Každá úroveň oprávnění identifikovaná výčtem <xref:System.Security.Permissions.UIPermissionWindow> umožňuje méně akcí než úroveň nad ní.</span><span class="sxs-lookup"><span data-stu-id="9db19-142">Each permission level identified by the <xref:System.Security.Permissions.UIPermissionWindow> enumeration allows fewer actions than the level above it.</span></span> <span data-ttu-id="9db19-143">Následující tabulky označují akce, které jsou omezeny hodnotami <xref:System.Security.Permissions.UIPermissionWindow.SafeTopLevelWindows> a <xref:System.Security.Permissions.UIPermissionWindow.SafeSubWindows>.</span><span class="sxs-lookup"><span data-stu-id="9db19-143">The following tables indicate the actions that are restricted by the <xref:System.Security.Permissions.UIPermissionWindow.SafeTopLevelWindows> and <xref:System.Security.Permissions.UIPermissionWindow.SafeSubWindows> values.</span></span> <span data-ttu-id="9db19-144">Pro přesná oprávnění, která jsou vyžadována pro každého člena, se podívejte na odkaz pro tohoto člena v dokumentaci knihovny tříd .NET Framework.</span><span class="sxs-lookup"><span data-stu-id="9db19-144">For exact permissions that are required for each member, see the reference for that member in the .NET Framework class library documentation.</span></span>  
  
 <span data-ttu-id="9db19-145">oprávnění <xref:System.Security.Permissions.UIPermissionWindow.SafeTopLevelWindows> omezuje akce uvedené v následující tabulce.</span><span class="sxs-lookup"><span data-stu-id="9db19-145"><xref:System.Security.Permissions.UIPermissionWindow.SafeTopLevelWindows> permission restricts the actions listed in the following table.</span></span>  
  
|<span data-ttu-id="9db19-146">Součást</span><span class="sxs-lookup"><span data-stu-id="9db19-146">Component</span></span>|<span data-ttu-id="9db19-147">Omezené akce</span><span class="sxs-lookup"><span data-stu-id="9db19-147">Restricted actions</span></span>|  
|---------------|------------------------|  
|<xref:System.Windows.Forms.Application>|<span data-ttu-id="9db19-148">-Nastavení vlastnosti <xref:System.Windows.Forms.Application.SafeTopLevelCaptionFormat%2A>.</span><span class="sxs-lookup"><span data-stu-id="9db19-148">-   Setting the <xref:System.Windows.Forms.Application.SafeTopLevelCaptionFormat%2A> property.</span></span>|  
|<xref:System.Windows.Forms.Control>|<span data-ttu-id="9db19-149">– Získávání vlastnosti <xref:System.Windows.Forms.Control.Parent%2A>.</span><span class="sxs-lookup"><span data-stu-id="9db19-149">-   Getting the <xref:System.Windows.Forms.Control.Parent%2A> property.</span></span><br /><span data-ttu-id="9db19-150">-Nastavení vlastnosti `Region`.</span><span class="sxs-lookup"><span data-stu-id="9db19-150">-   Setting the `Region` property.</span></span><br /><span data-ttu-id="9db19-151">– Voláním metody <xref:System.Windows.Forms.Control.FindForm%2A>, <xref:System.Windows.Forms.Control.Focus%2A>, <xref:System.Windows.Forms.Control.FromChildHandle%2A> a <xref:System.Windows.Forms.Control.FromHandle%2A>, <xref:System.Windows.Forms.Control.PreProcessMessage%2A>, <xref:System.Windows.Forms.Control.ReflectMessage%2A>nebo <xref:System.Windows.Forms.Control.SetTopLevel%2A>.</span><span class="sxs-lookup"><span data-stu-id="9db19-151">-   Calling the <xref:System.Windows.Forms.Control.FindForm%2A> , <xref:System.Windows.Forms.Control.Focus%2A>, <xref:System.Windows.Forms.Control.FromChildHandle%2A> and <xref:System.Windows.Forms.Control.FromHandle%2A>, <xref:System.Windows.Forms.Control.PreProcessMessage%2A>, <xref:System.Windows.Forms.Control.ReflectMessage%2A>, or <xref:System.Windows.Forms.Control.SetTopLevel%2A> method.</span></span><br /><span data-ttu-id="9db19-152">– Volání metody <xref:System.Windows.Forms.Control.GetChildAtPoint%2A>, pokud ovládací prvek není podřízený ovládacímu prvku volání.</span><span class="sxs-lookup"><span data-stu-id="9db19-152">-   Calling the <xref:System.Windows.Forms.Control.GetChildAtPoint%2A> method if the control returned is not a child of the calling control.</span></span><br /><span data-ttu-id="9db19-153">-Změnit fokus ovládacího prvku uvnitř ovládacího prvku kontejneru.</span><span class="sxs-lookup"><span data-stu-id="9db19-153">-   Modify control focus inside a container control.</span></span>|  
|<xref:System.Windows.Forms.Cursor>|<span data-ttu-id="9db19-154">-Nastavení vlastnosti <xref:System.Windows.Forms.Cursor.Clip%2A>.</span><span class="sxs-lookup"><span data-stu-id="9db19-154">-   Setting the <xref:System.Windows.Forms.Cursor.Clip%2A> property.</span></span><br /><span data-ttu-id="9db19-155">– Volání metody <xref:System.Windows.Forms.Control.Hide%2A>.</span><span class="sxs-lookup"><span data-stu-id="9db19-155">-   Calling the <xref:System.Windows.Forms.Control.Hide%2A> method.</span></span>|  
|<xref:System.Windows.Forms.DataGrid>|<span data-ttu-id="9db19-156">– Volání metody <xref:System.Windows.Forms.ContainerControl.ProcessTabKey%2A>.</span><span class="sxs-lookup"><span data-stu-id="9db19-156">-   Calling the <xref:System.Windows.Forms.ContainerControl.ProcessTabKey%2A> method.</span></span>|  
|<xref:System.Windows.Forms.Form>|<span data-ttu-id="9db19-157">– Načítá se vlastnost <xref:System.Windows.Forms.Form.ActiveForm%2A> nebo <xref:System.Windows.Forms.Form.MdiParent%2A>.</span><span class="sxs-lookup"><span data-stu-id="9db19-157">-   Getting the <xref:System.Windows.Forms.Form.ActiveForm%2A> or <xref:System.Windows.Forms.Form.MdiParent%2A> property.</span></span><br /><span data-ttu-id="9db19-158">-Nastavení vlastnosti <xref:System.Windows.Forms.Form.ControlBox%2A>, <xref:System.Windows.Forms.Form.ShowInTaskbar%2A>nebo <xref:System.Windows.Forms.Form.TopMost%2A>.</span><span class="sxs-lookup"><span data-stu-id="9db19-158">-   Setting the <xref:System.Windows.Forms.Form.ControlBox%2A>, <xref:System.Windows.Forms.Form.ShowInTaskbar%2A>, or <xref:System.Windows.Forms.Form.TopMost%2A> property.</span></span><br /><span data-ttu-id="9db19-159">– Nastavení vlastnosti <xref:System.Windows.Forms.Form.Opacity%2A> pod 50%.</span><span class="sxs-lookup"><span data-stu-id="9db19-159">-   Setting the <xref:System.Windows.Forms.Form.Opacity%2A> property below 50%.</span></span><br /><span data-ttu-id="9db19-160">– Nastavení vlastnosti <xref:System.Windows.Forms.Form.WindowState%2A> na <xref:System.Windows.Forms.FormWindowState.Minimized> programově.</span><span class="sxs-lookup"><span data-stu-id="9db19-160">-   Setting the <xref:System.Windows.Forms.Form.WindowState%2A> property to <xref:System.Windows.Forms.FormWindowState.Minimized> programmatically.</span></span><br /><span data-ttu-id="9db19-161">– Volání metody <xref:System.Windows.Forms.Form.Activate%2A>.</span><span class="sxs-lookup"><span data-stu-id="9db19-161">-   Calling the <xref:System.Windows.Forms.Form.Activate%2A> method.</span></span><br /><span data-ttu-id="9db19-162">– Použití hodnot výčtu <xref:System.Windows.Forms.FormBorderStyle> <xref:System.Windows.Forms.FormBorderStyle.None>, <xref:System.Windows.Forms.FormBorderStyle.FixedToolWindow>a <xref:System.Windows.Forms.FormBorderStyle.SizableToolWindow>.</span><span class="sxs-lookup"><span data-stu-id="9db19-162">-   Using the <xref:System.Windows.Forms.FormBorderStyle.None>, <xref:System.Windows.Forms.FormBorderStyle.FixedToolWindow>, and <xref:System.Windows.Forms.FormBorderStyle.SizableToolWindow><xref:System.Windows.Forms.FormBorderStyle> enumeration values.</span></span>|  
|<xref:System.Windows.Forms.NotifyIcon>|<span data-ttu-id="9db19-163">-Použití součásti <xref:System.Windows.Forms.NotifyIcon> je zcela omezené.</span><span class="sxs-lookup"><span data-stu-id="9db19-163">-   Using the <xref:System.Windows.Forms.NotifyIcon> component is completely restricted.</span></span>|  
  
 <span data-ttu-id="9db19-164">Hodnota <xref:System.Security.Permissions.UIPermissionWindow.SafeSubWindows> omezuje akce uvedené v následující tabulce Kromě omezení zadaných <xref:System.Security.Permissions.UIPermissionWindow.SafeTopLevelWindows> hodnotou.</span><span class="sxs-lookup"><span data-stu-id="9db19-164">The <xref:System.Security.Permissions.UIPermissionWindow.SafeSubWindows> value restricts the actions listed in the following table, in addition to the restrictions placed by the <xref:System.Security.Permissions.UIPermissionWindow.SafeTopLevelWindows> value.</span></span>  
  
|<span data-ttu-id="9db19-165">Součást</span><span class="sxs-lookup"><span data-stu-id="9db19-165">Component</span></span>|<span data-ttu-id="9db19-166">Omezené akce</span><span class="sxs-lookup"><span data-stu-id="9db19-166">Restricted actions</span></span>|  
|---------------|------------------------|  
|<xref:System.Windows.Forms.CommonDialog>|<span data-ttu-id="9db19-167">-Zobrazení dialogového okna odvozeného od <xref:System.Windows.Forms.CommonDialog> třídy.</span><span class="sxs-lookup"><span data-stu-id="9db19-167">-   Showing a dialog box derived from the <xref:System.Windows.Forms.CommonDialog> class.</span></span>|  
|<xref:System.Windows.Forms.Control>|<span data-ttu-id="9db19-168">– Volání metody <xref:System.Windows.Forms.Control.CreateGraphics%2A>.</span><span class="sxs-lookup"><span data-stu-id="9db19-168">-   Calling the <xref:System.Windows.Forms.Control.CreateGraphics%2A> method.</span></span><br /><span data-ttu-id="9db19-169">-Nastavení vlastnosti <xref:System.Windows.Forms.Control.Cursor%2A>.</span><span class="sxs-lookup"><span data-stu-id="9db19-169">-   Setting the <xref:System.Windows.Forms.Control.Cursor%2A> property.</span></span>|  
|<xref:System.Windows.Forms.Control.Cursor%2A>|<span data-ttu-id="9db19-170">-Nastavení vlastnosti <xref:System.Windows.Forms.Cursor.Current%2A>.</span><span class="sxs-lookup"><span data-stu-id="9db19-170">-   Setting the <xref:System.Windows.Forms.Cursor.Current%2A> property.</span></span>|  
|<xref:System.Windows.Forms.MessageBox>|<span data-ttu-id="9db19-171">– Volání metody <xref:System.Windows.Forms.Form.Show%2A>.</span><span class="sxs-lookup"><span data-stu-id="9db19-171">-   Calling the <xref:System.Windows.Forms.Form.Show%2A> method.</span></span>|  
  
### <a name="hosting-third-party-controls"></a><span data-ttu-id="9db19-172">Hostování ovládacích prvků třetích stran</span><span class="sxs-lookup"><span data-stu-id="9db19-172">Hosting Third-Party Controls</span></span>  
 <span data-ttu-id="9db19-173">Další druh manipulace s oknem může nastat, pokud vaše formuláře hostují ovládací prvky třetích stran.</span><span class="sxs-lookup"><span data-stu-id="9db19-173">Another kind of window manipulation can occur if your forms host third-party controls.</span></span> <span data-ttu-id="9db19-174">Ovládací prvek třetí strany je libovolný vlastní <xref:System.Windows.Forms.UserControl>, který jste nevyvinuli a zkompilujete sami.</span><span class="sxs-lookup"><span data-stu-id="9db19-174">A third-party control is any custom <xref:System.Windows.Forms.UserControl> that you have not developed and compiled yourself.</span></span> <span data-ttu-id="9db19-175">I když hostující scénář je obtížné zneužít, je teoreticky možné rozšířit plochu vykreslování tak, aby pokryla celou oblast formuláře.</span><span class="sxs-lookup"><span data-stu-id="9db19-175">Although the hosting scenario is hard to exploit, it is theoretically possible for a third-party control to expand its rendering surface to cover the entire area of your form.</span></span> <span data-ttu-id="9db19-176">Tento ovládací prvek by pak mohl napodobovat kritické dialogové okno a vyžadovat informace, jako jsou kombinace uživatelského jména a hesla nebo čísla bankovních účtů od uživatelů.</span><span class="sxs-lookup"><span data-stu-id="9db19-176">This control could then mimic a critical dialog box, and request information such as username/password combinations or bank account numbers from your users.</span></span>  
  
 <span data-ttu-id="9db19-177">Chcete-li toto riziko omezit, použijte ovládací prvky třetích stran pouze od dodavatelů, kterým můžete důvěřovat.</span><span class="sxs-lookup"><span data-stu-id="9db19-177">To limit this potential risk, use third-party controls only from vendors you can trust.</span></span> <span data-ttu-id="9db19-178">Pokud používáte ovládací prvky třetích stran, které jste stáhli z neověřeného zdroje, doporučujeme zkontrolovat zdrojový kód pro potenciální zneužití.</span><span class="sxs-lookup"><span data-stu-id="9db19-178">If you use third-party controls you have downloaded from an unverifiable source, we recommend that you review the source code for potential exploits.</span></span> <span data-ttu-id="9db19-179">Po ověření, že je zdroj neškodlivý, byste měli zkompilovat sestavení sami, abyste zajistili, že zdroj odpovídá sestavení.</span><span class="sxs-lookup"><span data-stu-id="9db19-179">After you've verified that the source is non-malicious, you should compile the assembly yourself to ensure that the source matches the assembly.</span></span>  
  
## <a name="windows-api-calls"></a><span data-ttu-id="9db19-180">Volání rozhraní API systému Windows</span><span class="sxs-lookup"><span data-stu-id="9db19-180">Windows API Calls</span></span>  
 <span data-ttu-id="9db19-181">Pokud návrh aplikace vyžaduje volání funkce z rozhraní API systému Windows, přistupujete k nespravovanému kódu.</span><span class="sxs-lookup"><span data-stu-id="9db19-181">If your application design requires calling a function from the Windows API, you are accessing unmanaged code.</span></span> <span data-ttu-id="9db19-182">V takovém případě nelze při práci s voláním nebo hodnotami rozhraní API systému Windows určit akce kódu pro okno nebo operační systém.</span><span class="sxs-lookup"><span data-stu-id="9db19-182">In this case the code's actions to the window or operating system cannot be determined when you are working with Windows API calls or values.</span></span> <span data-ttu-id="9db19-183">Třída <xref:System.Security.Permissions.SecurityPermission> a hodnota <xref:System.Security.Permissions.SecurityPermissionFlag.UnmanagedCode> ovládacího prvku <xref:System.Security.Permissions.SecurityPermissionFlag> výčtu mají přístup k nespravovanému kódu.</span><span class="sxs-lookup"><span data-stu-id="9db19-183">The <xref:System.Security.Permissions.SecurityPermission> class and the <xref:System.Security.Permissions.SecurityPermissionFlag.UnmanagedCode> value of the <xref:System.Security.Permissions.SecurityPermissionFlag> enumeration control access to unmanaged code.</span></span> <span data-ttu-id="9db19-184">Aplikace má přístup k nespravovanému kódu pouze tehdy, je-li uděleno oprávnění <xref:System.Security.Permissions.SecurityPermissionFlag.UnmanagedCode>.</span><span class="sxs-lookup"><span data-stu-id="9db19-184">An application can access unmanaged code only when it is granted the <xref:System.Security.Permissions.SecurityPermissionFlag.UnmanagedCode> permission.</span></span> <span data-ttu-id="9db19-185">Ve výchozím nastavení mohou volat nespravovaný kód pouze aplikace, které jsou spuštěny místně.</span><span class="sxs-lookup"><span data-stu-id="9db19-185">By default, only applications that are running locally can call unmanaged code.</span></span>  
  
 <span data-ttu-id="9db19-186">Někteří model Windows Forms členové poskytují nespravovaný přístup, který vyžaduje oprávnění <xref:System.Security.Permissions.SecurityPermissionFlag.UnmanagedCode>.</span><span class="sxs-lookup"><span data-stu-id="9db19-186">Some Windows Forms members provide unmanaged access that requires the <xref:System.Security.Permissions.SecurityPermissionFlag.UnmanagedCode> permission.</span></span> <span data-ttu-id="9db19-187">V následující tabulce je uveden seznam členů v oboru názvů <xref:System.Windows.Forms>, který vyžaduje oprávnění.</span><span class="sxs-lookup"><span data-stu-id="9db19-187">The following table lists the members in the <xref:System.Windows.Forms> namespace that require the permission.</span></span> <span data-ttu-id="9db19-188">Další informace o oprávněních, která jsou vyžadována pro člena, naleznete v dokumentaci knihovny tříd .NET Framework.</span><span class="sxs-lookup"><span data-stu-id="9db19-188">For more information about the permissions that are required for a member, see the .NET Framework class library documentation.</span></span>  
  
|<span data-ttu-id="9db19-189">Součást</span><span class="sxs-lookup"><span data-stu-id="9db19-189">Component</span></span>|<span data-ttu-id="9db19-190">Člen</span><span class="sxs-lookup"><span data-stu-id="9db19-190">Member</span></span>|  
|---------------|------------|  
|<xref:System.Windows.Forms.Application>|<span data-ttu-id="9db19-191">Metoda -   <xref:System.Windows.Forms.Application.AddMessageFilter%2A></span><span class="sxs-lookup"><span data-stu-id="9db19-191">-   <xref:System.Windows.Forms.Application.AddMessageFilter%2A> method</span></span><br /><span data-ttu-id="9db19-192">vlastnost -   <xref:System.Windows.Forms.Application.CurrentInputLanguage%2A></span><span class="sxs-lookup"><span data-stu-id="9db19-192">-   <xref:System.Windows.Forms.Application.CurrentInputLanguage%2A> property</span></span><br /><span data-ttu-id="9db19-193">Metoda -   `Exit`</span><span class="sxs-lookup"><span data-stu-id="9db19-193">-   `Exit` method</span></span><br /><span data-ttu-id="9db19-194">Metoda -   <xref:System.Windows.Forms.Application.ExitThread%2A></span><span class="sxs-lookup"><span data-stu-id="9db19-194">-   <xref:System.Windows.Forms.Application.ExitThread%2A> method</span></span><br /><span data-ttu-id="9db19-195">událost <xref:System.Windows.Forms.Application.ThreadException> -   </span><span class="sxs-lookup"><span data-stu-id="9db19-195">-   <xref:System.Windows.Forms.Application.ThreadException> event</span></span>|  
|<xref:System.Windows.Forms.CommonDialog>|<span data-ttu-id="9db19-196">Metoda -   <xref:System.Windows.Forms.CommonDialog.HookProc%2A></span><span class="sxs-lookup"><span data-stu-id="9db19-196">-   <xref:System.Windows.Forms.CommonDialog.HookProc%2A> method</span></span><br /><span data-ttu-id="9db19-197">-   <xref:System.Windows.Forms.CommonDialog.OwnerWndProc%2A>\ metoda</span><span class="sxs-lookup"><span data-stu-id="9db19-197">-   <xref:System.Windows.Forms.CommonDialog.OwnerWndProc%2A>\ method</span></span><br /><span data-ttu-id="9db19-198">Metoda -   <xref:System.Windows.Forms.CommonDialog.Reset%2A></span><span class="sxs-lookup"><span data-stu-id="9db19-198">-   <xref:System.Windows.Forms.CommonDialog.Reset%2A> method</span></span><br /><span data-ttu-id="9db19-199">Metoda -   <xref:System.Windows.Forms.CommonDialog.RunDialog%2A></span><span class="sxs-lookup"><span data-stu-id="9db19-199">-   <xref:System.Windows.Forms.CommonDialog.RunDialog%2A> method</span></span>|  
|<xref:System.Windows.Forms.Control>|<span data-ttu-id="9db19-200">Metoda -   <xref:System.Windows.Forms.Control.CreateParams%2A></span><span class="sxs-lookup"><span data-stu-id="9db19-200">-   <xref:System.Windows.Forms.Control.CreateParams%2A> method</span></span><br /><span data-ttu-id="9db19-201">Metoda -   <xref:System.Windows.Forms.Control.DefWndProc%2A></span><span class="sxs-lookup"><span data-stu-id="9db19-201">-   <xref:System.Windows.Forms.Control.DefWndProc%2A> method</span></span><br /><span data-ttu-id="9db19-202">Metoda -   <xref:System.Windows.Forms.Control.DestroyHandle%2A></span><span class="sxs-lookup"><span data-stu-id="9db19-202">-   <xref:System.Windows.Forms.Control.DestroyHandle%2A> method</span></span><br /><span data-ttu-id="9db19-203">Metoda -   <xref:System.Windows.Forms.Control.WndProc%2A></span><span class="sxs-lookup"><span data-stu-id="9db19-203">-   <xref:System.Windows.Forms.Control.WndProc%2A> method</span></span>|  
|<xref:System.Windows.Forms.Help>|<span data-ttu-id="9db19-204">metody -   <xref:System.Windows.Forms.Help.ShowHelp%2A></span><span class="sxs-lookup"><span data-stu-id="9db19-204">-   <xref:System.Windows.Forms.Help.ShowHelp%2A> methods</span></span><br /><span data-ttu-id="9db19-205">Metoda -   <xref:System.Windows.Forms.Help.ShowHelpIndex%2A></span><span class="sxs-lookup"><span data-stu-id="9db19-205">-   <xref:System.Windows.Forms.Help.ShowHelpIndex%2A> method</span></span>|  
|<xref:System.Windows.Forms.NativeWindow>|<span data-ttu-id="9db19-206">Třída -   <xref:System.Windows.Forms.NativeWindow></span><span class="sxs-lookup"><span data-stu-id="9db19-206">-   <xref:System.Windows.Forms.NativeWindow> class</span></span>|  
|<xref:System.Windows.Forms.Screen>|<span data-ttu-id="9db19-207">Metoda -   <xref:System.Windows.Forms.Screen.FromHandle%2A></span><span class="sxs-lookup"><span data-stu-id="9db19-207">-   <xref:System.Windows.Forms.Screen.FromHandle%2A> method</span></span>|  
|<xref:System.Windows.Forms.SendKeys>|<span data-ttu-id="9db19-208">Metoda -   <xref:System.Windows.Forms.SendKeys.Send%2A></span><span class="sxs-lookup"><span data-stu-id="9db19-208">-   <xref:System.Windows.Forms.SendKeys.Send%2A> method</span></span><br /><span data-ttu-id="9db19-209">Metoda -   <xref:System.Windows.Forms.SendKeys.SendWait%2A></span><span class="sxs-lookup"><span data-stu-id="9db19-209">-   <xref:System.Windows.Forms.SendKeys.SendWait%2A> method</span></span>|  
  
 <span data-ttu-id="9db19-210">Pokud vaše aplikace nemá oprávnění k volání nespravovaného kódu, musí vaše aplikace požádat o <xref:System.Security.Permissions.SecurityPermissionFlag.UnmanagedCode> oprávnění, nebo je nutné vzít v úvahu alternativní způsoby implementace funkcí; v mnoha případech model Windows Forms poskytuje spravovanou alternativu funkcí rozhraní API systému Windows.</span><span class="sxs-lookup"><span data-stu-id="9db19-210">If your application does not have permission to call unmanaged code, your application must request <xref:System.Security.Permissions.SecurityPermissionFlag.UnmanagedCode> permission, or you must consider alternative ways of implementing features; in many cases, Windows Forms provides a managed alternative to Windows API functions.</span></span> <span data-ttu-id="9db19-211">Pokud neexistuje žádný alternativní význam a aplikace musí mít přístup k nespravovanému kódu, bude nutné zvýšit oprávnění pro aplikaci.</span><span class="sxs-lookup"><span data-stu-id="9db19-211">If no alternative means exist and the application must access unmanaged code, you will have to elevate the permissions for the application.</span></span>  
  
 <span data-ttu-id="9db19-212">Oprávnění k volání nespravovaného kódu umožňuje aplikaci provést většinu všeho.</span><span class="sxs-lookup"><span data-stu-id="9db19-212">Permission to call unmanaged code allows an application to perform most anything.</span></span> <span data-ttu-id="9db19-213">Proto oprávnění k volání nespravovaného kódu by měla být udělena pouze aplikacím, které pocházejí z důvěryhodného zdroje.</span><span class="sxs-lookup"><span data-stu-id="9db19-213">Therefore, permission to call unmanaged code should only be granted for applications that come from a trusted source.</span></span> <span data-ttu-id="9db19-214">Alternativně, v závislosti na aplikaci, může být část funkce aplikace, která volá nespravovaný kód, volitelná nebo povolená jenom v prostředí s plnou důvěryhodností.</span><span class="sxs-lookup"><span data-stu-id="9db19-214">Alternatively, depending on the application, the piece of application functionality that makes the call to unmanaged code could be optional, or enabled in the full trust environment only.</span></span> <span data-ttu-id="9db19-215">Další informace o nebezpečných oprávněních najdete v tématu [Správa nebezpečných oprávnění a zásad](../misc/dangerous-permissions-and-policy-administration.md).</span><span class="sxs-lookup"><span data-stu-id="9db19-215">For more information about dangerous permissions, see [Dangerous Permissions and Policy Administration](../misc/dangerous-permissions-and-policy-administration.md).</span></span> <span data-ttu-id="9db19-216">Další informace o oprávněních ke zvýšení oprávnění najdete v tématu [Obecná Správa zásad zabezpečení](https://docs.microsoft.com/previous-versions/dotnet/netframework-4.0/ed5htz45(v=vs.100)).</span><span class="sxs-lookup"><span data-stu-id="9db19-216">For more information about elevating permissions, see [General Security Policy Administration](https://docs.microsoft.com/previous-versions/dotnet/netframework-4.0/ed5htz45(v=vs.100)).</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="9db19-217">Viz také:</span><span class="sxs-lookup"><span data-stu-id="9db19-217">See also</span></span>

- [<span data-ttu-id="9db19-218">Zabezpečenější přístup k souborům a datům ve Windows Forms</span><span class="sxs-lookup"><span data-stu-id="9db19-218">More Secure File and Data Access in Windows Forms</span></span>](more-secure-file-and-data-access-in-windows-forms.md)
- [<span data-ttu-id="9db19-219">Zabezpečenější tisk ve Windows Forms</span><span class="sxs-lookup"><span data-stu-id="9db19-219">More Secure Printing in Windows Forms</span></span>](more-secure-printing-in-windows-forms.md)
- [<span data-ttu-id="9db19-220">Přehled zabezpečení ve Windows Forms</span><span class="sxs-lookup"><span data-stu-id="9db19-220">Security in Windows Forms Overview</span></span>](security-in-windows-forms-overview.md)
- [<span data-ttu-id="9db19-221">Windows Forms – zabezpečení</span><span class="sxs-lookup"><span data-stu-id="9db19-221">Windows Forms Security</span></span>](windows-forms-security.md)
- [<span data-ttu-id="9db19-222">Zabezpečování aplikací ClickOnce</span><span class="sxs-lookup"><span data-stu-id="9db19-222">Securing ClickOnce Applications</span></span>](/visualstudio/deployment/securing-clickonce-applications)
