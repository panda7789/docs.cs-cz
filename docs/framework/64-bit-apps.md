---
title: 64bitové aplikace
description: Získejte informace o konfiguraci aplikací v operačním systému Windows 64, jako nativní 64 aplikace nebo v modulu WOW64 (Windows 32-bit v systému Windows 64).
ms.date: 03/30/2017
helpviewer_keywords:
- applications [C++], 64-bit
- 64-bit applications [C++]
- 64-bit programming [C++]
ms.assetid: fd4026bc-2c3d-4b27-86dc-ec5e96018181
ms.openlocfilehash: 4589d7a070a477dcb229fbaea686f6c6ff7d7e08
ms.sourcegitcommit: 45c8eed045779b70a47b23169897459d0323dc89
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 06/18/2020
ms.locfileid: "84989979"
---
# <a name="64-bit-applications"></a><span data-ttu-id="38964-103">64bitové aplikace</span><span class="sxs-lookup"><span data-stu-id="38964-103">64-bit Applications</span></span>
<span data-ttu-id="38964-104">Když kompilujete aplikaci, můžete určit, že má běžet v operačním systému Windows 64 jako nativní aplikace nebo v modulu WOW64 (Windows 32-bit v systému Windows 64-bit).</span><span class="sxs-lookup"><span data-stu-id="38964-104">When you compile an application, you can specify that it should run on a Windows 64-bit operating system either as a native application or under WOW64 (Windows 32-bit on Windows 64-bit).</span></span> <span data-ttu-id="38964-105">Subsystém WOW64 je prostředí kompatibility, které umožňuje spuštění 32 aplikace v systému 64.</span><span class="sxs-lookup"><span data-stu-id="38964-105">WOW64 is a compatibility environment that enables a 32-bit application to run on a 64-bit system.</span></span> <span data-ttu-id="38964-106">Subsystém WOW64 je součástí všech 64 bitových verzí operačního systému Windows.</span><span class="sxs-lookup"><span data-stu-id="38964-106">WOW64 is included in all 64-bit versions of the Windows operating system.</span></span>  
  
## <a name="running-32-bit-vs-64-bit-applications-on-windows"></a><span data-ttu-id="38964-107">Spouštění 32 a 64 bitových aplikací ve Windows</span><span class="sxs-lookup"><span data-stu-id="38964-107">Running 32-bit vs. 64-bit Applications on Windows</span></span>  
 <span data-ttu-id="38964-108">Všechny aplikace, které jsou postavené na .NET Framework 1,0 nebo 1,1, se považují za 32 aplikace 64 v 16bitovém operačním systému a jsou vždy spouštěny v prostředí WOW64 a 32 v modulu CLR (Common Language Runtime).</span><span class="sxs-lookup"><span data-stu-id="38964-108">All applications that are built on the .NET Framework 1.0 or 1.1 are treated as 32-bit applications on a 64-bit operating system and are always executed under WOW64 and the 32-bit common language runtime (CLR).</span></span> <span data-ttu-id="38964-109">32 bitové aplikace, které jsou postavené na .NET Framework 4 nebo novějších verzích, se spouštějí také v modulu WOW64 v systémech 64.</span><span class="sxs-lookup"><span data-stu-id="38964-109">32-bit applications that are built on the .NET Framework 4 or later versions also run under WOW64 on 64-bit systems.</span></span>  
  
 <span data-ttu-id="38964-110">Visual Studio nainstaluje 32 verzi modulu CLR na počítač s procesorem x86 a jak 32 verzi, tak i 64 příslušnou jazykovou verzi modulu CLR na počítač s 64 bitovými systémy Windows.</span><span class="sxs-lookup"><span data-stu-id="38964-110">Visual Studio installs the 32-bit version of the CLR on an x86 computer, and both the 32-bit version and the appropriate 64-bit version of the CLR on a 64-bit Windows computer.</span></span> <span data-ttu-id="38964-111">(Vzhledem k tomu, že Visual Studio je 32 aplikace, když je nainstalovaná na 64 systému, běží pod WOW64.)</span><span class="sxs-lookup"><span data-stu-id="38964-111">(Because Visual Studio is a 32-bit application, when it is installed on a 64-bit system, it runs under WOW64.)</span></span>  
  
> [!NOTE]
> <span data-ttu-id="38964-112">Vzhledem k tomu, že se jedná o návrh emulace x86 a subsystému WOW64 pro rodinu procesorů s procesorem Itanium, jsou aplikace omezené na spouštění v jednom procesoru.</span><span class="sxs-lookup"><span data-stu-id="38964-112">Because of the design of x86 emulation and the WOW64 subsystem for the Itanium processor family, applications are restricted to execution on one processor.</span></span> <span data-ttu-id="38964-113">Tyto faktory omezují výkon a škálovatelnost 32 .NET Framework aplikací, které běží na systémech založených na procesorech Itanium.</span><span class="sxs-lookup"><span data-stu-id="38964-113">These factors reduce the performance and scalability of 32-bit .NET Framework applications that run on Itanium-based systems.</span></span> <span data-ttu-id="38964-114">Pro zvýšení výkonu a škálovatelnosti doporučujeme použít .NET Framework 4, která zahrnuje nativní podporu 64 pro systémy s procesorem Itanium.</span><span class="sxs-lookup"><span data-stu-id="38964-114">We recommend that you use the .NET Framework 4, which includes native 64-bit support for Itanium-based systems, for increased performance and scalability.</span></span>  
  
 <span data-ttu-id="38964-115">Ve výchozím nastavení platí, že při spuštění 64 spravované aplikace na 64 operačním systému Windows můžete vytvořit objekt, který nemá více než 2 gigabajty (GB).</span><span class="sxs-lookup"><span data-stu-id="38964-115">By default, when you run a 64-bit managed application on a 64-bit Windows operating system, you can create an object of no more than 2 gigabytes (GB).</span></span> <span data-ttu-id="38964-116">V .NET Framework 4,5 však můžete tento limit zvýšit.</span><span class="sxs-lookup"><span data-stu-id="38964-116">However, in the .NET Framework 4.5, you can increase this limit.</span></span>  <span data-ttu-id="38964-117">Další informace naleznete v tématu [ \<gcAllowVeryLargeObjects> elementu](./configure-apps/file-schema/runtime/gcallowverylargeobjects-element.md).</span><span class="sxs-lookup"><span data-stu-id="38964-117">For more information, see the [\<gcAllowVeryLargeObjects> element](./configure-apps/file-schema/runtime/gcallowverylargeobjects-element.md).</span></span>  
  
 <span data-ttu-id="38964-118">Mnoho sestavení běží stejným způsobem na 32 CLR a 64-bit CLR.</span><span class="sxs-lookup"><span data-stu-id="38964-118">Many assemblies run identically on both the 32-bit CLR and the 64-bit CLR.</span></span> <span data-ttu-id="38964-119">Některé programy se však mohou chovat jinak, v závislosti na modulu CLR, pokud obsahují jednu nebo více následujících možností:</span><span class="sxs-lookup"><span data-stu-id="38964-119">However, some programs may behave differently, depending on the CLR, if they contain one or more of the following:</span></span>  
  
- <span data-ttu-id="38964-120">Struktury, které obsahují členy, které mění velikost v závislosti na platformě (například libovolný typ ukazatele).</span><span class="sxs-lookup"><span data-stu-id="38964-120">Structures that contain members that change size depending on the platform (for example, any pointer type).</span></span>  
  
- <span data-ttu-id="38964-121">Aritmetický ukazatel, který obsahuje konstantní velikosti.</span><span class="sxs-lookup"><span data-stu-id="38964-121">Pointer arithmetic that includes constant sizes.</span></span>  
  
- <span data-ttu-id="38964-122">Nesprávné vyvolání platformy nebo deklarace COM, které používají `Int32` pro popisovače místo `IntPtr` .</span><span class="sxs-lookup"><span data-stu-id="38964-122">Incorrect platform invoke or COM declarations that use `Int32` for handles instead of `IntPtr`.</span></span>  
  
- <span data-ttu-id="38964-123">Kód, který se přetypování `IntPtr` na `Int32` .</span><span class="sxs-lookup"><span data-stu-id="38964-123">Code that casts `IntPtr` to `Int32`.</span></span>  
  
 <span data-ttu-id="38964-124">Další informace o tom, jak nasměrovat 32-bitovou aplikaci pro spuštění na 64 modulu CLR, najdete v tématu [migrace 32-bitového spravovaného kódu na 64](https://docs.microsoft.com/previous-versions/dotnet/articles/ms973190(v=msdn.10)).</span><span class="sxs-lookup"><span data-stu-id="38964-124">For more information about how to port a 32-bit application to run on the 64-bit CLR, see [Migrating 32-bit Managed Code to 64-bit](https://docs.microsoft.com/previous-versions/dotnet/articles/ms973190(v=msdn.10)).</span></span>  
  
## <a name="general-64-bit-programming-information"></a><span data-ttu-id="38964-125">Obecné informace o 64bitovém programování</span><span class="sxs-lookup"><span data-stu-id="38964-125">General 64-Bit Programming Information</span></span>  
 <span data-ttu-id="38964-126">Obecné informace o 64 programování najdete v následujících dokumentech:</span><span class="sxs-lookup"><span data-stu-id="38964-126">For general information about 64-bit programming, see the following documents:</span></span>  
  
- <span data-ttu-id="38964-127">V dokumentaci k Windows SDK najdete informace v tématu [Průvodce programováním pro 64-bit Windows](/windows/win32/winprog64/programming-guide-for-64-bit-windows).</span><span class="sxs-lookup"><span data-stu-id="38964-127">In the Windows SDK documentation, see [Programming Guide for 64-bit Windows](/windows/win32/winprog64/programming-guide-for-64-bit-windows).</span></span>  
  
- <span data-ttu-id="38964-128">Informace o podpoře sady Visual Studio pro vytváření 64 aplikací naleznete v tématu [Podpora sady Visual Studio IDE pro 64](/visualstudio/ide/visual-studio-ide-64-bit-support).</span><span class="sxs-lookup"><span data-stu-id="38964-128">For information about Visual Studio support for creating 64-bit applications, see [Visual Studio IDE 64-Bit Support](/visualstudio/ide/visual-studio-ide-64-bit-support).</span></span>  
  
## <a name="compiler-support-for-creating-64-bit-applications"></a><span data-ttu-id="38964-129">Podpora kompilátoru pro vytváření 64bitových aplikací</span><span class="sxs-lookup"><span data-stu-id="38964-129">Compiler Support for Creating 64-Bit Applications</span></span>  
 <span data-ttu-id="38964-130">Ve výchozím nastavení platí, že když použijete .NET Framework k sestavení aplikace na 32 nebo na 64 počítači, aplikace se spustí v počítači s 64 jako nativní aplikaci (tj. není pod WOW64).</span><span class="sxs-lookup"><span data-stu-id="38964-130">By default, when you use the .NET Framework to build an application on either a 32-bit or a 64-bit computer, the application will run on a 64-bit computer as a native application (that is, not under WOW64).</span></span> <span data-ttu-id="38964-131">V následující tabulce jsou uvedeny dokumenty, které vysvětlují použití kompilátorů sady Visual Studio k vytváření 64 aplikací, které budou spouštěny jako nativní, v modulu WOW64 nebo v obou.</span><span class="sxs-lookup"><span data-stu-id="38964-131">The following table lists documents that explain how to use Visual Studio compilers to create 64-bit applications that will run as native, under WOW64, or both.</span></span>  
  
|<span data-ttu-id="38964-132">Compiler</span><span class="sxs-lookup"><span data-stu-id="38964-132">Compiler</span></span>|<span data-ttu-id="38964-133">Možnost kompilátoru</span><span class="sxs-lookup"><span data-stu-id="38964-133">Compiler option</span></span>|  
|--------------|---------------------|  
|<span data-ttu-id="38964-134">Visual Basic</span><span class="sxs-lookup"><span data-stu-id="38964-134">Visual Basic</span></span>|[<span data-ttu-id="38964-135">– Platforma (Visual Basic)</span><span class="sxs-lookup"><span data-stu-id="38964-135">-platform (Visual Basic)</span></span>](../visual-basic/reference/command-line-compiler/platform.md)|  
|<span data-ttu-id="38964-136">Visual C#</span><span class="sxs-lookup"><span data-stu-id="38964-136">Visual C#</span></span>|[<span data-ttu-id="38964-137">-Platform (možnosti kompilátoru C#)</span><span class="sxs-lookup"><span data-stu-id="38964-137">-platform (C# Compiler Options)</span></span>](../csharp/language-reference/compiler-options/platform-compiler-option.md)|  
|<span data-ttu-id="38964-138">Visual C++</span><span class="sxs-lookup"><span data-stu-id="38964-138">Visual C++</span></span>|<span data-ttu-id="38964-139">Pomocí **/clr: Safe**můžete vytvářet aplikace nezávislá platforem a aplikací jazyka MSIL (Microsoft Intermediate Language).</span><span class="sxs-lookup"><span data-stu-id="38964-139">You can create platform-agnostic, Microsoft intermediate language (MSIL) applications by using **/clr:safe**.</span></span> <span data-ttu-id="38964-140">Další informace naleznete v tématu [-CLR (kompilace modulu Common Language Runtime)](/cpp/build/reference/clr-common-language-runtime-compilation).</span><span class="sxs-lookup"><span data-stu-id="38964-140">For more information, see [-clr (Common Language Runtime Compilation)](/cpp/build/reference/clr-common-language-runtime-compilation).</span></span><br /><br /> <span data-ttu-id="38964-141">Visual C++ obsahuje samostatný kompilátor pro každý 64 operační systém.</span><span class="sxs-lookup"><span data-stu-id="38964-141">Visual C++ includes a separate compiler for each 64-bit operating system.</span></span> <span data-ttu-id="38964-142">Další informace o tom, jak používat Visual C++ k vytváření nativních aplikací, které běží v operačním systému Windows s 64, najdete v tématu [64-bitové programování](/cpp/build/configuring-programs-for-64-bit-visual-cpp).</span><span class="sxs-lookup"><span data-stu-id="38964-142">For more information about how to use Visual C++ to create native applications that run on a 64-bit Windows operating system, see [64-bit Programming](/cpp/build/configuring-programs-for-64-bit-visual-cpp).</span></span>|  
  
## <a name="determining-the-status-of-an-exe-file-or-dll-file"></a><span data-ttu-id="38964-143">Určení stavu souboru EXE nebo DLL</span><span class="sxs-lookup"><span data-stu-id="38964-143">Determining the Status of an .exe File or .dll File</span></span>  
 <span data-ttu-id="38964-144">Chcete-li zjistit, zda je soubor. exe nebo soubor. dll určen pro spuštění pouze na konkrétní platformě nebo v modulu WOW64, použijte [CorFlags.exe (Nástroj pro převod CorFlags)](./tools/corflags-exe-corflags-conversion-tool.md) bez možností.</span><span class="sxs-lookup"><span data-stu-id="38964-144">To determine whether an .exe file or .dll file is meant to run only on a specific platform or under WOW64, use [CorFlags.exe (CorFlags Conversion Tool)](./tools/corflags-exe-corflags-conversion-tool.md) with no options.</span></span> <span data-ttu-id="38964-145">Můžete také použít CorFlags.exe ke změně stavu platformy souboru. exe nebo souboru. dll.</span><span class="sxs-lookup"><span data-stu-id="38964-145">You can also use CorFlags.exe to change the platform status of an .exe file or .dll file.</span></span> <span data-ttu-id="38964-146">Hlavička CLR sestavení sady Visual Studio má hlavní číslo verze modulu runtime nastavenou na hodnotu 2 a vedlejší číslo verze modulu runtime nastaveno na hodnotu 5.</span><span class="sxs-lookup"><span data-stu-id="38964-146">The CLR header of a Visual Studio assembly has the major runtime version number set to 2 and the minor runtime version number set to 5.</span></span> <span data-ttu-id="38964-147">Aplikace, které mají vedlejší verzi modulu runtime nastavenou na hodnotu 0, jsou považovány za starší aplikace a jsou vždy spouštěny v prostředí WOW64.</span><span class="sxs-lookup"><span data-stu-id="38964-147">Applications that have the minor runtime version set to 0 are treated as legacy applications and are always executed under WOW64.</span></span>  
  
 <span data-ttu-id="38964-148">Chcete-li se programově dotazovat na soubor. exe nebo. dll, aby bylo možné spustit pouze konkrétní platformu nebo v modulu WOW64, použijte <xref:System.Reflection.Module.GetPEKind%2A?displayProperty=nameWithType> metodu.</span><span class="sxs-lookup"><span data-stu-id="38964-148">To programmatically query an .exe or .dll to see whether it is meant to run only on a specific platform or under WOW64, use the <xref:System.Reflection.Module.GetPEKind%2A?displayProperty=nameWithType> method.</span></span>
