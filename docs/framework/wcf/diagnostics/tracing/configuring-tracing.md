---
title: Konfigurace trasování
description: Naučte se, jak povolit trasování, konfigurovat zdroje trasování, nastavit trasování a šíření aktivity a nastavit naslouchací procesy trasování pro přístup k trasováním ve službě WCF.
ms.date: 03/30/2017
helpviewer_keywords:
- tracing [WCF]
ms.assetid: 82922010-e8b3-40eb-98c4-10fc05c6d65d
ms.openlocfilehash: 55d701ee6769099698d2fd869a1502d94237b5a8
ms.sourcegitcommit: 358a28048f36a8dca39a9fe6e6ac1f1913acadd5
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 06/23/2020
ms.locfileid: "85245346"
---
# <a name="configuring-tracing"></a><span data-ttu-id="bf8d0-103">Konfigurace trasování</span><span class="sxs-lookup"><span data-stu-id="bf8d0-103">Configuring Tracing</span></span>
<span data-ttu-id="bf8d0-104">Toto téma popisuje, jak lze povolit trasování, nakonfigurovat zdroje trasování pro generování trasování a nastavení úrovní trasování, nastavení trasování a šíření aktivit pro podporu komplexní korelace trasování a nastavení posluchačů trasování pro přístup k trasování.</span><span class="sxs-lookup"><span data-stu-id="bf8d0-104">This topic describes how you can enable tracing, configure trace sources to emit traces and set trace levels, set activity tracing and propagation to support end-to-end trace correlation, and set trace listeners to access traces.</span></span>  
  
 <span data-ttu-id="bf8d0-105">Doporučení pro trasování nastavení v produkčním nebo ladicím prostředí najdete v tématu [Doporučené nastavení pro trasování a protokolování zpráv](recommended-settings-for-tracing-and-message-logging.md).</span><span class="sxs-lookup"><span data-stu-id="bf8d0-105">For tracing settings recommendations in production or debugging environment, refer to [Recommended Settings for Tracing and Message Logging](recommended-settings-for-tracing-and-message-logging.md).</span></span>  
  
> [!IMPORTANT]
> <span data-ttu-id="bf8d0-106">V systému Windows 8 musíte spustit zvýšené oprávnění aplikace (Spustit jako správce), aby vaše aplikace generovala protokoly trasování.</span><span class="sxs-lookup"><span data-stu-id="bf8d0-106">On Windows 8 you must run your application elevated (Run as Administrator) in order for your application to generate trace logs.</span></span>  
  
## <a name="enabling-tracing"></a><span data-ttu-id="bf8d0-107">Povolení trasování</span><span class="sxs-lookup"><span data-stu-id="bf8d0-107">Enabling Tracing</span></span>  
 <span data-ttu-id="bf8d0-108">Windows Communication Foundation (WCF) vytvoří výstup pro diagnostické trasování následující data:</span><span class="sxs-lookup"><span data-stu-id="bf8d0-108">Windows Communication Foundation (WCF) outputs the following data for diagnostic tracing:</span></span>  
  
- <span data-ttu-id="bf8d0-109">Trasování pro milníky procesů napříč všemi komponentami aplikací, například volání operací, výjimky kódu, upozornění a další významné události zpracování.</span><span class="sxs-lookup"><span data-stu-id="bf8d0-109">Traces for process milestones across all components of the applications, such as operation calls, code exceptions, warnings, and other significant processing events.</span></span>  
  
- <span data-ttu-id="bf8d0-110">Chybové události systému Windows, pokud funkce trasování nepracuje správně.</span><span class="sxs-lookup"><span data-stu-id="bf8d0-110">Windows error events when the tracing feature malfunctions.</span></span> <span data-ttu-id="bf8d0-111">Viz [protokolování událostí](../event-logging/index.md).</span><span class="sxs-lookup"><span data-stu-id="bf8d0-111">See [Event Logging](../event-logging/index.md).</span></span>  
  
 <span data-ttu-id="bf8d0-112">Trasování WCF je postaveno na začátku <xref:System.Diagnostics> .</span><span class="sxs-lookup"><span data-stu-id="bf8d0-112">WCF tracing is built on top of <xref:System.Diagnostics>.</span></span> <span data-ttu-id="bf8d0-113">Chcete-li použít trasování, je třeba definovat zdroje trasování v konfiguračním souboru nebo v kódu.</span><span class="sxs-lookup"><span data-stu-id="bf8d0-113">To use tracing, you should define trace sources in the configuration file or in code.</span></span> <span data-ttu-id="bf8d0-114">WCF definuje zdroj trasování pro každé sestavení WCF.</span><span class="sxs-lookup"><span data-stu-id="bf8d0-114">WCF defines a trace source for each WCF assembly.</span></span> <span data-ttu-id="bf8d0-115">`System.ServiceModel`Zdroj trasování je nejobecnější zdroj trasování WCF a zaznamenává milníky zpracování v rámci komunikačního zásobníku WCF, od vstupu a výstupu do přenosu za účelem zadání nebo ukončení uživatelského kódu.</span><span class="sxs-lookup"><span data-stu-id="bf8d0-115">The `System.ServiceModel` trace source is the most general WCF trace source, and records processing milestones across the WCF communication stack, from entering/leaving transport to entering/leaving user code.</span></span> <span data-ttu-id="bf8d0-116">`System.ServiceModel.MessageLogging`Zdroj trasování zaznamenává všechny zprávy, které procházejí systémem.</span><span class="sxs-lookup"><span data-stu-id="bf8d0-116">The `System.ServiceModel.MessageLogging` trace source records all messages that flow through the system.</span></span>  
  
 <span data-ttu-id="bf8d0-117">Trasování není ve výchozím nastavení povolené.</span><span class="sxs-lookup"><span data-stu-id="bf8d0-117">Tracing is not enabled by default.</span></span> <span data-ttu-id="bf8d0-118">Chcete-li aktivovat trasování, je nutné pro vybraný zdroj trasování v konfiguraci vytvořit naslouchací proces trasování a nastavit úroveň trasování jinou než "vypnuto". v opačném případě WCF negeneruje žádná trasování.</span><span class="sxs-lookup"><span data-stu-id="bf8d0-118">To activate tracing, you must create a trace listener and set a trace level other than "Off" for the selected trace source in configuration; otherwise, WCF does not generate any traces.</span></span> <span data-ttu-id="bf8d0-119">Pokud neurčíte naslouchací proces, trasování se automaticky zakáže.</span><span class="sxs-lookup"><span data-stu-id="bf8d0-119">If you do not specify a listener, tracing is automatically disabled.</span></span> <span data-ttu-id="bf8d0-120">Pokud je definován naslouchací proces, ale není zadána žádná úroveň, úroveň je ve výchozím nastavení nastavena na "off", což znamená, že není vygenerováno žádné trasování.</span><span class="sxs-lookup"><span data-stu-id="bf8d0-120">If a listener is defined, but no level is specified, the level is set to "Off" by default, which means that no trace is emitted.</span></span>  
  
 <span data-ttu-id="bf8d0-121">Pokud používáte body rozšiřitelnosti WCF, jako je například vlastní operace invokers, měli byste vygenerovat vlastní trasování.</span><span class="sxs-lookup"><span data-stu-id="bf8d0-121">If you use WCF extensibility points such as custom operation invokers, you should emit your own traces.</span></span> <span data-ttu-id="bf8d0-122">Důvodem je, že pokud implementujete bod rozšiřitelnosti, WCF již nemůže generovat standardní trasování ve výchozí cestě.</span><span class="sxs-lookup"><span data-stu-id="bf8d0-122">This is because if you implement an extensibility point, WCF can no longer emit the standard traces in the default path.</span></span> <span data-ttu-id="bf8d0-123">Pokud neimplementujete podporu ručního trasování tím, že vygenerujete trasování, možná neuvidíte trasování, které očekáváte.</span><span class="sxs-lookup"><span data-stu-id="bf8d0-123">If you do not implement manual tracing support by emitting traces, you may not see the traces you expect.</span></span>  
  
 <span data-ttu-id="bf8d0-124">Trasování můžete nakonfigurovat úpravou konfiguračního souboru aplikace – buď Web.config pro aplikace hostované na webu, nebo Appname.exe.config pro samoobslužné aplikace.</span><span class="sxs-lookup"><span data-stu-id="bf8d0-124">You can configure tracing by editing the application's configuration file—either Web.config for Web-hosted applications, or Appname.exe.config for self-hosted applications.</span></span> <span data-ttu-id="bf8d0-125">Následuje příklad takového úprav.</span><span class="sxs-lookup"><span data-stu-id="bf8d0-125">The following is an example of such edit.</span></span> <span data-ttu-id="bf8d0-126">Další informace o těchto nastaveních najdete v části Konfigurace naslouchacího procesu trasování pro využívání trasování.</span><span class="sxs-lookup"><span data-stu-id="bf8d0-126">For more information on these settings, see the "Configuring Trace Listeners to Consume Traces" section.</span></span>  
  
```xml  
<configuration>  
   <system.diagnostics>  
      <sources>  
         <source name="System.ServiceModel"
                    switchValue="Information, ActivityTracing"  
                    propagateActivity="true">  
            <listeners>  
               <add name="traceListener"
                   type="System.Diagnostics.XmlWriterTraceListener"
                   initializeData= "c:\log\Traces.svclog" />  
            </listeners>  
         </source>  
      </sources>  
   </system.diagnostics>  
</configuration>  
```  
  
> [!NOTE]
> <span data-ttu-id="bf8d0-127">Chcete-li upravit konfigurační soubor projektu služby WCF v aplikaci Visual Studio, klikněte pravým tlačítkem myši na konfigurační soubor aplikace, buď Web.config pro aplikace hostované na webu, nebo Appname.exe.config pro samoobslužnou aplikaci v **Průzkumník řešení**.</span><span class="sxs-lookup"><span data-stu-id="bf8d0-127">To edit the configuration file of a WCF service project in Visual Studio, right click the application's configuration file—either Web.config for Web-hosted applications, or Appname.exe.config for self-hosted application in **Solution Explorer**.</span></span> <span data-ttu-id="bf8d0-128">Pak zvolte položku **Upravit konfiguraci služby WCF** v kontextové nabídce.</span><span class="sxs-lookup"><span data-stu-id="bf8d0-128">Then choose the **Edit WCF Configuration** context menu item.</span></span> <span data-ttu-id="bf8d0-129">Tím se spustí [Nástroj Configuration Editor (SvcConfigEditor.exe)](../../configuration-editor-tool-svcconfigeditor-exe.md), který umožňuje změnit nastavení konfigurace pro služby WCF pomocí grafického uživatelského rozhraní.</span><span class="sxs-lookup"><span data-stu-id="bf8d0-129">This launches the [Configuration Editor Tool (SvcConfigEditor.exe)](../../configuration-editor-tool-svcconfigeditor-exe.md), which enables you to modify configuration settings for WCF services using a graphical user interface.</span></span>  
  
## <a name="configuring-trace-sources-to-emit-traces"></a><span data-ttu-id="bf8d0-130">Konfigurace zdrojů trasování pro vygenerování trasování</span><span class="sxs-lookup"><span data-stu-id="bf8d0-130">Configuring Trace Sources to Emit Traces</span></span>  
 <span data-ttu-id="bf8d0-131">WCF definuje zdroj trasování pro každé sestavení.</span><span class="sxs-lookup"><span data-stu-id="bf8d0-131">WCF defines a trace source for each assembly.</span></span> <span data-ttu-id="bf8d0-132">Trasování generovaná v rámci sestavení jsou k dispozici pro naslouchací procesy definované pro tento zdroj.</span><span class="sxs-lookup"><span data-stu-id="bf8d0-132">Traces generated within an assembly are accessed by the listeners defined for that source.</span></span> <span data-ttu-id="bf8d0-133">Jsou definovány následující zdroje trasování:</span><span class="sxs-lookup"><span data-stu-id="bf8d0-133">The following trace sources are defined:</span></span>  
  
- <span data-ttu-id="bf8d0-134">System. ServiceModel: protokoluje všechny fáze zpracování služby WCF, kdykoli se načte konfigurace, zpráva se zpracuje při přenosu, zpracování zabezpečení, zpráva se odešle v uživatelském kódu a tak dále.</span><span class="sxs-lookup"><span data-stu-id="bf8d0-134">System.ServiceModel: Logs all stages of WCF processing, whenever configuration is read, a message is processed in transport, security processing, a message is dispatched in user code, and so on.</span></span>  
  
- <span data-ttu-id="bf8d0-135">System. ServiceModel. MessageLogging: protokoluje všechny zprávy, které procházejí systémem.</span><span class="sxs-lookup"><span data-stu-id="bf8d0-135">System.ServiceModel.MessageLogging: Logs all messages that flow through the system.</span></span>  
  
- <span data-ttu-id="bf8d0-136">System. IdentityModel.</span><span class="sxs-lookup"><span data-stu-id="bf8d0-136">System.IdentityModel.</span></span>  
  
- <span data-ttu-id="bf8d0-137">System. ServiceModel. Activation.</span><span class="sxs-lookup"><span data-stu-id="bf8d0-137">System.ServiceModel.Activation.</span></span>  
  
- <span data-ttu-id="bf8d0-138">System. IO. log: protokolování .NET Framework rozhraní do Common Log File System (CLFS).</span><span class="sxs-lookup"><span data-stu-id="bf8d0-138">System.IO.Log: Logging for the .NET Framework interface to the Common Log File System (CLFS).</span></span>  
  
- <span data-ttu-id="bf8d0-139">System. Runtime. Serialization: protokoluje se při čtení nebo zápisu objektů.</span><span class="sxs-lookup"><span data-stu-id="bf8d0-139">System.Runtime.Serialization: Logs when objects are read or written.</span></span>  
  
- <span data-ttu-id="bf8d0-140">Službu.</span><span class="sxs-lookup"><span data-stu-id="bf8d0-140">CardSpace.</span></span>  
  
 <span data-ttu-id="bf8d0-141">Každý zdroj trasování můžete nakonfigurovat tak, aby používal stejný (sdílený) naslouchací proces, jak je uvedeno v následujícím příkladu konfigurace.</span><span class="sxs-lookup"><span data-stu-id="bf8d0-141">You can configure each trace source to use the same (shared) listener, as indicated in the following configuration example.</span></span>  
  
```xml  
<configuration>  
    <system.diagnostics>  
        <sources>  
            <source name="System.ServiceModel"
                    switchValue="Information, ActivityTracing"  
                    propagateActivity="true">  
                <listeners>  
                    <add name="xml" />  
                </listeners>  
            </source>  
            <source name="CardSpace">  
                <listeners>  
                    <add name="xml" />  
                </listeners>  
            </source>  
            <source name="System.IO.Log">  
                <listeners>  
                    <add name="xml" />  
                </listeners>  
            </source>  
            <source name="System.Runtime.Serialization">  
                <listeners>  
                    <add name="xml" />  
                </listeners>  
            </source>  
            <source name="System.IdentityModel">  
                <listeners>  
                    <add name="xml" />  
                </listeners>  
            </source>  
        </sources>  
  
        <sharedListeners>  
            <add name="xml"  
                 type="System.Diagnostics.XmlWriterTraceListener"  
                 initializeData="c:\log\Traces.svclog" />  
        </sharedListeners>  
    </system.diagnostics>  
</configuration>  
```  
  
 <span data-ttu-id="bf8d0-142">Kromě toho můžete přidat uživatelem definované zdroje trasování, jak je znázorněno v následujícím příkladu, k vygenerování trasování uživatelského kódu.</span><span class="sxs-lookup"><span data-stu-id="bf8d0-142">In addition, you can add user-defined trace sources, as demonstrated by the following example, to emit user code traces.</span></span>  
  
```xml  
<system.diagnostics>  
   <sources>  
       <source name="UserTraceSource" switchValue="Warning, ActivityTracing" >  
          <listeners>  
              <add name="xml"  
                 type="System.Diagnostics.XmlWriterTraceListener"  
                 initializeData="C:\logs\UserTraces.svclog" />  
          </listeners>  
       </source>  
   </sources>  
   <trace autoflush="true" />
</system.diagnostics>  
```  
  
 <span data-ttu-id="bf8d0-143">Další informace o vytváření uživatelem definovaných zdrojů trasování naleznete v tématu [rozšíření trasování](../../samples/extending-tracing.md).</span><span class="sxs-lookup"><span data-stu-id="bf8d0-143">For more information about creating user-defined trace sources, see [Extending Tracing](../../samples/extending-tracing.md).</span></span>  
  
## <a name="configuring-trace-listeners-to-consume-traces"></a><span data-ttu-id="bf8d0-144">Konfigurace naslouchacího procesu trasování pro využívání trasování</span><span class="sxs-lookup"><span data-stu-id="bf8d0-144">Configuring Trace Listeners to Consume Traces</span></span>  
 <span data-ttu-id="bf8d0-145">V době běhu kanály WCF sleduje data do posluchačů, které zpracovávají data.</span><span class="sxs-lookup"><span data-stu-id="bf8d0-145">At runtime, WCF feeds trace data to the listeners, which process the data.</span></span> <span data-ttu-id="bf8d0-146">WCF poskytuje několik předdefinovaných posluchačů pro <xref:System.Diagnostics> , které se liší ve formátu používaném pro výstup.</span><span class="sxs-lookup"><span data-stu-id="bf8d0-146">WCF provides several predefined listeners for <xref:System.Diagnostics>, which differ in the format they use for output.</span></span> <span data-ttu-id="bf8d0-147">Můžete také přidat vlastní typy naslouchacího procesu.</span><span class="sxs-lookup"><span data-stu-id="bf8d0-147">You can also add custom listener types.</span></span>  
  
 <span data-ttu-id="bf8d0-148">Můžete použít `add` Chcete-li určit název a typ naslouchací proces trasování, kterou chcete použít.</span><span class="sxs-lookup"><span data-stu-id="bf8d0-148">You can use `add` to specify the name and type of the trace listener you want to use.</span></span> <span data-ttu-id="bf8d0-149">V našem příkladu konfigurace jsme pojmenovali naslouchací proces `traceListener` a přidali jsme standardní .NET Framework trasování trasování ( `System.Diagnostics.XmlWriterTraceListener` ), jako typ, který chceme použít.</span><span class="sxs-lookup"><span data-stu-id="bf8d0-149">In our example configuration, we named the Listener `traceListener` and added the standard .NET Framework trace listener (`System.Diagnostics.XmlWriterTraceListener`) as the type we want to use.</span></span> <span data-ttu-id="bf8d0-150">Můžete přidat libovolný počet posluchačů trasování pro každý zdroj.</span><span class="sxs-lookup"><span data-stu-id="bf8d0-150">You can add any number of trace listeners for each source.</span></span> <span data-ttu-id="bf8d0-151">Pokud naslouchací proces trasování vysílá trasování do souboru, je nutné zadat umístění a název výstupního souboru do konfiguračního souboru.</span><span class="sxs-lookup"><span data-stu-id="bf8d0-151">If the trace listener emits the trace to a file, you must specify the output file location and name in the configuration file.</span></span> <span data-ttu-id="bf8d0-152">To se provádí nastavením `initializeData` na název souboru pro tento naslouchací proces.</span><span class="sxs-lookup"><span data-stu-id="bf8d0-152">This is done by setting `initializeData` to the name of the file for that listener.</span></span> <span data-ttu-id="bf8d0-153">Pokud název souboru nezadáte, vygeneruje se náhodný název souboru na základě používaného typu naslouchacího procesu.</span><span class="sxs-lookup"><span data-stu-id="bf8d0-153">If you do not specify a file name, a random file name is generated based on the listener type used.</span></span> <span data-ttu-id="bf8d0-154">Pokud <xref:System.Diagnostics.XmlWriterTraceListener> se použije, název souboru bez přípony se vygeneruje.</span><span class="sxs-lookup"><span data-stu-id="bf8d0-154">If <xref:System.Diagnostics.XmlWriterTraceListener> is used, a file name with no extension is generated.</span></span> <span data-ttu-id="bf8d0-155">Pokud implementujete vlastní naslouchací proces, můžete také použít tento atribut pro příjem jiných inicializačních dat než filename.</span><span class="sxs-lookup"><span data-stu-id="bf8d0-155">If you implement a custom listener, you can also use this attribute to receive initialization data other than a filename.</span></span> <span data-ttu-id="bf8d0-156">Můžete například zadat identifikátor databáze pro tento atribut.</span><span class="sxs-lookup"><span data-stu-id="bf8d0-156">For example, you can specify a database identifier for this attribute.</span></span>  
  
 <span data-ttu-id="bf8d0-157">Můžete nakonfigurovat vlastní naslouchací proces trasování pro odesílání trasování na lince, například do vzdálené databáze.</span><span class="sxs-lookup"><span data-stu-id="bf8d0-157">You can configure a custom trace listener to send traces on the wire, for example, to a remote database.</span></span> <span data-ttu-id="bf8d0-158">Jako modul pro nasazení aplikace byste měli vynutilit správné řízení přístupu na protokolech trasování ve vzdáleném počítači.</span><span class="sxs-lookup"><span data-stu-id="bf8d0-158">As an application deployer, you should enforce proper access control on the trace logs in the remote machine.</span></span>  
  
 <span data-ttu-id="bf8d0-159">Můžete také programově nakonfigurovat naslouchací proces trasování.</span><span class="sxs-lookup"><span data-stu-id="bf8d0-159">You can also configure a trace listener programmatically.</span></span> <span data-ttu-id="bf8d0-160">Další informace naleznete v tématu [How to: Create and Initialize Listener Traces](../../../debug-trace-profile/how-to-create-and-initialize-trace-listeners.md) and a Create a [Custom TraceListener](https://docs.microsoft.com/archive/msdn-magazine/2006/april/clr-inside-out-extending-system-diagnostics).</span><span class="sxs-lookup"><span data-stu-id="bf8d0-160">For more information, see [How to: Create and Initialize Trace Listeners](../../../debug-trace-profile/how-to-create-and-initialize-trace-listeners.md) and [Creating a Custom TraceListener](https://docs.microsoft.com/archive/msdn-magazine/2006/april/clr-inside-out-extending-system-diagnostics).</span></span>  
  
> [!CAUTION]
> <span data-ttu-id="bf8d0-161">Vzhledem `System.Diagnostics.XmlWriterTraceListener` k tomu, že není bezpečná pro přístup z více vláken, může zdroj trasování uzamknout prostředky výhradně při výstupu trasování.</span><span class="sxs-lookup"><span data-stu-id="bf8d0-161">Because `System.Diagnostics.XmlWriterTraceListener` is not thread-safe, the trace source may lock resources exclusively when outputting traces.</span></span> <span data-ttu-id="bf8d0-162">Když mnoho vláken výstupuje trasování do zdroje trasování nakonfigurovaného pro použití tohoto naslouchacího procesu, může dojít k kolizí prostředků, což vede k významnému problému s výkonem.</span><span class="sxs-lookup"><span data-stu-id="bf8d0-162">When many threads output traces to a trace source configured to use this listener, resource contention may occur, which results in a significant performance issue.</span></span> <span data-ttu-id="bf8d0-163">Chcete-li vyřešit tento problém, měli byste implementovat vlastní naslouchací proces, který je bezpečný pro přístup z více vláken.</span><span class="sxs-lookup"><span data-stu-id="bf8d0-163">To resolve this problem, you should implement a custom listener that is thread-safe.</span></span>  
  
## <a name="trace-level"></a><span data-ttu-id="bf8d0-164">Úroveň trasování</span><span class="sxs-lookup"><span data-stu-id="bf8d0-164">Trace Level</span></span>  
 <span data-ttu-id="bf8d0-165">Úroveň trasování je řízena `switchValue` nastavením zdroje trasování.</span><span class="sxs-lookup"><span data-stu-id="bf8d0-165">The tracing level is controlled by the `switchValue` setting of the trace source.</span></span> <span data-ttu-id="bf8d0-166">Dostupné úrovně trasování jsou popsány v následující tabulce.</span><span class="sxs-lookup"><span data-stu-id="bf8d0-166">The available tracing levels are described in the following table.</span></span>  
  
|<span data-ttu-id="bf8d0-167">Úroveň trasování</span><span class="sxs-lookup"><span data-stu-id="bf8d0-167">Trace Level</span></span>|<span data-ttu-id="bf8d0-168">Povaha sledovaných událostí</span><span class="sxs-lookup"><span data-stu-id="bf8d0-168">Nature of the Tracked Events</span></span>|<span data-ttu-id="bf8d0-169">Obsah sledovaných událostí</span><span class="sxs-lookup"><span data-stu-id="bf8d0-169">Content of the Tracked Events</span></span>|<span data-ttu-id="bf8d0-170">Sledované události</span><span class="sxs-lookup"><span data-stu-id="bf8d0-170">Tracked Events</span></span>|<span data-ttu-id="bf8d0-171">Cíl uživatele</span><span class="sxs-lookup"><span data-stu-id="bf8d0-171">User Target</span></span>|  
|-----------------|----------------------------------|-----------------------------------|--------------------|-----------------|  
|<span data-ttu-id="bf8d0-172">Vypnout</span><span class="sxs-lookup"><span data-stu-id="bf8d0-172">Off</span></span>|<span data-ttu-id="bf8d0-173">–</span><span class="sxs-lookup"><span data-stu-id="bf8d0-173">N/A</span></span>|<span data-ttu-id="bf8d0-174">–</span><span class="sxs-lookup"><span data-stu-id="bf8d0-174">N/A</span></span>|<span data-ttu-id="bf8d0-175">Žádná trasování nejsou vygenerována.</span><span class="sxs-lookup"><span data-stu-id="bf8d0-175">No traces are emitted.</span></span>|<span data-ttu-id="bf8d0-176">–</span><span class="sxs-lookup"><span data-stu-id="bf8d0-176">N/A</span></span>|  
|<span data-ttu-id="bf8d0-177">Kritické</span><span class="sxs-lookup"><span data-stu-id="bf8d0-177">Critical</span></span>|<span data-ttu-id="bf8d0-178">"Záporné" události: události, které indikují neočekávané zpracování nebo chybový stav.</span><span class="sxs-lookup"><span data-stu-id="bf8d0-178">"Negative" events: events that indicate an unexpected processing or an error condition.</span></span>||<span data-ttu-id="bf8d0-179">Neošetřené výjimky, včetně následujících, jsou protokolovány:</span><span class="sxs-lookup"><span data-stu-id="bf8d0-179">Unhandled exceptions including the following are logged:</span></span><br /><br /> <span data-ttu-id="bf8d0-180">– OutOfMemoryException</span><span class="sxs-lookup"><span data-stu-id="bf8d0-180">-   OutOfMemoryException</span></span><br /><span data-ttu-id="bf8d0-181">-ThreadAbortException (CLR vyvolá všechny ThreadAbortExceptionHandler)</span><span class="sxs-lookup"><span data-stu-id="bf8d0-181">-   ThreadAbortException (the CLR invokes any ThreadAbortExceptionHandler)</span></span><br /><span data-ttu-id="bf8d0-182">-StackOverflowException (nelze zachytit)</span><span class="sxs-lookup"><span data-stu-id="bf8d0-182">-   StackOverflowException (cannot be caught)</span></span><br /><span data-ttu-id="bf8d0-183">– ConfigurationErrorsException</span><span class="sxs-lookup"><span data-stu-id="bf8d0-183">-   ConfigurationErrorsException</span></span><br /><span data-ttu-id="bf8d0-184">– SEHException –</span><span class="sxs-lookup"><span data-stu-id="bf8d0-184">-   SEHException</span></span><br /><span data-ttu-id="bf8d0-185">– Chyby spuštění aplikace</span><span class="sxs-lookup"><span data-stu-id="bf8d0-185">-   Application start errors</span></span><br /><span data-ttu-id="bf8d0-186">– FailFast – události</span><span class="sxs-lookup"><span data-stu-id="bf8d0-186">-   Failfast events</span></span><br /><span data-ttu-id="bf8d0-187">– Systém přestane reagovat.</span><span class="sxs-lookup"><span data-stu-id="bf8d0-187">-   System hangs</span></span><br /><span data-ttu-id="bf8d0-188">-Poškozené zprávy: trasování zpráv, které způsobí selhání aplikace.</span><span class="sxs-lookup"><span data-stu-id="bf8d0-188">-   Poison messages: message traces that cause the application to fail.</span></span>|<span data-ttu-id="bf8d0-189">Administrators</span><span class="sxs-lookup"><span data-stu-id="bf8d0-189">Administrators</span></span><br /><br /> <span data-ttu-id="bf8d0-190">Vývojáři aplikací</span><span class="sxs-lookup"><span data-stu-id="bf8d0-190">Application developers</span></span>|  
|<span data-ttu-id="bf8d0-191">Chyba</span><span class="sxs-lookup"><span data-stu-id="bf8d0-191">Error</span></span>|<span data-ttu-id="bf8d0-192">"Záporné" události: události, které indikují neočekávané zpracování nebo chybový stav.</span><span class="sxs-lookup"><span data-stu-id="bf8d0-192">"Negative" events: events that indicate an unexpected processing or an error condition.</span></span>|<span data-ttu-id="bf8d0-193">Došlo k neočekávanému zpracování.</span><span class="sxs-lookup"><span data-stu-id="bf8d0-193">Unexpected processing has happened.</span></span> <span data-ttu-id="bf8d0-194">Aplikace nebyla schopna provést úlohu podle očekávání.</span><span class="sxs-lookup"><span data-stu-id="bf8d0-194">The application was not able to perform a task as expected.</span></span> <span data-ttu-id="bf8d0-195">Aplikace je však stále v provozu.</span><span class="sxs-lookup"><span data-stu-id="bf8d0-195">However, the application is still up and running.</span></span>|<span data-ttu-id="bf8d0-196">Všechny výjimky jsou protokolovány.</span><span class="sxs-lookup"><span data-stu-id="bf8d0-196">All exceptions are logged.</span></span>|<span data-ttu-id="bf8d0-197">Administrators</span><span class="sxs-lookup"><span data-stu-id="bf8d0-197">Administrators</span></span><br /><br /> <span data-ttu-id="bf8d0-198">Vývojáři aplikací</span><span class="sxs-lookup"><span data-stu-id="bf8d0-198">Application developers</span></span>|  
|<span data-ttu-id="bf8d0-199">Upozornění</span><span class="sxs-lookup"><span data-stu-id="bf8d0-199">Warning</span></span>|<span data-ttu-id="bf8d0-200">"Záporné" události: události, které indikují neočekávané zpracování nebo chybový stav.</span><span class="sxs-lookup"><span data-stu-id="bf8d0-200">"Negative" events: events that indicate an unexpected processing or an error condition.</span></span>|<span data-ttu-id="bf8d0-201">Je možné, že došlo k potížím nebo se může vyskytnout, ale aplikace pořád funguje správně.</span><span class="sxs-lookup"><span data-stu-id="bf8d0-201">A possible problem has occurred or may occur, but the application still functions correctly.</span></span> <span data-ttu-id="bf8d0-202">Nemusí však nadále fungovat správně.</span><span class="sxs-lookup"><span data-stu-id="bf8d0-202">However, it may not continue to work properly.</span></span>|<span data-ttu-id="bf8d0-203">-Aplikace přijímá více požadavků, než umožňuje nastavení omezení.</span><span class="sxs-lookup"><span data-stu-id="bf8d0-203">-   The application is receiving more requests than its throttling settings allow.</span></span><br /><span data-ttu-id="bf8d0-204">– Fronta pro příjem se blíží své maximální nakonfigurované kapacitě.</span><span class="sxs-lookup"><span data-stu-id="bf8d0-204">-   The receiving queue is near its maximum configured capacity.</span></span><br /><span data-ttu-id="bf8d0-205">– Byl překročen časový limit.</span><span class="sxs-lookup"><span data-stu-id="bf8d0-205">-   Timeout has exceeded.</span></span><br /><span data-ttu-id="bf8d0-206">-Pověření byla zamítnuta.</span><span class="sxs-lookup"><span data-stu-id="bf8d0-206">-   Credentials are rejected.</span></span>|<span data-ttu-id="bf8d0-207">Administrators</span><span class="sxs-lookup"><span data-stu-id="bf8d0-207">Administrators</span></span><br /><br /> <span data-ttu-id="bf8d0-208">Vývojáři aplikací</span><span class="sxs-lookup"><span data-stu-id="bf8d0-208">Application developers</span></span>|  
|<span data-ttu-id="bf8d0-209">Informace</span><span class="sxs-lookup"><span data-stu-id="bf8d0-209">Information</span></span>|<span data-ttu-id="bf8d0-210">"Kladné" události: události, které označují úspěšné milníky</span><span class="sxs-lookup"><span data-stu-id="bf8d0-210">"Positive" events: events that mark successful milestones</span></span>|<span data-ttu-id="bf8d0-211">Důležité a úspěšné milníky provádění aplikace bez ohledu na to, jestli aplikace funguje správně nebo ne.</span><span class="sxs-lookup"><span data-stu-id="bf8d0-211">Important and successful milestones of application execution, regardless of whether the application is working properly or not.</span></span>|<span data-ttu-id="bf8d0-212">Obecně platí, že zprávy, které jsou užitečné pro monitorování a diagnostiku stavu systému, jsou vygenerovány při měření výkonu nebo profilace.</span><span class="sxs-lookup"><span data-stu-id="bf8d0-212">In general, messages helpful for monitoring and diagnosing system status, measuring performance or profiling are generated.</span></span> <span data-ttu-id="bf8d0-213">Tyto informace můžete použít k plánování kapacity a správě výkonu:</span><span class="sxs-lookup"><span data-stu-id="bf8d0-213">You can use such information for capacity planning and performance management:</span></span><br /><br /> <span data-ttu-id="bf8d0-214">– Kanály se vytvoří.</span><span class="sxs-lookup"><span data-stu-id="bf8d0-214">-   Channels are created.</span></span><br /><span data-ttu-id="bf8d0-215">– Vytvoří se naslouchací proces koncového bodu.</span><span class="sxs-lookup"><span data-stu-id="bf8d0-215">-   Endpoint listeners are created.</span></span><br /><span data-ttu-id="bf8d0-216">-Zpráva se zadává nebo opouští přenosů.</span><span class="sxs-lookup"><span data-stu-id="bf8d0-216">-   Message enters/leaves transport.</span></span><br /><span data-ttu-id="bf8d0-217">-Byl načten token zabezpečení.</span><span class="sxs-lookup"><span data-stu-id="bf8d0-217">-   Security token is retrieved.</span></span><br /><span data-ttu-id="bf8d0-218">-Konfigurační nastavení je přečteno.</span><span class="sxs-lookup"><span data-stu-id="bf8d0-218">-   Configuration setting is read.</span></span>|<span data-ttu-id="bf8d0-219">Administrators</span><span class="sxs-lookup"><span data-stu-id="bf8d0-219">Administrators</span></span><br /><br /> <span data-ttu-id="bf8d0-220">Vývojáři aplikací</span><span class="sxs-lookup"><span data-stu-id="bf8d0-220">Application developers</span></span><br /><br /> <span data-ttu-id="bf8d0-221">Vývojáři produktů.</span><span class="sxs-lookup"><span data-stu-id="bf8d0-221">Product developers.</span></span>|  
|<span data-ttu-id="bf8d0-222">Verbose</span><span class="sxs-lookup"><span data-stu-id="bf8d0-222">Verbose</span></span>|<span data-ttu-id="bf8d0-223">"Kladné" události: události, které označují úspěšné milníky.</span><span class="sxs-lookup"><span data-stu-id="bf8d0-223">"Positive" events: events that mark successful milestones.</span></span>|<span data-ttu-id="bf8d0-224">Generují se události nízké úrovně pro uživatelský kód i obsluhu.</span><span class="sxs-lookup"><span data-stu-id="bf8d0-224">Low-level events for both user code and servicing are emitted.</span></span>|<span data-ttu-id="bf8d0-225">Obecně můžete použít tuto úroveň pro ladění nebo optimalizaci aplikace.</span><span class="sxs-lookup"><span data-stu-id="bf8d0-225">In general, you can use this level for debugging or application optimization.</span></span><br /><br /> <span data-ttu-id="bf8d0-226">-Srozumitelná Hlavička zprávy</span><span class="sxs-lookup"><span data-stu-id="bf8d0-226">-   Understood message header.</span></span>|<span data-ttu-id="bf8d0-227">Administrators</span><span class="sxs-lookup"><span data-stu-id="bf8d0-227">Administrators</span></span><br /><br /> <span data-ttu-id="bf8d0-228">Vývojáři aplikací</span><span class="sxs-lookup"><span data-stu-id="bf8d0-228">Application developers</span></span><br /><br /> <span data-ttu-id="bf8d0-229">Vývojáři produktů.</span><span class="sxs-lookup"><span data-stu-id="bf8d0-229">Product developers.</span></span>|  
|<span data-ttu-id="bf8d0-230">ActivityTracing</span><span class="sxs-lookup"><span data-stu-id="bf8d0-230">ActivityTracing</span></span>||<span data-ttu-id="bf8d0-231">Flow události mezi aktivitami zpracování a komponentami.</span><span class="sxs-lookup"><span data-stu-id="bf8d0-231">Flow events between processing activities and components.</span></span>|<span data-ttu-id="bf8d0-232">Tato úroveň umožňuje správcům a vývojářům korelovat aplikace ve stejné doméně aplikace:</span><span class="sxs-lookup"><span data-stu-id="bf8d0-232">This level allows administrators and developers to correlate applications in the same application domain:</span></span><br /><br /> <span data-ttu-id="bf8d0-233">– Trasování pro hranice aktivity, například spustit/zastavit.</span><span class="sxs-lookup"><span data-stu-id="bf8d0-233">-   Traces for activity boundaries, such as start/stop.</span></span><br /><span data-ttu-id="bf8d0-234">– Trasování pro přenosy.</span><span class="sxs-lookup"><span data-stu-id="bf8d0-234">-   Traces for transfers.</span></span>|<span data-ttu-id="bf8d0-235">Vše</span><span class="sxs-lookup"><span data-stu-id="bf8d0-235">All</span></span>|  
|<span data-ttu-id="bf8d0-236">Vše</span><span class="sxs-lookup"><span data-stu-id="bf8d0-236">All</span></span>||<span data-ttu-id="bf8d0-237">Aplikace může fungovat správně.</span><span class="sxs-lookup"><span data-stu-id="bf8d0-237">Application may function properly.</span></span> <span data-ttu-id="bf8d0-238">Budou vygenerovány všechny události.</span><span class="sxs-lookup"><span data-stu-id="bf8d0-238">All events are emitted.</span></span>|<span data-ttu-id="bf8d0-239">Všechny předchozí události.</span><span class="sxs-lookup"><span data-stu-id="bf8d0-239">All previous events.</span></span>|<span data-ttu-id="bf8d0-240">Vše</span><span class="sxs-lookup"><span data-stu-id="bf8d0-240">All</span></span>|  
  
 <span data-ttu-id="bf8d0-241">Úrovně z podrobných na kritickou jsou navrstveny nad sebou, to znamená, že každá úroveň trasování zahrnuje všechny úrovně nad ní, kromě úrovně off.</span><span class="sxs-lookup"><span data-stu-id="bf8d0-241">The levels from Verbose to Critical are stacked on top of each other, that is, each trace level includes all levels above it except the Off level.</span></span> <span data-ttu-id="bf8d0-242">Například naslouchací proces, který naslouchá na úrovni upozornění, obdrží kritické trasování, chyby a upozornění.</span><span class="sxs-lookup"><span data-stu-id="bf8d0-242">For example, a listener listening at the Warning level receives Critical, Error, and Warning traces.</span></span> <span data-ttu-id="bf8d0-243">Úroveň All zahrnuje události z podrobných na události trasování kritické a aktivity.</span><span class="sxs-lookup"><span data-stu-id="bf8d0-243">The All level includes events from Verbose to Critical and Activity tracing events.</span></span>  
  
> [!CAUTION]
> <span data-ttu-id="bf8d0-244">Úrovně Information, verbose a ActivityTracing generují velké množství trasování, které může negativně ovlivnit propustnost zprávy, pokud jste použili všechny dostupné prostředky v počítači.</span><span class="sxs-lookup"><span data-stu-id="bf8d0-244">The Information, Verbose, and ActivityTracing levels generate a lot of traces, which may negatively impact message throughput if you have used up all available resources on the machine.</span></span>  
  
## <a name="configuring-activity-tracing-and-propagation-for-correlation"></a><span data-ttu-id="bf8d0-245">Konfigurace trasování aktivit a šíření pro korelaci</span><span class="sxs-lookup"><span data-stu-id="bf8d0-245">Configuring Activity Tracing and Propagation for Correlation</span></span>  
 <span data-ttu-id="bf8d0-246">`activityTracing`Hodnota zadaná pro atribut slouží `switchValue` k povolení trasování aktivity, které vysílá trasování pro hranice aktivity a přenos v rámci koncových bodů.</span><span class="sxs-lookup"><span data-stu-id="bf8d0-246">The `activityTracing` value specified for the `switchValue` attribute is used to enable activity tracing, which emits traces for activity boundaries and transfers within endpoints.</span></span>  
  
> [!NOTE]
> <span data-ttu-id="bf8d0-247">Při použití určitých funkcí rozšíření v technologii WCF se může zobrazit, <xref:System.NullReferenceException> když je povoleno trasování aktivit.</span><span class="sxs-lookup"><span data-stu-id="bf8d0-247">When you use certain extensibility features in WCF, you might get a <xref:System.NullReferenceException> when activity tracing is enabled.</span></span> <span data-ttu-id="bf8d0-248">Chcete-li tento problém vyřešit, zkontrolujte konfigurační soubor aplikace a ujistěte se, že `switchValue` atribut pro zdroj trasování není nastaven na hodnotu `activityTracing` .</span><span class="sxs-lookup"><span data-stu-id="bf8d0-248">To fix this problem, check your application's configuration file and ensure that the `switchValue` attribute for your trace source is not set to `activityTracing`.</span></span>  
  
 <span data-ttu-id="bf8d0-249">`propagateActivity`Atribut určuje, zda má být aktivita šířena do jiných koncových bodů, které se účastní výměny zpráv.</span><span class="sxs-lookup"><span data-stu-id="bf8d0-249">The `propagateActivity` attribute indicates whether the activity should be propagated to other endpoints that participate in the message exchange.</span></span> <span data-ttu-id="bf8d0-250">Nastavením této hodnoty na `true` můžete převzít trasovací soubory vygenerované libovolnými dvěma koncovými body a sledovat, jak se sada trasování na jednom koncovém bodu přesměruje do sady trasování na jiném koncovém bodu.</span><span class="sxs-lookup"><span data-stu-id="bf8d0-250">By setting this value to `true`, you can take trace files generated by any two endpoints and observe how a set of traces on one endpoint flowed to a set of traces on another endpoint.</span></span>  
  
 <span data-ttu-id="bf8d0-251">Další informace o trasování a šíření aktivit naleznete v tématu [šíření](propagation.md).</span><span class="sxs-lookup"><span data-stu-id="bf8d0-251">For more information about activity tracing and propagation, see [Propagation](propagation.md).</span></span>  
  
 <span data-ttu-id="bf8d0-252">Obě `propagateActivity` i `ActivityTracing` logické hodnoty se vztahují na typ System. ServiceModel TraceSource.</span><span class="sxs-lookup"><span data-stu-id="bf8d0-252">Both `propagateActivity` and `ActivityTracing` Boolean values apply to the System.ServiceModel TraceSource.</span></span> <span data-ttu-id="bf8d0-253">`ActivityTracing`Hodnota platí také pro všechny zdroje trasování, včetně WCF nebo uživatelem definovaných.</span><span class="sxs-lookup"><span data-stu-id="bf8d0-253">The `ActivityTracing` value also applies to any trace source, including WCF or user-defined ones.</span></span>  
  
 <span data-ttu-id="bf8d0-254">Nelze použít `propagateActivity` atribut s uživatelem definovanými zdroji trasování.</span><span class="sxs-lookup"><span data-stu-id="bf8d0-254">You cannot use the `propagateActivity` attribute with user-defined trace sources.</span></span> <span data-ttu-id="bf8d0-255">Pro šíření ID aktivity uživatelského kódu se ujistěte, že jste nestavili ServiceModel `ActivityTracing` , ale přesto je `propagateActivity` atribut ServiceModel nastavený na `true` .</span><span class="sxs-lookup"><span data-stu-id="bf8d0-255">For user code activity ID propagation, make sure you do not set ServiceModel `ActivityTracing`, while still having ServiceModel `propagateActivity` attribute set to `true`.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="bf8d0-256">Viz také</span><span class="sxs-lookup"><span data-stu-id="bf8d0-256">See also</span></span>

- [<span data-ttu-id="bf8d0-257">Trasování</span><span class="sxs-lookup"><span data-stu-id="bf8d0-257">Tracing</span></span>](index.md)
- [<span data-ttu-id="bf8d0-258">Správa a diagnostika</span><span class="sxs-lookup"><span data-stu-id="bf8d0-258">Administration and Diagnostics</span></span>](../index.md)
- [<span data-ttu-id="bf8d0-259">Postupy: Vytváření a inicializace naslouchacích procesů trasování</span><span class="sxs-lookup"><span data-stu-id="bf8d0-259">How to: Create and Initialize Trace Listeners</span></span>](../../../debug-trace-profile/how-to-create-and-initialize-trace-listeners.md)
- [<span data-ttu-id="bf8d0-260">Vytvoření vlastního TraceListener</span><span class="sxs-lookup"><span data-stu-id="bf8d0-260">Creating a Custom TraceListener</span></span>](https://docs.microsoft.com/archive/msdn-magazine/2006/april/clr-inside-out-extending-system-diagnostics)
