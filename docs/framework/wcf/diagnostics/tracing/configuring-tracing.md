---
title: Konfigurace trasování
ms.date: 03/30/2017
helpviewer_keywords:
- tracing [WCF]
ms.assetid: 82922010-e8b3-40eb-98c4-10fc05c6d65d
ms.openlocfilehash: aca3b5c54bff9c2b4c5380c04dd0da162215b088
ms.sourcegitcommit: 79b0dd8bfc63f33a02137121dd23475887ecefda
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 04/01/2020
ms.locfileid: "80523305"
---
# <a name="configuring-tracing"></a><span data-ttu-id="d00f6-102">Konfigurace trasování</span><span class="sxs-lookup"><span data-stu-id="d00f6-102">Configuring Tracing</span></span>
<span data-ttu-id="d00f6-103">Toto téma popisuje, jak můžete povolit trasování, konfigurovat zdroje trasování k vyzařování trasování a nastavit úrovně trasování, nastavit trasování aktivity a šíření pro podporu korelace trasování od začátku do konce a nastavit posluchače trasování pro přístup k trasování.</span><span class="sxs-lookup"><span data-stu-id="d00f6-103">This topic describes how you can enable tracing, configure trace sources to emit traces and set trace levels, set activity tracing and propagation to support end-to-end trace correlation, and set trace listeners to access traces.</span></span>  
  
 <span data-ttu-id="d00f6-104">Doporučení nastavení trasování v produkčním nebo ladicím prostředí naleznete v [části Doporučená nastavení pro trasování a protokolování zpráv](../../../../../docs/framework/wcf/diagnostics/tracing/recommended-settings-for-tracing-and-message-logging.md).</span><span class="sxs-lookup"><span data-stu-id="d00f6-104">For tracing settings recommendations in production or debugging environment, refer to [Recommended Settings for Tracing and Message Logging](../../../../../docs/framework/wcf/diagnostics/tracing/recommended-settings-for-tracing-and-message-logging.md).</span></span>  
  
> [!IMPORTANT]
> <span data-ttu-id="d00f6-105">V systému Windows 8 je nutné spustit aplikaci se zvýšenými oprávněními (Spustit jako správce), aby aplikace generovat protokoly trasování.</span><span class="sxs-lookup"><span data-stu-id="d00f6-105">On Windows 8 you must run your application elevated (Run as Administrator) in order for your application to generate trace logs.</span></span>  
  
## <a name="enabling-tracing"></a><span data-ttu-id="d00f6-106">Povolení trasování</span><span class="sxs-lookup"><span data-stu-id="d00f6-106">Enabling Tracing</span></span>  
 <span data-ttu-id="d00f6-107">Windows Communication Foundation (WCF) výstupy následující data pro diagnostické trasování:</span><span class="sxs-lookup"><span data-stu-id="d00f6-107">Windows Communication Foundation (WCF) outputs the following data for diagnostic tracing:</span></span>  
  
- <span data-ttu-id="d00f6-108">Trasování pro milníky procesu ve všech součástech aplikací, jako jsou například volání operací, výjimky kódu, upozornění a další významné události zpracování.</span><span class="sxs-lookup"><span data-stu-id="d00f6-108">Traces for process milestones across all components of the applications, such as operation calls, code exceptions, warnings and other significant processing events.</span></span>  
  
- <span data-ttu-id="d00f6-109">Chybové události systému Windows při selhání funkce trasování.</span><span class="sxs-lookup"><span data-stu-id="d00f6-109">Windows error events when the tracing feature malfunctions.</span></span> <span data-ttu-id="d00f6-110">Viz [Protokolování událostí](../../../../../docs/framework/wcf/diagnostics/event-logging/index.md).</span><span class="sxs-lookup"><span data-stu-id="d00f6-110">See [Event Logging](../../../../../docs/framework/wcf/diagnostics/event-logging/index.md).</span></span>  
  
 <span data-ttu-id="d00f6-111">Trasování WCF je postaveno na horní části <xref:System.Diagnostics>.</span><span class="sxs-lookup"><span data-stu-id="d00f6-111">WCF tracing is built on top of <xref:System.Diagnostics>.</span></span> <span data-ttu-id="d00f6-112">Chcete-li použít trasování, měli byste definovat zdroje trasování v konfiguračním souboru nebo v kódu.</span><span class="sxs-lookup"><span data-stu-id="d00f6-112">To use tracing, you should define trace sources in the configuration file or in code.</span></span> <span data-ttu-id="d00f6-113">WCF definuje zdroj trasování pro každé sestavení WCF.</span><span class="sxs-lookup"><span data-stu-id="d00f6-113">WCF defines a trace source for each WCF assembly.</span></span> <span data-ttu-id="d00f6-114">Zdroj `System.ServiceModel` trasování je nejobecnější wcf trasovací zdroj a záznamy zpracování milníků v rámci zásobníku komunikace WCF, od zadání nebo opuštění přenosu na zadání nebo opuštění uživatelského kódu.</span><span class="sxs-lookup"><span data-stu-id="d00f6-114">The `System.ServiceModel` trace source is the most general WCF trace source, and records processing milestones across the WCF communication stack, from entering/leaving transport to entering/leaving user code.</span></span> <span data-ttu-id="d00f6-115">Zdroj `System.ServiceModel.MessageLogging` trasování zaznamenává všechny zprávy, které procházejí systémem.</span><span class="sxs-lookup"><span data-stu-id="d00f6-115">The `System.ServiceModel.MessageLogging` trace source records all messages that flow through the system.</span></span>  
  
 <span data-ttu-id="d00f6-116">Trasování není ve výchozím nastavení povoleno.</span><span class="sxs-lookup"><span data-stu-id="d00f6-116">Tracing is not enabled by default.</span></span> <span data-ttu-id="d00f6-117">Chcete-li aktivovat trasování, musíte vytvořit naslouchací proces trasování a nastavit jinou úroveň trasování než "Vypnuto" pro vybraný zdroj trasování v konfiguraci; v opačném případě WCF negeneruje žádné trasování.</span><span class="sxs-lookup"><span data-stu-id="d00f6-117">To activate tracing, you must create a trace listener and set a trace level other than "Off" for the selected trace source in configuration; otherwise, WCF does not generate any traces.</span></span> <span data-ttu-id="d00f6-118">Pokud nezadáte naslouchací proces, trasování je automaticky zakázáno.</span><span class="sxs-lookup"><span data-stu-id="d00f6-118">If you do not specify a listener, tracing is automatically disabled.</span></span> <span data-ttu-id="d00f6-119">Pokud je definován naslouchací proces, ale není zadána žádná úroveň, je úroveň ve výchozím nastavení nastavena na hodnotu Vypnuto, což znamená, že není vyzařováno žádné trasování.</span><span class="sxs-lookup"><span data-stu-id="d00f6-119">If a listener is defined, but no level is specified, the level is set to "Off" by default, which means that no trace is emitted.</span></span>  
  
 <span data-ttu-id="d00f6-120">Pokud používáte WCF body rozšiřitelnosti, jako jsou vlastní operace vzponiče, měli byste vyzařovat vlastní trasování.</span><span class="sxs-lookup"><span data-stu-id="d00f6-120">If you use WCF extensibility points such as custom operation invokers, you should emit your own traces.</span></span> <span data-ttu-id="d00f6-121">Důvodem je, že pokud implementujete bod rozšiřitelnosti, WCF již nelze vyzařovat standardní trasování ve výchozí cestě.</span><span class="sxs-lookup"><span data-stu-id="d00f6-121">This is because if you implement an extensibility point, WCF can no longer emit the standard traces in the default path.</span></span> <span data-ttu-id="d00f6-122">Pokud neimplementujete podporu ručního trasování vyzařováním trasování, nemusí se zobrazit trasování, které očekáváte.</span><span class="sxs-lookup"><span data-stu-id="d00f6-122">If you do not implement manual tracing support by emitting traces, you may not see the traces you expect.</span></span>  
  
 <span data-ttu-id="d00f6-123">Trasování můžete nakonfigurovat úpravou konfiguračního souboru aplikace – buď Web.config pro web-hostované aplikace, nebo Appname.exe.config pro samoobslužné aplikace.</span><span class="sxs-lookup"><span data-stu-id="d00f6-123">You can configure tracing by editing the application’s configuration file—either Web.config for Web-hosted applications, or Appname.exe.config for self-hosted applications.</span></span> <span data-ttu-id="d00f6-124">Následuje příklad takové úpravy.</span><span class="sxs-lookup"><span data-stu-id="d00f6-124">The following is an example of such edit.</span></span> <span data-ttu-id="d00f6-125">Další informace o těchto nastaveních naleznete v části Konfigurace posluchačů trasování ke spotřebě trasování.</span><span class="sxs-lookup"><span data-stu-id="d00f6-125">For more information on these settings, see the "Configuring Trace Listeners to Consume Traces" section.</span></span>  
  
```xml  
<configuration>  
   <system.diagnostics>  
      <sources>  
         <source name="System.ServiceModel"
                    switchValue="Information, ActivityTracing"  
                    propagateActivity="true">  
            <listeners>  
               <add name="traceListener"
                   type="System.Diagnostics.XmlWriterTraceListener"
                   initializeData= "c:\log\Traces.svclog" />  
            </listeners>  
         </source>  
      </sources>  
   </system.diagnostics>  
</configuration>  
```  
  
> [!NOTE]
> <span data-ttu-id="d00f6-126">Chcete-li upravit konfigurační soubor projektu služby WCF v sadě Visual Studio, klepněte pravým tlačítkem myši na konfigurační soubor aplikace – buď web.config pro webové hostované aplikace, nebo Appname.exe.config pro samoobslužnou aplikaci v **Průzkumníku řešení**.</span><span class="sxs-lookup"><span data-stu-id="d00f6-126">To edit the configuration file of a WCF service project in Visual Studio, right click the application’s configuration file—either Web.config for Web-hosted applications, or Appname.exe.config for self-hosted application in **Solution Explorer**.</span></span> <span data-ttu-id="d00f6-127">Pak zvolte položku kontextové nabídky **Upravit konfiguraci WCF.**</span><span class="sxs-lookup"><span data-stu-id="d00f6-127">Then choose the **Edit WCF Configuration** context menu item.</span></span> <span data-ttu-id="d00f6-128">Tím se spustí [nástroj Editor konfigurace (SvcConfigEditor.exe)](../../../../../docs/framework/wcf/configuration-editor-tool-svcconfigeditor-exe.md), který umožňuje měnit nastavení konfigurace pro služby WCF pomocí grafického uživatelského rozhraní.</span><span class="sxs-lookup"><span data-stu-id="d00f6-128">This launches the [Configuration Editor Tool (SvcConfigEditor.exe)](../../../../../docs/framework/wcf/configuration-editor-tool-svcconfigeditor-exe.md), which enables you to modify configuration settings for WCF services using a graphical user interface.</span></span>  
  
## <a name="configuring-trace-sources-to-emit-traces"></a><span data-ttu-id="d00f6-129">Konfigurace zdrojů trasování pro vyzařování trasování</span><span class="sxs-lookup"><span data-stu-id="d00f6-129">Configuring Trace Sources to Emit Traces</span></span>  
 <span data-ttu-id="d00f6-130">WCF definuje zdroj trasování pro každé sestavení.</span><span class="sxs-lookup"><span data-stu-id="d00f6-130">WCF defines a trace source for each assembly.</span></span> <span data-ttu-id="d00f6-131">Trasování generované v rámci sestavení jsou přístupné posluchači definované pro tento zdroj.</span><span class="sxs-lookup"><span data-stu-id="d00f6-131">Traces generated within an assembly are accessed by the listeners defined for that source.</span></span> <span data-ttu-id="d00f6-132">Jsou definovány tyto zdroje trasování:</span><span class="sxs-lookup"><span data-stu-id="d00f6-132">The following trace sources are defined:</span></span>  
  
- <span data-ttu-id="d00f6-133">System.ServiceModel: Protokoluje všechny fáze zpracování WCF, při každém čtení konfigurace, zpracování zprávy v přenosu, zpracování zabezpečení, odeslání zprávy v uživatelském kódu a tak dále.</span><span class="sxs-lookup"><span data-stu-id="d00f6-133">System.ServiceModel: Logs all stages of WCF processing, whenever configuration is read, a message is processed in transport, security processing, a message is dispatched in user code, and so on.</span></span>  
  
- <span data-ttu-id="d00f6-134">System.ServiceModel.MessageLogging: Protokoluje všechny zprávy, které procházejí systémem.</span><span class="sxs-lookup"><span data-stu-id="d00f6-134">System.ServiceModel.MessageLogging: Logs all messages that flow through the system.</span></span>  
  
- <span data-ttu-id="d00f6-135">System.IdentityModel.</span><span class="sxs-lookup"><span data-stu-id="d00f6-135">System.IdentityModel.</span></span>  
  
- <span data-ttu-id="d00f6-136">System.servicemodel.activation.</span><span class="sxs-lookup"><span data-stu-id="d00f6-136">System.ServiceModel.Activation.</span></span>  
  
- <span data-ttu-id="d00f6-137">System.IO.Log: Protokolování rozhraní rozhraní .NET Framework do společného systému souborů souborů (CLFS).</span><span class="sxs-lookup"><span data-stu-id="d00f6-137">System.IO.Log: Logging for the .NET Framework interface to the Common Log File System (CLFS).</span></span>  
  
- <span data-ttu-id="d00f6-138">System.Runtime.Serialization: Protokoly při čtení nebo zápisu objektů.</span><span class="sxs-lookup"><span data-stu-id="d00f6-138">System.Runtime.Serialization: Logs when objects are read or written.</span></span>  
  
- <span data-ttu-id="d00f6-139">Cardspace.</span><span class="sxs-lookup"><span data-stu-id="d00f6-139">CardSpace.</span></span>  
  
 <span data-ttu-id="d00f6-140">Každý zdroj trasování můžete nakonfigurovat tak, aby používal stejný (sdílený) naslouchací proces, jak je uvedeno v následujícím příkladu konfigurace.</span><span class="sxs-lookup"><span data-stu-id="d00f6-140">You can configure each trace source to use the same (shared) listener, as indicated in the following configuration example.</span></span>  
  
```xml  
<configuration>  
    <system.diagnostics>  
        <sources>  
            <source name="System.ServiceModel"
                    switchValue="Information, ActivityTracing"  
                    propagateActivity="true">  
                <listeners>  
                    <add name="xml" />  
                </listeners>  
            </source>  
            <source name="CardSpace">  
                <listeners>  
                    <add name="xml" />  
                </listeners>  
            </source>  
            <source name="System.IO.Log">  
                <listeners>  
                    <add name="xml" />  
                </listeners>  
            </source>  
            <source name="System.Runtime.Serialization">  
                <listeners>  
                    <add name="xml" />  
                </listeners>  
            </source>  
            <source name="System.IdentityModel">  
                <listeners>  
                    <add name="xml" />  
                </listeners>  
            </source>  
        </sources>  
  
        <sharedListeners>  
            <add name="xml"  
                 type="System.Diagnostics.XmlWriterTraceListener"  
                 initializeData="c:\log\Traces.svclog" />  
        </sharedListeners>  
    </system.diagnostics>  
</configuration>  
```  
  
 <span data-ttu-id="d00f6-141">Kromě toho můžete přidat uživatelem definované zdroje trasování, jak ukazuje následující příklad, k vyzařování trasování kódu uživatele.</span><span class="sxs-lookup"><span data-stu-id="d00f6-141">In addition, you can add user-defined trace sources, as demonstrated by the following example, to emit user code traces.</span></span>  
  
```xml  
<system.diagnostics>  
   <sources>  
       <source name="UserTraceSource" switchValue="Warning, ActivityTracing" >  
          <listeners>  
              <add name="xml"  
                 type="System.Diagnostics.XmlWriterTraceListener"  
                 initializeData="C:\logs\UserTraces.svclog" />  
          </listeners>  
       </source>  
   </sources>  
   <trace autoflush="true" />
</system.diagnostics>  
```  
  
 <span data-ttu-id="d00f6-142">Další informace o vytváření uživatelem definovaných zdrojů trasování naleznete [v tématu Rozšíření trasování](../../../../../docs/framework/wcf/samples/extending-tracing.md).</span><span class="sxs-lookup"><span data-stu-id="d00f6-142">For more information about creating user-defined trace sources, see [Extending Tracing](../../../../../docs/framework/wcf/samples/extending-tracing.md).</span></span>  
  
## <a name="configuring-trace-listeners-to-consume-traces"></a><span data-ttu-id="d00f6-143">Konfigurace posluchačů trasování ke spotřebě trasování</span><span class="sxs-lookup"><span data-stu-id="d00f6-143">Configuring Trace Listeners to Consume Traces</span></span>  
 <span data-ttu-id="d00f6-144">Za běhu WCF kanály data trasování na schytavky, které zpracovávají data.</span><span class="sxs-lookup"><span data-stu-id="d00f6-144">At runtime, WCF feeds trace data to the listeners which process the data.</span></span> <span data-ttu-id="d00f6-145">WCF poskytuje několik předdefinovaných naslouchacích procesy pro <xref:System.Diagnostics>, které se liší ve formátu, který používají pro výstup.</span><span class="sxs-lookup"><span data-stu-id="d00f6-145">WCF provides several predefined listeners for <xref:System.Diagnostics>, which differ in the format they use for output.</span></span> <span data-ttu-id="d00f6-146">Můžete také přidat vlastní typy posluchačů.</span><span class="sxs-lookup"><span data-stu-id="d00f6-146">You can also add custom listener types.</span></span>  
  
 <span data-ttu-id="d00f6-147">Můžete použít `add` Chcete-li určit název a typ naslouchací proces trasování, kterou chcete použít.</span><span class="sxs-lookup"><span data-stu-id="d00f6-147">You can use `add` to specify the name and type of the trace listener you want to use.</span></span> <span data-ttu-id="d00f6-148">V naší příkladkonfigurace jsme `traceListener` pojmenovali Listener a přidali`System.Diagnostics.XmlWriterTraceListener`standardní naslouchací proces trasování rozhraní .NET Framework ( ) jako typ, který chceme použít.</span><span class="sxs-lookup"><span data-stu-id="d00f6-148">In our example configuration, we named the Listener `traceListener` and added the standard .NET Framework trace listener (`System.Diagnostics.XmlWriterTraceListener`) as the type we want to use.</span></span> <span data-ttu-id="d00f6-149">Pro každý zdroj můžete přidat libovolný počet posluchačů trasování.</span><span class="sxs-lookup"><span data-stu-id="d00f6-149">You can add any number of trace listeners for each source.</span></span> <span data-ttu-id="d00f6-150">Pokud posluchač trasování vyzařuje trasování do souboru, musíte zadat umístění výstupního souboru a název v konfiguračním souboru.</span><span class="sxs-lookup"><span data-stu-id="d00f6-150">If the trace listener emits the trace to a file, you must specify the output file location and name in the configuration file.</span></span> <span data-ttu-id="d00f6-151">To se provádí `initializeData` nastavením názvu souboru pro tento naslouchací proces.</span><span class="sxs-lookup"><span data-stu-id="d00f6-151">This is done by setting `initializeData` to the name of the file for that listener.</span></span> <span data-ttu-id="d00f6-152">Pokud nezadáte název souboru, bude na základě použitého typu posluchače vygenerován náhodný název souboru.</span><span class="sxs-lookup"><span data-stu-id="d00f6-152">If you do not specify a file name, a random file name is generated based on the listener type used.</span></span> <span data-ttu-id="d00f6-153">Pokud <xref:System.Diagnostics.XmlWriterTraceListener> se používá, je generován název souboru bez přípony.</span><span class="sxs-lookup"><span data-stu-id="d00f6-153">If <xref:System.Diagnostics.XmlWriterTraceListener> is used, a file name with no extension is generated.</span></span> <span data-ttu-id="d00f6-154">Pokud implementujete vlastní naslouchací proces, můžete také tento atribut použít k příjmu inicializačních dat jiných než název souboru.</span><span class="sxs-lookup"><span data-stu-id="d00f6-154">If you implement a custom listener, you can also use this attribute to receive initialization data other than a filename.</span></span> <span data-ttu-id="d00f6-155">Můžete například zadat identifikátor databáze pro tento atribut.</span><span class="sxs-lookup"><span data-stu-id="d00f6-155">For example, you can specify a database identifier for this attribute.</span></span>  
  
 <span data-ttu-id="d00f6-156">Můžete nakonfigurovat vlastní naslouchací proces trasování pro odesílání trasování v síti, například do vzdálené databáze.</span><span class="sxs-lookup"><span data-stu-id="d00f6-156">You can configure a custom trace listener to send traces on the wire, for example, to a remote database.</span></span> <span data-ttu-id="d00f6-157">Jako nasaditelný nástroj aplikace byste měli vynutit správné řízení přístupu v protokolech trasování ve vzdáleném počítači.</span><span class="sxs-lookup"><span data-stu-id="d00f6-157">As an application deployer, you should enforce proper access control on the trace logs in the remote machine.</span></span>  
  
 <span data-ttu-id="d00f6-158">Můžete také nakonfigurovat naslouchací proces trasování programově.</span><span class="sxs-lookup"><span data-stu-id="d00f6-158">You can also configure a trace listener programmatically.</span></span> <span data-ttu-id="d00f6-159">Další informace naleznete v [tématu How to: Create and Initialize Trace Listeners](../../../debug-trace-profile/how-to-create-and-initialize-trace-listeners.md) and [Creating a Custom TraceListener](https://docs.microsoft.com/archive/msdn-magazine/2006/april/clr-inside-out-extending-system-diagnostics).</span><span class="sxs-lookup"><span data-stu-id="d00f6-159">For more information, see [How to: Create and Initialize Trace Listeners](../../../debug-trace-profile/how-to-create-and-initialize-trace-listeners.md) and [Creating a Custom TraceListener](https://docs.microsoft.com/archive/msdn-magazine/2006/april/clr-inside-out-extending-system-diagnostics).</span></span>  
  
> [!CAUTION]
> <span data-ttu-id="d00f6-160">Protože `System.Diagnostics.XmlWriterTraceListener` není bezpečný pro přístup z více vláken, zdroj trasování může uzamknout prostředky výhradně při vyřazování trasování.</span><span class="sxs-lookup"><span data-stu-id="d00f6-160">Because `System.Diagnostics.XmlWriterTraceListener` is not thread-safe, the trace source may lock resources exclusively when outputting traces.</span></span> <span data-ttu-id="d00f6-161">Při mnoho vláken výstup trasování ke zdroji trasování nakonfigurované pro použití tohoto naslouchací proces, může dojít k tvrzení o prostředku, což má za následek významný problém s výkonem.</span><span class="sxs-lookup"><span data-stu-id="d00f6-161">When many threads output traces to a trace source configured to use this listener, resource contention may occur, which results in a significant performance issue.</span></span> <span data-ttu-id="d00f6-162">Chcete-li tento problém vyřešit, měli byste implementovat vlastní naslouchací proces, který je bezpečný pro přístup z více vláken.</span><span class="sxs-lookup"><span data-stu-id="d00f6-162">To resolve this problem, you should implement a custom listener that is thread-safe.</span></span>  
  
## <a name="trace-level"></a><span data-ttu-id="d00f6-163">Úroveň trasování</span><span class="sxs-lookup"><span data-stu-id="d00f6-163">Trace Level</span></span>  
 <span data-ttu-id="d00f6-164">Úroveň trasování je řízena `switchValue` nastavením zdroje trasování.</span><span class="sxs-lookup"><span data-stu-id="d00f6-164">The tracing level is controlled by the `switchValue` setting of the trace source.</span></span> <span data-ttu-id="d00f6-165">Dostupné úrovně trasování jsou popsány v následující tabulce.</span><span class="sxs-lookup"><span data-stu-id="d00f6-165">The available tracing levels are described in the following table.</span></span>  
  
|<span data-ttu-id="d00f6-166">Úroveň trasování</span><span class="sxs-lookup"><span data-stu-id="d00f6-166">Trace Level</span></span>|<span data-ttu-id="d00f6-167">Povaha sledovaných událostí</span><span class="sxs-lookup"><span data-stu-id="d00f6-167">Nature of the Tracked Events</span></span>|<span data-ttu-id="d00f6-168">Obsah sledovaných událostí</span><span class="sxs-lookup"><span data-stu-id="d00f6-168">Content of the Tracked Events</span></span>|<span data-ttu-id="d00f6-169">Sledované události</span><span class="sxs-lookup"><span data-stu-id="d00f6-169">Tracked Events</span></span>|<span data-ttu-id="d00f6-170">Cíl uživatele</span><span class="sxs-lookup"><span data-stu-id="d00f6-170">User Target</span></span>|  
|-----------------|----------------------------------|-----------------------------------|--------------------|-----------------|  
|<span data-ttu-id="d00f6-171">Vypnuto</span><span class="sxs-lookup"><span data-stu-id="d00f6-171">Off</span></span>|<span data-ttu-id="d00f6-172">Není dostupné.</span><span class="sxs-lookup"><span data-stu-id="d00f6-172">N/A</span></span>|<span data-ttu-id="d00f6-173">Není dostupné.</span><span class="sxs-lookup"><span data-stu-id="d00f6-173">N/A</span></span>|<span data-ttu-id="d00f6-174">Nejsou vyzařovány žádné stopy.</span><span class="sxs-lookup"><span data-stu-id="d00f6-174">No traces are emitted.</span></span>|<span data-ttu-id="d00f6-175">Není dostupné.</span><span class="sxs-lookup"><span data-stu-id="d00f6-175">N/A</span></span>|  
|<span data-ttu-id="d00f6-176">Kritická</span><span class="sxs-lookup"><span data-stu-id="d00f6-176">Critical</span></span>|<span data-ttu-id="d00f6-177">"Negativní" události: události, které označují neočekávané zpracování nebo chybový stav.</span><span class="sxs-lookup"><span data-stu-id="d00f6-177">"Negative" events: events that indicate an unexpected processing or an error condition.</span></span>||<span data-ttu-id="d00f6-178">Protokolovány jsou neošetřené výjimky včetně následujících:</span><span class="sxs-lookup"><span data-stu-id="d00f6-178">Unhandled exceptions including the following are logged:</span></span><br /><br /> <span data-ttu-id="d00f6-179">- Výjimka mimo paměť</span><span class="sxs-lookup"><span data-stu-id="d00f6-179">-   OutOfMemoryException</span></span><br /><span data-ttu-id="d00f6-180">- ThreadAbortException (CLR vyvolá všechny ThreadAbortExceptionHandler)</span><span class="sxs-lookup"><span data-stu-id="d00f6-180">-   ThreadAbortException (the CLR invokes any ThreadAbortExceptionHandler)</span></span><br /><span data-ttu-id="d00f6-181">- StackOverflowException (nelze zachytit)</span><span class="sxs-lookup"><span data-stu-id="d00f6-181">-   StackOverflowException (cannot be caught)</span></span><br /><span data-ttu-id="d00f6-182">- ConfigurationErrorsException</span><span class="sxs-lookup"><span data-stu-id="d00f6-182">-   ConfigurationErrorsException</span></span><br /><span data-ttu-id="d00f6-183">- SEHException</span><span class="sxs-lookup"><span data-stu-id="d00f6-183">-   SEHException</span></span><br /><span data-ttu-id="d00f6-184">- Chyby spuštění aplikace</span><span class="sxs-lookup"><span data-stu-id="d00f6-184">-   Application start errors</span></span><br /><span data-ttu-id="d00f6-185">- Failfast události</span><span class="sxs-lookup"><span data-stu-id="d00f6-185">-   Failfast events</span></span><br /><span data-ttu-id="d00f6-186">- Systém visí</span><span class="sxs-lookup"><span data-stu-id="d00f6-186">-   System hangs</span></span><br /><span data-ttu-id="d00f6-187">- Poison zprávy: trasování zpráv, které způsobují selhání aplikace.</span><span class="sxs-lookup"><span data-stu-id="d00f6-187">-   Poison messages: message traces that cause the application to fail.</span></span>|<span data-ttu-id="d00f6-188">Správci</span><span class="sxs-lookup"><span data-stu-id="d00f6-188">Administrators</span></span><br /><br /> <span data-ttu-id="d00f6-189">Vývojáři aplikací</span><span class="sxs-lookup"><span data-stu-id="d00f6-189">Application developers</span></span>|  
|<span data-ttu-id="d00f6-190">Chyba</span><span class="sxs-lookup"><span data-stu-id="d00f6-190">Error</span></span>|<span data-ttu-id="d00f6-191">"Negativní" události: události, které označují neočekávané zpracování nebo chybový stav.</span><span class="sxs-lookup"><span data-stu-id="d00f6-191">"Negative" events: events that indicate an unexpected processing or an error condition.</span></span>|<span data-ttu-id="d00f6-192">Došlo k neočekávanému zpracování.</span><span class="sxs-lookup"><span data-stu-id="d00f6-192">Unexpected processing has happened.</span></span> <span data-ttu-id="d00f6-193">Aplikace nebyla schopna provést úlohu podle očekávání.</span><span class="sxs-lookup"><span data-stu-id="d00f6-193">The application was not able to perform a task as expected.</span></span> <span data-ttu-id="d00f6-194">Aplikace je však stále v provozu.</span><span class="sxs-lookup"><span data-stu-id="d00f6-194">However, the application is still up and running.</span></span>|<span data-ttu-id="d00f6-195">Všechny výjimky jsou protokolovány.</span><span class="sxs-lookup"><span data-stu-id="d00f6-195">All exceptions are logged.</span></span>|<span data-ttu-id="d00f6-196">Správci</span><span class="sxs-lookup"><span data-stu-id="d00f6-196">Administrators</span></span><br /><br /> <span data-ttu-id="d00f6-197">Vývojáři aplikací</span><span class="sxs-lookup"><span data-stu-id="d00f6-197">Application developers</span></span>|  
|<span data-ttu-id="d00f6-198">Upozornění</span><span class="sxs-lookup"><span data-stu-id="d00f6-198">Warning</span></span>|<span data-ttu-id="d00f6-199">"Negativní" události: události, které označují neočekávané zpracování nebo chybový stav.</span><span class="sxs-lookup"><span data-stu-id="d00f6-199">"Negative" events: events that indicate an unexpected processing or an error condition.</span></span>|<span data-ttu-id="d00f6-200">Došlo k možnému problému nebo může dojít, ale aplikace stále funguje správně.</span><span class="sxs-lookup"><span data-stu-id="d00f6-200">A possible problem has occurred or may occur, but the application still functions correctly.</span></span> <span data-ttu-id="d00f6-201">Však nemusí nadále pracovat správně.</span><span class="sxs-lookup"><span data-stu-id="d00f6-201">However, it may not continue to work properly.</span></span>|<span data-ttu-id="d00f6-202">- Aplikace přijímá více požadavků, než její nastavení omezení umožňuje.</span><span class="sxs-lookup"><span data-stu-id="d00f6-202">-   The application is receiving more requests than its throttling settings allow.</span></span><br /><span data-ttu-id="d00f6-203">- Přijímací fronta se blíží maximální nakonfigurované kapacitě.</span><span class="sxs-lookup"><span data-stu-id="d00f6-203">-   The receiving queue is near its maximum configured capacity.</span></span><br /><span data-ttu-id="d00f6-204">- Časový limit byl překročen.</span><span class="sxs-lookup"><span data-stu-id="d00f6-204">-   Timeout has exceeded.</span></span><br /><span data-ttu-id="d00f6-205">- Pověření jsou odmítnuta.</span><span class="sxs-lookup"><span data-stu-id="d00f6-205">-   Credentials are rejected.</span></span>|<span data-ttu-id="d00f6-206">Správci</span><span class="sxs-lookup"><span data-stu-id="d00f6-206">Administrators</span></span><br /><br /> <span data-ttu-id="d00f6-207">Vývojáři aplikací</span><span class="sxs-lookup"><span data-stu-id="d00f6-207">Application developers</span></span>|  
|<span data-ttu-id="d00f6-208">Informace</span><span class="sxs-lookup"><span data-stu-id="d00f6-208">Information</span></span>|<span data-ttu-id="d00f6-209">"Pozitivní" události: události, které označují úspěšné milníky</span><span class="sxs-lookup"><span data-stu-id="d00f6-209">"Positive" events: events that mark successful milestones</span></span>|<span data-ttu-id="d00f6-210">Důležité a úspěšné milníky spuštění aplikace, bez ohledu na to, zda aplikace pracuje správně nebo ne.</span><span class="sxs-lookup"><span data-stu-id="d00f6-210">Important and successful milestones of application execution, regardless of whether the application is working properly or not.</span></span>|<span data-ttu-id="d00f6-211">Obecně platí, že jsou generovány zprávy užitečné pro sledování a diagnostiku stavu systému, měření výkonu nebo profilování.</span><span class="sxs-lookup"><span data-stu-id="d00f6-211">In general, messages helpful for monitoring and diagnosing system status, measuring performance or profiling are generated.</span></span> <span data-ttu-id="d00f6-212">Tyto informace můžete použít pro plánování kapacity a řízení výkonu:</span><span class="sxs-lookup"><span data-stu-id="d00f6-212">You can use such information for capacity planning and performance management:</span></span><br /><br /> <span data-ttu-id="d00f6-213">- Kanály jsou vytvořeny.</span><span class="sxs-lookup"><span data-stu-id="d00f6-213">-   Channels are created.</span></span><br /><span data-ttu-id="d00f6-214">- Jsou vytvořeny naslouchací procesy koncového bodu.</span><span class="sxs-lookup"><span data-stu-id="d00f6-214">-   Endpoint listeners are created.</span></span><br /><span data-ttu-id="d00f6-215">- Zpráva zadává/opouští dopravu.</span><span class="sxs-lookup"><span data-stu-id="d00f6-215">-   Message enters/leaves transport.</span></span><br /><span data-ttu-id="d00f6-216">- Bezpečnostní token je načten.</span><span class="sxs-lookup"><span data-stu-id="d00f6-216">-   Security token is retrieved.</span></span><br /><span data-ttu-id="d00f6-217">- Nastavení konfigurace je přečteno.</span><span class="sxs-lookup"><span data-stu-id="d00f6-217">-   Configuration setting is read.</span></span>|<span data-ttu-id="d00f6-218">Správci</span><span class="sxs-lookup"><span data-stu-id="d00f6-218">Administrators</span></span><br /><br /> <span data-ttu-id="d00f6-219">Vývojáři aplikací</span><span class="sxs-lookup"><span data-stu-id="d00f6-219">Application developers</span></span><br /><br /> <span data-ttu-id="d00f6-220">Vývojáři produktů.</span><span class="sxs-lookup"><span data-stu-id="d00f6-220">Product developers.</span></span>|  
|<span data-ttu-id="d00f6-221">Verbose</span><span class="sxs-lookup"><span data-stu-id="d00f6-221">Verbose</span></span>|<span data-ttu-id="d00f6-222">"Pozitivní" události: události, které označují úspěšné milníky.</span><span class="sxs-lookup"><span data-stu-id="d00f6-222">"Positive" events: events that mark successful milestones.</span></span>|<span data-ttu-id="d00f6-223">Jsou emitovány události nízké úrovně pro uživatelský kód i obsluhu.</span><span class="sxs-lookup"><span data-stu-id="d00f6-223">Low level events for both user code and servicing are emitted.</span></span>|<span data-ttu-id="d00f6-224">Obecně lze tuto úroveň použít pro ladění nebo optimalizaci aplikací.</span><span class="sxs-lookup"><span data-stu-id="d00f6-224">In general, you can use this level for debugging or application optimization.</span></span><br /><br /> <span data-ttu-id="d00f6-225">- Rozumím záhlaví zprávy.</span><span class="sxs-lookup"><span data-stu-id="d00f6-225">-   Understood message header.</span></span>|<span data-ttu-id="d00f6-226">Správci</span><span class="sxs-lookup"><span data-stu-id="d00f6-226">Administrators</span></span><br /><br /> <span data-ttu-id="d00f6-227">Vývojáři aplikací</span><span class="sxs-lookup"><span data-stu-id="d00f6-227">Application developers</span></span><br /><br /> <span data-ttu-id="d00f6-228">Vývojáři produktů.</span><span class="sxs-lookup"><span data-stu-id="d00f6-228">Product developers.</span></span>|  
|<span data-ttu-id="d00f6-229">Aktivitatrasuje</span><span class="sxs-lookup"><span data-stu-id="d00f6-229">ActivityTracing</span></span>||<span data-ttu-id="d00f6-230">Tok událostí mezi aktivitami zpracování a součástmi.</span><span class="sxs-lookup"><span data-stu-id="d00f6-230">Flow events between processing activities and components.</span></span>|<span data-ttu-id="d00f6-231">Tato úroveň umožňuje správcům a vývojářům korelovat aplikace ve stejné doméně aplikace:</span><span class="sxs-lookup"><span data-stu-id="d00f6-231">This level allows administrators and developers to correlate applications in the same application domain:</span></span><br /><br /> <span data-ttu-id="d00f6-232">- Stopy pro hranice aktivity, jako je například start/stop.</span><span class="sxs-lookup"><span data-stu-id="d00f6-232">-   Traces for activity boundaries, such as start/stop.</span></span><br /><span data-ttu-id="d00f6-233">- Stopy pro převody.</span><span class="sxs-lookup"><span data-stu-id="d00f6-233">-   Traces for transfers.</span></span>|<span data-ttu-id="d00f6-234">Všechny</span><span class="sxs-lookup"><span data-stu-id="d00f6-234">All</span></span>|  
|<span data-ttu-id="d00f6-235">Všechny</span><span class="sxs-lookup"><span data-stu-id="d00f6-235">All</span></span>||<span data-ttu-id="d00f6-236">Aplikace může fungovat správně.</span><span class="sxs-lookup"><span data-stu-id="d00f6-236">Application may function properly.</span></span> <span data-ttu-id="d00f6-237">Všechny události jsou emitovány.</span><span class="sxs-lookup"><span data-stu-id="d00f6-237">All events are emitted.</span></span>|<span data-ttu-id="d00f6-238">Všechny předchozí události.</span><span class="sxs-lookup"><span data-stu-id="d00f6-238">All previous events.</span></span>|<span data-ttu-id="d00f6-239">Všechny</span><span class="sxs-lookup"><span data-stu-id="d00f6-239">All</span></span>|  
  
 <span data-ttu-id="d00f6-240">Úrovně od Verbose na kritické jsou skládané nad sebou, to znamená, že každá úroveň trasování zahrnuje všechny úrovně nad ní kromě úrovně Off.</span><span class="sxs-lookup"><span data-stu-id="d00f6-240">The levels from Verbose to Critical are stacked on top of each other, that is, each trace level includes all levels above it except the Off level.</span></span> <span data-ttu-id="d00f6-241">Například naslouchací proces naslouchání na úrovni upozornění obdrží kritické, chyby a upozornění trasování.</span><span class="sxs-lookup"><span data-stu-id="d00f6-241">For example, a listener listening at the Warning level receives Critical, Error, and Warning traces.</span></span> <span data-ttu-id="d00f6-242">Úroveň All zahrnuje události od verbose až po kritické události a události trasování aktivity.</span><span class="sxs-lookup"><span data-stu-id="d00f6-242">The All level includes events from Verbose to Critical and Activity tracing events.</span></span>  
  
> [!CAUTION]
> <span data-ttu-id="d00f6-243">Informace, podrobné a ActivityTracing úrovně generovat velké trasování, které mohou negativně ovlivnit propustnost zprávy, pokud jste použili všechny dostupné prostředky v počítači.</span><span class="sxs-lookup"><span data-stu-id="d00f6-243">The Information, Verbose, and ActivityTracing levels generate a lot of traces, which may negatively impact message throughput if you have used up all available resources on the machine.</span></span>  
  
## <a name="configuring-activity-tracing-and-propagation-for-correlation"></a><span data-ttu-id="d00f6-244">Konfigurace trasování aktivity a šíření pro korelaci</span><span class="sxs-lookup"><span data-stu-id="d00f6-244">Configuring Activity Tracing and Propagation for Correlation</span></span>  
 <span data-ttu-id="d00f6-245">Hodnota `activityTracing` zadaná `switchValue` pro atribut se používá k povolení trasování aktivity, která vydává trasování pro hranice aktivity a přenosy v rámci koncových bodů.</span><span class="sxs-lookup"><span data-stu-id="d00f6-245">The `activityTracing` value specified for the `switchValue` attribute is used to enable activity tracing, which emits traces for activity boundaries and transfers within endpoints.</span></span>  
  
> [!NOTE]
> <span data-ttu-id="d00f6-246">Při použití určitých funkcí rozšiřitelnosti v WCF, může získat při <xref:System.NullReferenceException> sledování aktivity je povolena.</span><span class="sxs-lookup"><span data-stu-id="d00f6-246">When you use certain extensibility features in WCF, you might get a <xref:System.NullReferenceException> when activity tracing is enabled.</span></span> <span data-ttu-id="d00f6-247">Chcete-li tento problém vyřešit, zkontrolujte konfigurační soubor aplikace a ujistěte se, že `switchValue` atribut pro zdroj trasování není nastavena na `activityTracing`.</span><span class="sxs-lookup"><span data-stu-id="d00f6-247">To fix this problem, check your application's configuration file and ensure that the `switchValue` attribute for your trace source is not set to `activityTracing`.</span></span>  
  
 <span data-ttu-id="d00f6-248">Atribut `propagateActivity` označuje, zda by měla být aktivita rozšířena do jiných koncových bodů, které se účastní výměny zpráv.</span><span class="sxs-lookup"><span data-stu-id="d00f6-248">The `propagateActivity` attribute indicates whether the activity should be propagated to other endpoints that participate in the message exchange.</span></span> <span data-ttu-id="d00f6-249">Nastavením této `true`hodnoty na , můžete trvat trasovací soubory generované libovolnými dvěma koncovými body a sledovat, jak sada trasování na jednom koncovém bodu tokovala do sady trasování na jiném koncovém bodu.</span><span class="sxs-lookup"><span data-stu-id="d00f6-249">By setting this value to `true`, you can take trace files generated by any two endpoints and observe how a set of traces on one endpoint flowed to a set of traces on another endpoint.</span></span>  
  
 <span data-ttu-id="d00f6-250">Další informace o trasování aktivit a šíření naleznete [v tématu Šíření](../../../../../docs/framework/wcf/diagnostics/tracing/propagation.md).</span><span class="sxs-lookup"><span data-stu-id="d00f6-250">For more information about activity tracing and propagation, see [Propagation](../../../../../docs/framework/wcf/diagnostics/tracing/propagation.md).</span></span>  
  
 <span data-ttu-id="d00f6-251">Obě `propagateActivity` `ActivityTracing` a logické hodnoty platí pro System.ServiceModel TraceSource.</span><span class="sxs-lookup"><span data-stu-id="d00f6-251">Both `propagateActivity` and `ActivityTracing` Boolean values apply to the System.ServiceModel TraceSource.</span></span> <span data-ttu-id="d00f6-252">Hodnota `ActivityTracing` platí také pro všechny zdroje trasování, včetně WCF nebo uživatelem definované ty.</span><span class="sxs-lookup"><span data-stu-id="d00f6-252">The `ActivityTracing` value also applies to any trace source, including WCF or user-defined ones.</span></span>  
  
 <span data-ttu-id="d00f6-253">`propagateActivity` Atribut nelze použít s uživatelem definovanými zdroji trasování.</span><span class="sxs-lookup"><span data-stu-id="d00f6-253">You cannot use the `propagateActivity` attribute with user-defined trace sources.</span></span> <span data-ttu-id="d00f6-254">Pro šíření ID aktivity kódu uživatele se ujistěte, že nenastavujete ServiceModel `ActivityTracing`, zatímco stále máte atribut ServiceModel `propagateActivity` nastavený na `true`.</span><span class="sxs-lookup"><span data-stu-id="d00f6-254">For user code activity ID propagation, make sure you do not set ServiceModel `ActivityTracing`, while still having ServiceModel `propagateActivity` attribute set to `true`.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="d00f6-255">Viz také</span><span class="sxs-lookup"><span data-stu-id="d00f6-255">See also</span></span>

- [<span data-ttu-id="d00f6-256">Trasování</span><span class="sxs-lookup"><span data-stu-id="d00f6-256">Tracing</span></span>](../../../../../docs/framework/wcf/diagnostics/tracing/index.md)
- [<span data-ttu-id="d00f6-257">Administrativa a diagnostika</span><span class="sxs-lookup"><span data-stu-id="d00f6-257">Administration and Diagnostics</span></span>](../../../../../docs/framework/wcf/diagnostics/index.md)
- [<span data-ttu-id="d00f6-258">Postupy: Vytváření a inicializace naslouchacích procesů trasování</span><span class="sxs-lookup"><span data-stu-id="d00f6-258">How to: Create and Initialize Trace Listeners</span></span>](../../../debug-trace-profile/how-to-create-and-initialize-trace-listeners.md)
- [<span data-ttu-id="d00f6-259">Vytvoření vlastního posluchače tracelisteneru</span><span class="sxs-lookup"><span data-stu-id="d00f6-259">Creating a Custom TraceListener</span></span>](https://docs.microsoft.com/archive/msdn-magazine/2006/april/clr-inside-out-extending-system-diagnostics)
