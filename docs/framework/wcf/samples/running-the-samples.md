---
title: Spouštění ukázek Windows Communication Foundation
ms.date: 03/30/2017
ms.assetid: db8a83da-95c1-4a21-a9d2-48caeb6398ea
ms.openlocfilehash: f4c7a7fa759d7339dee3d189540fb85f3883f828
ms.sourcegitcommit: cdb295dd1db589ce5169ac9ff096f01fd0c2da9d
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 06/09/2020
ms.locfileid: "84594566"
---
# <a name="running-the-windows-communication-foundation-samples"></a><span data-ttu-id="5e3b9-102">Spouštění ukázek Windows Communication Foundation</span><span class="sxs-lookup"><span data-stu-id="5e3b9-102">Running the Windows Communication Foundation Samples</span></span>
<span data-ttu-id="5e3b9-103">Ukázky Windows Communication Foundation (WCF) je možné spustit v konfiguraci s jedním počítačem nebo mezi počítači.</span><span class="sxs-lookup"><span data-stu-id="5e3b9-103">The Windows Communication Foundation (WCF) samples can be run in a single-machine or cross-machine configuration.</span></span> <span data-ttu-id="5e3b9-104">Jak je uvedeno, ukázky jsou připravené k provozu na jednom počítači.</span><span class="sxs-lookup"><span data-stu-id="5e3b9-104">As supplied, the samples are ready for running on a single machine.</span></span> <span data-ttu-id="5e3b9-105">V konfiguraci mezi počítači je potřeba upravit nastavení konfiguračního souboru ukázky.</span><span class="sxs-lookup"><span data-stu-id="5e3b9-105">In a cross-machine configuration, it is necessary to modify a sample's configuration file settings.</span></span> <span data-ttu-id="5e3b9-106">Následující postupy vysvětlují, jak spustit ukázku ve stejném počítači a konfiguracích pro více počítačů.</span><span class="sxs-lookup"><span data-stu-id="5e3b9-106">The following procedures explain how to run a sample in same-machine and cross-machine configurations.</span></span> <span data-ttu-id="5e3b9-107">Všimněte si, že existují změny v krocích pro služby hostované v Internetová informační služba (IIS) a ve vzorcích pro místní hostování.</span><span class="sxs-lookup"><span data-stu-id="5e3b9-107">Note that there are variations in the steps for services hosted in Internet Information Services (IIS) and the self-hosted samples.</span></span> <span data-ttu-id="5e3b9-108">Většina ukázek je hostována ve službě IIS; informace o tom, jak je hostovaný, najdete v ukázkovém souboru Readme.</span><span class="sxs-lookup"><span data-stu-id="5e3b9-108">Most samples are hosted in IIS; see the sample readme information to determine how it is hosted.</span></span>  
  
 <span data-ttu-id="5e3b9-109">V systému Windows Vista se v ukázkách, které nejsou hostované ve službě IIS, vyžaduje zvýšená oprávnění k registraci naslouchacího procesu pomocí HTTP. sys.</span><span class="sxs-lookup"><span data-stu-id="5e3b9-109">On Windows Vista, samples that are not hosted in IIS require elevated privileges to register a listener with Http.sys.</span></span> <span data-ttu-id="5e3b9-110">Použijte Httpcfg. exe k registraci adres naslouchání služby u účtu, pod kterým je služba spuštěná, nebo spusťte službu z příkazového řádku spuštěného s oprávněními správce.</span><span class="sxs-lookup"><span data-stu-id="5e3b9-110">Use Httpcfg.exe to register the service's listening addresses with the account the service is running under, or launch the service from a command prompt running with administrator privileges.</span></span>  
  
> [!NOTE]
> <span data-ttu-id="5e3b9-111">Před vytvořením nebo spuštěním kterékoli z ukázek služby WCF se ujistěte, že jste provedli [jednorázovou proceduru nastavení pro Windows Communication Foundation ukázky](one-time-setup-procedure-for-the-wcf-samples.md).</span><span class="sxs-lookup"><span data-stu-id="5e3b9-111">Before building or running any of the WCF samples, be sure you have performed the [One-Time Setup Procedure for the Windows Communication Foundation Samples](one-time-setup-procedure-for-the-wcf-samples.md).</span></span>  
  
### <a name="to-run-the-sample-on-the-same-machine"></a><span data-ttu-id="5e3b9-112">Spuštění ukázky na stejném počítači</span><span class="sxs-lookup"><span data-stu-id="5e3b9-112">To run the sample on the same machine</span></span>  
  
1. <span data-ttu-id="5e3b9-113">Pokud je služba hostovaná službou IIS, ujistěte se, že ke službě můžete přistupovat pomocí prohlížeče zadáním následující adresy: `http://localhost/servicemodelsamples/service.svc` .</span><span class="sxs-lookup"><span data-stu-id="5e3b9-113">If the service is hosted by IIS, ensure that you can access the service using a browser by entering the following address: `http://localhost/servicemodelsamples/service.svc`.</span></span> <span data-ttu-id="5e3b9-114">V odpovědi by se měla zobrazit Stránka s potvrzením.</span><span class="sxs-lookup"><span data-stu-id="5e3b9-114">A confirmation page should be displayed in response.</span></span> <span data-ttu-id="5e3b9-115">Pokud se nezobrazí stránka s potvrzením, přečtěte si [tipy pro řešení potíží s ukázkami služby WCF](https://docs.microsoft.com/previous-versions/dotnet/netframework-3.5/ms751511(v=vs.90)).</span><span class="sxs-lookup"><span data-stu-id="5e3b9-115">If the confirmation page is not displayed, see [Troubleshooting Tips for WCF Samples](https://docs.microsoft.com/previous-versions/dotnet/netframework-3.5/ms751511(v=vs.90)).</span></span>  
  
2. <span data-ttu-id="5e3b9-116">Pokud je služba v místním prostředí, spusťte Service. exe z \service\bin ze složky specifické pro daný jazyk.</span><span class="sxs-lookup"><span data-stu-id="5e3b9-116">If the service is self-hosted, run Service.exe from \service\bin, from under the language-specific folder.</span></span> <span data-ttu-id="5e3b9-117">Aktivita služby se zobrazí v okně konzoly služby.</span><span class="sxs-lookup"><span data-stu-id="5e3b9-117">Service activity is displayed on the service console window.</span></span>  
  
3. <span data-ttu-id="5e3b9-118">Spusťte soubor Client. exe z \client\bin \\ ze složky specifické pro jazyk.</span><span class="sxs-lookup"><span data-stu-id="5e3b9-118">Run Client.exe from \client\bin\\, from under the language-specific folder.</span></span> <span data-ttu-id="5e3b9-119">Aktivita klienta se zobrazí v okně konzoly klienta.</span><span class="sxs-lookup"><span data-stu-id="5e3b9-119">Client activity is displayed on the client console window.</span></span>  
  
4. <span data-ttu-id="5e3b9-120">Pokud klient a služba nejsou schopné komunikovat, přečtěte si [tipy pro řešení potíží s ukázkami služby WCF](https://docs.microsoft.com/previous-versions/dotnet/netframework-3.5/ms751511(v=vs.90)).</span><span class="sxs-lookup"><span data-stu-id="5e3b9-120">If the client and service are not able to communicate, see [Troubleshooting Tips for WCF Samples](https://docs.microsoft.com/previous-versions/dotnet/netframework-3.5/ms751511(v=vs.90)).</span></span>  
  
### <a name="to-run-the-sample-across-machines"></a><span data-ttu-id="5e3b9-121">Spuštění ukázky napříč počítači</span><span class="sxs-lookup"><span data-stu-id="5e3b9-121">To run the sample across machines</span></span>  
  
1. <span data-ttu-id="5e3b9-122">Pokud je služba hostovaná ve službě IIS:</span><span class="sxs-lookup"><span data-stu-id="5e3b9-122">If the service is hosted in IIS:</span></span>  
  
    1. <span data-ttu-id="5e3b9-123">Na počítači služby vytvořte virtuální adresář s názvem ServiceModelSamples.</span><span class="sxs-lookup"><span data-stu-id="5e3b9-123">On the service machine, create a virtual directory named ServiceModelSamples.</span></span> <span data-ttu-id="5e3b9-124">Dávkový soubor Setupvroot. bat, který [je součástí procesu jednorázového nastavení pro Windows Communication Foundation ukázky,](one-time-setup-procedure-for-the-wcf-samples.md) lze použít k vytvoření adresáře disku a virtuálního adresáře.</span><span class="sxs-lookup"><span data-stu-id="5e3b9-124">The batch file Setupvroot.bat included with [One-Time Setup Procedure for the Windows Communication Foundation Samples](one-time-setup-procedure-for-the-wcf-samples.md) can be used to create the disk directory and virtual directory.</span></span>  
  
    2. <span data-ttu-id="5e3b9-125">Zkopírujte programové soubory služby z%SystemDrive%\Inetpub\wwwroot\servicemodelsamples do virtuálního adresáře ServiceModelSamples na počítači služby.</span><span class="sxs-lookup"><span data-stu-id="5e3b9-125">Copy the service program files from %SystemDrive%\Inetpub\wwwroot\servicemodelsamples to the ServiceModelSamples virtual directory on the service machine.</span></span> <span data-ttu-id="5e3b9-126">Ujistěte se, že jste do adresáře \Bin zahrnuli soubory.</span><span class="sxs-lookup"><span data-stu-id="5e3b9-126">Ensure that you include the files in the \bin directory.</span></span>  
  
    3. <span data-ttu-id="5e3b9-127">Otestujte, zda ke službě můžete přistupovat z klientského počítače pomocí prohlížeče.</span><span class="sxs-lookup"><span data-stu-id="5e3b9-127">Test that you can access the service from the client machine using a browser.</span></span>  
  
     <span data-ttu-id="5e3b9-128">Pokud je služba v místním prostředí:</span><span class="sxs-lookup"><span data-stu-id="5e3b9-128">If the service is self-hosted:</span></span>  
  
    1. <span data-ttu-id="5e3b9-129">Na počítači služby vytvořte adresář, ve kterém se budou uchovávat soubory služby.</span><span class="sxs-lookup"><span data-stu-id="5e3b9-129">On the service machine, create a directory to hold the service files.</span></span>  
  
    2. <span data-ttu-id="5e3b9-130">Zkopírujte programové soubory služby ze složky \service\bin\ ve složce specifické pro daný jazyk do počítače služby.</span><span class="sxs-lookup"><span data-stu-id="5e3b9-130">Copy the service program files from the \service\bin\ folder, under the language-specific folder, to the service machine.</span></span>  
  
    3. <span data-ttu-id="5e3b9-131">V konfiguračním souboru služby změňte hodnotu adresy definice koncového bodu tak, aby odpovídala nové adrese vaší služby.</span><span class="sxs-lookup"><span data-stu-id="5e3b9-131">In the service configuration file, change the address value of the endpoint definition to match the new address of your service.</span></span> <span data-ttu-id="5e3b9-132">Nahraďte všechny odkazy na "localhost" plně kvalifikovaným názvem domény v adrese.</span><span class="sxs-lookup"><span data-stu-id="5e3b9-132">Replace any references to "localhost" with a fully-qualified domain name in the address.</span></span>  
  
    4. <span data-ttu-id="5e3b9-133">Z příkazového řádku spusťte Service. exe.</span><span class="sxs-lookup"><span data-stu-id="5e3b9-133">Launch Service.exe from a command prompt.</span></span>  
  
2. <span data-ttu-id="5e3b9-134">Zkopírujte soubory klientského programu ze složky \client\bin\ ve složce specifické pro daný jazyk do klientského počítače.</span><span class="sxs-lookup"><span data-stu-id="5e3b9-134">Copy the client program files from the \client\bin\ folder, under the language-specific folder, to the client machine.</span></span>  
  
3. <span data-ttu-id="5e3b9-135">Nastavte adresu koncového bodu.</span><span class="sxs-lookup"><span data-stu-id="5e3b9-135">Set the endpoint address.</span></span>  
  
    1. <span data-ttu-id="5e3b9-136">Pokud služba není spuštěná pod účtem domény, otevřete soubor konfigurace klienta a změňte hodnotu adresy definice koncového bodu tak, aby odpovídala nové adrese vaší služby.</span><span class="sxs-lookup"><span data-stu-id="5e3b9-136">If the service is not running under a domain account, open the client configuration file and change the address value of the endpoint definition to match the new address of your service.</span></span> <span data-ttu-id="5e3b9-137">Nahraďte všechny odkazy na "localhost" plně kvalifikovaným názvem domény v adrese.</span><span class="sxs-lookup"><span data-stu-id="5e3b9-137">Replace any references to "localhost" with a fully-qualified domain name in the address.</span></span>  
  
    2. <span data-ttu-id="5e3b9-138">Pokud je služba spuštěna pod účtem domény, znovu vygenerujte konfiguraci klienta spuštěním Svcutil. exe proti této službě.</span><span class="sxs-lookup"><span data-stu-id="5e3b9-138">If the service is running under a domain account, regenerate the client configuration by running Svcutil.exe against the service.</span></span> <span data-ttu-id="5e3b9-139">Další informace o spuštění Svcutil. exe najdete v tématu [sestavování ukázek Windows Communication Foundation](building-the-samples.md).</span><span class="sxs-lookup"><span data-stu-id="5e3b9-139">For more information about running Svcutil.exe, see [Building the Windows Communication Foundation Samples](building-the-samples.md).</span></span> <span data-ttu-id="5e3b9-140">Místo konfiguračního souboru v ukázce použijte vygenerovaný soubor.</span><span class="sxs-lookup"><span data-stu-id="5e3b9-140">Use the generated file instead of the configuration file in the sample.</span></span> <span data-ttu-id="5e3b9-141">Vygenerovaný konfigurační soubor obsahuje další informace o identitě a obsahuje všechna nastavení potřebná pro připojení ke koncovému bodu služby, i když se jedná o výchozí nastavení.</span><span class="sxs-lookup"><span data-stu-id="5e3b9-141">The generated configuration file has additional identity information, and contains all settings necessary to connect to the service endpoint even though they are the default settings.</span></span> <span data-ttu-id="5e3b9-142">Další informace o identitě najdete v tématu [Identita a ověřování služby](../feature-details/service-identity-and-authentication.md)a [\<identity>](../../configure-apps/file-schema/wcf/identity.md) .</span><span class="sxs-lookup"><span data-stu-id="5e3b9-142">For more information about identity information, see [Service Identity and Authentication](../feature-details/service-identity-and-authentication.md), and [\<identity>](../../configure-apps/file-schema/wcf/identity.md).</span></span>  
  
4. <span data-ttu-id="5e3b9-143">Na klientském počítači spusťte soubor Client. exe z příkazového řádku.</span><span class="sxs-lookup"><span data-stu-id="5e3b9-143">On the client machine, launch Client.exe from a command prompt.</span></span>  
  
### <a name="to-debug-a-service"></a><span data-ttu-id="5e3b9-144">Ladění služby</span><span class="sxs-lookup"><span data-stu-id="5e3b9-144">To debug a service</span></span>  
  
1. <span data-ttu-id="5e3b9-145">Sestavte řešení (klienta i služby) pomocí nabídky **sestavení** nebo CTRL + SHIFT + B.</span><span class="sxs-lookup"><span data-stu-id="5e3b9-145">Build the solution (both client and service) using the **Build** menu or CTRL+SHIFT+B.</span></span>  
  
2. <span data-ttu-id="5e3b9-146">Pokud je služba hostovaná ve službě IIS:</span><span class="sxs-lookup"><span data-stu-id="5e3b9-146">If the service is hosted in IIS:</span></span>  
  
    1. <span data-ttu-id="5e3b9-147">Aktivujte službu pomocí prohlížeče zadáním adresy `http://localhost/servicemodelsamples/service.svc` .</span><span class="sxs-lookup"><span data-stu-id="5e3b9-147">Activate the service using a browser by entering the address `http://localhost/servicemodelsamples/service.svc`.</span></span>  
  
    2. <span data-ttu-id="5e3b9-148">V řešení vyberte nabídku **ladění** a položku nabídky **připojit k procesu** .</span><span class="sxs-lookup"><span data-stu-id="5e3b9-148">In the solution, choose the **Debug** menu and the **Attach to Process** menu item.</span></span>  
  
    3. <span data-ttu-id="5e3b9-149">Zaškrtněte políčko **Zobrazit procesy všech uživatelů** .</span><span class="sxs-lookup"><span data-stu-id="5e3b9-149">Select the **Show processes from all users** check box.</span></span>  
  
    4. <span data-ttu-id="5e3b9-150">Vyberte hostitelský pracovní proces W3wp. exe, který se má ladit (vyberte ASPNet_wp. exe v systému Windows XP).</span><span class="sxs-lookup"><span data-stu-id="5e3b9-150">Select the host worker process W3wp.exe to debug (select ASPNet_wp.exe on Windows XP).</span></span>  
  
3. <span data-ttu-id="5e3b9-151">Nyní můžete nastavit zarážky v kódu služby a povolit zarážky na výjimky.</span><span class="sxs-lookup"><span data-stu-id="5e3b9-151">You can now set breakpoints in the service code and enable breakpoints on exceptions.</span></span>  
  
4. <span data-ttu-id="5e3b9-152">Klikněte pravým tlačítkem myši na položku klientského projektu a vyberte možnost **ladit**, **spustit novou instanci**.</span><span class="sxs-lookup"><span data-stu-id="5e3b9-152">Right-click the client project item and choose **Debug**, **Start new instance**.</span></span>  
  
### <a name="to-clean-up-after-the-sample"></a><span data-ttu-id="5e3b9-153">Vyčištění po ukázce</span><span class="sxs-lookup"><span data-stu-id="5e3b9-153">To clean up after the sample</span></span>  
  
- <span data-ttu-id="5e3b9-154">Pokud je služba hostovaná ve službě IIS z důvodu zabezpečení, odeberte definici virtuálního adresáře a oprávnění udělená v krocích instalace po dokončení práce s ukázkami.</span><span class="sxs-lookup"><span data-stu-id="5e3b9-154">If the service is hosted in IIS for security purposes, remove the virtual directory definition and permissions granted in the setup steps when you are finished with the samples.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="5e3b9-155">Viz také</span><span class="sxs-lookup"><span data-stu-id="5e3b9-155">See also</span></span>

- [<span data-ttu-id="5e3b9-156">Ukázky vytváření Windows Communication Foundation</span><span class="sxs-lookup"><span data-stu-id="5e3b9-156">Building the Windows Communication Foundation Samples</span></span>](building-the-samples.md)
- <span data-ttu-id="5e3b9-157">[Tipy pro řešení potíží s ukázkami WCF](https://docs.microsoft.com/previous-versions/dotnet/netframework-3.5/ms751511(v=vs.90))</span><span class="sxs-lookup"><span data-stu-id="5e3b9-157">[Troubleshooting Tips for WCF Samples](https://docs.microsoft.com/previous-versions/dotnet/netframework-3.5/ms751511(v=vs.90))</span></span>
