---
title: Spouštění ukázek Windows Communication Foundation
ms.date: 03/30/2017
ms.assetid: db8a83da-95c1-4a21-a9d2-48caeb6398ea
ms.openlocfilehash: d6fc93af217bfc282ce7030973be32baf7d864cd
ms.sourcegitcommit: 76a304c79a32aa13889ebcf4b9789a4542b48e3e
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 09/14/2018
ms.locfileid: "45569226"
---
# <a name="running-the-windows-communication-foundation-samples"></a><span data-ttu-id="3cf1e-102">Spouštění ukázek Windows Communication Foundation</span><span class="sxs-lookup"><span data-stu-id="3cf1e-102">Running the Windows Communication Foundation Samples</span></span>
<span data-ttu-id="3cf1e-103">Ukázky Windows Communication Foundation (WCF) můžete spustit v konfiguraci jednoho počítače nebo mezi počítači.</span><span class="sxs-lookup"><span data-stu-id="3cf1e-103">The Windows Communication Foundation (WCF) samples can be run in a single-machine or cross-machine configuration.</span></span> <span data-ttu-id="3cf1e-104">Jako zadán, ukázky jsou připravené ke spuštění na jednom počítači.</span><span class="sxs-lookup"><span data-stu-id="3cf1e-104">As supplied, the samples are ready for running on a single machine.</span></span> <span data-ttu-id="3cf1e-105">V konfiguraci mezi počítači je nutné upravit nastavení tohoto příkladu konfiguračního souboru.</span><span class="sxs-lookup"><span data-stu-id="3cf1e-105">In a cross-machine configuration, it is necessary to modify a sample's configuration file settings.</span></span> <span data-ttu-id="3cf1e-106">Následující postupy popisují, jak ve stejném počítači a mezi počítači konfiguracích spuštění ukázky.</span><span class="sxs-lookup"><span data-stu-id="3cf1e-106">The following procedures explain how to run a sample in same-machine and cross-machine configurations.</span></span> <span data-ttu-id="3cf1e-107">Všimněte si, že jsou změny v postupu pro služby hostované v Internetové informační služby (IIS) a ukázky v místním prostředí.</span><span class="sxs-lookup"><span data-stu-id="3cf1e-107">Note that there are variations in the steps for services hosted in Internet Information Services (IIS) and the self-hosted samples.</span></span> <span data-ttu-id="3cf1e-108">Většina ukázek, které jsou hostované ve službě IIS; Podívejte se ukázkovými informacemi o souboru readme k určení, jak je hostovaná.</span><span class="sxs-lookup"><span data-stu-id="3cf1e-108">Most samples are hosted in IIS; see the sample readme information to determine how it is hosted.</span></span>  
  
 <span data-ttu-id="3cf1e-109">Na [!INCLUDE[wv](../../../../includes/wv-md.md)], ukázky, které se nehostují ve službě IIS vyžadují zvýšená oprávnění k registraci naslouchací proces se souborem Http.sys.</span><span class="sxs-lookup"><span data-stu-id="3cf1e-109">On [!INCLUDE[wv](../../../../includes/wv-md.md)], samples that are not hosted in IIS require elevated privileges to register a listener with Http.sys.</span></span> <span data-ttu-id="3cf1e-110">Použít Httpcfg.exe zaregistrovat naslouchání adresy služby u účtu, který je služba spuštěná pod nebo spusťte službu z příkazového řádku s oprávněními správce.</span><span class="sxs-lookup"><span data-stu-id="3cf1e-110">Use Httpcfg.exe to register the service's listening addresses with the account the service is running under, or launch the service from a command prompt running with administrator privileges.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="3cf1e-111">Před vytvářejí nebo s některým z ukázky WCF, ujistěte se, jste provedli [jednorázové postup nastavení pro ukázky Windows Communication Foundation](../../../../docs/framework/wcf/samples/one-time-setup-procedure-for-the-wcf-samples.md).</span><span class="sxs-lookup"><span data-stu-id="3cf1e-111">Before building or running any of the WCF samples, be sure you have performed the [One-Time Setup Procedure for the Windows Communication Foundation Samples](../../../../docs/framework/wcf/samples/one-time-setup-procedure-for-the-wcf-samples.md).</span></span>  
  
### <a name="to-run-the-sample-on-the-same-machine"></a><span data-ttu-id="3cf1e-112">Ke spuštění ukázky ve stejném počítači</span><span class="sxs-lookup"><span data-stu-id="3cf1e-112">To run the sample on the same machine</span></span>  
  
1.  <span data-ttu-id="3cf1e-113">Pokud je služba hostována službou IIS, ujistěte se, že jste přístup ke službě pomocí prohlížeče zadáním následující adresy: http://localhost/servicemodelsamples/service.svc.</span><span class="sxs-lookup"><span data-stu-id="3cf1e-113">If the service is hosted by IIS, ensure that you can access the service using a browser by entering the following address: http://localhost/servicemodelsamples/service.svc.</span></span> <span data-ttu-id="3cf1e-114">Stránka s potvrzením má být zobrazena v odpovědi.</span><span class="sxs-lookup"><span data-stu-id="3cf1e-114">A confirmation page should be displayed in response.</span></span> <span data-ttu-id="3cf1e-115">Pokud se nezobrazí na stránce potvrzení, přečtěte si téma [tipy k řešení potíží s](https://msdn.microsoft.com/library/8787c877-5e96-42da-8214-fa737a38f10b).</span><span class="sxs-lookup"><span data-stu-id="3cf1e-115">If the confirmation page is not displayed, see [Troubleshooting Tips](https://msdn.microsoft.com/library/8787c877-5e96-42da-8214-fa737a38f10b).</span></span>  
  
2.  <span data-ttu-id="3cf1e-116">Pokud služba je samoobslužně hostovaná, spusťte Service.exe z \service\bin ze složky specifické pro jazyk.</span><span class="sxs-lookup"><span data-stu-id="3cf1e-116">If the service is self-hosted, run Service.exe from \service\bin, from under the language-specific folder.</span></span> <span data-ttu-id="3cf1e-117">Aktivita služby se zobrazí v okně konzoly služby.</span><span class="sxs-lookup"><span data-stu-id="3cf1e-117">Service activity is displayed on the service console window.</span></span>  
  
3.  <span data-ttu-id="3cf1e-118">Spustit Client.exe z \client\bin\\, ze složky specifické pro jazyk.</span><span class="sxs-lookup"><span data-stu-id="3cf1e-118">Run Client.exe from \client\bin\\, from under the language-specific folder.</span></span> <span data-ttu-id="3cf1e-119">Činnost klienta se zobrazí v okně konzoly klienta.</span><span class="sxs-lookup"><span data-stu-id="3cf1e-119">Client activity is displayed on the client console window.</span></span>  
  
4.  <span data-ttu-id="3cf1e-120">Pokud nejsou schopné komunikovat klienta a služby, přečtěte si téma [tipy k řešení potíží s](https://msdn.microsoft.com/library/8787c877-5e96-42da-8214-fa737a38f10b).</span><span class="sxs-lookup"><span data-stu-id="3cf1e-120">If the client and service are not able to communicate, see [Troubleshooting Tips](https://msdn.microsoft.com/library/8787c877-5e96-42da-8214-fa737a38f10b).</span></span>  
  
### <a name="to-run-the-sample-across-machines"></a><span data-ttu-id="3cf1e-121">Ke spuštění ukázky v počítačích</span><span class="sxs-lookup"><span data-stu-id="3cf1e-121">To run the sample across machines</span></span>  
  
1.  <span data-ttu-id="3cf1e-122">Pokud služba je hostována ve službě IIS:</span><span class="sxs-lookup"><span data-stu-id="3cf1e-122">If the service is hosted in IIS:</span></span>  
  
    1.  <span data-ttu-id="3cf1e-123">Na počítači služby vytvořte virtuální adresář s názvem ServiceModelSamples.</span><span class="sxs-lookup"><span data-stu-id="3cf1e-123">On the service machine, create a virtual directory named ServiceModelSamples.</span></span> <span data-ttu-id="3cf1e-124">Dávkový soubor, který je součástí Setupvroot.bat [jednorázové postup nastavení pro ukázky Windows Communication Foundation](../../../../docs/framework/wcf/samples/one-time-setup-procedure-for-the-wcf-samples.md) je možné vytvořit na disku a virtuální adresář.</span><span class="sxs-lookup"><span data-stu-id="3cf1e-124">The batch file Setupvroot.bat included with [One-Time Setup Procedure for the Windows Communication Foundation Samples](../../../../docs/framework/wcf/samples/one-time-setup-procedure-for-the-wcf-samples.md) can be used to create the disk directory and virtual directory.</span></span>  
  
    2.  <span data-ttu-id="3cf1e-125">Zkopírujte soubory programu služby z %SystemDrive%\Inetpub\wwwroot\servicemodelsamples do ServiceModelSamples virtuálního adresáře na počítači služby.</span><span class="sxs-lookup"><span data-stu-id="3cf1e-125">Copy the service program files from %SystemDrive%\Inetpub\wwwroot\servicemodelsamples to the ServiceModelSamples virtual directory on the service machine.</span></span> <span data-ttu-id="3cf1e-126">Ujistěte se, že složku zahrnujete soubory v adresáři \bin.</span><span class="sxs-lookup"><span data-stu-id="3cf1e-126">Ensure that you include the files in the \bin directory.</span></span>  
  
    3.  <span data-ttu-id="3cf1e-127">Testovací službě můžete dostat z klientského počítače pomocí prohlížeče.</span><span class="sxs-lookup"><span data-stu-id="3cf1e-127">Test that you can access the service from the client machine using a browser.</span></span>  
  
     <span data-ttu-id="3cf1e-128">Pokud je služba v místním prostředí:</span><span class="sxs-lookup"><span data-stu-id="3cf1e-128">If the service is self-hosted:</span></span>  
  
    1.  <span data-ttu-id="3cf1e-129">Na počítači, služby vytvořte adresář pro uložení souborů služby.</span><span class="sxs-lookup"><span data-stu-id="3cf1e-129">On the service machine, create a directory to hold the service files.</span></span>  
  
    2.  <span data-ttu-id="3cf1e-130">Zkopírujte soubory programu služby ze složky \service\bin\ v rámci složky specifické pro jazyk do počítače služba.</span><span class="sxs-lookup"><span data-stu-id="3cf1e-130">Copy the service program files from the \service\bin\ folder, under the language-specific folder, to the service machine.</span></span>  
  
    3.  <span data-ttu-id="3cf1e-131">V konfiguračním souboru služby změňte hodnotu adresy definice koncového bodu tak, aby odpovídala nové adresu služby.</span><span class="sxs-lookup"><span data-stu-id="3cf1e-131">In the service configuration file, change the address value of the endpoint definition to match the new address of your service.</span></span> <span data-ttu-id="3cf1e-132">Nahraďte všechny odkazy na "localhost" plně kvalifikovaný název domény v adrese.</span><span class="sxs-lookup"><span data-stu-id="3cf1e-132">Replace any references to "localhost" with a fully-qualified domain name in the address.</span></span>  
  
    4.  <span data-ttu-id="3cf1e-133">Service.exe spusťte z příkazového řádku.</span><span class="sxs-lookup"><span data-stu-id="3cf1e-133">Launch Service.exe from a command prompt.</span></span>  
  
2.  <span data-ttu-id="3cf1e-134">Zkopírujte soubory programu klienta ze složky \client\bin\ v rámci složky specifické pro jazyk do klientského počítače.</span><span class="sxs-lookup"><span data-stu-id="3cf1e-134">Copy the client program files from the \client\bin\ folder, under the language-specific folder, to the client machine.</span></span>  
  
3.  <span data-ttu-id="3cf1e-135">Nastavte adresu koncového bodu.</span><span class="sxs-lookup"><span data-stu-id="3cf1e-135">Set the endpoint address.</span></span>  
  
    1.  <span data-ttu-id="3cf1e-136">Pokud služba není spuštěna pod účtem domény, otevřete soubor konfigurace klienta a změňte hodnotu adresy definice koncového bodu tak, aby odpovídala nové adresu služby.</span><span class="sxs-lookup"><span data-stu-id="3cf1e-136">If the service is not running under a domain account, open the client configuration file and change the address value of the endpoint definition to match the new address of your service.</span></span> <span data-ttu-id="3cf1e-137">Nahraďte všechny odkazy na "localhost" plně kvalifikovaný název domény v adrese.</span><span class="sxs-lookup"><span data-stu-id="3cf1e-137">Replace any references to "localhost" with a fully-qualified domain name in the address.</span></span>  
  
    2.  <span data-ttu-id="3cf1e-138">Pokud je služba spuštěna pod účtem domény, znovu vygenerovat konfiguraci klienta spuštěním Svcutil.exe na službu.</span><span class="sxs-lookup"><span data-stu-id="3cf1e-138">If the service is running under a domain account, regenerate the client configuration by running Svcutil.exe against the service.</span></span> <span data-ttu-id="3cf1e-139">Další informace o spouštění Svcutil.exe najdete v tématu [vytváření ukázky Windows Communication Foundation](../../../../docs/framework/wcf/samples/building-the-samples.md).</span><span class="sxs-lookup"><span data-stu-id="3cf1e-139">For more information about running Svcutil.exe, see [Building the Windows Communication Foundation Samples](../../../../docs/framework/wcf/samples/building-the-samples.md).</span></span> <span data-ttu-id="3cf1e-140">Vygenerovaný soubor nahrazujícím konfiguračního souboru ve vzorku.</span><span class="sxs-lookup"><span data-stu-id="3cf1e-140">Use the generated file instead of the configuration file in the sample.</span></span> <span data-ttu-id="3cf1e-141">Vygenerovaný konfigurační soubor obsahuje informace o dalších identity a obsahuje všechna nastavení požadovaná pro připojení ke koncovému bodu služby, i když jde o výchozí nastavení.</span><span class="sxs-lookup"><span data-stu-id="3cf1e-141">The generated configuration file has additional identity information, and contains all settings necessary to connect to the service endpoint even though they are the default settings.</span></span> <span data-ttu-id="3cf1e-142">Další informace o informace o identitě, naleznete v tématu [identita a ověřování služby](../../../../docs/framework/wcf/feature-details/service-identity-and-authentication.md), a [ \<identity >](../../../../docs/framework/configure-apps/file-schema/wcf/identity.md).</span><span class="sxs-lookup"><span data-stu-id="3cf1e-142">For more information about identity information, see [Service Identity and Authentication](../../../../docs/framework/wcf/feature-details/service-identity-and-authentication.md), and [\<identity>](../../../../docs/framework/configure-apps/file-schema/wcf/identity.md).</span></span>  
  
4.  <span data-ttu-id="3cf1e-143">Na klientském počítači a spusťte Client.exe z příkazového řádku.</span><span class="sxs-lookup"><span data-stu-id="3cf1e-143">On the client machine, launch Client.exe from a command prompt.</span></span>  
  
### <a name="to-debug-a-service"></a><span data-ttu-id="3cf1e-144">Ladění služby</span><span class="sxs-lookup"><span data-stu-id="3cf1e-144">To debug a service</span></span>  
  
1.  <span data-ttu-id="3cf1e-145">Sestavení řešení (klient a služba) používá **sestavení** nabídky nebo CTRL + SHIFT + B.</span><span class="sxs-lookup"><span data-stu-id="3cf1e-145">Build the solution (both client and service) using the **Build** menu or CTRL+SHIFT+B.</span></span>  
  
2.  <span data-ttu-id="3cf1e-146">Pokud služba je hostována ve službě IIS:</span><span class="sxs-lookup"><span data-stu-id="3cf1e-146">If the service is hosted in IIS:</span></span>  
  
    1.  <span data-ttu-id="3cf1e-147">Aktivace služby pomocí prohlížeče tak, že zadáte adresu http://localhost/servicemodelsamples/service.svc.</span><span class="sxs-lookup"><span data-stu-id="3cf1e-147">Activate the service using a browser by entering the address http://localhost/servicemodelsamples/service.svc.</span></span>  
  
    2.  <span data-ttu-id="3cf1e-148">V řešení, zvolte **ladění** nabídky a **připojit k procesu** položky nabídky.</span><span class="sxs-lookup"><span data-stu-id="3cf1e-148">In the solution, choose the **Debug** menu and the **Attach to Process** menu item.</span></span>  
  
    3.  <span data-ttu-id="3cf1e-149">Vyberte **Zobrazit procesy všech uživatelů** zaškrtávací políčko.</span><span class="sxs-lookup"><span data-stu-id="3cf1e-149">Select the **Show processes from all users** check box.</span></span>  
  
    4.  <span data-ttu-id="3cf1e-150">Vyberte hostitele pracovní proces W3wp.exe ladění (vyberte ASPNet_wp.exe na Windows XP).</span><span class="sxs-lookup"><span data-stu-id="3cf1e-150">Select the host worker process W3wp.exe to debug (select ASPNet_wp.exe on Windows XP).</span></span>  
  
3.  <span data-ttu-id="3cf1e-151">Teď můžete nastavit zarážky v kódu služby a povolit zarážky na výjimky.</span><span class="sxs-lookup"><span data-stu-id="3cf1e-151">You can now set breakpoints in the service code and enable breakpoints on exceptions.</span></span>  
  
4.  <span data-ttu-id="3cf1e-152">Klikněte pravým tlačítkem na položku projektu klienta a zvolte **ladění**, **zahájit novou instanci**.</span><span class="sxs-lookup"><span data-stu-id="3cf1e-152">Right-click the client project item and choose **Debug**, **Start new instance**.</span></span>  
  
### <a name="to-clean-up-after-the-sample"></a><span data-ttu-id="3cf1e-153">K vyčištění po vzorku</span><span class="sxs-lookup"><span data-stu-id="3cf1e-153">To clean up after the sample</span></span>  
  
-   <span data-ttu-id="3cf1e-154">Pokud služba je hostována ve službě IIS pro účely zabezpečení, odeberte definici virtuální adresář a oprávnění udělené v kroků instalace, až budete hotovi s ukázkami.</span><span class="sxs-lookup"><span data-stu-id="3cf1e-154">If the service is hosted in IIS for security purposes, remove the virtual directory definition and permissions granted in the setup steps when you are finished with the samples.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="3cf1e-155">Viz také</span><span class="sxs-lookup"><span data-stu-id="3cf1e-155">See Also</span></span>  
 [<span data-ttu-id="3cf1e-156">Ukázky vytváření Windows Communication Foundation</span><span class="sxs-lookup"><span data-stu-id="3cf1e-156">Building the Windows Communication Foundation Samples</span></span>](../../../../docs/framework/wcf/samples/building-the-samples.md)  
 [<span data-ttu-id="3cf1e-157">Spouštění ukázek v pracovní skupině a v počítačích</span><span class="sxs-lookup"><span data-stu-id="3cf1e-157">Running the Samples in a Workgroup and Across Machines</span></span>](https://msdn.microsoft.com/library/a451a525-e7ce-452d-9da9-620221260113)  
 [<span data-ttu-id="3cf1e-158">Tipy pro odstraňování potíží</span><span class="sxs-lookup"><span data-stu-id="3cf1e-158">Troubleshooting Tips</span></span>](https://msdn.microsoft.com/library/8787c877-5e96-42da-8214-fa737a38f10b)
