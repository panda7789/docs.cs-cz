---
title: Funkce zjednodušení WCF
ms.date: 03/30/2017
ms.assetid: 4535a511-6064-4da0-b361-80262a891663
ms.openlocfilehash: 28a05053fda8380b55a1a9eee20119b8c4cfccfe
ms.sourcegitcommit: 700ea803fb06c5ce98de017c7f76463ba33ff4a9
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 02/19/2020
ms.locfileid: "77452653"
---
# <a name="wcf-simplification-features"></a><span data-ttu-id="c43de-102">Funkce zjednodušení WCF</span><span class="sxs-lookup"><span data-stu-id="c43de-102">WCF Simplification Features</span></span>

<span data-ttu-id="c43de-103">Toto téma popisuje nové funkce, které zjednodušují psaní aplikací WCF.</span><span class="sxs-lookup"><span data-stu-id="c43de-103">This topic discusses new features that make writing WCF applications simpler.</span></span>

## <a name="simplified-generated-configuration-files"></a><span data-ttu-id="c43de-104">Zjednodušené generované konfigurační soubory</span><span class="sxs-lookup"><span data-stu-id="c43de-104">Simplified Generated Configuration Files</span></span>

<span data-ttu-id="c43de-105">Když přidáte odkaz na službu v aplikaci Visual Studio nebo použijete nástroj SvcUtil. exe, vygeneruje se konfigurační soubor klienta.</span><span class="sxs-lookup"><span data-stu-id="c43de-105">When you add a service reference in Visual Studio or use the SvcUtil.exe tool a client configuration file is generated.</span></span> <span data-ttu-id="c43de-106">V předchozích verzích služby WCF tyto konfigurační soubory obsahovaly hodnotu každé vlastnosti vazby, a to i v případě, že její hodnota je výchozí hodnota.</span><span class="sxs-lookup"><span data-stu-id="c43de-106">In previous versions of WCF these configuration files contained the value of every binding property even if its value is the default value.</span></span> <span data-ttu-id="c43de-107">Ve WCF 4,5 generované konfigurační soubory obsahují pouze vlastnosti vazby, které jsou nastaveny na hodnotu, která není výchozí.</span><span class="sxs-lookup"><span data-stu-id="c43de-107">In WCF 4.5 the generated configuration files contain only those binding properties that are set to a non-default value.</span></span>

<span data-ttu-id="c43de-108">Následuje příklad konfiguračního souboru vygenerovaného službou WCF 3,0.</span><span class="sxs-lookup"><span data-stu-id="c43de-108">The following is an example of a configuration file generated by WCF 3.0.</span></span>

```xml
<?xml version="1.0" encoding="utf-8"?>
<configuration>
    <system.serviceModel>
        <bindings>
            <basicHttpBinding>
                <binding name="BasicHttpBinding_IService1" closeTimeout="00:01:00"
                    openTimeout="00:01:00" receiveTimeout="00:10:00" sendTimeout="00:01:00"
                    allowCookies="false" bypassProxyOnLocal="false"
                    hostNameComparisonMode="StrongWildcard" maxBufferSize="65536"
                    maxBufferPoolSize="524288" maxReceivedMessageSize="65536"
                    messageEncoding="Text" textEncoding="utf-8" transferMode="Buffered"
                    useDefaultWebProxy="true">
                    <readerQuotas maxDepth="32" maxStringContentLength="8192"
                        maxArrayLength="16384" maxBytesPerRead="4096"
                        maxNameTableCharCount="16384" />
                    <security mode="None">
                        <transport clientCredentialType="None" proxyCredentialType="None"
                            realm="" />
                        <message clientCredentialType="UserName" algorithmSuite="Default" />
                    </security>
                </binding>
            </basicHttpBinding>
        </bindings>
        <client>
            <endpoint address="http://localhost:36906/Service1.svc" binding="basicHttpBinding"
                bindingConfiguration="BasicHttpBinding_IService1" contract="IService1"
                name="BasicHttpBinding_IService1" />
        </client>
    </system.serviceModel>
</configuration>
```

<span data-ttu-id="c43de-109">Následuje příklad stejného konfiguračního souboru generovaného službou WCF 4,5.</span><span class="sxs-lookup"><span data-stu-id="c43de-109">The following is an example of the same configuration file generated by WCF 4.5.</span></span>

```xml
<?xml version="1.0" encoding="utf-8"?>
<configuration>
    <system.serviceModel>
        <bindings>
            <basicHttpBinding>
                <binding name="BasicHttpBinding_IService1" />
            </basicHttpBinding>
        </bindings>
        <client>
            <endpoint address="http://localhost:36906/Service1.svc" binding="basicHttpBinding"
                bindingConfiguration="BasicHttpBinding_IService1" contract="IService1"
                name="BasicHttpBinding_IService1" />
        </client>
    </system.serviceModel>
</configuration>
```

## <a name="contract-first-development"></a><span data-ttu-id="c43de-110">Vývoj pro první smlouvu</span><span class="sxs-lookup"><span data-stu-id="c43de-110">Contract-First Development</span></span>

<span data-ttu-id="c43de-111">WCF teď podporuje vývoj pro první smlouvu.</span><span class="sxs-lookup"><span data-stu-id="c43de-111">WCF now has support for contract-first development.</span></span> <span data-ttu-id="c43de-112">Nástroj Svcutil. exe má přepínač/serviceContract, který umožňuje vygenerovat kontrakty služeb a dat z dokumentu WSDL.</span><span class="sxs-lookup"><span data-stu-id="c43de-112">The svcutil.exe tool has a /serviceContract switch which allows you to generate service and data contracts from a WSDL document.</span></span>

## <a name="add-service-reference-from-a-portable-subset-project"></a><span data-ttu-id="c43de-113">Přidat odkaz na službu z přenositelné podmnožiny projektu</span><span class="sxs-lookup"><span data-stu-id="c43de-113">Add Service Reference From a Portable Subset Project</span></span>

<span data-ttu-id="c43de-114">Přenositelné podmnožiny projektů umožňují programátorům sestavení .NET udržovat jeden zdrojový strom a systém sestavení a přitom stále podporovat více implementací .NET (Desktop, Silverlight, Windows Phone a Xbox).</span><span class="sxs-lookup"><span data-stu-id="c43de-114">Portable subset projects enable .NET assembly programmers to maintain a single source tree and build system while still supporting multiple .NET implementations (desktop, Silverlight, Windows Phone, and Xbox).</span></span> <span data-ttu-id="c43de-115">Přenositelné Podmnožinové projekty odkazují pouze na přenosné knihovny .NET, které jsou sestaveními, které lze použít v jakékoli implementaci rozhraní .NET.</span><span class="sxs-lookup"><span data-stu-id="c43de-115">Portable subset projects only reference .NET portable libraries that are assemblies that can be used on any .NET implementation.</span></span> <span data-ttu-id="c43de-116">Prostředí pro vývojáře je stejné jako přidání odkazu na službu do jakékoli jiné klientské aplikace WCF.</span><span class="sxs-lookup"><span data-stu-id="c43de-116">The developer experience is the same as adding a service reference within any other WCF client application.</span></span> <span data-ttu-id="c43de-117">Další informace naleznete v tématu [Přidat odkaz na službu v přenositelné podmnožině projektu](add-service-reference-in-a-portable-subset-project.md).</span><span class="sxs-lookup"><span data-stu-id="c43de-117">For more information, see [Add Service Reference in a Portable Subset Project](add-service-reference-in-a-portable-subset-project.md).</span></span>

## <a name="aspnet-compatibility-mode-default-changed"></a><span data-ttu-id="c43de-118">Režim kompatibility ASP.NET se ve výchozím nastavení změnil</span><span class="sxs-lookup"><span data-stu-id="c43de-118">ASP.NET Compatibility Mode Default Changed</span></span>

<span data-ttu-id="c43de-119">Služba WCF poskytuje ASP.NET režim kompatibility pro udělení přístupu vývojářům úplný přístup k funkcím v kanálu HTTP ASP.NET při psaní služeb WCF.</span><span class="sxs-lookup"><span data-stu-id="c43de-119">WCF provides ASP.NET compatibility mode to grant developers full access to the features in the ASP.NET HTTP pipeline when writing WCF services.</span></span> <span data-ttu-id="c43de-120">Chcete-li použít tento režim, je nutné nastavit atribut `aspNetCompatibilityEnabled` na hodnotu true v části [\<serviceHostingEnvironment >](../configure-apps/file-schema/wcf/servicehostingenvironment.md) souboru Web. config. Kromě toho musí mít kterákoli služba v této doméně appDomain vlastnost `RequirementsMode` v <xref:System.ServiceModel.Activation.AspNetCompatibilityRequirementsAttribute> nastavená na <xref:System.ServiceModel.Activation.AspNetCompatibilityRequirementsMode.Allowed> nebo <xref:System.ServiceModel.Activation.AspNetCompatibilityRequirementsMode.Required>.</span><span class="sxs-lookup"><span data-stu-id="c43de-120">To use this mode, you must set the `aspNetCompatibilityEnabled` attribute to true in the [\<serviceHostingEnvironment>](../configure-apps/file-schema/wcf/servicehostingenvironment.md) section of web.config. Additionally, any service in this appDomain needs to have the `RequirementsMode` property on its <xref:System.ServiceModel.Activation.AspNetCompatibilityRequirementsAttribute> set to <xref:System.ServiceModel.Activation.AspNetCompatibilityRequirementsMode.Allowed> or <xref:System.ServiceModel.Activation.AspNetCompatibilityRequirementsMode.Required>.</span></span> <span data-ttu-id="c43de-121">Ve výchozím nastavení je <xref:System.ServiceModel.Activation.AspNetCompatibilityRequirementsAttribute> nyní nastaveno na <xref:System.ServiceModel.Activation.AspNetCompatibilityRequirementsMode.Allowed> a výchozí šablona aplikace služby WCF nastaví atribut `aspNetCompatibilityEnabled` na `true`.</span><span class="sxs-lookup"><span data-stu-id="c43de-121">By default <xref:System.ServiceModel.Activation.AspNetCompatibilityRequirementsAttribute> is now set to <xref:System.ServiceModel.Activation.AspNetCompatibilityRequirementsMode.Allowed> and the default WCF service application template sets the `aspNetCompatibilityEnabled` attribute to `true`.</span></span> <span data-ttu-id="c43de-122">Další informace najdete v tématu [co je nového v Windows Communication Foundation 4,5](whats-new.md) a [službách WCF a ASP.NET](./feature-details/wcf-services-and-aspnet.md).</span><span class="sxs-lookup"><span data-stu-id="c43de-122">For more information, see [What's New in Windows Communication Foundation 4.5](whats-new.md) and [WCF Services and ASP.NET](./feature-details/wcf-services-and-aspnet.md).</span></span>

## <a name="streaming-improvements"></a><span data-ttu-id="c43de-123">Vylepšení streamování</span><span class="sxs-lookup"><span data-stu-id="c43de-123">Streaming Improvements</span></span>

- <span data-ttu-id="c43de-124">Do WCF se přidala nová podpora pro asynchronní streamování.</span><span class="sxs-lookup"><span data-stu-id="c43de-124">New support for asynchronous streaming has been added to WCF.</span></span> <span data-ttu-id="c43de-125">Pokud chcete povolit asynchronní streamování, přidejte do hostitele služby chování koncového bodu <xref:System.ServiceModel.Description.DispatcherSynchronizationBehavior> a nastavte jeho vlastnost <xref:System.ServiceModel.Description.DispatcherSynchronizationBehavior.AsynchronousSendEnabled%2A> na `true`.</span><span class="sxs-lookup"><span data-stu-id="c43de-125">To enable asynchronous streaming, add the  <xref:System.ServiceModel.Description.DispatcherSynchronizationBehavior> endpoint behavior to the service host and set its <xref:System.ServiceModel.Description.DispatcherSynchronizationBehavior.AsynchronousSendEnabled%2A> property to `true`.</span></span> <span data-ttu-id="c43de-126">Tato možnost může přinést škálovatelnost, když služba odesílá streamované zprávy více klientům, které se čtou pomalu.</span><span class="sxs-lookup"><span data-stu-id="c43de-126">This can benefit scalability when a service is sending streamed messages to multiple clients which are reading slowly.</span></span> <span data-ttu-id="c43de-127">WCF již neblokuje jedno vlákno na klienta a uvolní vlákno pro obsluhu jiného klienta.</span><span class="sxs-lookup"><span data-stu-id="c43de-127">WCF does not block one thread per client anymore and will free up the thread to service another client.</span></span>

- <span data-ttu-id="c43de-128">Odebrala se omezení týkající se ukládání zpráv do vyrovnávací paměti, když je služba IIS hostovaná.</span><span class="sxs-lookup"><span data-stu-id="c43de-128">Removed limitations around buffering of messages when a service is IIS hosted.</span></span> <span data-ttu-id="c43de-129">V předchozích verzích služby WCF při přijímání zprávy pro službu hostovanou službou IIS, která používala přenos zpráv, ASP.NET by mohla celou zprávu ukládat do vyrovnávací paměti před odesláním do WCF.</span><span class="sxs-lookup"><span data-stu-id="c43de-129">In previous versions of WCF when receiving a message for an IIS-hosted service that used streaming message transfer, ASP.NET would buffer the entire message before sending it to WCF.</span></span> <span data-ttu-id="c43de-130">To by způsobilo velkou spotřebu paměti.</span><span class="sxs-lookup"><span data-stu-id="c43de-130">This would cause large memory consumption.</span></span> <span data-ttu-id="c43de-131">Toto ukládání do vyrovnávací paměti se odebralo v .NET 4,5 a teď můžou služby WCF hostované službou IIS začít zpracovávat příchozí datový proud před přijetím celé zprávy a tím umožnit skutečné streamování.</span><span class="sxs-lookup"><span data-stu-id="c43de-131">This buffering has been removed in .NET 4.5 and now IIS-hosted WCF services can start processing the incoming stream before the entire message has been received, thereby enabling true streaming.</span></span> <span data-ttu-id="c43de-132">Díky tomu může WCF reagovat okamžitě na zprávy a povolit Vylepšený výkon.</span><span class="sxs-lookup"><span data-stu-id="c43de-132">This allows WCF to respond immediately to messages and allows improved performance.</span></span> <span data-ttu-id="c43de-133">Navíc už nemusíte zadávat hodnotu pro `maxRequestLength`, omezení velikosti ASP.NET příchozích požadavků.</span><span class="sxs-lookup"><span data-stu-id="c43de-133">In addition, you no longer have to specify a value for `maxRequestLength`, the ASP.NET size limit on incoming requests.</span></span> <span data-ttu-id="c43de-134">Je-li tato vlastnost nastavena, je ignorována.</span><span class="sxs-lookup"><span data-stu-id="c43de-134">If this property is set, it is ignored.</span></span> <span data-ttu-id="c43de-135">Další informace o `maxRequestLength` naleznete v části [\<httpRuntime > elementu konfigurace](https://docs.microsoft.com/previous-versions/dotnet/netframework-1.1/e1f13641(v=vs.71)).</span><span class="sxs-lookup"><span data-stu-id="c43de-135">For more information about `maxRequestLength` see [\<httpRuntime> configuration element](https://docs.microsoft.com/previous-versions/dotnet/netframework-1.1/e1f13641(v=vs.71)).</span></span> <span data-ttu-id="c43de-136">Pořád budete muset nakonfigurovat maxAllowedContentLength. Další informace najdete v tématu [omezení požadavků služby IIS](https://docs.microsoft.com/previous-versions/iis/settings-schema/ms689462(v=vs.90)).</span><span class="sxs-lookup"><span data-stu-id="c43de-136">You will still need to configure the maxAllowedContentLength, For more information, see [IIS Request Limits](https://docs.microsoft.com/previous-versions/iis/settings-schema/ms689462(v=vs.90)).</span></span>

## <a name="new-transport-default-values"></a><span data-ttu-id="c43de-137">Nové výchozí hodnoty přenosu</span><span class="sxs-lookup"><span data-stu-id="c43de-137">New Transport Default Values</span></span>

<span data-ttu-id="c43de-138">Následující tabulka popisuje nastavení, která se změnila a kde najít další informace.</span><span class="sxs-lookup"><span data-stu-id="c43de-138">The following table describes the settings that have changed and where to find additional information.</span></span>

|<span data-ttu-id="c43de-139">Vlastnost</span><span class="sxs-lookup"><span data-stu-id="c43de-139">Property</span></span>|<span data-ttu-id="c43de-140">Zapnuto</span><span class="sxs-lookup"><span data-stu-id="c43de-140">On</span></span>|<span data-ttu-id="c43de-141">Nové výchozí</span><span class="sxs-lookup"><span data-stu-id="c43de-141">New Default</span></span>|<span data-ttu-id="c43de-142">Další informace</span><span class="sxs-lookup"><span data-stu-id="c43de-142">More Information</span></span>|
|--------------|--------|-----------------|----------------------|
|<span data-ttu-id="c43de-143">channelInitializationTimeout</span><span class="sxs-lookup"><span data-stu-id="c43de-143">channelInitializationTimeout</span></span>|<xref:System.ServiceModel.NetTcpBinding>|<span data-ttu-id="c43de-144">30 sekund</span><span class="sxs-lookup"><span data-stu-id="c43de-144">30 seconds</span></span>|<span data-ttu-id="c43de-145">Tato vlastnost určuje, jak dlouho může připojení TCP trvat při ověřování pomocí protokolu rámců .NET.</span><span class="sxs-lookup"><span data-stu-id="c43de-145">This property determines how long a TCP connection can take to authenticate itself using the .NET Framing protocol.</span></span> <span data-ttu-id="c43de-146">Klient potřebuje odeslat některá počáteční data předtím, než server bude mít dostatek informací k provedení ověření.</span><span class="sxs-lookup"><span data-stu-id="c43de-146">A client needs to send some initial data before the server has enough information to perform authentication.</span></span> <span data-ttu-id="c43de-147">Tento časový limit je úmyslně menší než ReceiveTimeout (10 min), aby škodlivé neověřené klienty neudržovaly připojení na server po dlouhou dobu.</span><span class="sxs-lookup"><span data-stu-id="c43de-147">This timeout is intentionally made smaller than the ReceiveTimeout (10 min) so that malicious unauthenticated clients do not keep the connections tied up to the server for long.</span></span> <span data-ttu-id="c43de-148">Výchozí hodnota je 30 sekund.</span><span class="sxs-lookup"><span data-stu-id="c43de-148">The default value is 30 seconds.</span></span> <span data-ttu-id="c43de-149">Další informace o <xref:System.ServiceModel.Channels.ConnectionOrientedTransportBindingElement.ChannelInitializationTimeout%2A></span><span class="sxs-lookup"><span data-stu-id="c43de-149">For more information about <xref:System.ServiceModel.Channels.ConnectionOrientedTransportBindingElement.ChannelInitializationTimeout%2A></span></span>|
|<span data-ttu-id="c43de-150">listenBacklog</span><span class="sxs-lookup"><span data-stu-id="c43de-150">listenBacklog</span></span>|<xref:System.ServiceModel.NetTcpBinding>|<span data-ttu-id="c43de-151">16 \* počet procesorů</span><span class="sxs-lookup"><span data-stu-id="c43de-151">16 \* number of processors</span></span>|<span data-ttu-id="c43de-152">Tato vlastnost na úrovni soketu popisuje počet požadavků čekajících na přijetí k zařazení do fronty.</span><span class="sxs-lookup"><span data-stu-id="c43de-152">This socket-level property describes the number of "pending accept" requests to be queued.</span></span> <span data-ttu-id="c43de-153">Pokud nevyřízená fronta nevyřízených položek vyplní, budou nové požadavky na soket odmítnuty.</span><span class="sxs-lookup"><span data-stu-id="c43de-153">If the listen backlog queue fills up, new socket requests will be rejected.</span></span> <span data-ttu-id="c43de-154">Další informace o <xref:System.ServiceModel.NetTcpBinding.ListenBacklog%2A></span><span class="sxs-lookup"><span data-stu-id="c43de-154">For more information about <xref:System.ServiceModel.NetTcpBinding.ListenBacklog%2A></span></span>|
|<span data-ttu-id="c43de-155">maxPendingAccepts</span><span class="sxs-lookup"><span data-stu-id="c43de-155">maxPendingAccepts</span></span>|<span data-ttu-id="c43de-156">ConnectionOrientedTransportBindingElement</span><span class="sxs-lookup"><span data-stu-id="c43de-156">ConnectionOrientedTransportBindingElement</span></span><br /><br /> <span data-ttu-id="c43de-157">SMSvcHost.exe</span><span class="sxs-lookup"><span data-stu-id="c43de-157">SMSvcHost.exe</span></span>|<span data-ttu-id="c43de-158">2 \* počet procesorů pro přenos</span><span class="sxs-lookup"><span data-stu-id="c43de-158">2 \* number of processors for transport</span></span><br /><br /> <span data-ttu-id="c43de-159">4 \* počet procesorů pro SMSvcHost. exe</span><span class="sxs-lookup"><span data-stu-id="c43de-159">4 \* number of processors for SMSvcHost.exe</span></span>|<span data-ttu-id="c43de-160">Tato vlastnost omezuje počet kanálů, které server může čekat na naslouchací proces.</span><span class="sxs-lookup"><span data-stu-id="c43de-160">This property limits the number of channels that the server can have waiting on a listener.</span></span> <span data-ttu-id="c43de-161">Pokud je MaxPendingAccepts příliš nízké, bude existovat malý časový interval, ve kterém budou všechny čekající kanály začali obsluhovat připojení, ale nezačaly naslouchat žádné nové kanály.</span><span class="sxs-lookup"><span data-stu-id="c43de-161">When MaxPendingAccepts is too low, there will be a small interval of time in which all of the waiting channels have started servicing connections, but no new channels have begun listening.</span></span> <span data-ttu-id="c43de-162">Připojení může být doručeno během tohoto intervalu a selže, protože na serveru nebude nic čekat.</span><span class="sxs-lookup"><span data-stu-id="c43de-162">A connection can arrive during this interval and will fail because nothing is waiting for it on the server.</span></span> <span data-ttu-id="c43de-163">Tuto vlastnost lze nakonfigurovat nastavením vlastnosti <xref:System.ServiceModel.Channels.ConnectionOrientedTransportBindingElement.MaxPendingConnections%2A> na větší číslo.</span><span class="sxs-lookup"><span data-stu-id="c43de-163">This property can be configured by setting the <xref:System.ServiceModel.Channels.ConnectionOrientedTransportBindingElement.MaxPendingConnections%2A> property to a larger number.</span></span> <span data-ttu-id="c43de-164">Další informace najdete v tématu <xref:System.ServiceModel.Channels.ConnectionOrientedTransportBindingElement.MaxPendingAccepts%2A> a [Konfigurace služby sdílení portů Net. TCP.](./feature-details/configuring-the-net-tcp-port-sharing-service.md)</span><span class="sxs-lookup"><span data-stu-id="c43de-164">For more information, see <xref:System.ServiceModel.Channels.ConnectionOrientedTransportBindingElement.MaxPendingAccepts%2A> and [Configuring the Net.TCP Port Sharing Service](./feature-details/configuring-the-net-tcp-port-sharing-service.md)</span></span>|
|<span data-ttu-id="c43de-165">maxPendingConnections</span><span class="sxs-lookup"><span data-stu-id="c43de-165">maxPendingConnections</span></span>|<span data-ttu-id="c43de-166">ConnectionOrientedTransportBindingElement</span><span class="sxs-lookup"><span data-stu-id="c43de-166">ConnectionOrientedTransportBindingElement</span></span>|<span data-ttu-id="c43de-167">12 \* počet procesorů</span><span class="sxs-lookup"><span data-stu-id="c43de-167">12 \* number of processors</span></span>|<span data-ttu-id="c43de-168">Tato vlastnost určuje, kolik připojení bylo přenosu přijato, ale nebyl vyzvednuta dispečerem ServiceModel.</span><span class="sxs-lookup"><span data-stu-id="c43de-168">This property controls how many connections a transport has accepted but have not been picked up by the ServiceModel Dispatcher.</span></span> <span data-ttu-id="c43de-169">Chcete-li nastavit tuto hodnotu, použijte `MaxConnections` ve vazbě nebo `maxOutboundConnectionsPerEndpoint` elementu vazby.</span><span class="sxs-lookup"><span data-stu-id="c43de-169">To set this value, use `MaxConnections` on the binding or `maxOutboundConnectionsPerEndpoint` on the binding element.</span></span> <span data-ttu-id="c43de-170">Další informace o <xref:System.ServiceModel.Channels.ConnectionOrientedTransportBindingElement.MaxPendingConnections%2A></span><span class="sxs-lookup"><span data-stu-id="c43de-170">For more information about <xref:System.ServiceModel.Channels.ConnectionOrientedTransportBindingElement.MaxPendingConnections%2A></span></span>|
|<span data-ttu-id="c43de-171">receiveTimeout</span><span class="sxs-lookup"><span data-stu-id="c43de-171">receiveTimeout</span></span>|<span data-ttu-id="c43de-172">SMSvcHost.exe</span><span class="sxs-lookup"><span data-stu-id="c43de-172">SMSvcHost.exe</span></span>|<span data-ttu-id="c43de-173">30 sekund</span><span class="sxs-lookup"><span data-stu-id="c43de-173">30 seconds</span></span>|<span data-ttu-id="c43de-174">Tato vlastnost určuje časový limit pro čtení dat rámců TCP a provádění odesílání připojení ze základních připojení.</span><span class="sxs-lookup"><span data-stu-id="c43de-174">This property specifies the timeout for reading the TCP framing data and performing connection dispatching from the underlying connections.</span></span> <span data-ttu-id="c43de-175">To znamená, že v době, kdy se služba SMSvcHost. exe zachová, je potřeba si přečíst data preambule z příchozího připojení.</span><span class="sxs-lookup"><span data-stu-id="c43de-175">This exists to put a cap on the amount of time SMSvcHost.exe service is kept engaged to read the preamble data from an incoming connection.</span></span> <span data-ttu-id="c43de-176">Další informace najdete v tématu [Konfigurace služby sdílení portů Net. TCP](./feature-details/configuring-the-net-tcp-port-sharing-service.md).</span><span class="sxs-lookup"><span data-stu-id="c43de-176">For more information, see [Configuring the Net.TCP Port Sharing Service](./feature-details/configuring-the-net-tcp-port-sharing-service.md).</span></span>|

> [!NOTE]
> <span data-ttu-id="c43de-177">Tyto nové výchozí hodnoty se použijí pouze v případě, že nasadíte službu WCF do počítače s .NET Framework 4,5.</span><span class="sxs-lookup"><span data-stu-id="c43de-177">These new defaults are used only if you deploy the WCF service on a machine with .NET Framework 4.5.</span></span> <span data-ttu-id="c43de-178">Pokud nasadíte stejnou službu do počítače s .NET Framework 4,0, použijí se výchozí hodnoty .NET Framework 4,0.</span><span class="sxs-lookup"><span data-stu-id="c43de-178">If you deploy the same service on a machine with .NET Framework 4.0, then the .NET Framework 4.0 defaults are used.</span></span> <span data-ttu-id="c43de-179">V takových případech se doporučuje nakonfigurovat tato nastavení explicitně.</span><span class="sxs-lookup"><span data-stu-id="c43de-179">In such cases it is recommended to configure these settings explicitly.</span></span>

## <a name="xmldictionaryreaderquotas"></a><span data-ttu-id="c43de-180">XmlDictionaryReaderQuotas</span><span class="sxs-lookup"><span data-stu-id="c43de-180">XmlDictionaryReaderQuotas</span></span>

<span data-ttu-id="c43de-181"><xref:System.Xml.XmlDictionaryReaderQuotas> obsahuje konfigurovatelné hodnoty kvóty pro čtečky slovníku XML, které omezují velikost paměti využívané kodérem při vytváření zprávy.</span><span class="sxs-lookup"><span data-stu-id="c43de-181"><xref:System.Xml.XmlDictionaryReaderQuotas> contains configurable quota values for XML dictionary readers which limit the amount of memory utilized by an encoder while creating a message.</span></span> <span data-ttu-id="c43de-182">I když jsou tyto kvóty konfigurovatelné, výchozí hodnoty se změní tak, aby se minimalizovala možnost, že ji vývojář bude muset explicitně nastavit.</span><span class="sxs-lookup"><span data-stu-id="c43de-182">While these quotas are configurable, the default values have changed to lessen the possibility that a developer will need to set them explicitly.</span></span> <span data-ttu-id="c43de-183">kvóta `MaxReceivedMessageSize` se nezměnila, takže může stále omezit spotřebu paměti, takže nemusíte řešit složitost <xref:System.Xml.XmlDictionaryReaderQuotas>.</span><span class="sxs-lookup"><span data-stu-id="c43de-183">`MaxReceivedMessageSize` quota has not been changed so that it can still limit memory consumption preventing the need for you to deal with the complexity of the <xref:System.Xml.XmlDictionaryReaderQuotas>.</span></span> <span data-ttu-id="c43de-184">V následující tabulce jsou uvedeny kvóty, jejich nové výchozí hodnoty a stručné vysvětlení toho, jaká kvóta se používá pro.</span><span class="sxs-lookup"><span data-stu-id="c43de-184">The following table shows the quotas, their new default values and a brief explanation of what each quota is used for.</span></span>

|<span data-ttu-id="c43de-185">Název kvóty</span><span class="sxs-lookup"><span data-stu-id="c43de-185">Quota Name</span></span>|<span data-ttu-id="c43de-186">Výchozí hodnota</span><span class="sxs-lookup"><span data-stu-id="c43de-186">Default Value</span></span>|<span data-ttu-id="c43de-187">Popis</span><span class="sxs-lookup"><span data-stu-id="c43de-187">Description</span></span>|
|----------------|-------------------|-----------------|
|<xref:System.Xml.XmlDictionaryReaderQuotas.MaxArrayLength%2A>|<span data-ttu-id="c43de-188">Int32.MaxValue</span><span class="sxs-lookup"><span data-stu-id="c43de-188">Int32.MaxValue</span></span>|<span data-ttu-id="c43de-189">Získá a nastaví maximální povolenou délku pole.</span><span class="sxs-lookup"><span data-stu-id="c43de-189">Gets and sets the maximum allowed array length.</span></span> <span data-ttu-id="c43de-190">Tato kvóta omezuje maximální velikost pole primitivních elementů, které vrátí čtecí modul XML, včetně bajtových polí.</span><span class="sxs-lookup"><span data-stu-id="c43de-190">This quota limits the maximum size of an array of primitives that the XML reader returns, including byte arrays.</span></span> <span data-ttu-id="c43de-191">Tato kvóta neomezuje spotřebu paměti v samotném čtecím modulu XML, ale v jakékoli součásti, která používá čtecí modul.</span><span class="sxs-lookup"><span data-stu-id="c43de-191">This quota does not limit memory consumption in the XML reader itself, but in whatever component that is using the reader.</span></span> <span data-ttu-id="c43de-192">Například pokud <xref:System.Runtime.Serialization.DataContractSerializer> používá čtecí modul zabezpečený s <xref:System.Xml.XmlDictionaryReaderQuotas.MaxArrayLength%2A>, neprovádí deserializaci polí bajtů větší než tato kvóta.</span><span class="sxs-lookup"><span data-stu-id="c43de-192">For example, when the <xref:System.Runtime.Serialization.DataContractSerializer> uses a reader secured with <xref:System.Xml.XmlDictionaryReaderQuotas.MaxArrayLength%2A>, it does not deserialize byte arrays larger than this quota.</span></span>|
|<xref:System.Xml.XmlDictionaryReaderQuotas.MaxBytesPerRead%2A>|<span data-ttu-id="c43de-193">Int32.MaxValue</span><span class="sxs-lookup"><span data-stu-id="c43de-193">Int32.MaxValue</span></span>|<span data-ttu-id="c43de-194">Získá a nastaví maximální povolené bajty vracené pro každou přečtenou.</span><span class="sxs-lookup"><span data-stu-id="c43de-194">Gets and sets the maximum allowed bytes returned for each read.</span></span> <span data-ttu-id="c43de-195">Tato kvóta omezuje počet bajtů, které jsou čteny při jedné operaci čtení při čtení značky začátek elementu a jeho atributů.</span><span class="sxs-lookup"><span data-stu-id="c43de-195">This quota limits the number of bytes that are read in a single Read operation when reading the element start tag and its attributes.</span></span> <span data-ttu-id="c43de-196">(V nestreamované případech se název elementu sám nepočítá s kvótou).</span><span class="sxs-lookup"><span data-stu-id="c43de-196">(In non-streamed cases, the element name itself is not counted against the quota).</span></span> <span data-ttu-id="c43de-197">Příliš mnoho atributů XML může použít neúměrný čas zpracování, protože názvy atributů musí být zkontrolovány pro jedinečnost.</span><span class="sxs-lookup"><span data-stu-id="c43de-197">Having too many XML attributes may use up disproportionate processing time because attribute names have to be checked for uniqueness.</span></span> <span data-ttu-id="c43de-198"><xref:System.Xml.XmlDictionaryReaderQuotas.MaxBytesPerRead%2A> snižuje riziko této hrozby.</span><span class="sxs-lookup"><span data-stu-id="c43de-198"><xref:System.Xml.XmlDictionaryReaderQuotas.MaxBytesPerRead%2A> mitigates this threat.</span></span>|
|<xref:System.Xml.XmlDictionaryReaderQuotas.MaxDepth%2A>|<span data-ttu-id="c43de-199">128 uzlů na hloubku</span><span class="sxs-lookup"><span data-stu-id="c43de-199">128 nodes deep</span></span>|<span data-ttu-id="c43de-200">Tato kvóta omezuje maximální hloubku vnořování prvků XML.</span><span class="sxs-lookup"><span data-stu-id="c43de-200">This quota limits the maximum nesting depth of XML elements.</span></span> <span data-ttu-id="c43de-201"><xref:System.Xml.XmlDictionaryReaderQuotas.MaxDepth%2A> komunikuje s <xref:System.Xml.XmlDictionaryReaderQuotas.MaxBytesPerRead%2A>: čtecí modul vždy uchovává data v paměti pro aktuální prvek a všechny jeho nadřazené prvky, takže maximální spotřeba paměti čtecího zařízení je úměrná produktu těchto dvou nastavení.</span><span class="sxs-lookup"><span data-stu-id="c43de-201"><xref:System.Xml.XmlDictionaryReaderQuotas.MaxDepth%2A> interacts with <xref:System.Xml.XmlDictionaryReaderQuotas.MaxBytesPerRead%2A>: the reader always keeps data in memory for the current element and all of its ancestors, so the maximum memory consumption of the reader is proportional to the product of these two settings.</span></span> <span data-ttu-id="c43de-202">Při deserializaci diagramu hluboko vnořeného objektu je pro deserializaci nucen přístup k celému zásobníku a vyvolat neobnovitelné <xref:System.StackOverflowException>.</span><span class="sxs-lookup"><span data-stu-id="c43de-202">When deserializing a deeply-nested object graph, the deserializer is forced to access the entire stack and throw an unrecoverable <xref:System.StackOverflowException>.</span></span> <span data-ttu-id="c43de-203">Mezi vnořeným kódem XML a vnořeným objektem pro <xref:System.Runtime.Serialization.DataContractSerializer> i <xref:System.Xml.Serialization.XmlSerializer>existuje přímá korelace.</span><span class="sxs-lookup"><span data-stu-id="c43de-203">A direct correlation exists between XML nesting and object nesting for both the <xref:System.Runtime.Serialization.DataContractSerializer> and the <xref:System.Xml.Serialization.XmlSerializer>.</span></span> <span data-ttu-id="c43de-204">pro zmírnění této hrozby se používá <xref:System.Xml.XmlDictionaryReaderQuotas.MaxDepth%2A>.</span><span class="sxs-lookup"><span data-stu-id="c43de-204"><xref:System.Xml.XmlDictionaryReaderQuotas.MaxDepth%2A> is used to mitigate this threat.</span></span>|
|<xref:System.Xml.XmlDictionaryReaderQuotas.MaxNameTableCharCount%2A>|<span data-ttu-id="c43de-205">Int32.MaxValue</span><span class="sxs-lookup"><span data-stu-id="c43de-205">Int32.MaxValue</span></span>|<span data-ttu-id="c43de-206">Tato kvóta omezuje maximální povolený počet znaků NameTable.</span><span class="sxs-lookup"><span data-stu-id="c43de-206">This quota limits the maximum number of characters allowed in a nametable.</span></span> <span data-ttu-id="c43de-207">NameTable obsahuje určité řetězce (například obory názvů a předpony), které byly zjištěny při zpracování dokumentu XML.</span><span class="sxs-lookup"><span data-stu-id="c43de-207">The nametable contains certain strings (such as namespaces and prefixes) that are encountered when processing an XML document.</span></span> <span data-ttu-id="c43de-208">Vzhledem k tomu, že jsou tyto řetězce uloženy do vyrovnávací paměti, se tato kvóta používá k zamezení nadměrnému ukládání do vyrovnávací paměti, když se očekává streamování.</span><span class="sxs-lookup"><span data-stu-id="c43de-208">As these strings are buffered in memory, this quota is used to prevent excessive buffering when streaming is expected.</span></span>|
|<xref:System.Xml.XmlDictionaryReaderQuotas.MaxStringContentLength%2A>|<span data-ttu-id="c43de-209">Int32.MaxValue</span><span class="sxs-lookup"><span data-stu-id="c43de-209">Int32.MaxValue</span></span>|<span data-ttu-id="c43de-210">Tato kvóta omezuje maximální velikost řetězce, kterou čtecí modul XML vrátí.</span><span class="sxs-lookup"><span data-stu-id="c43de-210">This quota limits the maximum string size that the XML reader returns.</span></span> <span data-ttu-id="c43de-211">Tato kvóta neomezuje spotřebu paměti v samotném čtecím modulu XML, ale v komponentě, která používá čtecí modul.</span><span class="sxs-lookup"><span data-stu-id="c43de-211">This quota does not limit memory consumption in the XML reader itself, but in the component that is using the reader.</span></span> <span data-ttu-id="c43de-212">Například pokud <xref:System.Runtime.Serialization.DataContractSerializer> používá čtecí modul zabezpečený s <xref:System.Xml.XmlDictionaryReaderQuotas.MaxStringContentLength%2A>, neprovádí deserializaci řetězců větší než tato kvóta.</span><span class="sxs-lookup"><span data-stu-id="c43de-212">For example, when the <xref:System.Runtime.Serialization.DataContractSerializer> uses a reader secured with <xref:System.Xml.XmlDictionaryReaderQuotas.MaxStringContentLength%2A>, it does not deserialize strings larger than this quota.</span></span>|

> [!IMPORTANT]
> <span data-ttu-id="c43de-213">Další informace o zabezpečení dat najdete v tématu věnovaném bezpečnému používání XML v tématu [požadavky na zabezpečení pro data](./feature-details/security-considerations-for-data.md) .</span><span class="sxs-lookup"><span data-stu-id="c43de-213">Refer to "Using XML Safely" under [Security Considerations for Data](./feature-details/security-considerations-for-data.md) for more information about securing your data.</span></span>

> [!NOTE]
> <span data-ttu-id="c43de-214">Tyto nové výchozí hodnoty se použijí pouze v případě, že nasadíte službu WCF do počítače s .NET Framework 4,5.</span><span class="sxs-lookup"><span data-stu-id="c43de-214">These new defaults are used only if you deploy the WCF service on a machine with .NET Framework 4.5.</span></span> <span data-ttu-id="c43de-215">Pokud nasadíte stejnou službu do počítače s .NET Framework 4,0, použijí se výchozí hodnoty .NET Framework 4,0.</span><span class="sxs-lookup"><span data-stu-id="c43de-215">If you deploy the same service on a machine with .NET Framework 4.0, then the .NET Framework 4.0 defaults are used.</span></span> <span data-ttu-id="c43de-216">V takových případech se doporučuje nakonfigurovat tato nastavení explicitně.</span><span class="sxs-lookup"><span data-stu-id="c43de-216">In such cases it is recommended to configure these settings explicitly.</span></span>

## <a name="wcf-configuration-validation"></a><span data-ttu-id="c43de-217">Ověřování konfigurace WCF</span><span class="sxs-lookup"><span data-stu-id="c43de-217">WCF Configuration Validation</span></span>

<span data-ttu-id="c43de-218">V rámci procesu sestavení v sadě Visual Studio jsou nyní ověřovány konfigurační soubory služby WCF.</span><span class="sxs-lookup"><span data-stu-id="c43de-218">As part of the build process within Visual Studio, WCF configuration files are now validated.</span></span> <span data-ttu-id="c43de-219">V aplikaci Visual Studio se zobrazí seznam chyb nebo upozornění ověřování, pokud se ověření nepovede.</span><span class="sxs-lookup"><span data-stu-id="c43de-219">A list of validation errors or warnings are displayed in Visual Studio if the validation fails.</span></span>

## <a name="xml-editor-tooltips"></a><span data-ttu-id="c43de-220">Popisy editoru XML</span><span class="sxs-lookup"><span data-stu-id="c43de-220">XML Editor Tooltips</span></span>

<span data-ttu-id="c43de-221">Editor XML sady Visual Studio nyní poskytuje popisy pro každý prvek konfigurace a jeho vlastnosti, které jsou součástí konfiguračního souboru služby, aby bylo možné pomáhat novým a stávajícím vývojářům služby WCF konfigurovat své služby.</span><span class="sxs-lookup"><span data-stu-id="c43de-221">In order to help new and existing WCF service developers to configure their services, the Visual Studio XML editor now provides tooltips for every configuration element and its properties that is part of the service configuration file.</span></span>

## <a name="basichttpbinding-improvements"></a><span data-ttu-id="c43de-222">Vylepšení BasicHttpBinding</span><span class="sxs-lookup"><span data-stu-id="c43de-222">BasicHttpBinding Improvements</span></span>

1. <span data-ttu-id="c43de-223">Umožňuje jednomu koncovému bodu WCF reagovat na různé režimy ověřování.</span><span class="sxs-lookup"><span data-stu-id="c43de-223">Enables a single WCF endpoint to respond to different authentication modes.</span></span>

2. <span data-ttu-id="c43de-224">Umožňuje řídit nastavení zabezpečení služby WCF pomocí služby IIS.</span><span class="sxs-lookup"><span data-stu-id="c43de-224">Enables a WCF service’s security settings to be controlled by IIS</span></span>
