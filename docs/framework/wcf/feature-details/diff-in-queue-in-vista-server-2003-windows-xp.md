---
title: Rozdíly funkcí front zpráv v systémech Windows Vista, Windows Server 2003 a Windows XP
ms.date: 03/30/2017
helpviewer_keywords:
- queues [WCF], differences in operating systems
ms.assetid: aa809d93-d0a3-4ae6-a726-d015cca37c04
ms.openlocfilehash: abd81b5e7bf611fc6b4f446a82628b83130f2d54
ms.sourcegitcommit: cdb295dd1db589ce5169ac9ff096f01fd0c2da9d
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 06/09/2020
ms.locfileid: "84599201"
---
# <a name="differences-in-queuing-features-in-windows-vista-windows-server-2003-and-windows-xp"></a><span data-ttu-id="f3536-102">Rozdíly funkcí front zpráv v systémech Windows Vista, Windows Server 2003 a Windows XP</span><span class="sxs-lookup"><span data-stu-id="f3536-102">Differences in Queuing Features in Windows Vista, Windows Server 2003, and Windows XP</span></span>
<span data-ttu-id="f3536-103">Toto téma shrnuje rozdíly mezi funkcí fronty Windows Communication Foundation (WCF) mezi systémy Windows Vista, Windows Server 2003 a Windows XP.</span><span class="sxs-lookup"><span data-stu-id="f3536-103">This topic summarizes the differences in the Windows Communication Foundation (WCF) queues feature between Windows Vista, Windows Server 2003, and Windows XP.</span></span>  
  
## <a name="application-specific-dead-letter-queue"></a><span data-ttu-id="f3536-104">Fronta nedoručených zpráv specifická pro aplikaci</span><span class="sxs-lookup"><span data-stu-id="f3536-104">Application-Specific Dead-Letter Queue</span></span>  
 <span data-ttu-id="f3536-105">Zprávy ve frontě mohou zůstat ve frontě po neomezenou dobu, pokud přijímající aplikace je nepřečte včas.</span><span class="sxs-lookup"><span data-stu-id="f3536-105">Queued messages can remain in the queue indefinitely if the receiving application does not read them in a timely fashion.</span></span> <span data-ttu-id="f3536-106">Toto chování není vhodné, pokud jsou zprávy citlivé na čas.</span><span class="sxs-lookup"><span data-stu-id="f3536-106">This behavior is not advisable if the messages are time-sensitive.</span></span> <span data-ttu-id="f3536-107">Zprávy s časovým rozlišením mají `TimeToLive` v vazbě zařazené do fronty nastavenou vlastnost.</span><span class="sxs-lookup"><span data-stu-id="f3536-107">Time-sensitive messages have a `TimeToLive` property set in the queued binding.</span></span> <span data-ttu-id="f3536-108">Tato vlastnost určuje, jak dlouho mohou být zprávy ve frontě, než vyprší jejich platnost.</span><span class="sxs-lookup"><span data-stu-id="f3536-108">This property indicates how long the messages can be in the queue before they expire.</span></span> <span data-ttu-id="f3536-109">Zprávy s vypršenou platností se odesílají do speciální fronty označované jako fronta nedoručených zpráv.</span><span class="sxs-lookup"><span data-stu-id="f3536-109">Expired messages are sent to a special queue called the dead-letter queue.</span></span> <span data-ttu-id="f3536-110">Zpráva může také končit nedoručenou frontou z jiných důvodů, například překročení kvóty fronty nebo selhání ověřování.</span><span class="sxs-lookup"><span data-stu-id="f3536-110">A message can also end up in a dead-letter queue for other reasons, such as exceeding a queue quota or experiencing an authentication failure.</span></span>  
  
 <span data-ttu-id="f3536-111">Pro všechny aplikace zařazené do fronty, které sdílejí správce front, existuje obvykle jedna fronta nedoručených zpráv v celém systému.</span><span class="sxs-lookup"><span data-stu-id="f3536-111">Typically, a single system-wide dead-letter queue exists for all queued applications that share a queue manager.</span></span> <span data-ttu-id="f3536-112">Fronta nedoručených zpráv pro každou aplikaci umožňuje lepší izolaci mezi aplikacemi zařazenými do fronty, které sdílejí správce front. umožňuje těmto aplikacím zadat vlastní frontu nedoručených zpráv specifickou pro danou aplikaci.</span><span class="sxs-lookup"><span data-stu-id="f3536-112">A dead-letter queue for each application enables better isolation between queued applications that share a queue manager by allowing these applications to specify their own application-specific dead-letter queue.</span></span> <span data-ttu-id="f3536-113">Aplikace, která sdílí frontu nedoručených zpráv s jinými aplikacemi, musí procházet frontu a vyhledat tak zprávy, které se na ně vztahují.</span><span class="sxs-lookup"><span data-stu-id="f3536-113">An application that shares a dead-letter queue with other applications has to browse the queue to find messages that are applicable to it.</span></span> <span data-ttu-id="f3536-114">U fronty nedoručených zpráv konkrétní aplikace je možné zajistit, že se na ni vztahují všechny zprávy ve frontě nedoručených zpráv.</span><span class="sxs-lookup"><span data-stu-id="f3536-114">With an application-specific dead-letter queue, the application can be assured that all messages in its dead-letter queue are applicable to it.</span></span>  
  
 <span data-ttu-id="f3536-115">Systém Windows Vista poskytuje pro fronty nedoručených zpráv specifické pro aplikaci.</span><span class="sxs-lookup"><span data-stu-id="f3536-115">Windows Vista provides for application-specific dead-letter queues.</span></span> <span data-ttu-id="f3536-116">Fronty nedoručených zpráv specifické pro aplikaci nejsou k dispozici v systémech Windows Server 2003 a Windows XP a aplikace musí používat frontu nedoručených zpráv v rámci systému.</span><span class="sxs-lookup"><span data-stu-id="f3536-116">Application-specific dead-letter queues are not available in Windows Server 2003 and Windows XP, and applications must use the system-wide dead-letter queue.</span></span>  
  
## <a name="poison-message-handling"></a><span data-ttu-id="f3536-117">Zpracování nezpracovatelných zpráv</span><span class="sxs-lookup"><span data-stu-id="f3536-117">Poison-Message Handling</span></span>  
 <span data-ttu-id="f3536-118">Nezpracovatelná zpráva je zpráva, že překročila maximální počet pokusů o doručení přijímající aplikace.</span><span class="sxs-lookup"><span data-stu-id="f3536-118">A poison message is a message that has exceeded the maximum number of delivery attempts to the receiving application.</span></span> <span data-ttu-id="f3536-119">K této situaci může dojít, když aplikace, která čte zprávu z transakční fronty, nemůže zprávu zpracovat okamžitě kvůli chybám.</span><span class="sxs-lookup"><span data-stu-id="f3536-119">This situation can arise when an application that reads a message from a transactional queue cannot process the message immediately because of errors.</span></span> <span data-ttu-id="f3536-120">Pokud aplikace přeruší transakci, ve které byla zpráva ve frontě přijata, vrátí zprávu do fronty.</span><span class="sxs-lookup"><span data-stu-id="f3536-120">If the application aborts the transaction in which the queued message was received, it returns the message to the queue.</span></span> <span data-ttu-id="f3536-121">Aplikace se pak pokusí znovu načíst zprávu v nové transakci.</span><span class="sxs-lookup"><span data-stu-id="f3536-121">The application then tries to retrieve the message again in a new transaction.</span></span> <span data-ttu-id="f3536-122">Pokud problém, který způsobí chybu, se neopraví, přijímající aplikace může zablokovat ve smyčce příjem a přerušit stejnou zprávu, dokud nepřekračuje maximální počet pokusů o doručení a výsledky nepoškozené zprávy.</span><span class="sxs-lookup"><span data-stu-id="f3536-122">If the problem that causes the error is not corrected, the receiving application can get stuck in a loop receiving and aborting the same message until it exceeds the maximum number of delivery attempts, and a poison message results.</span></span>  
  
 <span data-ttu-id="f3536-123">Mezi hlavní rozdíly mezi službou Řízení front zpráv (MSMQ) v systému Windows Vista, Windows Server 2003 a Windows XP, které jsou relevantní pro zpracování poškození, patří následující:</span><span class="sxs-lookup"><span data-stu-id="f3536-123">The key differences between Message Queuing (MSMQ) on Windows Vista, Windows Server 2003, and Windows XP that are relevant to poison handling include the following:</span></span>  
  
- <span data-ttu-id="f3536-124">Služba MSMQ v systému Windows Vista podporuje dílčí fronty, přičemž systémy Windows Server 2003 a Windows XP nepodporují dílčí fronty.</span><span class="sxs-lookup"><span data-stu-id="f3536-124">MSMQ in Windows Vista supports subqueues, while Windows Server 2003 and Windows XP do not support subqueues.</span></span> <span data-ttu-id="f3536-125">Podfronty se používají při zpracování nezpracovatelných zpráv.</span><span class="sxs-lookup"><span data-stu-id="f3536-125">Subqueues are used in poison-message handling.</span></span> <span data-ttu-id="f3536-126">Fronty opakování a nepoškozená fronta jsou podfronty aplikací, které jsou vytvořeny na základě nastavení zpracování nezpracovatelných zpráv.</span><span class="sxs-lookup"><span data-stu-id="f3536-126">The retry queues and the poison queue are subqueues to the application queue that is created based on the poison-message handling settings.</span></span> <span data-ttu-id="f3536-127">Určuje, kolik `MaxRetryCycles` opakovaných podfront se má vytvořit.</span><span class="sxs-lookup"><span data-stu-id="f3536-127">The `MaxRetryCycles` dictates how many retry subqueues to create.</span></span> <span data-ttu-id="f3536-128">Proto se při spuštění v systému Windows Server 2003 nebo Windows XP `MaxRetryCycles` ignoruje a není `ReceiveErrorHandling.Move` povolená.</span><span class="sxs-lookup"><span data-stu-id="f3536-128">Therefore, when running on Windows Server 2003 or Windows XP, `MaxRetryCycles` are ignored and `ReceiveErrorHandling.Move` is not allowed.</span></span>  
  
- <span data-ttu-id="f3536-129">Služba MSMQ v systému Windows Vista podporuje negativní potvrzení, ale systémy Windows Server 2003 a Windows XP ne.</span><span class="sxs-lookup"><span data-stu-id="f3536-129">MSMQ in Windows Vista supports negative acknowledgment, while Windows Server 2003 and Windows XP do not.</span></span> <span data-ttu-id="f3536-130">Negativní potvrzení od přijímacího správce fronty způsobí, že odesílajícímu správci fronty umístí odmítnutou zprávu do fronty nedoručených zpráv.</span><span class="sxs-lookup"><span data-stu-id="f3536-130">A negative acknowledgment from the receiving queue manager causes the sending queue manager to place the rejected message in the dead-letter queue.</span></span> <span data-ttu-id="f3536-131">Tato možnost není `ReceiveErrorHandling.Reject` povolena v systémech Windows Server 2003 a Windows XP.</span><span class="sxs-lookup"><span data-stu-id="f3536-131">As such, `ReceiveErrorHandling.Reject` is not allowed with Windows Server 2003 and Windows XP.</span></span>  
  
- <span data-ttu-id="f3536-132">Služba MSMQ v systému Windows Vista podporuje vlastnost zprávy, která udržuje počet pokusů o doručení zprávy.</span><span class="sxs-lookup"><span data-stu-id="f3536-132">MSMQ in Windows Vista supports a message property that keeps count of the number of times message delivery is attempted.</span></span> <span data-ttu-id="f3536-133">Tato vlastnost počet přerušení není k dispozici v systémech Windows Server 2003 a Windows XP.</span><span class="sxs-lookup"><span data-stu-id="f3536-133">This abort count property is not available on Windows Server 2003 and Windows XP.</span></span> <span data-ttu-id="f3536-134">Služba WCF udržuje počet přerušení v paměti, takže je možné, že tato vlastnost nesmí obsahovat přesnou hodnotu, pokud je stejná zpráva čtena více než jednou službou WCF ve webové farmě.</span><span class="sxs-lookup"><span data-stu-id="f3536-134">WCF maintains the abort count in memory, so it is possible that this property may not contain an accurate value when the same message is read by more than one WCF service in a Web farm.</span></span>  
  
## <a name="remote-transactional-read"></a><span data-ttu-id="f3536-135">Vzdálená transakční čtení</span><span class="sxs-lookup"><span data-stu-id="f3536-135">Remote Transactional Read</span></span>  
 <span data-ttu-id="f3536-136">Služba MSMQ v systému Windows Vista podporuje vzdálená transakční čtení.</span><span class="sxs-lookup"><span data-stu-id="f3536-136">MSMQ on Windows Vista supports remote transactional reads.</span></span> <span data-ttu-id="f3536-137">To umožňuje aplikaci, která je čtena z fronty, hostovat na počítači, který se liší od počítače, ve kterém je fronta hostovaná.</span><span class="sxs-lookup"><span data-stu-id="f3536-137">This allows an application that is reading from a queue to be hosted on a computer that is different from the computer on which the queue is hosted.</span></span> <span data-ttu-id="f3536-138">Tím je zajištěno, že bude mít možnost načítat farmu služeb z centrální fronty, čímž se zvýší celková propustnost systému.</span><span class="sxs-lookup"><span data-stu-id="f3536-138">This ensures the ability to have a farm of services reading from a central queue, which increases the overall throughput of the system.</span></span> <span data-ttu-id="f3536-139">Také zajišťuje, že pokud při čtení a zpracování zprávy dojde k selhání, transakce se vrátí zpět a zpráva zůstane ve frontě pro pozdější zpracování.</span><span class="sxs-lookup"><span data-stu-id="f3536-139">It also ensures that if a failure occurs when reading and processing the message, the transaction rolls back and the message remains in the queue for later processing.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="f3536-140">Viz také</span><span class="sxs-lookup"><span data-stu-id="f3536-140">See also</span></span>

- [<span data-ttu-id="f3536-141">Zpracování chyb přenosu zpráv pomocí front nedoručených zpráv</span><span class="sxs-lookup"><span data-stu-id="f3536-141">Using Dead-Letter Queues to Handle Message Transfer Failures</span></span>](using-dead-letter-queues-to-handle-message-transfer-failures.md)
- [<span data-ttu-id="f3536-142">Zpracování škodlivých zpráv</span><span class="sxs-lookup"><span data-stu-id="f3536-142">Poison Message Handling</span></span>](poison-message-handling.md)
