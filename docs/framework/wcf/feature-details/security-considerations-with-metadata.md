---
title: Informace o zabezpečení pro metadata
ms.date: 03/30/2017
ms.assetid: e78ef8ab-4f63-4656-ab93-b1deab2666d5
ms.openlocfilehash: c41ebf5c39e74932a4bade610c4e236b28444327
ms.sourcegitcommit: cdb295dd1db589ce5169ac9ff096f01fd0c2da9d
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 06/09/2020
ms.locfileid: "84601020"
---
# <a name="security-considerations-with-metadata"></a><span data-ttu-id="13632-102">Informace o zabezpečení pro metadata</span><span class="sxs-lookup"><span data-stu-id="13632-102">Security Considerations with Metadata</span></span>
<span data-ttu-id="13632-103">Při použití funkcí metadat v Windows Communication Foundation (WCF) zvažte dopady zabezpečení publikování, načítání a používání metadat služby.</span><span class="sxs-lookup"><span data-stu-id="13632-103">When using the metadata features in Windows Communication Foundation (WCF), consider the security implications of publishing, retrieving, and using service metadata.</span></span>  
  
## <a name="when-to-publish-metadata"></a><span data-ttu-id="13632-104">Kdy publikovat metadata</span><span class="sxs-lookup"><span data-stu-id="13632-104">When to Publish Metadata</span></span>  
 <span data-ttu-id="13632-105">Služby WCF ve výchozím nastavení nepublikují metadata.</span><span class="sxs-lookup"><span data-stu-id="13632-105">WCF services do not publish metadata by default.</span></span> <span data-ttu-id="13632-106">Pokud chcete publikovat metadata pro službu WCF, musíte explicitně povolit publikování metadat přidáním koncových bodů metadat do vaší služby (viz [metadata publikování](publishing-metadata.md)).</span><span class="sxs-lookup"><span data-stu-id="13632-106">To publish metadata for a WCF service you must explicitly enable metadata publishing by adding metadata endpoints to your service (see [Publishing Metadata](publishing-metadata.md)).</span></span> <span data-ttu-id="13632-107">Vypnutí publikování metadat snižuje velikost prostoru pro útoky na vaši službu a snižuje riziko neúmyslného zpřístupnění informací.</span><span class="sxs-lookup"><span data-stu-id="13632-107">Leaving metadata publishing disabled reduces the attack surface for your service and lowers the risk of unintentional information disclosure.</span></span> <span data-ttu-id="13632-108">Ne všechny služby musí publikovat metadata.</span><span class="sxs-lookup"><span data-stu-id="13632-108">Not all services must publish metadata.</span></span> <span data-ttu-id="13632-109">Pokud nepotřebujete publikovat metadata, zvažte, jestli je vypnutá.</span><span class="sxs-lookup"><span data-stu-id="13632-109">If you do not have to publish metadata, consider leaving it turned off.</span></span> <span data-ttu-id="13632-110">Všimněte si, že stále můžete generovat metadata a kód klienta přímo ze svých sestavení služby pomocí nástroje pro nástroj pro [metadata ServiceModel (Svcutil. exe)](../servicemodel-metadata-utility-tool-svcutil-exe.md).</span><span class="sxs-lookup"><span data-stu-id="13632-110">Note that you can still generate metadata and client code directly from your service assemblies using the [ServiceModel Metadata Utility Tool (Svcutil.exe)](../servicemodel-metadata-utility-tool-svcutil-exe.md).</span></span> <span data-ttu-id="13632-111">Další informace o použití Svcutil. exe k exportu metadat naleznete v tématu [How to: use Svcutil. exe to export metadata z zkompilovaného kódu služby](how-to-use-svcutil-exe-to-export-metadata-from-compiled-service-code.md).</span><span class="sxs-lookup"><span data-stu-id="13632-111">For more information about using Svcutil.exe to export metadata, see [How to: Use Svcutil.exe to Export Metadata from Compiled Service Code](how-to-use-svcutil-exe-to-export-metadata-from-compiled-service-code.md).</span></span>  
  
## <a name="publishing-metadata-using-a-secure-binding"></a><span data-ttu-id="13632-112">Publikování metadat pomocí zabezpečené vazby</span><span class="sxs-lookup"><span data-stu-id="13632-112">Publishing Metadata Using a Secure Binding</span></span>  
 <span data-ttu-id="13632-113">Výchozí vazby metadat, které poskytuje WCF, nejsou zabezpečené a umožňují anonymní přístup k metadatům.</span><span class="sxs-lookup"><span data-stu-id="13632-113">The default metadata bindings that WCF provides are not secure and they allow anonymous access to the metadata.</span></span> <span data-ttu-id="13632-114">Metadata služby, která publikuje služba WCF, obsahuje podrobný popis služby a může úmyslně nebo neúmyslně obsahovat citlivé údaje.</span><span class="sxs-lookup"><span data-stu-id="13632-114">The service metadata that a WCF service publishes contains a detailed description about the service and may intentionally or unintentionally contain sensitive information.</span></span> <span data-ttu-id="13632-115">Metadata služby mohou například obsahovat informace o operacích infrastruktury, které nebyly určeny k vysílání ve veřejném provozu.</span><span class="sxs-lookup"><span data-stu-id="13632-115">For example, service metadata may contain information about infrastructure operations that was not intended to be broadcast publicly.</span></span> <span data-ttu-id="13632-116">Chcete-li chránit metadata služby před neoprávněným přístupem, můžete použít zabezpečenou vazbu pro koncový bod metadat.</span><span class="sxs-lookup"><span data-stu-id="13632-116">To protect service metadata from unauthorized access, you can use a secure binding for your metadata endpoint.</span></span> <span data-ttu-id="13632-117">Koncové body metadat reagují na požadavky HTTP/GET, které mohou použít SSL (Secure Sockets Layer) (SSL) k zabezpečení metadat.</span><span class="sxs-lookup"><span data-stu-id="13632-117">Metadata endpoints respond to HTTP/GET requests that can use Secure Sockets Layer (SSL) to secure the metadata.</span></span> <span data-ttu-id="13632-118">Další informace najdete v tématu [Postup: zabezpečení koncových bodů metadat](how-to-secure-metadata-endpoints.md).</span><span class="sxs-lookup"><span data-stu-id="13632-118">For more information, see [How to: Secure Metadata Endpoints](how-to-secure-metadata-endpoints.md).</span></span>  
  
 <span data-ttu-id="13632-119">Zabezpečení koncových bodů metadat také poskytuje žadateli způsob, jak bezpečně načítat metadata služby bez rizika manipulace nebo falšování.</span><span class="sxs-lookup"><span data-stu-id="13632-119">Securing your metadata endpoints also provides a way for requesters to securely retrieve service metadata without the risk of tampering or spoofing.</span></span>  
  
## <a name="using-only-trusted-metadata"></a><span data-ttu-id="13632-120">Použití jenom důvěryhodných metadat</span><span class="sxs-lookup"><span data-stu-id="13632-120">Using Only Trusted Metadata</span></span>  
 <span data-ttu-id="13632-121">Metadata služby můžete použít k automatickému sestavení součástí modulu runtime potřebných k volání služby.</span><span class="sxs-lookup"><span data-stu-id="13632-121">You can use service metadata to automatically construct the run-time components required to call the service.</span></span> <span data-ttu-id="13632-122">Metadata v době návrhu můžete také použít k vývoji klientské aplikace nebo za běhu za účelem dynamické aktualizace vazby, kterou klient používá k volání služby.</span><span class="sxs-lookup"><span data-stu-id="13632-122">You can also use metadata at design time to develop a client application or at runtime to dynamically update the binding a client uses to call a service.</span></span>  
  
 <span data-ttu-id="13632-123">Metadata služby můžou být úmyslně poškozená nebo mají falešná poškození, když se načítají nezabezpečeným způsobem.</span><span class="sxs-lookup"><span data-stu-id="13632-123">Service metadata can be tampered with or spoofed when retrieved in an insecure manner.</span></span> <span data-ttu-id="13632-124">Úmyslně poškozená metadata mohou přesměrovat klienta na škodlivou službu, obsahovat nastavení ohrožené zabezpečení nebo obsahovat škodlivé struktury XML.</span><span class="sxs-lookup"><span data-stu-id="13632-124">Tampered metadata can redirect your client to a malicious service, contain compromised security settings, or contain malicious XML structures.</span></span> <span data-ttu-id="13632-125">Dokumenty metadat můžou být velké a často se ukládají do systému souborů.</span><span class="sxs-lookup"><span data-stu-id="13632-125">Metadata documents can be large and are frequently saved to the file system.</span></span> <span data-ttu-id="13632-126">Pro zajištění ochrany proti falšování a falšování identity použijte zabezpečenou vazbu k vyžádání metadat služby, když je k dispozici.</span><span class="sxs-lookup"><span data-stu-id="13632-126">To protect against tampering and spoofing, use a secure binding to request service metadata when one is available.</span></span>  
  
## <a name="using-safe-techniques-for-processing-metadata"></a><span data-ttu-id="13632-127">Používání bezpečných technik pro zpracování metadat</span><span class="sxs-lookup"><span data-stu-id="13632-127">Using Safe Techniques for Processing Metadata</span></span>  
 <span data-ttu-id="13632-128">Metadata služby se často načítají ze služby prostřednictvím sítě pomocí standardizovaných protokolů, jako je WS-MetadataExchange (MEX).</span><span class="sxs-lookup"><span data-stu-id="13632-128">Service metadata is frequently retrieved from a service over a network using standardized protocols such as WS-MetadataExchange (MEX).</span></span> <span data-ttu-id="13632-129">Mnoho formátů metadat zahrnuje odkazování mechanismů, které odkazují na další metadata.</span><span class="sxs-lookup"><span data-stu-id="13632-129">Many metadata formats include referencing mechanisms for pointing to additional metadata.</span></span> <span data-ttu-id="13632-130"><xref:System.ServiceModel.Description.MetadataExchangeClient>Typ automaticky zpracovává odkazy v dokumentech jazyka WSDL (Web Services Description Language), schématu XML a dokumentů MEX.</span><span class="sxs-lookup"><span data-stu-id="13632-130">The <xref:System.ServiceModel.Description.MetadataExchangeClient> type automatically processes references for you in Web Services Description Language (WSDL) documents, XML Schema, and MEX documents.</span></span> <span data-ttu-id="13632-131">Velikost <xref:System.ServiceModel.Description.MetadataSet> objektu vytvořeného z načtených metadat je přímo úměrná <xref:System.ServiceModel.Description.MetadataExchangeClient.MaximumResolvedReferences%2A> hodnotě <xref:System.ServiceModel.Description.MetadataExchangeClient> používané instance a `MaxReceivedMessageSize` hodnotě vazby používané touto <xref:System.ServiceModel.Description.MetadataExchangeClient> instancí.</span><span class="sxs-lookup"><span data-stu-id="13632-131">The size of the <xref:System.ServiceModel.Description.MetadataSet> object created from the retrieved metadata is directly proportional to the <xref:System.ServiceModel.Description.MetadataExchangeClient.MaximumResolvedReferences%2A> value for the <xref:System.ServiceModel.Description.MetadataExchangeClient> instance that is used and the `MaxReceivedMessageSize` value for the binding being used by that <xref:System.ServiceModel.Description.MetadataExchangeClient> instance.</span></span> <span data-ttu-id="13632-132">Nastavte tyto kvóty na příslušné hodnoty podle vašeho scénáře.</span><span class="sxs-lookup"><span data-stu-id="13632-132">Set these quotas to appropriate values as dictated by your scenario.</span></span>  
  
 <span data-ttu-id="13632-133">V rámci WCF se metadata služby zpracovávají jako XML.</span><span class="sxs-lookup"><span data-stu-id="13632-133">In WCF, service metadata is processed as XML.</span></span> <span data-ttu-id="13632-134">Při zpracování dokumentů XML by aplikace měly chránit před škodlivými strukturami XML.</span><span class="sxs-lookup"><span data-stu-id="13632-134">When processing XML documents, applications should protect themselves against malicious XML structures.</span></span> <span data-ttu-id="13632-135">Použijte <xref:System.Xml.XmlDictionaryReader> s vhodnými kvótami při zpracování XML a také nastavte <xref:System.Xml.XmlTextReader.DtdProcessing%2A> vlastnost na <xref:System.Xml.DtdProcessing.Prohibit> .</span><span class="sxs-lookup"><span data-stu-id="13632-135">Use the <xref:System.Xml.XmlDictionaryReader> with appropriate quotas when processing XML and also set the <xref:System.Xml.XmlTextReader.DtdProcessing%2A> property to <xref:System.Xml.DtdProcessing.Prohibit>.</span></span>  
  
 <span data-ttu-id="13632-136">Systém metadat v technologii WCF je rozšiřitelný a rozšíření metadat lze registrovat v konfiguračním souboru aplikace (viz [rozšíření systému metadat](../extending/extending-the-metadata-system.md)).</span><span class="sxs-lookup"><span data-stu-id="13632-136">The metadata system in WCF is extensible and metadata extensions can be registered in your application configuration file (see [Extending the Metadata System](../extending/extending-the-metadata-system.md)).</span></span> <span data-ttu-id="13632-137">Rozšíření metadat mohou spustit libovolný kód, takže byste měli chránit konfigurační soubor aplikace pomocí příslušných seznamů řízení přístupu (ACL) a registrovat pouze implementace důvěryhodného rozšíření metadat.</span><span class="sxs-lookup"><span data-stu-id="13632-137">Metadata extensions can run arbitrary code, so you should protect your application configuration file with appropriate access control lists (ACLs) and register only trusted metadata extension implementations.</span></span>  
  
## <a name="validating-generated-clients"></a><span data-ttu-id="13632-138">Ověřování vygenerovaných klientů</span><span class="sxs-lookup"><span data-stu-id="13632-138">Validating Generated Clients</span></span>  
 <span data-ttu-id="13632-139">Při generování klientského kódu z metadat načtených ze zdroje, který není důvěryhodný, ověřte generovaný klientský kód, aby se zajistilo, že vygenerovaný klient odpovídá zásadám zabezpečení vašich klientských aplikací.</span><span class="sxs-lookup"><span data-stu-id="13632-139">When generating client code from metadata retrieved from a source that is not trusted, validate the generated client code to ensure that the generated client conforms to your client applications security policies.</span></span> <span data-ttu-id="13632-140">Můžete použít chování ověřování pro kontrolu nastavení na vazbách klientů nebo vizuálně kontrolovat kód generovaný nástroji.</span><span class="sxs-lookup"><span data-stu-id="13632-140">You can use a validating behavior to check settings on your client binding or visually inspect code generated by tools.</span></span> <span data-ttu-id="13632-141">Příklad implementace klienta, který ověřuje chování, najdete v tématu [ověření klienta](../samples/client-validation.md).</span><span class="sxs-lookup"><span data-stu-id="13632-141">For an example of how to implement a client that validates behaviors, see [Client Validation](../samples/client-validation.md).</span></span>  
  
## <a name="protecting-application-configuration-files"></a><span data-ttu-id="13632-142">Ochrana konfiguračních souborů aplikace</span><span class="sxs-lookup"><span data-stu-id="13632-142">Protecting Application Configuration Files</span></span>  
 <span data-ttu-id="13632-143">Konfigurační soubor aplikace služby může určovat, jak a kdy se metadata publikují.</span><span class="sxs-lookup"><span data-stu-id="13632-143">A service's application configuration file may control how and if metadata is published.</span></span> <span data-ttu-id="13632-144">Je vhodné chránit konfigurační soubor aplikace pomocí příslušných seznamů řízení přístupu (ACL), abyste zajistili, že Útočník nemůže tato nastavení změnit.</span><span class="sxs-lookup"><span data-stu-id="13632-144">It is a good idea to protect the application configuration file with appropriate access control lists (ACLs) to ensure an attacker cannot modify such settings.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="13632-145">Viz také</span><span class="sxs-lookup"><span data-stu-id="13632-145">See also</span></span>

- [<span data-ttu-id="13632-146">Postupy: Zabezpečené koncové body metadat</span><span class="sxs-lookup"><span data-stu-id="13632-146">How to: Secure Metadata Endpoints</span></span>](how-to-secure-metadata-endpoints.md)
- [<span data-ttu-id="13632-147">Zabezpečení</span><span class="sxs-lookup"><span data-stu-id="13632-147">Security</span></span>](security.md)
