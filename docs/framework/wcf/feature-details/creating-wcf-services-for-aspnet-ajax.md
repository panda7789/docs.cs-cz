---
title: Vytváření služeb WCF pro ASP.NET AJAX
ms.date: 03/30/2017
ms.assetid: 04c0402c-e617-4ba5-aedf-d17692234776
ms.openlocfilehash: 2ec4d2f1f2fb3a6a184a524ed0134360407b4649
ms.sourcegitcommit: c01c18755bb7b0f82c7232314ccf7955ea7834db
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 01/15/2020
ms.locfileid: "75964053"
---
# <a name="creating-wcf-services-for-aspnet-ajax"></a><span data-ttu-id="b3e11-102">Vytváření služeb WCF pro ASP.NET AJAX</span><span class="sxs-lookup"><span data-stu-id="b3e11-102">Creating WCF Services for ASP.NET AJAX</span></span>

<span data-ttu-id="b3e11-103">Microsoft ASP.NET AJAX vám umožní rychle vytvořit webové stránky, které obsahují bohatou činnost uživatelů s reagujícími a známými prvky uživatelského rozhraní.</span><span class="sxs-lookup"><span data-stu-id="b3e11-103">Microsoft ASP.NET AJAX enables you to quickly create Web pages that include a rich user experience with responsive and familiar user interface elements.</span></span> <span data-ttu-id="b3e11-104">ASP.NET AJAX poskytuje knihovny skriptu klienta, které zahrnují technologie ECMAScript (JavaScript) a Dynamic HTML (DHTML) pro různé prohlížeče a integrují je s vývojovou platformou serveru ASP.NET 2,0.</span><span class="sxs-lookup"><span data-stu-id="b3e11-104">ASP.NET AJAX provides client-script libraries that incorporate cross-browser ECMAScript (JavaScript) and dynamic HTML (DHTML) technologies, and it integrates them with the ASP.NET 2.0 server-based development platform.</span></span> <span data-ttu-id="b3e11-105">Pomocí ASP.NET AJAX můžete zlepšit uživatelské prostředí a efektivitu webových aplikací.</span><span class="sxs-lookup"><span data-stu-id="b3e11-105">By using ASP.NET AJAX, you can improve the user experience and the efficiency of your Web applications.</span></span>

<span data-ttu-id="b3e11-106">ASP.NET AJAX sestávají z knihoven klientských skriptů a součástí serveru, které jsou integrované pro zajištění robustního vývojového prostředí.</span><span class="sxs-lookup"><span data-stu-id="b3e11-106">ASP.NET AJAX consists of client-script libraries and of server components that are integrated to provide a robust development framework.</span></span> <span data-ttu-id="b3e11-107">Přístup ke službě ze stránky ASP.NET: Jakmile se adresa URL služby přidá do ovládacího prvku Správce skriptů ASP.NET na stránce, mohou být operace služby vyvolány pomocí kódu jazyka JavaScript, který vypadá stejně jako běžné volání funkce JavaScriptu.</span><span class="sxs-lookup"><span data-stu-id="b3e11-107">To access a service from an ASP.NET page: once the service URL is added to the ASP.NET Script Manager control on the page, service operations may be invoked using JavaScript code that looks exactly like a regular JavaScript function call.</span></span>

<span data-ttu-id="b3e11-108">Většina služby Windows Communication Foundation (WCF) může být vystavená jako služba kompatibilní s ASP.NET AJAX přidáním příslušného koncového bodu ASP.NET AJAX.</span><span class="sxs-lookup"><span data-stu-id="b3e11-108">Most Windows Communication Foundation (WCF) services may be exposed as a service compatible with ASP.NET AJAX by adding an appropriate ASP.NET AJAX endpoint.</span></span>

<span data-ttu-id="b3e11-109">Pokud používáte aplikaci Visual Studio, můžete použít předem vytvořenou šablonu pro služby WCF s podporou jazyka AJAX, která je k dispozici v dialogovém okně **Přidat novou položku** při práci s ASP.NET weby nebo webovými aplikacemi.</span><span class="sxs-lookup"><span data-stu-id="b3e11-109">If you are using Visual Studio, you may use a pre-built template for AJAX-enabled WCF services, available in the **Add New Item** dialog when working with ASP.NET Web Sites or Web Applications.</span></span>

<span data-ttu-id="b3e11-110">Pokud nepoužíváte šablony sady Visual Studio, existují dva způsoby, jak vytvořit koncový bod ASP.NET AJAX:</span><span class="sxs-lookup"><span data-stu-id="b3e11-110">If you are not using the Visual Studio templates, there are two ways to create an ASP.NET AJAX endpoint:</span></span>

- <span data-ttu-id="b3e11-111">Vytvořte koncový bod pomocí aktivace dynamického hostitele bez použití jakékoli konfigurace.</span><span class="sxs-lookup"><span data-stu-id="b3e11-111">Create the endpoint using dynamic host activation without using any configuration.</span></span> <span data-ttu-id="b3e11-112">Toto je nejzákladnější přístup, pokud neznáte konfigurační systém WCF.</span><span class="sxs-lookup"><span data-stu-id="b3e11-112">This is the most basic approach if you are unfamiliar with the WCF configuration system.</span></span> <span data-ttu-id="b3e11-113">Další informace najdete v tématu [Postup: Přidání koncového bodu ASP.NET AJAX bez použití Configuration](../../../../docs/framework/wcf/feature-details/how-to-add-an-aspnet-ajax-endpoint-without-using-configuration.md).</span><span class="sxs-lookup"><span data-stu-id="b3e11-113">For more information, see [How to: Add an ASP.NET AJAX Endpoint Without Using Configuration](../../../../docs/framework/wcf/feature-details/how-to-add-an-aspnet-ajax-endpoint-without-using-configuration.md).</span></span>

- <span data-ttu-id="b3e11-114">Přidejte koncový bod s povoleným AJAX do služby WCF pomocí konfigurace.</span><span class="sxs-lookup"><span data-stu-id="b3e11-114">Add an AJAX-enabled endpoint to a WCF service using configuration.</span></span> <span data-ttu-id="b3e11-115">Další informace najdete v tématu [Postupy: použití konfigurace k přidání koncového bodu ASP.NET AJAX](../../../../docs/framework/wcf/feature-details/how-to-use-configuration-to-add-an-aspnet-ajax-endpoint.md).</span><span class="sxs-lookup"><span data-stu-id="b3e11-115">For more information, see [How to: Use Configuration to Add an ASP.NET AJAX Endpoint](../../../../docs/framework/wcf/feature-details/how-to-use-configuration-to-add-an-aspnet-ajax-endpoint.md).</span></span>

<span data-ttu-id="b3e11-116">Webový programovací model, který je popsaný v tématu [Přehled programovacího modelu Web HTTP WCF](../../../../docs/framework/wcf/feature-details/wcf-web-http-programming-model-overview.md) , se může používat s ASP.NET AJAX Services.</span><span class="sxs-lookup"><span data-stu-id="b3e11-116">The Web Programming Model described in the [WCF Web HTTP Programming Model Overview](../../../../docs/framework/wcf/feature-details/wcf-web-http-programming-model-overview.md) may be used with ASP.NET AJAX services.</span></span> <span data-ttu-id="b3e11-117">Zejména:</span><span class="sxs-lookup"><span data-stu-id="b3e11-117">Specifically:</span></span>

- <span data-ttu-id="b3e11-118">Pomocí atributů <xref:System.ServiceModel.Web.WebGetAttribute> a <xref:System.ServiceModel.Web.WebInvokeAttribute> můžete vybrat mezi příkazy HTTP GET a HTTP POST.</span><span class="sxs-lookup"><span data-stu-id="b3e11-118">You can use the <xref:System.ServiceModel.Web.WebGetAttribute> and <xref:System.ServiceModel.Web.WebInvokeAttribute> attributes to select between HTTP GET and HTTP POST verbs.</span></span> <span data-ttu-id="b3e11-119">Pokud se používá správně, může to významně zlepšit výkon vaší aplikace.</span><span class="sxs-lookup"><span data-stu-id="b3e11-119">If used correctly, this may significantly improve your application’s performance.</span></span> <span data-ttu-id="b3e11-120">Další informace najdete v tématu [How to: zvolit mezi požadavky HTTP POST a HTTP GET pro koncové body ASP.NET AJAX](../../../../docs/framework/wcf/feature-details/http-post-and-http-get-requests-for-aspnet-ajax-endpoints.md).</span><span class="sxs-lookup"><span data-stu-id="b3e11-120">For more information, see [How to: Choose between HTTP POST and HTTP GET requests for ASP.NET AJAX Endpoints](../../../../docs/framework/wcf/feature-details/http-post-and-http-get-requests-for-aspnet-ajax-endpoints.md).</span></span>

- <span data-ttu-id="b3e11-121">Pomocí vlastností <xref:System.ServiceModel.Web.WebGetAttribute.ResponseFormat%2A> a <xref:System.ServiceModel.Web.WebInvokeAttribute.ResponseFormat%2A> můžete způsobit, že služba vrátí data XML místo výchozí JavaScript Object Notation (JSON).</span><span class="sxs-lookup"><span data-stu-id="b3e11-121">You can use the <xref:System.ServiceModel.Web.WebGetAttribute.ResponseFormat%2A> and <xref:System.ServiceModel.Web.WebInvokeAttribute.ResponseFormat%2A> properties to cause your service to return XML data instead of the default JavaScript Object Notation (JSON).</span></span> <span data-ttu-id="b3e11-122">Díky tomu ASP.NET AJAX Framework způsobí, že klient jazyka JavaScript obdrží objekt XML DOM.</span><span class="sxs-lookup"><span data-stu-id="b3e11-122">Doing this with the ASP.NET AJAX framework causes the JavaScript client to receive an XML DOM object.</span></span>

  > [!WARNING]
  > <span data-ttu-id="b3e11-123">Aby tato operace mohla fungovat, musí být pro tuto operaci nastaven typ obsahu na text/XML.</span><span class="sxs-lookup"><span data-stu-id="b3e11-123">Your operation must set the content type to text/xml for this to work.</span></span> <span data-ttu-id="b3e11-124">V opačném případě klient jazyka JavaScript obdrží řetězec obsahující XML namísto objektu XML DOM.</span><span class="sxs-lookup"><span data-stu-id="b3e11-124">Otherwise, the JavaScript client will receive a string containing the XML instead of an XML DOM object.</span></span>

    <span data-ttu-id="b3e11-125">Níže je uveden příklad operace, která vrací data XML s příslušným typem obsahu.</span><span class="sxs-lookup"><span data-stu-id="b3e11-125">The following is an example of an operation that returns XML data with the content type set appropriately:</span></span>

  ```csharp
  [OperationContract, WebGet(ResponseFormat=WebMessageFormat.Xml)]
  public XElement GetData()
  {
      XElement x;
      //Get some data here...

      WebOperationContext.Current.OutgoingResponse.ContentType = "text/xml";
      return x;
  }
  ```

- <span data-ttu-id="b3e11-126">Pokud je potřeba kompatibilita s ASP.NET AJAX, žádné další vlastnosti na <xref:System.ServiceModel.Web.WebGetAttribute> a <xref:System.ServiceModel.Web.WebInvokeAttribute> atributy se nedají změnit.</span><span class="sxs-lookup"><span data-stu-id="b3e11-126">No other properties on the <xref:System.ServiceModel.Web.WebGetAttribute> and <xref:System.ServiceModel.Web.WebInvokeAttribute> attributes can be changed if compatibility with ASP.NET AJAX is required.</span></span> <span data-ttu-id="b3e11-127">Další aspekty webového programovacího modelu lze použít, pokud nejsou narušeny konvence volání ASP.NET AJAX.</span><span class="sxs-lookup"><span data-stu-id="b3e11-127">Other aspects of the Web Programming Model can be used as long as the ASP.NET AJAX calling conventions are not violated.</span></span>

 <span data-ttu-id="b3e11-128">Pokročilejší scénáře vyžadují několik dalších podrobností o podpoře AJAX v technologii WCF:</span><span class="sxs-lookup"><span data-stu-id="b3e11-128">More advanced scenarios require some additional details of AJAX support in WCF be understood:</span></span>

- <span data-ttu-id="b3e11-129">Pro pochopení, jak jsou přenášena data mezi klientem stránky AJAX a službou WCF pomocí JavaScriptu a podrobnosti o tom, jak .NET Framework typy mapují na typy JavaScriptu, najdete v tématu [Podpora JSON a dalších formátů přenos dat](../../../../docs/framework/wcf/feature-details/support-for-json-and-other-data-transfer-formats.md).</span><span class="sxs-lookup"><span data-stu-id="b3e11-129">To understand how data is transferred between an AJAX page client and a WCF service using JavaScript, and for details on how .NET Framework types map to JavaScript types, see [Support for JSON and Other Data Transfer Formats](../../../../docs/framework/wcf/feature-details/support-for-json-and-other-data-transfer-formats.md).</span></span>

- <span data-ttu-id="b3e11-130">Chcete-li využít výhod funkcí ASP.NET, například ověřování na základě adresy URL a přístup k informacím o relaci ASP.NET, můžete povolit režim kompatibility ASP.NET prostřednictvím konfigurace.</span><span class="sxs-lookup"><span data-stu-id="b3e11-130">To take advantage of ASP.NET features, for example, URL-based authentication and accessing the ASP.NET session information, you may want to enable the ASP.NET Compatibility Mode through configuration.</span></span>

<span data-ttu-id="b3e11-131">Koncové body AJAX v technologii WCF mohou být i bez rozhraní ASP.NET AJAX.</span><span class="sxs-lookup"><span data-stu-id="b3e11-131">AJAX endpoints in WCF may even be consumed without the ASP.NET AJAX framework.</span></span> <span data-ttu-id="b3e11-132">K tomu je potřeba pochopit architekturu podpory podpory AJAX ve službě WCF.</span><span class="sxs-lookup"><span data-stu-id="b3e11-132">Doing so requires an understanding of the support architecture of AJAX support in WCF.</span></span> <span data-ttu-id="b3e11-133">Diskuzi o této architektuře najdete v tématu [model objektu programování webového HTTP WCF](../../../../docs/framework/wcf/feature-details/wcf-web-http-programming-object-model.md).</span><span class="sxs-lookup"><span data-stu-id="b3e11-133">For a discussion of this architecture, see [WCF Web HTTP Programming Object Model](../../../../docs/framework/wcf/feature-details/wcf-web-http-programming-object-model.md).</span></span> <span data-ttu-id="b3e11-134">Ukázku kódu, který demonstruje tento přístup, najdete v tématu [Služba AJAX s JSON a XML](../../../../docs/framework/wcf/samples/ajax-service-with-json-and-xml-sample.md).</span><span class="sxs-lookup"><span data-stu-id="b3e11-134">For a code sample demonstrating this approach, see the [AJAX Service with JSON and XML](../../../../docs/framework/wcf/samples/ajax-service-with-json-and-xml-sample.md).</span></span>

## <a name="see-also"></a><span data-ttu-id="b3e11-135">Viz také:</span><span class="sxs-lookup"><span data-stu-id="b3e11-135">See also</span></span>

- [<span data-ttu-id="b3e11-136">Programovací model webových služeb HTTP WCF</span><span class="sxs-lookup"><span data-stu-id="b3e11-136">WCF Web HTTP Programming Model</span></span>](../../../../docs/framework/wcf/feature-details/wcf-web-http-programming-model.md)
- [<span data-ttu-id="b3e11-137">Postupy: Přidání koncového bodu ASP.NET AJAX bez použití konfigurace</span><span class="sxs-lookup"><span data-stu-id="b3e11-137">How to: Add an ASP.NET AJAX Endpoint Without Using Configuration</span></span>](../../../../docs/framework/wcf/feature-details/how-to-add-an-aspnet-ajax-endpoint-without-using-configuration.md)
- [<span data-ttu-id="b3e11-138">Postupy: Použití konfigurace k přidání koncového bodu ASP.NET AJAX</span><span class="sxs-lookup"><span data-stu-id="b3e11-138">How to: Use Configuration to Add an ASP.NET AJAX Endpoint</span></span>](../../../../docs/framework/wcf/feature-details/how-to-use-configuration-to-add-an-aspnet-ajax-endpoint.md)
- [<span data-ttu-id="b3e11-139">Postupy: Volba mezi žádostmi HTTP POST a HTTP GET u koncových bodů ASP.NET AJAX</span><span class="sxs-lookup"><span data-stu-id="b3e11-139">How to: Choose between HTTP POST and HTTP GET requests for ASP.NET AJAX Endpoints</span></span>](../../../../docs/framework/wcf/feature-details/http-post-and-http-get-requests-for-aspnet-ajax-endpoints.md)
