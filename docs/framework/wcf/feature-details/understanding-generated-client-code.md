---
title: Principy generovaného klientského kódu
ms.date: 03/30/2017
dev_langs:
- csharp
- vb
ms.assetid: c3f6e4b0-1131-4c94-aa39-a197c5c2f2ca
ms.openlocfilehash: f04b67ae13307fb3c2a2981204526880f55d58f1
ms.sourcegitcommit: cdb295dd1db589ce5169ac9ff096f01fd0c2da9d
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 06/09/2020
ms.locfileid: "84595060"
---
# <a name="understanding-generated-client-code"></a><span data-ttu-id="25b3b-102">Principy generovaného klientského kódu</span><span class="sxs-lookup"><span data-stu-id="25b3b-102">Understanding Generated Client Code</span></span>
<span data-ttu-id="25b3b-103">Nástroj pro dodávání [metadat (Svcutil. exe)](../servicemodel-metadata-utility-tool-svcutil-exe.md) vygeneruje klientský kód a konfigurační soubor klientské aplikace pro použití při sestavování klientských aplikací.</span><span class="sxs-lookup"><span data-stu-id="25b3b-103">The [ServiceModel Metadata Utility Tool (Svcutil.exe)](../servicemodel-metadata-utility-tool-svcutil-exe.md) generates client code and a client application configuration file for use in building client applications.</span></span> <span data-ttu-id="25b3b-104">Toto téma poskytuje ukázku generovaných příkladů kódu pro scénáře standardních kontraktů služeb.</span><span class="sxs-lookup"><span data-stu-id="25b3b-104">This topic provides a tour of generated code examples for standard service contract scenarios.</span></span> <span data-ttu-id="25b3b-105">Další informace o vytváření klientských aplikací pomocí vygenerovaného kódu naleznete v tématu [Přehled klientů WCF](../wcf-client-overview.md).</span><span class="sxs-lookup"><span data-stu-id="25b3b-105">For more information about building a client application using the generated code, see [WCF Client Overview](../wcf-client-overview.md).</span></span>  
  
## <a name="overview"></a><span data-ttu-id="25b3b-106">Přehled</span><span class="sxs-lookup"><span data-stu-id="25b3b-106">Overview</span></span>  
 <span data-ttu-id="25b3b-107">Použijete-li aplikaci Visual Studio k vygenerování typů klientů Windows Communication Foundation (WCF) pro váš projekt, obvykle není nutné kontrolovat generovaný kód klienta.</span><span class="sxs-lookup"><span data-stu-id="25b3b-107">If you use Visual Studio to generate Windows Communication Foundation (WCF) client types for your project, you typically do not need to examine the generated client code.</span></span> <span data-ttu-id="25b3b-108">Pokud nepoužíváte vývojové prostředí, které pro vás provádí stejné služby, můžete pomocí nástroje, jako je Svcutil. exe, vygenerovat kód klienta a potom použít tento kód k vývoji klientské aplikace.</span><span class="sxs-lookup"><span data-stu-id="25b3b-108">If you are not using a development environment that performs the same services for you, you can use a tool such as Svcutil.exe to generate client code and then use that code to develop your client application.</span></span>  
  
 <span data-ttu-id="25b3b-109">Vzhledem k tomu, že Svcutil. exe má několik možností, které upravují informace o vygenerovaném typu, toto téma se nezabývá všemi scénáři.</span><span class="sxs-lookup"><span data-stu-id="25b3b-109">Because Svcutil.exe has a number of options that modify the generated type information, this topic does not discuss all scenarios.</span></span> <span data-ttu-id="25b3b-110">Následující standardní úlohy však zahrnují umístění vygenerovaného kódu:</span><span class="sxs-lookup"><span data-stu-id="25b3b-110">However, the following standard tasks involve locating generated code:</span></span>  
  
- <span data-ttu-id="25b3b-111">Identifikujte rozhraní kontraktu služby.</span><span class="sxs-lookup"><span data-stu-id="25b3b-111">Identifying service contract interfaces.</span></span>  
  
- <span data-ttu-id="25b3b-112">Identifikace třídy klienta WCF.</span><span class="sxs-lookup"><span data-stu-id="25b3b-112">Identifying the WCF client class.</span></span>  
  
- <span data-ttu-id="25b3b-113">Identifikace datových typů.</span><span class="sxs-lookup"><span data-stu-id="25b3b-113">Identifying data types.</span></span>  
  
- <span data-ttu-id="25b3b-114">Identifikujte kontrakty zpětného volání pro duplexní služby.</span><span class="sxs-lookup"><span data-stu-id="25b3b-114">Identifying callback contracts for duplex services.</span></span>  
  
- <span data-ttu-id="25b3b-115">Identifikujte rozhraní kanálu smlouvy pomocné služby.</span><span class="sxs-lookup"><span data-stu-id="25b3b-115">Identifying the helper service contract channel interface.</span></span>  
  
### <a name="finding-service-contract-interfaces"></a><span data-ttu-id="25b3b-116">Hledání rozhraní kontraktu služby</span><span class="sxs-lookup"><span data-stu-id="25b3b-116">Finding Service Contract Interfaces</span></span>  
 <span data-ttu-id="25b3b-117">Chcete-li vyhledat rozhraní, která modelují kontrakty služby, vyhledejte rozhraní, která jsou označena <xref:System.ServiceModel.ServiceContractAttribute?displayProperty=nameWithType> atributem.</span><span class="sxs-lookup"><span data-stu-id="25b3b-117">To locate the interfaces that model service contracts, search for interfaces that are marked with the <xref:System.ServiceModel.ServiceContractAttribute?displayProperty=nameWithType> attribute.</span></span> <span data-ttu-id="25b3b-118">Tento atribut často může být obtížné vyhledat s rychlým čtením z důvodu přítomnosti jiných atributů a explicitních vlastností nastavených u atributu samotného.</span><span class="sxs-lookup"><span data-stu-id="25b3b-118">Often this attribute can be difficult to locate with a quick read due to the presence of other attributes and the explicit properties set on the attribute itself.</span></span> <span data-ttu-id="25b3b-119">Mějte na paměti, že rozhraní kontraktu služby a klientské rozhraní klienta jsou dva různé typy.</span><span class="sxs-lookup"><span data-stu-id="25b3b-119">Remember that the service contract interface and the client contract interface are two different types.</span></span> <span data-ttu-id="25b3b-120">Následující příklad kódu ukazuje původní kontrakt služby.</span><span class="sxs-lookup"><span data-stu-id="25b3b-120">The following code example shows the original service contract.</span></span>  
  
 [!code-csharp[C_GeneratedCodeFiles#22](../../../../samples/snippets/csharp/VS_Snippets_CFX/c_generatedcodefiles/cs/proxycode.cs#22)]  
  
 <span data-ttu-id="25b3b-121">Následující příklad kódu ukazuje stejný kontrakt služby, jak je vygenerován nástrojem Svcutil. exe.</span><span class="sxs-lookup"><span data-stu-id="25b3b-121">The following code example shows the same service contract as generated by Svcutil.exe.</span></span>  
  
 [!code-csharp[C_GeneratedCodeFiles#12](../../../../samples/snippets/csharp/VS_Snippets_CFX/c_generatedcodefiles/cs/proxycode.cs#12)]  
  
 <span data-ttu-id="25b3b-122">Pomocí vygenerovaného rozhraní kontraktu služby můžete <xref:System.ServiceModel.ChannelFactory?displayProperty=nameWithType> vytvořit objekt kanálu WCF, se kterým chcete vyvolat operace služby.</span><span class="sxs-lookup"><span data-stu-id="25b3b-122">You can use the generated service contract interface along with the <xref:System.ServiceModel.ChannelFactory?displayProperty=nameWithType> class to create a WCF channel object with which to invoke service operations.</span></span> <span data-ttu-id="25b3b-123">Další informace naleznete v tématu [How to: Use a ChannelFactory](how-to-use-the-channelfactory.md).</span><span class="sxs-lookup"><span data-stu-id="25b3b-123">For more information, see [How to: Use the ChannelFactory](how-to-use-the-channelfactory.md).</span></span>  
  
### <a name="finding-wcf-client-classes"></a><span data-ttu-id="25b3b-124">Hledání tříd klienta WCF</span><span class="sxs-lookup"><span data-stu-id="25b3b-124">Finding WCF Client Classes</span></span>  
 <span data-ttu-id="25b3b-125">Chcete-li vyhledat třídu klienta WCF, která implementuje kontrakt služby, který chcete použít, vyhledejte rozšíření <xref:System.ServiceModel.ClientBase%601?displayProperty=nameWithType> , kde parametr Type je rozhraní kontraktu služby, které jste předtím našli a které rozšiřuje toto rozhraní.</span><span class="sxs-lookup"><span data-stu-id="25b3b-125">To locate the WCF client class that implements the service contract you want to use, search for an extension of <xref:System.ServiceModel.ClientBase%601?displayProperty=nameWithType>, where the type parameter is the service contract interface that you previously located and that extends that interface.</span></span> <span data-ttu-id="25b3b-126">Následující příklad kódu ukazuje <xref:System.ServiceModel.ClientBase%601> třídu typu `ISampleService` .</span><span class="sxs-lookup"><span data-stu-id="25b3b-126">The following code example shows the <xref:System.ServiceModel.ClientBase%601> class of type `ISampleService`.</span></span>  
  
 [!code-csharp[C_GeneratedCodeFiles#14](../../../../samples/snippets/csharp/VS_Snippets_CFX/c_generatedcodefiles/cs/proxycode.cs#14)]  
  
 <span data-ttu-id="25b3b-127">Tuto třídu klienta WCF můžete použít vytvořením nové instance a voláním metod, které implementuje.</span><span class="sxs-lookup"><span data-stu-id="25b3b-127">You can use this WCF client class by creating a new instance of it and calling the methods it implements.</span></span> <span data-ttu-id="25b3b-128">Tyto metody vyvolávají operaci služby, se kterou je navržená a nakonfigurovaná pro interakci.</span><span class="sxs-lookup"><span data-stu-id="25b3b-128">Those methods invoke the service operation with which it is designed and configured to interact.</span></span> <span data-ttu-id="25b3b-129">Další informace najdete v tématu [Přehled klientů WCF](../wcf-client-overview.md).</span><span class="sxs-lookup"><span data-stu-id="25b3b-129">For more information, see [WCF Client Overview](../wcf-client-overview.md).</span></span>  
  
> [!NOTE]
> <span data-ttu-id="25b3b-130">Když SvcUtil. exe vygeneruje třídu klienta WCF, přidá do <xref:System.Diagnostics.DebuggerStepThroughAttribute> třídy Client, která brání ladicím programům v procházení klientské třídy WCF.</span><span class="sxs-lookup"><span data-stu-id="25b3b-130">When SvcUtil.exe generates a WCF client class, it adds a <xref:System.Diagnostics.DebuggerStepThroughAttribute> to the client class that prevents debuggers from stepping through the WCF client class.</span></span>  
  
### <a name="finding-data-types"></a><span data-ttu-id="25b3b-131">Hledání datových typů</span><span class="sxs-lookup"><span data-stu-id="25b3b-131">Finding Data Types</span></span>  
 <span data-ttu-id="25b3b-132">Chcete-li vyhledat datové typy ve vygenerovaném kódu, je nejzákladnější mechanismus identifikovat název typu zadaný ve kontraktu a vyhledat kód pro danou deklaraci typu.</span><span class="sxs-lookup"><span data-stu-id="25b3b-132">To locate data types in the generated code, the most basic mechanism is to identify the type name specified in a contract and search the code for that type declaration.</span></span> <span data-ttu-id="25b3b-133">Například následující kontrakt Určuje, že `SampleMethod` může vrátit chybu SOAP typu `microsoft.wcf.documentation.SampleFault` .</span><span class="sxs-lookup"><span data-stu-id="25b3b-133">For example, the following contract specifies that the `SampleMethod` can return a SOAP fault of type `microsoft.wcf.documentation.SampleFault`.</span></span>  
  
 [!code-csharp[C_GeneratedCodeFiles#11](../../../../samples/snippets/csharp/VS_Snippets_CFX/c_generatedcodefiles/cs/proxycode.cs#11)]  
  
 <span data-ttu-id="25b3b-134">Hledání vyhledá `SampleFault` následující deklaraci typu.</span><span class="sxs-lookup"><span data-stu-id="25b3b-134">Searching for `SampleFault` locates the following type declaration.</span></span>  
  
 [!code-csharp[C_GeneratedCodeFiles#30](../../../../samples/snippets/csharp/VS_Snippets_CFX/c_generatedcodefiles/cs/proxycode.cs#30)]  
  
 <span data-ttu-id="25b3b-135">V tomto případě datový typ je typ podrobností vyvolaný specifickou výjimkou u klienta, <xref:System.ServiceModel.FaultException%601> přičemž parametr detailního typu je `microsoft.wcf.documentation.SampleFault` .</span><span class="sxs-lookup"><span data-stu-id="25b3b-135">In this case the data type is the detail type thrown by a specific exception on the client, a <xref:System.ServiceModel.FaultException%601> where the detail type parameter is `microsoft.wcf.documentation.SampleFault`.</span></span> <span data-ttu-id="25b3b-136">Další informace o datových typech najdete v tématu [určení přenos dat v kontraktech služeb](specifying-data-transfer-in-service-contracts.md).</span><span class="sxs-lookup"><span data-stu-id="25b3b-136">For more information about data types, see [Specifying Data Transfer in Service Contracts](specifying-data-transfer-in-service-contracts.md).</span></span> <span data-ttu-id="25b3b-137">Další informace o zpracování výjimek v klientech najdete v tématu [odesílání a příjem chyb](../sending-and-receiving-faults.md).</span><span class="sxs-lookup"><span data-stu-id="25b3b-137">For more information about handling exceptions in clients, see [Sending and Receiving Faults](../sending-and-receiving-faults.md).</span></span>  
  
### <a name="finding-callback-contracts-for-duplex-services"></a><span data-ttu-id="25b3b-138">Hledání kontraktů zpětného volání pro duplexní služby</span><span class="sxs-lookup"><span data-stu-id="25b3b-138">Finding Callback Contracts for Duplex Services</span></span>  
 <span data-ttu-id="25b3b-139">Pokud najdete kontrakt služby, pro který rozhraní kontraktu Určuje hodnotu <xref:System.ServiceModel.ServiceContractAttribute.CallbackContract%2A?displayProperty=nameWithType> vlastnosti, pak tato smlouva určuje oboustranný kontrakt.</span><span class="sxs-lookup"><span data-stu-id="25b3b-139">If you locate a service contract for which the contract interface specifies a value for the <xref:System.ServiceModel.ServiceContractAttribute.CallbackContract%2A?displayProperty=nameWithType> property, then that contract specifies a duplex contract.</span></span> <span data-ttu-id="25b3b-140">Duplexní kontrakty vyžadují, aby klientská aplikace vytvořila třídu zpětného volání, která implementuje kontrakt zpětného volání, a předala instanci této třídy do nebo, která se <xref:System.ServiceModel.DuplexClientBase%601?displayProperty=nameWithType> <xref:System.ServiceModel.DuplexChannelFactory%601?displayProperty=nameWithType> používá ke komunikaci se službou.</span><span class="sxs-lookup"><span data-stu-id="25b3b-140">Duplex contracts require the client application to create a callback class that implements the callback contract and pass an instance of that class to the <xref:System.ServiceModel.DuplexClientBase%601?displayProperty=nameWithType> or <xref:System.ServiceModel.DuplexChannelFactory%601?displayProperty=nameWithType> used to communicate with the service.</span></span> <span data-ttu-id="25b3b-141">Další informace o duplexních klientech najdete v tématu [Postup: přístup ke službám pomocí duplexního kontraktu](how-to-access-services-with-a-duplex-contract.md).</span><span class="sxs-lookup"><span data-stu-id="25b3b-141">For more information about duplex clients, see [How to: Access Services with a Duplex Contract](how-to-access-services-with-a-duplex-contract.md).</span></span>  
  
 <span data-ttu-id="25b3b-142">Následující kontrakt Určuje kontrakt zpětného volání typu `SampleDuplexHelloCallback` .</span><span class="sxs-lookup"><span data-stu-id="25b3b-142">The following contract specifies a callback contract of type `SampleDuplexHelloCallback`.</span></span>  
  
 [!code-csharp[C_GeneratedCodeFiles#2](../../../../samples/snippets/csharp/VS_Snippets_CFX/c_generatedcodefiles/cs/duplexproxycode.cs#2)]
 [!code-vb[C_GeneratedCodeFiles#2](../../../../samples/snippets/visualbasic/VS_Snippets_CFX/c_generatedcodefiles/vb/duplexproxycode.vb#2)]  
  
 <span data-ttu-id="25b3b-143">Hledání této smlouvy zpětného volání vyhledá následující rozhraní, které musí klientská aplikace implementovat.</span><span class="sxs-lookup"><span data-stu-id="25b3b-143">Searching for that callback contract locates the following interface that the client application must implement.</span></span>  
  
 [!code-csharp[C_GeneratedCodeFiles#4](../../../../samples/snippets/csharp/VS_Snippets_CFX/c_generatedcodefiles/cs/duplexproxycode.cs#4)]
 [!code-vb[C_GeneratedCodeFiles#4](../../../../samples/snippets/visualbasic/VS_Snippets_CFX/c_generatedcodefiles/vb/duplexproxycode.vb#4)]  
  
### <a name="finding-service-contract-channel-interfaces"></a><span data-ttu-id="25b3b-144">Hledání rozhraní kanálu kontraktu služby</span><span class="sxs-lookup"><span data-stu-id="25b3b-144">Finding Service Contract Channel Interfaces</span></span>  
 <span data-ttu-id="25b3b-145">Při použití <xref:System.ServiceModel.ChannelFactory> třídy s rozhraním kontraktu služby je nutné přetypovat na rozhraní, <xref:System.ServiceModel.IClientChannel?displayProperty=nameWithType> aby bylo možné explicitně otevřít, zavřít nebo přerušit kanál.</span><span class="sxs-lookup"><span data-stu-id="25b3b-145">When using the <xref:System.ServiceModel.ChannelFactory> class with a service contract interface, you must cast to the <xref:System.ServiceModel.IClientChannel?displayProperty=nameWithType> interface to explicitly open, close, or abort the channel.</span></span> <span data-ttu-id="25b3b-146">Aby bylo snazší pracovat s nástrojem, nástroj Svcutil. exe také generuje pomocné rozhraní, které implementuje rozhraní kontraktu služby, a umožňuje <xref:System.ServiceModel.IClientChannel> interakci s infrastrukturou kanálu klienta bez nutnosti přetypování.</span><span class="sxs-lookup"><span data-stu-id="25b3b-146">To make it easier to work with, the Svcutil.exe tool also generates a helper interface that implements both the service contract interface and <xref:System.ServiceModel.IClientChannel> to enable you to interact with the client channel infrastructure without having to cast.</span></span> <span data-ttu-id="25b3b-147">Následující kód ukazuje definici kanálu pomocníka klienta, který implementuje předchozí kontrakt služby.</span><span class="sxs-lookup"><span data-stu-id="25b3b-147">The following code shows the definition of a helper client channel that implements the preceding service contract.</span></span>  
  
 [!code-csharp[C_GeneratedCodeFiles#13](../../../../samples/snippets/csharp/VS_Snippets_CFX/c_generatedcodefiles/cs/proxycode.cs#13)]  
  
## <a name="see-also"></a><span data-ttu-id="25b3b-148">Viz také</span><span class="sxs-lookup"><span data-stu-id="25b3b-148">See also</span></span>

- [<span data-ttu-id="25b3b-149">Přehled klientů WCF</span><span class="sxs-lookup"><span data-stu-id="25b3b-149">WCF Client Overview</span></span>](../wcf-client-overview.md)
