---
title: Koncové body služby a adresování front
ms.date: 03/30/2017
ms.assetid: 7d2d59d7-f08b-44ed-bd31-913908b83d97
ms.openlocfilehash: 6bdd3b0966f85ff456e0e2ed0b6da773046201dc
ms.sourcegitcommit: a4f9b754059f0210e29ae0578363a27b9ba84b64
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 12/05/2019
ms.locfileid: "74837984"
---
# <a name="service-endpoints-and-queue-addressing"></a><span data-ttu-id="c59fc-102">Koncové body služby a adresování front</span><span class="sxs-lookup"><span data-stu-id="c59fc-102">Service Endpoints and Queue Addressing</span></span>
<span data-ttu-id="c59fc-103">Toto téma popisuje, jak klienti adresují služby, které čtou z front a jak se mapují koncové body služby na fronty.</span><span class="sxs-lookup"><span data-stu-id="c59fc-103">This topic discusses how clients address services that read from queues and how service endpoints map to queues.</span></span> <span data-ttu-id="c59fc-104">Jako připomenutí znázorňuje následující ilustrace nasazení aplikace ve frontě Windows Communication Foundation (WCF).</span><span class="sxs-lookup"><span data-stu-id="c59fc-104">As a reminder, the following illustration shows the classic Windows Communication Foundation (WCF) queued application deployment.</span></span>  
  
 <span data-ttu-id="c59fc-105">![Diagram aplikace ve frontě](../../../../docs/framework/wcf/feature-details/media/distributed-queue-figure.jpg "Distribuované – fronta – obrázek")</span><span class="sxs-lookup"><span data-stu-id="c59fc-105">![Queued Application Diagram](../../../../docs/framework/wcf/feature-details/media/distributed-queue-figure.jpg "Distributed-Queue-Figure")</span></span>  
  
 <span data-ttu-id="c59fc-106">Aby mohl klient odeslat zprávu do služby, klient adresuje zprávu do cílové fronty.</span><span class="sxs-lookup"><span data-stu-id="c59fc-106">For the client to send the message to the service, the client addresses the message to the Target Queue.</span></span> <span data-ttu-id="c59fc-107">Aby služba četla zprávy z fronty, nastaví její adresu naslouchání na cílovou frontu.</span><span class="sxs-lookup"><span data-stu-id="c59fc-107">For the service to read messages from the queue, it sets its listen address to the Target Queue.</span></span> <span data-ttu-id="c59fc-108">Adresování ve službě WCF je založené na identifikátoru URI (Uniform Resource Identifier), zatímco názvy front služby Řízení front zpráv (MSMQ) nejsou založené na identifikátoru URI.</span><span class="sxs-lookup"><span data-stu-id="c59fc-108">Addressing in WCF is Uniform Resource Identifier (URI)-based while Message Queuing (MSMQ) queue names are not URI-based.</span></span> <span data-ttu-id="c59fc-109">Proto je důležité pochopit, jak se ve službě MSMQ vytvořily fronty vytvořené pomocí WCF.</span><span class="sxs-lookup"><span data-stu-id="c59fc-109">It is therefore essential to understand how to address queues created in MSMQ using WCF.</span></span>  
  
## <a name="msmq-addressing"></a><span data-ttu-id="c59fc-110">Adresování MSMQ</span><span class="sxs-lookup"><span data-stu-id="c59fc-110">MSMQ Addressing</span></span>  
 <span data-ttu-id="c59fc-111">Služba MSMQ používá k identifikaci fronty cesty a názvy formátu.</span><span class="sxs-lookup"><span data-stu-id="c59fc-111">MSMQ uses paths and format names to identify a queue.</span></span> <span data-ttu-id="c59fc-112">Cesty určují název hostitele a `QueueName`.</span><span class="sxs-lookup"><span data-stu-id="c59fc-112">Paths specify a host name and a `QueueName`.</span></span> <span data-ttu-id="c59fc-113">Volitelně může `Private$` mezi názvem hostitele a `QueueName` označit soukromou frontu, která není publikována v adresářové službě Active Directory.</span><span class="sxs-lookup"><span data-stu-id="c59fc-113">Optionally, there can be a `Private$` between the host name and the `QueueName` to indicate a private queue that is not published in the Active Directory directory service.</span></span>  
  
 <span data-ttu-id="c59fc-114">Názvy cest jsou namapovány na "FormatNames" k určení dalších aspektů adresy, včetně směrování a přenosového protokolu pro správce fronty.</span><span class="sxs-lookup"><span data-stu-id="c59fc-114">Path names are mapped to "FormatNames" to determine additional aspects of the address, including routing and queue manager transfer protocol.</span></span> <span data-ttu-id="c59fc-115">Správce fronty podporuje dva protokoly přenosů: nativní protokol MSMQ a protokol SRMP (SOAP Reliable Messaging Protocol).</span><span class="sxs-lookup"><span data-stu-id="c59fc-115">The Queue Manager supports two transfer protocols: native MSMQ protocol and SOAP Reliable Messaging Protocol (SRMP).</span></span>  
  
 <span data-ttu-id="c59fc-116">Další informace o cestách a názvech formátu MSMQ najdete v tématu [o službě Řízení front zpráv](https://go.microsoft.com/fwlink/?LinkId=94837).</span><span class="sxs-lookup"><span data-stu-id="c59fc-116">For more information about MSMQ path and format names, see [About Message Queuing](https://go.microsoft.com/fwlink/?LinkId=94837).</span></span>  
  
## <a name="netmsmqbinding-and-service-addressing"></a><span data-ttu-id="c59fc-117">NetMsmqBinding a adresování služeb</span><span class="sxs-lookup"><span data-stu-id="c59fc-117">NetMsmqBinding and Service Addressing</span></span>  
 <span data-ttu-id="c59fc-118">Při adresování zprávy službě se vybere schéma v identifikátoru URI na základě přenosu používaného pro komunikaci.</span><span class="sxs-lookup"><span data-stu-id="c59fc-118">When addressing a message to a service, the scheme in the URI is chosen based on the transport used for communication.</span></span> <span data-ttu-id="c59fc-119">Každý přenos v rámci WCF má jedinečné schéma.</span><span class="sxs-lookup"><span data-stu-id="c59fc-119">Each transport in WCF has a unique scheme.</span></span> <span data-ttu-id="c59fc-120">Schéma musí odrážet povahu přenosu používaného pro komunikaci.</span><span class="sxs-lookup"><span data-stu-id="c59fc-120">The scheme must reflect the nature of transport used for communication.</span></span> <span data-ttu-id="c59fc-121">Například NET. TCP, NET. pipe, HTTP atd.</span><span class="sxs-lookup"><span data-stu-id="c59fc-121">For example, net.tcp, net.pipe, HTTP, and so on.</span></span>  
  
 <span data-ttu-id="c59fc-122">Přenos ve frontě MSMQ ve službě WCF zpřístupňuje schéma NET. MSMQ.</span><span class="sxs-lookup"><span data-stu-id="c59fc-122">The MSMQ queued transport in WCF exposes a net.msmq scheme.</span></span> <span data-ttu-id="c59fc-123">Všechny zprávy, které jsou adresovány pomocí schématu NET. MSMQ, se odesílají pomocí `NetMsmqBinding` přes transportní kanál MSMQ ve frontě.</span><span class="sxs-lookup"><span data-stu-id="c59fc-123">Any message addressed using the net.msmq scheme is sent using the `NetMsmqBinding` over the MSMQ queued transport channel.</span></span>  
  
 <span data-ttu-id="c59fc-124">Adresování fronty ve službě WCF je založené na následujícím vzoru:</span><span class="sxs-lookup"><span data-stu-id="c59fc-124">The addressing of a queue in WCF is based on the following pattern:</span></span>  
  
 <span data-ttu-id="c59fc-125">NET. MSMQ://\<*název hostitele*>/[Private/] \<*název fronty*></span><span class="sxs-lookup"><span data-stu-id="c59fc-125">net.msmq: // \<*host-name*> / [private/] \<*queue-name*></span></span>  
  
 <span data-ttu-id="c59fc-126">kde:</span><span class="sxs-lookup"><span data-stu-id="c59fc-126">where:</span></span>  
  
- <span data-ttu-id="c59fc-127">\<*název hostitele*> je název počítače, který je hostitelem cílové fronty.</span><span class="sxs-lookup"><span data-stu-id="c59fc-127">\<*host-name*> is the name of the machine that hosts the Target Queue.</span></span>  
  
- <span data-ttu-id="c59fc-128">[Private] je volitelné.</span><span class="sxs-lookup"><span data-stu-id="c59fc-128">[private] is optional.</span></span> <span data-ttu-id="c59fc-129">Používá se při adresování cílové fronty, která je privátní frontou.</span><span class="sxs-lookup"><span data-stu-id="c59fc-129">It is used when addressing a Target Queue that is a private queue.</span></span> <span data-ttu-id="c59fc-130">Pokud chcete adresovat veřejnou frontu, nesmíte zadat Private.</span><span class="sxs-lookup"><span data-stu-id="c59fc-130">To address a public queue, you must not specify private.</span></span> <span data-ttu-id="c59fc-131">Všimněte si, že na rozdíl od cest služby MSMQ není ve formuláři identifikátoru URI WCF žádná "$".</span><span class="sxs-lookup"><span data-stu-id="c59fc-131">Note that, unlike MSMQ paths, there is no "$" in the WCF URI form.</span></span>  
  
- <span data-ttu-id="c59fc-132">\<*Queue-name*> je název fronty.</span><span class="sxs-lookup"><span data-stu-id="c59fc-132">\<*queue-name*> is the name of the queue.</span></span> <span data-ttu-id="c59fc-133">Název fronty může také odkazovat na dílčí frontu.</span><span class="sxs-lookup"><span data-stu-id="c59fc-133">The queue name can also refer to a subqueue.</span></span> <span data-ttu-id="c59fc-134">Proto \<*Queue-name*> = \<*název > Queue*[; *Název podřízené fronty*].</span><span class="sxs-lookup"><span data-stu-id="c59fc-134">Thus, \<*queue-name*> = \<*name-of-queue*>[;*sub-queue-name*].</span></span>  
  
 <span data-ttu-id="c59fc-135">Priklad1: aby se PurchaseOrders privátní fronta hostovaná v počítači abc atadatum.com, identifikátor URI by byl NET. MSMQ://abc.adatum.com/private/PurchaseOrders.</span><span class="sxs-lookup"><span data-stu-id="c59fc-135">Example1: To address a private queue PurchaseOrders hosted on computer abc atadatum.com, the URI would be net.msmq://abc.adatum.com/private/PurchaseOrders.</span></span>  
  
 <span data-ttu-id="c59fc-136">Example2: Pokud chcete adresovat AccountsPayable veřejné fronty hostované na počítači atadatum.com, identifikátor URI by byl NET. MSMQ://def.adatum.com/AccountsPayable.</span><span class="sxs-lookup"><span data-stu-id="c59fc-136">Example2: To address a public queue AccountsPayable hosted on computer def atadatum.com, the URI would be net.msmq://def.adatum.com/AccountsPayable.</span></span>  
  
 <span data-ttu-id="c59fc-137">Adresa fronty se používá jako identifikátor URI poslechu naslouchacího procesu ke čtení zpráv z.</span><span class="sxs-lookup"><span data-stu-id="c59fc-137">The queue address is used as the Listen URI by the Listener to read messages from.</span></span> <span data-ttu-id="c59fc-138">Jinými slovy, adresa fronty je ekvivalentní portu TCP soketu.</span><span class="sxs-lookup"><span data-stu-id="c59fc-138">In other words, the queue address is equivalent to the listen port of TCP socket.</span></span>  
  
 <span data-ttu-id="c59fc-139">Koncový bod, který čte z fronty, musí specifikovat adresu fronty za použití stejného schématu zadaného dříve při otevírání třídy ServiceHost.</span><span class="sxs-lookup"><span data-stu-id="c59fc-139">An endpoint that reads from a queue must specify the address of the queue using the same scheme specified previously when opening the ServiceHost.</span></span> <span data-ttu-id="c59fc-140">Příklady najdete v tématu o [vytváření vazeb v síti MSMQ](../../../../docs/framework/wcf/samples/net-msmq-binding.md).</span><span class="sxs-lookup"><span data-stu-id="c59fc-140">For examples, see [Net MSMQ Binding](../../../../docs/framework/wcf/samples/net-msmq-binding.md).</span></span>  
  
### <a name="multiple-contracts-in-a-queue"></a><span data-ttu-id="c59fc-141">Několik kontraktů ve frontě</span><span class="sxs-lookup"><span data-stu-id="c59fc-141">Multiple Contracts in a Queue</span></span>  
 <span data-ttu-id="c59fc-142">Zprávy ve frontě můžou implementovat různé kontrakty.</span><span class="sxs-lookup"><span data-stu-id="c59fc-142">Messages in a queue can implement different contracts.</span></span> <span data-ttu-id="c59fc-143">V takovém případě je nutné, aby jedna z následujících podmínek byla úspěšně čtena a zpracována všechny zprávy:</span><span class="sxs-lookup"><span data-stu-id="c59fc-143">In this case, it is essential that one of the following is true to successfully read and process all messages:</span></span>  
  
- <span data-ttu-id="c59fc-144">Zadejte koncový bod pro službu, která implementuje všechny smlouvy.</span><span class="sxs-lookup"><span data-stu-id="c59fc-144">Specify an endpoint for a service that implements all the contracts.</span></span> <span data-ttu-id="c59fc-145">Toto je doporučený postup.</span><span class="sxs-lookup"><span data-stu-id="c59fc-145">This is the recommended approach.</span></span>  
  
- <span data-ttu-id="c59fc-146">Zadejte více koncových bodů s různými kontrakty, ale zajistěte, aby všechny koncové body používaly stejný objekt `NetMsmqBinding`.</span><span class="sxs-lookup"><span data-stu-id="c59fc-146">Specify multiple endpoints with different contracts, but ensure that all the endpoints use the same `NetMsmqBinding` object.</span></span> <span data-ttu-id="c59fc-147">Logika odeslání ve ServiceModel používá čerpadlo zpráv, které čte zprávy z transportního kanálu pro odesílání, což nakonec demultiplexuje zprávy na základě kontraktu na různé koncové body.</span><span class="sxs-lookup"><span data-stu-id="c59fc-147">The dispatching logic in ServiceModel uses a message pump that reads messages out of the transport channel for dispatch, which eventually de-multiplexes messages based on the contract to different endpoints.</span></span> <span data-ttu-id="c59fc-148">Vytvoří se čerpadlo zpráv pro dvojici identifikátorů URI a vazeb pro poslech.</span><span class="sxs-lookup"><span data-stu-id="c59fc-148">A message pump is created for a listen URI/Binding pair.</span></span> <span data-ttu-id="c59fc-149">Adresa fronty se používá pro naslouchací proces zařazený do fronty jako identifikátor URI poslechu.</span><span class="sxs-lookup"><span data-stu-id="c59fc-149">The queue address is used as the Listen URI by the queued listener.</span></span> <span data-ttu-id="c59fc-150">Když všechny koncové body používají stejný objekt vazby, zajistí se použití jediného pumpy zpráv ke čtení zprávy a demultiplexování do relevantních koncových bodů na základě kontraktu.</span><span class="sxs-lookup"><span data-stu-id="c59fc-150">Having all the endpoints use the same binding object ensures that a single message pump is used to read the message and de-multiplex to relevant endpoints based on the contract.</span></span>  
  
### <a name="srmp-messaging"></a><span data-ttu-id="c59fc-151">Zprávy SRMP</span><span class="sxs-lookup"><span data-stu-id="c59fc-151">SRMP Messaging</span></span>  
 <span data-ttu-id="c59fc-152">Jak je popsáno výše, můžete použít protokol SRMP pro přenosy front-Queue.</span><span class="sxs-lookup"><span data-stu-id="c59fc-152">As previously discussed, you can use the SRMP protocol for queue-to-queue transfers.</span></span> <span data-ttu-id="c59fc-153">To se běžně používá, když přenos HTTP přenáší zprávy mezi frontou přenosů a cílovou frontou.</span><span class="sxs-lookup"><span data-stu-id="c59fc-153">This is commonly used when an HTTP transport transmits messages between the Transmission Queue and the Target Queue.</span></span>  
  
 <span data-ttu-id="c59fc-154">Chcete-li použít přenosový protokol SRMP, adresujte zprávy pomocí schématu identifikátoru URI NET. MSMQ, jak bylo zmíněno dříve, a určete volbu protokolu SRMP nebo zabezpečeného protokolu SRMP ve vlastnosti `QueueTransferProtocol` `NetMsmqBinding`.</span><span class="sxs-lookup"><span data-stu-id="c59fc-154">To use the SRMP transfer protocol, address messages using the net.msmq URI scheme, as mentioned previously, and specify the choice of SRMP or Secured SRMP in the `QueueTransferProtocol` property of the `NetMsmqBinding`.</span></span>  
  
 <span data-ttu-id="c59fc-155">Zadáním vlastnosti `QueueTransferProtocol` je funkce pouze pro odesílání.</span><span class="sxs-lookup"><span data-stu-id="c59fc-155">Specifying the `QueueTransferProtocol` property is a send-only feature.</span></span> <span data-ttu-id="c59fc-156">Označuje klienta, který druh přenosového protokolu fronty se má použít.</span><span class="sxs-lookup"><span data-stu-id="c59fc-156">This is an indication by the client which kind of queue transfer protocol to use.</span></span>  
  
### <a name="using-active-directory"></a><span data-ttu-id="c59fc-157">Používání služby Active Directory</span><span class="sxs-lookup"><span data-stu-id="c59fc-157">Using Active Directory</span></span>  
 <span data-ttu-id="c59fc-158">Služba MSMQ je dodávána s podporou integrace služby Active Directory.</span><span class="sxs-lookup"><span data-stu-id="c59fc-158">MSMQ comes with support for Active Directory integration.</span></span> <span data-ttu-id="c59fc-159">Když je služba MSMQ nainstalována s integrací služby Active Directory, musí být počítač součástí domény systému Windows.</span><span class="sxs-lookup"><span data-stu-id="c59fc-159">When MSMQ is installed with Active Directory integration, the machine must be part of a Windows domain.</span></span> <span data-ttu-id="c59fc-160">Služba Active Directory se používá k publikování front pro zjišťování; takové fronty se nazývají *veřejné fronty*.</span><span class="sxs-lookup"><span data-stu-id="c59fc-160">Active Directory is used to publish queues for discovery; such queues are called *public queues*.</span></span> <span data-ttu-id="c59fc-161">Při adresování fronty je možné tuto frontu přeložit pomocí služby Active Directory.</span><span class="sxs-lookup"><span data-stu-id="c59fc-161">When addressing a queue, the queue can be resolved using Active Directory.</span></span> <span data-ttu-id="c59fc-162">To se podobá tomu, jak se používá služba DNS (Domain Name System) k překladu IP adresy síťového názvu.</span><span class="sxs-lookup"><span data-stu-id="c59fc-162">This is similar to how Domain Name System (DNS) is used to resolve the IP address of a network name.</span></span> <span data-ttu-id="c59fc-163">Vlastnost `UseActiveDirectory` v `NetMsmqBinding` je logická hodnota, která označuje, jestli kanál zařazený do fronty musí použít službu Active Directory k překladu identifikátoru URI fronty.</span><span class="sxs-lookup"><span data-stu-id="c59fc-163">The `UseActiveDirectory` property in `NetMsmqBinding` is a Boolean that indicates whether the queued channel must use Active Directory to resolve the queue URI.</span></span> <span data-ttu-id="c59fc-164">Ve výchozím nastavení je nastavená na `false`.</span><span class="sxs-lookup"><span data-stu-id="c59fc-164">By default it is set to `false`.</span></span> <span data-ttu-id="c59fc-165">Pokud je vlastnost `UseActiveDirectory` nastavena na hodnotu `true`, kanál ve frontě používá službu Active Directory k převodu NET. MSMQ://URI na název formátu.</span><span class="sxs-lookup"><span data-stu-id="c59fc-165">If the `UseActiveDirectory` property is set to `true`, then the queued channel uses Active Directory to convert the net.msmq:// URI to format name.</span></span>  
  
 <span data-ttu-id="c59fc-166">Vlastnost `UseActiveDirectory` má smysl jenom pro klienta, který posílá zprávu, protože se používá k překladu adresy fronty při posílání zpráv.</span><span class="sxs-lookup"><span data-stu-id="c59fc-166">The `UseActiveDirectory` property is meaningful only for the client that is sending the message because it is used to resolve the address of the queue when sending messages.</span></span>  
  
### <a name="mapping-netmsmq-uri-to-message-queuing-format-names"></a><span data-ttu-id="c59fc-167">Mapování identifikátoru URI NET. MSMQ na názvy formátů služby Řízení front zpráv</span><span class="sxs-lookup"><span data-stu-id="c59fc-167">Mapping net.msmq URI to Message Queuing Format Names</span></span>  
 <span data-ttu-id="c59fc-168">Kanál kanálu zpracovává mapování názvu identifikátoru URI NET. MSMQ, který je zadaný pro kanál, na názvy formátu MSMQ.</span><span class="sxs-lookup"><span data-stu-id="c59fc-168">The queued channel handles mapping the net.msmq URI name provided to the channel to MSMQ format names.</span></span> <span data-ttu-id="c59fc-169">Následující tabulka shrnuje pravidla používaná k mapování mezi nimi.</span><span class="sxs-lookup"><span data-stu-id="c59fc-169">The following table summarizes the rules used to map between them.</span></span>  
  
|<span data-ttu-id="c59fc-170">Adresa fronty na základě identifikátoru URI WCF</span><span class="sxs-lookup"><span data-stu-id="c59fc-170">WCF URI-based queue address</span></span>|<span data-ttu-id="c59fc-171">Použít vlastnost služby Active Directory</span><span class="sxs-lookup"><span data-stu-id="c59fc-171">Use Active Directory property</span></span>|<span data-ttu-id="c59fc-172">Vlastnost protokolu přenosu fronty</span><span class="sxs-lookup"><span data-stu-id="c59fc-172">Queue Transfer Protocol property</span></span>|<span data-ttu-id="c59fc-173">Výsledné názvy formátu MSMQ</span><span class="sxs-lookup"><span data-stu-id="c59fc-173">Resulting MSMQ format names</span></span>|  
|----------------------------------|-----------------------------------|--------------------------------------|---------------------------------|  
|<span data-ttu-id="c59fc-174">Net.msmq://\<machine-name>/private/abc</span><span class="sxs-lookup"><span data-stu-id="c59fc-174">Net.msmq://\<machine-name>/private/abc</span></span>|<span data-ttu-id="c59fc-175">False (výchozí)</span><span class="sxs-lookup"><span data-stu-id="c59fc-175">False (default)</span></span>|<span data-ttu-id="c59fc-176">Nativní (výchozí)</span><span class="sxs-lookup"><span data-stu-id="c59fc-176">Native (default)</span></span>|<span data-ttu-id="c59fc-177">DIRECT=OS:machine-name\private$\abc</span><span class="sxs-lookup"><span data-stu-id="c59fc-177">DIRECT=OS:machine-name\private$\abc</span></span>|  
|<span data-ttu-id="c59fc-178">Net.msmq://\<machine-name>/private/abc</span><span class="sxs-lookup"><span data-stu-id="c59fc-178">Net.msmq://\<machine-name>/private/abc</span></span>|<span data-ttu-id="c59fc-179">Nepravda</span><span class="sxs-lookup"><span data-stu-id="c59fc-179">False</span></span>|<span data-ttu-id="c59fc-180">SRMP</span><span class="sxs-lookup"><span data-stu-id="c59fc-180">SRMP</span></span>|<span data-ttu-id="c59fc-181">DIRECT=http://machine/msmq/private $/abc</span><span class="sxs-lookup"><span data-stu-id="c59fc-181">DIRECT=http://machine/msmq/private$/abc</span></span>|  
|<span data-ttu-id="c59fc-182">Net.msmq://\<machine-name>/private/abc</span><span class="sxs-lookup"><span data-stu-id="c59fc-182">Net.msmq://\<machine-name>/private/abc</span></span>|<span data-ttu-id="c59fc-183">Pravda</span><span class="sxs-lookup"><span data-stu-id="c59fc-183">True</span></span>|<span data-ttu-id="c59fc-184">Nativní</span><span class="sxs-lookup"><span data-stu-id="c59fc-184">Native</span></span>|<span data-ttu-id="c59fc-185">PUBLIC = nějaký identifikátor GUID (identifikátor GUID fronty)</span><span class="sxs-lookup"><span data-stu-id="c59fc-185">PUBLIC=some-guid (the GUID of the queue)</span></span>|  
  
### <a name="reading-messages-from-the-dead-letter-queue-or-the-poison-message-queue"></a><span data-ttu-id="c59fc-186">Načítají se zprávy z fronty nedoručených zpráv nebo z fronty pro nepoškozené zprávy.</span><span class="sxs-lookup"><span data-stu-id="c59fc-186">Reading Messages from the Dead-Letter Queue or the Poison-Message Queue</span></span>  
 <span data-ttu-id="c59fc-187">Chcete-li číst zprávy z fronty nezpracovatelných zpráv, která je podfrontou cílové fronty, otevřete `ServiceHost` s adresou podfronty.</span><span class="sxs-lookup"><span data-stu-id="c59fc-187">To read messages from a poison-message queue that is a subqueue of the target queue, open the `ServiceHost` with the address of the subqueue.</span></span>  
  
 <span data-ttu-id="c59fc-188">Příklad: služba, která čte z fronty nezpracovatelných zpráv PurchaseOrders soukromé fronty z místního počítače, bude adresovat NET. MSMQ://localhost/private/PurchaseOrders; jed.</span><span class="sxs-lookup"><span data-stu-id="c59fc-188">Example: A service that reads from the poison-message queue of the PurchaseOrders private queue from the local machine would address net.msmq://localhost/private/PurchaseOrders;poison.</span></span>  
  
 <span data-ttu-id="c59fc-189">Chcete-li číst zprávy z fronty nedoručených zpráv transakčního systému, musí být identifikátor URI ve tvaru: NET. MSMQ://localhost/System $;D eadXact.</span><span class="sxs-lookup"><span data-stu-id="c59fc-189">To read messages from a system transactional dead-letter queue, the URI must be of the form: net.msmq://localhost/system$;DeadXact.</span></span>  
  
 <span data-ttu-id="c59fc-190">Chcete-li číst zprávy z fronty nedoručených zpráv netransakčního systému, identifikátor URI musí být ve tvaru: NET. MSMQ://localhost/System $;D eadLetter.</span><span class="sxs-lookup"><span data-stu-id="c59fc-190">To read messages from a system nontransactional dead-letter queue, the URI must be of the form: net.msmq://localhost/system$;DeadLetter.</span></span>  
  
 <span data-ttu-id="c59fc-191">Pokud používáte vlastní frontu nedoručených zpráv, musí být fronta nedoručených zpráv v místním počítači.</span><span class="sxs-lookup"><span data-stu-id="c59fc-191">When using a custom dead-letter queue, note that the dead-letter queue must reside on the local computer.</span></span> <span data-ttu-id="c59fc-192">V takovém případě je identifikátor URI pro frontu nedoručených zpráv omezený na formát:</span><span class="sxs-lookup"><span data-stu-id="c59fc-192">As such, the URI for the dead-letter queue is restricted to the form:</span></span>  
  
 <span data-ttu-id="c59fc-193">NET. MSMQ://localhost/[Private/] \<*vlastní-nedoručené-písmeno-Queue-name*>.</span><span class="sxs-lookup"><span data-stu-id="c59fc-193">net.msmq: //localhost/ [private/]  \<*custom-dead-letter-queue-name*>.</span></span>  
  
 <span data-ttu-id="c59fc-194">Služba WCF ověřuje, že všechny zprávy, které obdrží, byly adresovány do konkrétní fronty, na které naslouchá.</span><span class="sxs-lookup"><span data-stu-id="c59fc-194">A WCF service verifies that all messages it receives were addressed to the particular queue it is listening on.</span></span> <span data-ttu-id="c59fc-195">Pokud cílová fronta zprávy nesouhlasí s frontou, ve které se nachází, služba zprávu nezpracovává.</span><span class="sxs-lookup"><span data-stu-id="c59fc-195">If the message’s destination queue does not match the queue it is found in, the service does not process the message.</span></span> <span data-ttu-id="c59fc-196">Jedná se o problém, který musí splňovat služby, které naslouchá frontě nedoručených zpráv, protože jakékoli zprávy ve frontě nedoručených zpráv byly určeny k doručování jinde.</span><span class="sxs-lookup"><span data-stu-id="c59fc-196">This is an issue that services listening to a dead-letter queue must address because any message in the dead-letter queue was meant to be delivered elsewhere.</span></span> <span data-ttu-id="c59fc-197">Chcete-li číst zprávy z fronty nedoručených zpráv nebo z fronty poškození, je nutné použít `ServiceBehavior` s parametrem <xref:System.ServiceModel.AddressFilterMode.Any>.</span><span class="sxs-lookup"><span data-stu-id="c59fc-197">To read messages from a dead-letter queue, or from a poison queue, a `ServiceBehavior` with the <xref:System.ServiceModel.AddressFilterMode.Any> parameter must be used.</span></span> <span data-ttu-id="c59fc-198">Příklad najdete v tématu [fronty nedoručených zpráv](../../../../docs/framework/wcf/samples/dead-letter-queues.md).</span><span class="sxs-lookup"><span data-stu-id="c59fc-198">For an example, see [Dead Letter Queues](../../../../docs/framework/wcf/samples/dead-letter-queues.md).</span></span>  
  
## <a name="msmqintegrationbinding-and-service-addressing"></a><span data-ttu-id="c59fc-199">MsmqIntegrationBinding a adresování služeb</span><span class="sxs-lookup"><span data-stu-id="c59fc-199">MsmqIntegrationBinding and Service Addressing</span></span>  
 <span data-ttu-id="c59fc-200">`MsmqIntegrationBinding` se používá ke komunikaci s tradičními aplikacemi služby MSMQ.</span><span class="sxs-lookup"><span data-stu-id="c59fc-200">The `MsmqIntegrationBinding` is used for communication with traditional MSMQ applications.</span></span> <span data-ttu-id="c59fc-201">Pro usnadnění spolupráce s existující aplikací služby MSMQ podporuje WCF pouze adresování názvů formátu.</span><span class="sxs-lookup"><span data-stu-id="c59fc-201">To ease interoperation with an existing MSMQ application, WCF supports only format name addressing.</span></span> <span data-ttu-id="c59fc-202">Proto zprávy odeslané pomocí této vazby musí odpovídat schématu identifikátoru URI:</span><span class="sxs-lookup"><span data-stu-id="c59fc-202">Thus, messages sent using this binding must conform to the URI scheme:</span></span>  
  
 <span data-ttu-id="c59fc-203">MSMQ. FormatName:\<*MSMQ-Format-name*>></span><span class="sxs-lookup"><span data-stu-id="c59fc-203">msmq.formatname:\<*MSMQ-format-name*>></span></span>  
  
 <span data-ttu-id="c59fc-204">Služba MSMQ-Format-Name má formu určenou službou MSMQ v části [o službě Řízení front zpráv](https://go.microsoft.com/fwlink/?LinkId=94837).</span><span class="sxs-lookup"><span data-stu-id="c59fc-204">The MSMQ-format-name is of the form specified by MSMQ in [About Message Queuing](https://go.microsoft.com/fwlink/?LinkId=94837).</span></span>  
  
 <span data-ttu-id="c59fc-205">Všimněte si, že při přijímání zpráv z fronty pomocí `MsmqIntegrationBinding`můžete použít pouze přímé názvy formátů a názvy veřejného a privátního formátu (vyžaduje integraci služby Active Directory).</span><span class="sxs-lookup"><span data-stu-id="c59fc-205">Note that you can only use direct format names, and public and private format names (requires Active Directory integration) when receiving messages from a queue using `MsmqIntegrationBinding`.</span></span> <span data-ttu-id="c59fc-206">Doporučuje se ale používat přímé názvy formátů.</span><span class="sxs-lookup"><span data-stu-id="c59fc-206">However, it is advised that you use direct format names.</span></span> <span data-ttu-id="c59fc-207">Například v systému Windows Vista může použití jiného názvu formátu způsobit chybu, protože systém se pokusí otevřít dílčí frontu, která se dá otevřít jenom s přímými názvy formátu.</span><span class="sxs-lookup"><span data-stu-id="c59fc-207">For example, on Windows Vista, using any other format name causes an error because the system attempts to open a subqueue, which can only be opened with direct format names.</span></span>  
  
 <span data-ttu-id="c59fc-208">Při adresování SRMP pomocí `MsmqIntegrationBinding`neexistuje žádný požadavek na přidání/MSMQ/v přímém názvu formátu tak, aby se Internetová informační služba (IIS) s odesíláním usnadnil.</span><span class="sxs-lookup"><span data-stu-id="c59fc-208">When addressing SRMP using `MsmqIntegrationBinding`, there is no requirement to add /msmq/ in the direct format name to help Internet Information Services (IIS) with dispatching.</span></span> <span data-ttu-id="c59fc-209">Příklad: při adresování fronty ABC pomocí protokolu SRMP místo DIRECT =http://adatum.com/msmq/private $/ABC byste měli použít DIRECT =http://adatum.com/private $/ABC.</span><span class="sxs-lookup"><span data-stu-id="c59fc-209">For example: When addressing a queue abc using the SRMP protocol, instead of DIRECT=http://adatum.com/msmq/private$/abc, you should use DIRECT=http://adatum.com/private$/abc.</span></span>  
  
 <span data-ttu-id="c59fc-210">Všimněte si, že nemůžete použít NET. MSMQ://Addressing with `MsmqIntegrationBinding`.</span><span class="sxs-lookup"><span data-stu-id="c59fc-210">Note that you cannot use net.msmq:// addressing with `MsmqIntegrationBinding`.</span></span> <span data-ttu-id="c59fc-211">Vzhledem k tomu, že `MsmqIntegrationBinding` podporuje adresování názvů ve formátu MSMQ, můžete použít službu WCF, která pomocí této vazby používá funkce vícesměrového a distribučního seznamu ve službě MSMQ.</span><span class="sxs-lookup"><span data-stu-id="c59fc-211">Because `MsmqIntegrationBinding` supports free-form MSMQ format name addressing, you can use a WCF service that uses this binding to use multicast and distribution list features in MSMQ.</span></span> <span data-ttu-id="c59fc-212">Jedna výjimka určuje `CustomDeadLetterQueue` při použití `MsmqIntegrationBinding`.</span><span class="sxs-lookup"><span data-stu-id="c59fc-212">One exception is specifying `CustomDeadLetterQueue` when using the `MsmqIntegrationBinding`.</span></span> <span data-ttu-id="c59fc-213">Musí mít formát NET. MSMQ://, podobně jako jeho zadání pomocí `NetMsmqBinding`.</span><span class="sxs-lookup"><span data-stu-id="c59fc-213">It must be of the form net.msmq://, similar to how it is specified using the `NetMsmqBinding`.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="c59fc-214">Viz také:</span><span class="sxs-lookup"><span data-stu-id="c59fc-214">See also</span></span>

- [<span data-ttu-id="c59fc-215">Webhosting frontové aplikace</span><span class="sxs-lookup"><span data-stu-id="c59fc-215">Web Hosting a Queued Application</span></span>](../../../../docs/framework/wcf/feature-details/web-hosting-a-queued-application.md)
