---
title: Vychozí hodnoty datových členů
description: Naučte se, jak vynechat datový člen ze serializovaných dat, když má .NET Framework výchozí hodnotu. Služba WCF může zvýšit výkon tím, že neserializace výchozí.
ms.date: 03/30/2017
dev_langs:
- csharp
- vb
helpviewer_keywords:
- data members [WCF], default values
- data members [WCF]
ms.assetid: 53a3b505-4b27-444b-b079-0eb84a97cfd8
ms.openlocfilehash: 97946a6b7da14efdcb5229b4cc5d0799eb8d7723
ms.sourcegitcommit: 358a28048f36a8dca39a9fe6e6ac1f1913acadd5
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 06/23/2020
ms.locfileid: "85247374"
---
# <a name="data-member-default-values"></a><span data-ttu-id="6634c-104">Vychozí hodnoty datových členů</span><span class="sxs-lookup"><span data-stu-id="6634c-104">Data Member Default Values</span></span>
<span data-ttu-id="6634c-105">V .NET Framework typy mají koncept *výchozích hodnot*.</span><span class="sxs-lookup"><span data-stu-id="6634c-105">In the .NET Framework, types have a concept of *default values*.</span></span> <span data-ttu-id="6634c-106">Například pro libovolný typ odkazu je výchozí hodnota `null` a pro typ integer je nula.</span><span class="sxs-lookup"><span data-stu-id="6634c-106">For example, for any reference type the default value is `null`, and for an integer type it is zero.</span></span> <span data-ttu-id="6634c-107">Občas je žádoucí vynechat datový člen ze serializovaných dat, když je nastaven na jeho výchozí hodnotu.</span><span class="sxs-lookup"><span data-stu-id="6634c-107">It is occasionally desirable to omit a data member from serialized data when it is set to its default value.</span></span> <span data-ttu-id="6634c-108">Vzhledem k tomu, že má člen výchozí hodnotu, není nutné serializovat skutečnou hodnotu; Tato výhoda má vliv na výkon.</span><span class="sxs-lookup"><span data-stu-id="6634c-108">Because the member has a default value, an actual value need not be serialized; this has a performance advantage.</span></span>  
  
 <span data-ttu-id="6634c-109">Chcete-li vynechat člena ze serializovaných dat, nastavte <xref:System.Runtime.Serialization.DataMemberAttribute.EmitDefaultValue%2A> vlastnost <xref:System.Runtime.Serialization.DataMemberAttribute> atributu na `false` (výchozí hodnota je `true` ).</span><span class="sxs-lookup"><span data-stu-id="6634c-109">To omit a member from serialized data, set the <xref:System.Runtime.Serialization.DataMemberAttribute.EmitDefaultValue%2A> property of the <xref:System.Runtime.Serialization.DataMemberAttribute> attribute to `false` (the default is `true`).</span></span>  
  
> [!NOTE]
> <span data-ttu-id="6634c-110">Vlastnost byste měli nastavit <xref:System.Runtime.Serialization.DataMemberAttribute.EmitDefaultValue%2A> na `false` , pokud je to konkrétní potřeba, například pro interoperabilitu nebo omezení velikosti dat.</span><span class="sxs-lookup"><span data-stu-id="6634c-110">You should set the <xref:System.Runtime.Serialization.DataMemberAttribute.EmitDefaultValue%2A> property to `false` if there is a specific need to do so, such as for interoperability or data size reduction.</span></span>  
  
## <a name="example"></a><span data-ttu-id="6634c-111">Příklad</span><span class="sxs-lookup"><span data-stu-id="6634c-111">Example</span></span>  
 <span data-ttu-id="6634c-112">Následující kód má několik členů s <xref:System.Runtime.Serialization.DataMemberAttribute.EmitDefaultValue%2A> nastavením na `false` .</span><span class="sxs-lookup"><span data-stu-id="6634c-112">The following code has several members with the <xref:System.Runtime.Serialization.DataMemberAttribute.EmitDefaultValue%2A> set to `false`.</span></span>  
  
 [!code-csharp[DataMemberAttribute#4](../../../../samples/snippets/csharp/VS_Snippets_CFX/datamemberattribute/cs/overview.cs#4)]
 [!code-vb[DataMemberAttribute#4](../../../../samples/snippets/visualbasic/VS_Snippets_CFX/datamemberattribute/vb/overview.vb#4)]  
  
 <span data-ttu-id="6634c-113">Je-li instance této třídy serializován, výsledek je následující: `employeeName` a `employeeID` je serializován.</span><span class="sxs-lookup"><span data-stu-id="6634c-113">If an instance of this class is serialized, the result is as follows: `employeeName` and `employeeID` is serialized.</span></span> <span data-ttu-id="6634c-114">Hodnota null pro `employeeName` a nulová hodnota pro `employeeID` je explicitně součástí serializovaných dat.</span><span class="sxs-lookup"><span data-stu-id="6634c-114">The null value for `employeeName` and the zero value for `employeeID` is explicitly part of the serialized data.</span></span> <span data-ttu-id="6634c-115">Nicméně `position` `salary` Členové, a nejsou `bonus` serializováni.</span><span class="sxs-lookup"><span data-stu-id="6634c-115">However, the `position`, `salary`, and `bonus` members are not serialized.</span></span> <span data-ttu-id="6634c-116">Nakonec `targetSalary` je serializován jako obvykle, i když <xref:System.Runtime.Serialization.DataMemberAttribute.EmitDefaultValue%2A> je vlastnost nastavena na `false` , protože 57800 se neshoduje s výchozí hodnotou .NET pro celé číslo, což je nula.</span><span class="sxs-lookup"><span data-stu-id="6634c-116">Finally, `targetSalary` is serialized as usual, even though the <xref:System.Runtime.Serialization.DataMemberAttribute.EmitDefaultValue%2A> property is set to `false`, because 57800 does not match the .NET default value for an integer, which is zero.</span></span>  
  
### <a name="xml-representation"></a><span data-ttu-id="6634c-117">Reprezentace XML</span><span class="sxs-lookup"><span data-stu-id="6634c-117">XML Representation</span></span>  
 <span data-ttu-id="6634c-118">Pokud je předchozí příklad serializován do XML, reprezentace je podobná následující.</span><span class="sxs-lookup"><span data-stu-id="6634c-118">If the previous example is serialized to XML, the representation is similar to the following.</span></span>  
  
```xml  
<Employee>  
   <employeeName xsi:nil="true" />  
   <employeeID>0</employeeID>  
<targetSalary>57800</targetSalary>  
</Employee>  
```  
  
 <span data-ttu-id="6634c-119">`xsi:nil`Atribut je speciální atribut v oboru názvů instance schématu XML konsorcium World Wide Web (W3C), který poskytuje interoperabilní způsob, jak explicitně reprezentovat hodnotu null.</span><span class="sxs-lookup"><span data-stu-id="6634c-119">The `xsi:nil` attribute is a special attribute in the World Wide Web Consortium (W3C) XML Schema instance namespace that provides an interoperable way to explicitly represent a null value.</span></span> <span data-ttu-id="6634c-120">Všimněte si, že v XML nejsou žádné informace o pozicích, platech a datových členech bonusu.</span><span class="sxs-lookup"><span data-stu-id="6634c-120">Note that there is no information at all in the XML about position, salary, and bonus data members.</span></span> <span data-ttu-id="6634c-121">Konec příjmu může tyto hodnoty interpretovat jako `null` , nula a v `null` uvedeném pořadí.</span><span class="sxs-lookup"><span data-stu-id="6634c-121">The receiving end can interpret these as `null`, zero, and `null`, respectively.</span></span> <span data-ttu-id="6634c-122">Není zaručeno, že deserializátor třetí strany může provést správnou interpretaci, což znamená, proč se tento model nedoporučuje.</span><span class="sxs-lookup"><span data-stu-id="6634c-122">There is no guarantee that a third-party deserializer can make the correct interpretation, which is why this pattern is not recommended.</span></span> <span data-ttu-id="6634c-123"><xref:System.Runtime.Serialization.DataContractSerializer>Třída vždy vybere správnou interpretaci chybějících hodnot.</span><span class="sxs-lookup"><span data-stu-id="6634c-123">The <xref:System.Runtime.Serialization.DataContractSerializer> class always selects the correct interpretation for missing values.</span></span>  
  
### <a name="interaction-with-isrequired"></a><span data-ttu-id="6634c-124">Interakce s-Required</span><span class="sxs-lookup"><span data-stu-id="6634c-124">Interaction with IsRequired</span></span>  
 <span data-ttu-id="6634c-125">Jak je popsáno v tématu [Správa verzí kontraktů dat](data-contract-versioning.md), <xref:System.Runtime.Serialization.DataMemberAttribute> má atribut <xref:System.Runtime.Serialization.DataMemberAttribute.IsRequired%2A> vlastnost (výchozí hodnota je `false` ).</span><span class="sxs-lookup"><span data-stu-id="6634c-125">As discussed in [Data Contract Versioning](data-contract-versioning.md), the <xref:System.Runtime.Serialization.DataMemberAttribute> attribute has an <xref:System.Runtime.Serialization.DataMemberAttribute.IsRequired%2A> property (the default is `false`).</span></span> <span data-ttu-id="6634c-126">Vlastnost označuje, zda musí být daný datový člen přítomen v serializovaných datech při deserializaci.</span><span class="sxs-lookup"><span data-stu-id="6634c-126">The property indicates whether a given data member must be present in the serialized data when it is being deserialized.</span></span> <span data-ttu-id="6634c-127">Pokud `IsRequired` je nastaveno na `true` , (což znamená, že musí být přítomna hodnota) a <xref:System.Runtime.Serialization.DataMemberAttribute.EmitDefaultValue%2A> je nastavena na (to znamená `false` , že hodnota nesmí být přítomna, pokud je nastavena na výchozí hodnotu), nelze výchozí hodnoty pro tento datový člen serializovat, protože výsledky by byly protichůdny.</span><span class="sxs-lookup"><span data-stu-id="6634c-127">If `IsRequired` is set to `true`, (which indicates that a value must be present) and <xref:System.Runtime.Serialization.DataMemberAttribute.EmitDefaultValue%2A> is set to `false` (indicating that the value must not be present if it is set to its default value), default values for this data member cannot be serialized because the results would be contradictory.</span></span> <span data-ttu-id="6634c-128">Pokud je takový datový člen nastaven na výchozí hodnotu (obvykle `null` nebo nula) a je proveden pokus o serializaci, <xref:System.Runtime.Serialization.SerializationException> je vyvolána.</span><span class="sxs-lookup"><span data-stu-id="6634c-128">If such a data member is set to its default value (usually `null` or zero) and a serialization is attempted, a <xref:System.Runtime.Serialization.SerializationException> is thrown.</span></span>  
  
### <a name="schema-representation"></a><span data-ttu-id="6634c-129">Reprezentace schématu</span><span class="sxs-lookup"><span data-stu-id="6634c-129">Schema Representation</span></span>  
 <span data-ttu-id="6634c-130">Podrobnosti reprezentace schématu XML schématu definice jazyka (XSD), pokud `EmitDefaultValue` je vlastnost nastavena na hodnotu, je `false` popsána v tématu [referenční informace schématu kontraktu dat](data-contract-schema-reference.md).</span><span class="sxs-lookup"><span data-stu-id="6634c-130">The details of the XML Schema definition language (XSD) schema representation of data members when the `EmitDefaultValue` property is set to `false` are discussed in [Data Contract Schema Reference](data-contract-schema-reference.md).</span></span> <span data-ttu-id="6634c-131">Následující je však stručný přehled:</span><span class="sxs-lookup"><span data-stu-id="6634c-131">However, the following is a brief overview:</span></span>  
  
- <span data-ttu-id="6634c-132">Pokud <xref:System.Runtime.Serialization.DataMemberAttribute.EmitDefaultValue%2A> je parametr nastaven na hodnotu `false` , je reprezentován ve schématu jako anotace specifickou pro Windows Communication Foundation (WCF).</span><span class="sxs-lookup"><span data-stu-id="6634c-132">When the <xref:System.Runtime.Serialization.DataMemberAttribute.EmitDefaultValue%2A> is set to `false`, it is represented in the schema as an annotation specific to Windows Communication Foundation (WCF).</span></span> <span data-ttu-id="6634c-133">Neexistuje žádný vzájemně ovladatelný způsob, jak tyto informace zastupovat.</span><span class="sxs-lookup"><span data-stu-id="6634c-133">There is no interoperable way to represent this information.</span></span> <span data-ttu-id="6634c-134">Konkrétně atribut "default" ve schématu se pro tento účel nepoužívá, `minOccurs` atribut je ovlivněn pouze <xref:System.Runtime.Serialization.DataMemberAttribute.IsRequired%2A> nastavením a `nillable` atribut je ovlivněn pouze typem datového členu.</span><span class="sxs-lookup"><span data-stu-id="6634c-134">In particular, the "default" attribute in the schema is not used for this purpose, the `minOccurs` attribute is affected only by the <xref:System.Runtime.Serialization.DataMemberAttribute.IsRequired%2A> setting, and the `nillable` attribute is affected only by the type of the data member.</span></span>  
  
- <span data-ttu-id="6634c-135">Skutečná výchozí hodnota, která se má použít, není ve schématu přítomná.</span><span class="sxs-lookup"><span data-stu-id="6634c-135">The actual default value to use is not present in the schema.</span></span> <span data-ttu-id="6634c-136">Je k dispozici koncový bod ke správnému interpretaci chybějícího prvku.</span><span class="sxs-lookup"><span data-stu-id="6634c-136">It is up to the receiving endpoint to appropriately interpret a missing element.</span></span>  
  
 <span data-ttu-id="6634c-137">Při importu schématu <xref:System.Runtime.Serialization.DataMemberAttribute.EmitDefaultValue%2A> je vlastnost automaticky nastavena na `false` pokaždé, když je zjištěna Poznámka specifická pro WCF.</span><span class="sxs-lookup"><span data-stu-id="6634c-137">On schema import, the <xref:System.Runtime.Serialization.DataMemberAttribute.EmitDefaultValue%2A> property is automatically set to `false` whenever the WCF-specific annotation mentioned previously is detected.</span></span> <span data-ttu-id="6634c-138">Je také nastaveno na `false` pro typy odkazů, které mají `nillable` vlastnost nastavenou na `false` podporu specifických scénářů interoperability, které se běžně vyskytují při využívání webových služeb ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="6634c-138">It is also set to `false` for reference types that have the `nillable` property set to `false` to support specific interoperability scenarios that commonly occur when consuming ASP.NET Web services.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="6634c-139">Viz také</span><span class="sxs-lookup"><span data-stu-id="6634c-139">See also</span></span>

- <xref:System.Runtime.Serialization.DataMemberAttribute.EmitDefaultValue%2A>
- <xref:System.Runtime.Serialization.DataMemberAttribute>
