---
title: Spolehlivé relace – přehled
ms.date: 03/30/2017
ms.assetid: a7fc4146-ee2c-444c-82d4-ef6faffccc2d
ms.openlocfilehash: a85a34c5e2ec7928c01586e4b01cdf5e90e896a7
ms.sourcegitcommit: cdb295dd1db589ce5169ac9ff096f01fd0c2da9d
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 06/09/2020
ms.locfileid: "84601085"
---
# <a name="reliable-sessions-overview"></a><span data-ttu-id="9fdbf-102">Spolehlivé relace – přehled</span><span class="sxs-lookup"><span data-stu-id="9fdbf-102">Reliable Sessions Overview</span></span>

<span data-ttu-id="9fdbf-103">Spolehlivé zasílání zpráv protokolu SOAP Windows Communication Foundation (WCF) poskytuje koncovou spolehlivost přenosu zpráv mezi koncovými body SOAP.</span><span class="sxs-lookup"><span data-stu-id="9fdbf-103">Windows Communication Foundation (WCF) SOAP reliable messaging provides end-to-end message transfer reliability between SOAP endpoints.</span></span> <span data-ttu-id="9fdbf-104">Je to v sítích, které jsou nespolehlivé při překonání selhání přenosu a selhání na úrovni zpráv SOAP.</span><span class="sxs-lookup"><span data-stu-id="9fdbf-104">It does this on networks that are unreliable by overcoming transport failures and SOAP message-level failures.</span></span> <span data-ttu-id="9fdbf-105">Konkrétně poskytuje objednané a (volitelně) seřazené doručování zpráv odesílaných napříč zprostředkovateli SOAP nebo přenosu.</span><span class="sxs-lookup"><span data-stu-id="9fdbf-105">In particular, it provides session-based, single, and (optionally) ordered delivery for messages sent across SOAP or transport intermediaries.</span></span> <span data-ttu-id="9fdbf-106">Doručování na základě relací poskytuje seskupování zpráv v relaci s volitelným řazením zpráv.</span><span class="sxs-lookup"><span data-stu-id="9fdbf-106">Session-based delivery provides for grouping messages in a session with optional ordering of the messages.</span></span>

<span data-ttu-id="9fdbf-107">V tomto tématu jsou popsány spolehlivé relace, jak a kdy je budete používat, a jak je zabezpečit.</span><span class="sxs-lookup"><span data-stu-id="9fdbf-107">This topic describes reliable sessions, how and when to use them, and how to secure them.</span></span>

## <a name="wcf-reliable-sessions"></a><span data-ttu-id="9fdbf-108">Spolehlivé relace WCF</span><span class="sxs-lookup"><span data-stu-id="9fdbf-108">WCF reliable sessions</span></span>

<span data-ttu-id="9fdbf-109">Spolehlivé relace WCF je implementace spolehlivého zasílání zpráv SOAP podle definice protokolu WS-ReliableMessaging.</span><span class="sxs-lookup"><span data-stu-id="9fdbf-109">WCF reliable sessions is an implementation of SOAP reliable messaging as defined by the WS-ReliableMessaging protocol.</span></span>

<span data-ttu-id="9fdbf-110">Spolehlivé zasílání zpráv SOAP WCF poskytuje ucelenou spolehlivou relaci mezi dvěma koncovými body bez ohledu na počet nebo typ zprostředkovatelů, které oddělují koncové body zasílání zpráv.</span><span class="sxs-lookup"><span data-stu-id="9fdbf-110">WCF SOAP reliable messaging provides an end-to-end reliable session between two endpoints, regardless of the number or type of intermediaries that separate the messaging endpoints.</span></span> <span data-ttu-id="9fdbf-111">Patří sem všichni zprostředkovatelé přenosu, kteří nepoužívají protokol SOAP (například proxy servery HTTP) nebo zprostředkovatelé, kteří používají protokol SOAP (například směrovače nebo mosty založené na protokolu SOAP), které jsou požadovány pro zprávy, které mají tok mezi koncovými body.</span><span class="sxs-lookup"><span data-stu-id="9fdbf-111">This includes any transport intermediaries that don't use SOAP (for example, HTTP proxies) or intermediaries that use SOAP (for example, SOAP-based routers or bridges) that are required for messages to flow between the endpoints.</span></span> <span data-ttu-id="9fdbf-112">Kanál spolehlivé relace podporuje *interaktivní* komunikaci, aby se služby propojené tímto kanálem spouštěly souběžně, a vyměňují a zpracovávají zprávy za podmínek nízké latence, což je v poměrně krátké době.</span><span class="sxs-lookup"><span data-stu-id="9fdbf-112">A reliable session channel supports *interactive* communication so that the services connected by such a channel run concurrently and exchange and process messages under conditions of low latency, that is, within relatively short intervals of time.</span></span> <span data-ttu-id="9fdbf-113">Toto spojení znamená, že tyto komponenty probíhají společně nebo selžou společně, takže mezi nimi není žádná izolace.</span><span class="sxs-lookup"><span data-stu-id="9fdbf-113">This coupling means that these components make progress together or fail together, so there's no isolation provided between them.</span></span>

<span data-ttu-id="9fdbf-114">Spolehlivé relace maskují dva druhy selhání:</span><span class="sxs-lookup"><span data-stu-id="9fdbf-114">A reliable session masks two kinds of failures:</span></span>

- <span data-ttu-id="9fdbf-115">Selhání na úrovni zpráv SOAP, které zahrnuje ztráty nebo duplicitní zprávy a zprávy, které dorazí v jiném pořadí, než je v pořadí, ve kterém byly odeslány.</span><span class="sxs-lookup"><span data-stu-id="9fdbf-115">SOAP message-level failures, which includes lost or duplicated messages and messages that arrive in a different order from the order in which they were sent.</span></span>

- <span data-ttu-id="9fdbf-116">Selhání přenosu.</span><span class="sxs-lookup"><span data-stu-id="9fdbf-116">Transport failures.</span></span>

<span data-ttu-id="9fdbf-117">Spolehlivá relace implementuje protokol WS-ReliableMessaging a okno přenosu v paměti, které umožňuje maskovat selhání na úrovni zpráv SOAP a znovu vytvoří připojení v případě selhání přenosu.</span><span class="sxs-lookup"><span data-stu-id="9fdbf-117">A reliable session implements the WS-ReliableMessaging protocol and an in-memory transfer window to mask SOAP message-level failures and re-establishes connections in the case of transport failures.</span></span>

<span data-ttu-id="9fdbf-118">Spolehlivá relace poskytuje zprávy protokolu SOAP, které protokol TCP poskytuje pro pakety IP.</span><span class="sxs-lookup"><span data-stu-id="9fdbf-118">A reliable session provides for SOAP messages what TCP provides for IP packets.</span></span> <span data-ttu-id="9fdbf-119">Připojení soketu TCP poskytuje jednotné převádění paketů protokolu IP mezi uzly v daném pořadí.</span><span class="sxs-lookup"><span data-stu-id="9fdbf-119">A TCP socket connection provides a singular, in-order transfer of IP packets between nodes.</span></span> <span data-ttu-id="9fdbf-120">Spolehlivý kanál poskytuje stejný typ spolehlivého přenosu, ale liší se od spolehlivosti soketu TCP následujícími způsoby:</span><span class="sxs-lookup"><span data-stu-id="9fdbf-120">The reliable channel provides the same type of reliable transfer, but it differs from TCP socket reliability in the following ways:</span></span>

- <span data-ttu-id="9fdbf-121">Spolehlivost je na úrovni zprávy protokolu SOAP, nikoli v případě svévolné velikosti paketu bajtů.</span><span class="sxs-lookup"><span data-stu-id="9fdbf-121">The reliability is at the SOAP message level, not for an arbitrarily sized packet of bytes.</span></span>

- <span data-ttu-id="9fdbf-122">Spolehlivost je přenosově neutrální, nikoli jenom pro přenos přes protokol TCP.</span><span class="sxs-lookup"><span data-stu-id="9fdbf-122">The reliability is transport-neutral, not just for transfer over TCP.</span></span>

- <span data-ttu-id="9fdbf-123">Spolehlivost není vázaná na konkrétní přenosovou relaci (například relace, kterou poskytuje připojení TCP), a může současně používat víc přenosů přenosu, nebo postupně po dobu životnosti spolehlivé relace.</span><span class="sxs-lookup"><span data-stu-id="9fdbf-123">The reliability isn't tied to a particular transport session (for example, the session a TCP connection provides) and can use multiple transport sessions concurrently or sequentially over the lifetime of the reliable session.</span></span>

- <span data-ttu-id="9fdbf-124">Spolehlivá relace je mezi koncovými body protokolu SOAP odesílatele a příjemce, a to bez ohledu na počet přenosů, které jsou potřeba k připojení mezi nimi.</span><span class="sxs-lookup"><span data-stu-id="9fdbf-124">The reliable session is between the sender and receiver SOAP endpoints, regardless of the number of transport connections required for connectivity between them.</span></span> <span data-ttu-id="9fdbf-125">V krátké době spolehlivost protokolu TCP končí tím, že přenosová připojení skončí, zatímco stabilní relace zajišťuje komplexní spolehlivost.</span><span class="sxs-lookup"><span data-stu-id="9fdbf-125">In short, TCP reliability ends where the transport connection ends, while a reliable session provides end-to-end reliability.</span></span>

## <a name="reliable-sessions-and-bindings"></a><span data-ttu-id="9fdbf-126">Spolehlivé relace a vazby</span><span class="sxs-lookup"><span data-stu-id="9fdbf-126">Reliable sessions and bindings</span></span>

<span data-ttu-id="9fdbf-127">Jak bylo zmíněno dříve, Spolehlivá relace je nezávislá na přenosu.</span><span class="sxs-lookup"><span data-stu-id="9fdbf-127">As mentioned earlier, a reliable session is transport neutral.</span></span> <span data-ttu-id="9fdbf-128">Můžete také vytvořit spolehlivou relaci přes mnoho vzorů výměny zpráv, jako je například požadavek-odpověď nebo duplexní přenos.</span><span class="sxs-lookup"><span data-stu-id="9fdbf-128">Also, you can establish a reliable session over many message exchange patterns, such as request-reply or duplex.</span></span> <span data-ttu-id="9fdbf-129">Spolehlivá relace WCF je vystavena jako vlastnost sady vazeb.</span><span class="sxs-lookup"><span data-stu-id="9fdbf-129">A WCF reliable session is exposed as a property of a set of bindings.</span></span>

<span data-ttu-id="9fdbf-130">Používejte spolehlivé relace na koncových bodech, které používají:</span><span class="sxs-lookup"><span data-stu-id="9fdbf-130">Use a reliable session on endpoints that use:</span></span>

- <span data-ttu-id="9fdbf-131">Transportní standardní vazby založené na protokolu HTTP:</span><span class="sxs-lookup"><span data-stu-id="9fdbf-131">HTTP-based transport standard bindings:</span></span>

  - <span data-ttu-id="9fdbf-132">`WsHttpBinding`a zveřejňujte požadavek-odpověď nebo jednosměrné smlouvy.</span><span class="sxs-lookup"><span data-stu-id="9fdbf-132">`WsHttpBinding` and expose request-reply or one-way contracts.</span></span>

  - <span data-ttu-id="9fdbf-133">Při použití spolehlivé relace přes odpověď na požadavek nebo jednoduchou jednosměrnou kontrakt služby.</span><span class="sxs-lookup"><span data-stu-id="9fdbf-133">When using reliable session over a request-reply or simple one-way service contract.</span></span>

  - <span data-ttu-id="9fdbf-134">`WsDualHttpBinding`a zveřejňujte duplexní, požadavek-odpověď nebo jednosměrné kontrakty.</span><span class="sxs-lookup"><span data-stu-id="9fdbf-134">`WsDualHttpBinding` and expose duplex, request-reply, or one-way contracts.</span></span>

  - <span data-ttu-id="9fdbf-135">`WsFederationHttpBinding`a zveřejňujte požadavek-odpověď nebo jednosměrné smlouvy.</span><span class="sxs-lookup"><span data-stu-id="9fdbf-135">`WsFederationHttpBinding` and expose request-reply or one-way contracts.</span></span>

- <span data-ttu-id="9fdbf-136">Transportní standardní vazby založené na protokolu TCP:</span><span class="sxs-lookup"><span data-stu-id="9fdbf-136">TCP-based transport standard bindings:</span></span>

  - <span data-ttu-id="9fdbf-137">`NetTcpBinding`a zveřejňujte duplexní, požadavek na odpověď nebo jednosměrné kontrakty.</span><span class="sxs-lookup"><span data-stu-id="9fdbf-137">`NetTcpBinding` and expose duplex, request reply, or one-way contracts.</span></span>

<span data-ttu-id="9fdbf-138">Použití spolehlivé relace na všech dalších vazbách vytvořením vlastní vazby, jako je například HTTPS (Další informace o problémech najdete v tématu <a href="#reliable-sessions-and-security">spolehlivé relace a zabezpečení</a>) nebo vazby pojmenovaného kanálu.</span><span class="sxs-lookup"><span data-stu-id="9fdbf-138">Use a reliable session on any other bindings by creating a custom binding, such as HTTPS (for more information about issues, see <a href="#reliable-sessions-and-security">Reliable sessions and security</a>) or a named pipe binding.</span></span>

<span data-ttu-id="9fdbf-139">Můžete vytvořit zásobník spolehlivé relace pro různé základní typy kanálů a výsledný tvar kanálu spolehlivé relace se liší.</span><span class="sxs-lookup"><span data-stu-id="9fdbf-139">You can stack a reliable session on different underlying channel types, and the resulting reliable session channel shape varies.</span></span> <span data-ttu-id="9fdbf-140">U klienta i serveru je typ podporovaného kanálu spolehlivé relace závislý na typu použitého kanálu.</span><span class="sxs-lookup"><span data-stu-id="9fdbf-140">On both the client and the server, the type of reliable session channel supported depends on the type of underlying channel used.</span></span> <span data-ttu-id="9fdbf-141">Následující tabulka uvádí typy kanálů relací podporovaných v klientovi jako funkce základního typu kanálu.</span><span class="sxs-lookup"><span data-stu-id="9fdbf-141">The following table lists the types of session channels supported on the client as a function of the underlying channel type.</span></span>

| <span data-ttu-id="9fdbf-142">Podporované typy kanálů spolehlivé relace&#8224;</span><span class="sxs-lookup"><span data-stu-id="9fdbf-142">Supported reliable session channel types&#8224;</span></span> | `IRequestChannel` | `IRequestSessionChannel` | `IDuplexChannel` | `IDuplexSessionChannel` |
| ----------------------------------------------- | :---------------: | :----------------------: | :--------------: | :---------------------: |
| `IOutputSessionChannel`                         | <span data-ttu-id="9fdbf-143">Ano</span><span class="sxs-lookup"><span data-stu-id="9fdbf-143">Yes</span></span>               | <span data-ttu-id="9fdbf-144">Ano</span><span class="sxs-lookup"><span data-stu-id="9fdbf-144">Yes</span></span>                      | <span data-ttu-id="9fdbf-145">Ano</span><span class="sxs-lookup"><span data-stu-id="9fdbf-145">Yes</span></span>              | <span data-ttu-id="9fdbf-146">Ano</span><span class="sxs-lookup"><span data-stu-id="9fdbf-146">Yes</span></span>                     |
| `IRequestSessionChannel`                        | <span data-ttu-id="9fdbf-147">Ano</span><span class="sxs-lookup"><span data-stu-id="9fdbf-147">Yes</span></span>               | <span data-ttu-id="9fdbf-148">Ano</span><span class="sxs-lookup"><span data-stu-id="9fdbf-148">Yes</span></span>                      | <span data-ttu-id="9fdbf-149">Ne</span><span class="sxs-lookup"><span data-stu-id="9fdbf-149">No</span></span>               | <span data-ttu-id="9fdbf-150">Ne</span><span class="sxs-lookup"><span data-stu-id="9fdbf-150">No</span></span>                      |
| `IDuplexSessionChannel`                         | <span data-ttu-id="9fdbf-151">Ne</span><span class="sxs-lookup"><span data-stu-id="9fdbf-151">No</span></span>                | <span data-ttu-id="9fdbf-152">No</span><span class="sxs-lookup"><span data-stu-id="9fdbf-152">No</span></span>                       | <span data-ttu-id="9fdbf-153">Ano</span><span class="sxs-lookup"><span data-stu-id="9fdbf-153">Yes</span></span>              | <span data-ttu-id="9fdbf-154">Ano</span><span class="sxs-lookup"><span data-stu-id="9fdbf-154">Yes</span></span>                     |

<span data-ttu-id="9fdbf-155">&#8224;podporovaných typů kanálů jsou dostupné hodnoty pro `TChannel` hodnotu obecného parametru, která je předána <xref:System.ServiceModel.Channels.ReliableSessionBindingElement.BuildChannelFactory%60%601%28System.ServiceModel.Channels.BindingContext%29> metodě.</span><span class="sxs-lookup"><span data-stu-id="9fdbf-155">&#8224;The supported channel types are the values available for the generic `TChannel` parameter value that is passed into the <xref:System.ServiceModel.Channels.ReliableSessionBindingElement.BuildChannelFactory%60%601%28System.ServiceModel.Channels.BindingContext%29> method.</span></span>

<span data-ttu-id="9fdbf-156">V následující tabulce jsou uvedeny typy kanálů relací, které jsou na serveru podporovány jako funkce základního typu kanálu.</span><span class="sxs-lookup"><span data-stu-id="9fdbf-156">The following table lists the types of session channels supported on the server as a function of the underlying channel type.</span></span>

| <span data-ttu-id="9fdbf-157">Podporované typy kanálů spolehlivé relace&#8225;</span><span class="sxs-lookup"><span data-stu-id="9fdbf-157">Supported reliable session channel types&#8225;</span></span> | `IReplyChannel` | `IReplySessionChannel` | `IDuplexChannel` | `IDuplexSessionChannel` |
| ----------------------------------------------- | :-------------: | :--------------------: | :--------------: | :---------------------: |
| `IInputSessionChannel`                          | <span data-ttu-id="9fdbf-158">Ano</span><span class="sxs-lookup"><span data-stu-id="9fdbf-158">Yes</span></span>             | <span data-ttu-id="9fdbf-159">Ano</span><span class="sxs-lookup"><span data-stu-id="9fdbf-159">Yes</span></span>                    | <span data-ttu-id="9fdbf-160">Ano</span><span class="sxs-lookup"><span data-stu-id="9fdbf-160">Yes</span></span>              | <span data-ttu-id="9fdbf-161">Ano</span><span class="sxs-lookup"><span data-stu-id="9fdbf-161">Yes</span></span>                     |
| `IReplySessionChannel`                          | <span data-ttu-id="9fdbf-162">Ano</span><span class="sxs-lookup"><span data-stu-id="9fdbf-162">Yes</span></span>             | <span data-ttu-id="9fdbf-163">Ano</span><span class="sxs-lookup"><span data-stu-id="9fdbf-163">Yes</span></span>                    | <span data-ttu-id="9fdbf-164">Ne</span><span class="sxs-lookup"><span data-stu-id="9fdbf-164">No</span></span>               | <span data-ttu-id="9fdbf-165">Ne</span><span class="sxs-lookup"><span data-stu-id="9fdbf-165">No</span></span>                      |
| `IDuplexSessionChannel`                         | <span data-ttu-id="9fdbf-166">Ne</span><span class="sxs-lookup"><span data-stu-id="9fdbf-166">No</span></span>              | <span data-ttu-id="9fdbf-167">No</span><span class="sxs-lookup"><span data-stu-id="9fdbf-167">No</span></span>                     | <span data-ttu-id="9fdbf-168">Ano</span><span class="sxs-lookup"><span data-stu-id="9fdbf-168">Yes</span></span>              | <span data-ttu-id="9fdbf-169">Ano</span><span class="sxs-lookup"><span data-stu-id="9fdbf-169">Yes</span></span>                     |

<span data-ttu-id="9fdbf-170">&#8225;podporovaných typů kanálů jsou dostupné hodnoty pro `TChannel` hodnotu obecného parametru, která je předána <xref:System.ServiceModel.Channels.ReliableSessionBindingElement.BuildChannelListener%60%601%28System.ServiceModel.Channels.BindingContext%29> metodě.</span><span class="sxs-lookup"><span data-stu-id="9fdbf-170">&#8225;The supported channel types are the values available for the generic `TChannel` parameter value that is passed into the <xref:System.ServiceModel.Channels.ReliableSessionBindingElement.BuildChannelListener%60%601%28System.ServiceModel.Channels.BindingContext%29> method.</span></span>

## <a name="reliable-sessions-and-security"></a><span data-ttu-id="9fdbf-171">Spolehlivé relace a zabezpečení</span><span class="sxs-lookup"><span data-stu-id="9fdbf-171">Reliable sessions and security</span></span>

<span data-ttu-id="9fdbf-172">Zabezpečení spolehlivé relace je důležité, aby bylo zajištěno, že jsou ověřeny komunikující strany (služby a klienti) a že zprávy vyměňované v relaci nejsou úmyslně poškozeny.</span><span class="sxs-lookup"><span data-stu-id="9fdbf-172">Securing a reliable session is important to ensure that the communicating parties (service and client) are authenticated and that the messages exchanged in the session aren't tampered with.</span></span> <span data-ttu-id="9fdbf-173">Kromě toho je důležité zajistit integritu jednotlivých spolehlivých relací.</span><span class="sxs-lookup"><span data-stu-id="9fdbf-173">Furthermore, it's important to ensure the integrity of each individual reliable session.</span></span> <span data-ttu-id="9fdbf-174">Spolehlivá relace je zabezpečená vazbou na kontext zabezpečení reprezentovaný a spravovaný kanálem relace zabezpečení.</span><span class="sxs-lookup"><span data-stu-id="9fdbf-174">A reliable session is secured by binding it to a security context that's represented and managed by a security session channel.</span></span> <span data-ttu-id="9fdbf-175">Kanál zabezpečení poskytuje bezpečnostní relaci.</span><span class="sxs-lookup"><span data-stu-id="9fdbf-175">The security channel provides a security session.</span></span> <span data-ttu-id="9fdbf-176">Tokeny zabezpečení vyměňované během navazování relace se pak používají k zabezpečení zpráv ve stabilní relaci.</span><span class="sxs-lookup"><span data-stu-id="9fdbf-176">Security tokens exchanged during the session establishment are then used to secure the messages in the reliable session.</span></span>

<span data-ttu-id="9fdbf-177">Když je spolehlivá relace přes TCP-S, relace protokolu TCP je svázána s stabilní relací.</span><span class="sxs-lookup"><span data-stu-id="9fdbf-177">When a reliable session is over TCP-S, the TCP session is tied to the reliable session.</span></span> <span data-ttu-id="9fdbf-178">Proto zabezpečení přenosu zajišťuje, že zabezpečení je také svázáno s spolehlivou relací.</span><span class="sxs-lookup"><span data-stu-id="9fdbf-178">Therefore, transport security ensures that security is also tied to the reliable session.</span></span> <span data-ttu-id="9fdbf-179">V tomto případě je opětovné vytvoření připojení vypnuté.</span><span class="sxs-lookup"><span data-stu-id="9fdbf-179">In this case, connection re-establishment is turned off.</span></span>

<span data-ttu-id="9fdbf-180">Jedinou výjimkou je použití protokolu HTTPS.</span><span class="sxs-lookup"><span data-stu-id="9fdbf-180">The only exception is when using HTTPS.</span></span> <span data-ttu-id="9fdbf-181">Relace SSL (Secure Sockets Layer) (SSL) není vázaná na stabilní relaci.</span><span class="sxs-lookup"><span data-stu-id="9fdbf-181">The Secure Sockets Layer (SSL) session isn't bound to the reliable session.</span></span> <span data-ttu-id="9fdbf-182">To představuje hrozbu, protože relace, které sdílí kontext zabezpečení (relace SSL), nejsou navzájem chráněné. To může nebo nemusí být skutečná hrozba v závislosti na aplikaci.</span><span class="sxs-lookup"><span data-stu-id="9fdbf-182">This imposes a threat because sessions that are sharing a security context (the SSL session) aren't protected from each other; this might or might not be a real threat depending on the application.</span></span>

## <a name="using-reliable-sessions"></a><span data-ttu-id="9fdbf-183">Používání spolehlivých relací</span><span class="sxs-lookup"><span data-stu-id="9fdbf-183">Using reliable sessions</span></span>

<span data-ttu-id="9fdbf-184">Chcete-li použít spolehlivé relace WCF, vytvořte koncový bod s vazbou, která podporuje spolehlivou relaci.</span><span class="sxs-lookup"><span data-stu-id="9fdbf-184">To use WCF reliable sessions, create an endpoint with a binding that supports a reliable session.</span></span> <span data-ttu-id="9fdbf-185">Použijte jednu z uživatelsky dodaných vazeb, které poskytuje WCF se zapnutou spolehlivou relací, nebo vytvořte vlastní vazbu, která to dělá.</span><span class="sxs-lookup"><span data-stu-id="9fdbf-185">Use one of the system-provided bindings that WCF provides with the reliable session enabled or create your own custom binding that does this.</span></span>

<span data-ttu-id="9fdbf-186">Mezi systémem definované vazby, které podporují a povolují spolehlivou relaci, patří:</span><span class="sxs-lookup"><span data-stu-id="9fdbf-186">The system-defined bindings that support and enable a reliable session by default include:</span></span>

- <xref:System.ServiceModel.WSDualHttpBinding>

<span data-ttu-id="9fdbf-187">Uživatelsky zadané vazby, které podporují spolehlivé relace jako možnost, ale nepovolují jednu ve výchozím nastavení, zahrnují:</span><span class="sxs-lookup"><span data-stu-id="9fdbf-187">The system-provided bindings that support a reliable session as an option but don't enable one by default include:</span></span>

- <xref:System.ServiceModel.WSHttpBinding>

- <xref:System.ServiceModel.WSFederationHttpBinding>

- <xref:System.ServiceModel.NetTcpBinding>

<span data-ttu-id="9fdbf-188">Příklad, jak vytvořit vlastní vazbu, naleznete v tématu [How to: Create a Custom Reliable Session Binding with https](how-to-create-a-custom-reliable-session-binding-with-https.md).</span><span class="sxs-lookup"><span data-stu-id="9fdbf-188">For an example of how to create a custom binding, see [How to: Create a Custom Reliable Session Binding with HTTPS](how-to-create-a-custom-reliable-session-binding-with-https.md).</span></span>

<span data-ttu-id="9fdbf-189">Diskuzi o vazbách WCF, které podporují spolehlivé relace, najdete v tématu [vazby poskytované systémem](../system-provided-bindings.md).</span><span class="sxs-lookup"><span data-stu-id="9fdbf-189">For a discussion of WCF bindings that support reliable sessions, see [System-Provided Bindings](../system-provided-bindings.md).</span></span>

## <a name="when-to-use-reliable-sessions"></a><span data-ttu-id="9fdbf-190">Kdy použít spolehlivé relace</span><span class="sxs-lookup"><span data-stu-id="9fdbf-190">When to use reliable sessions</span></span>

<span data-ttu-id="9fdbf-191">Je důležité pochopit, kdy používat spolehlivé relace ve vaší aplikaci.</span><span class="sxs-lookup"><span data-stu-id="9fdbf-191">It's important to understand when to use reliable sessions in your application.</span></span> <span data-ttu-id="9fdbf-192">Služba WCF podporuje spolehlivé relace mezi koncovými body, které jsou aktivní a aktivní ve stejnou dobu.</span><span class="sxs-lookup"><span data-stu-id="9fdbf-192">WCF supports reliable sessions between endpoints that are active and alive at the same time.</span></span> <span data-ttu-id="9fdbf-193">Pokud vaše aplikace vyžaduje, aby jeden z koncových bodů nebyl po dobu určitou dobu dostupný, použijte fronty k zajištění spolehlivosti.</span><span class="sxs-lookup"><span data-stu-id="9fdbf-193">If your application requires one of the endpoints be unavailable for a duration of time, then use queues to achieve reliability.</span></span>

<span data-ttu-id="9fdbf-194">Pokud scénář vyžaduje dva koncové body, které jsou připojeny přes protokol TCP, může být protokol TCP dostačující pro zajištění spolehlivých výměn zpráv.</span><span class="sxs-lookup"><span data-stu-id="9fdbf-194">If the scenario requires two endpoints connected over TCP, then TCP may be sufficient to provide reliable message exchanges.</span></span> <span data-ttu-id="9fdbf-195">I když není nutné používat spolehlivou relaci, protože TCP zajišťuje doručení paketů v pořadí a pouze jednou.</span><span class="sxs-lookup"><span data-stu-id="9fdbf-195">Although, it isn't necessary to use a reliable session, since TCP ensures that the packets arrive in order and only once.</span></span>

<span data-ttu-id="9fdbf-196">Pokud má váš scénář některé z následujících charakteristik, je nutné vážně zvážit použití spolehlivé relace.</span><span class="sxs-lookup"><span data-stu-id="9fdbf-196">If your scenario has any of the following characteristics, then you must seriously consider using a reliable session.</span></span>

- <span data-ttu-id="9fdbf-197">Zprostředkovatelé SOAP, jako jsou směrovače protokolu SOAP</span><span class="sxs-lookup"><span data-stu-id="9fdbf-197">SOAP intermediaries, such as SOAP routers</span></span>

- <span data-ttu-id="9fdbf-198">Zprostředkující servery proxy nebo přenosové mosty</span><span class="sxs-lookup"><span data-stu-id="9fdbf-198">Proxy intermediaries or transport bridges</span></span>

- <span data-ttu-id="9fdbf-199">Přerušované připojení</span><span class="sxs-lookup"><span data-stu-id="9fdbf-199">Intermittent connectivity</span></span>

- <span data-ttu-id="9fdbf-200">Relace přes protokol HTTP</span><span class="sxs-lookup"><span data-stu-id="9fdbf-200">Sessions over HTTP</span></span>

## <a name="see-also"></a><span data-ttu-id="9fdbf-201">Viz také</span><span class="sxs-lookup"><span data-stu-id="9fdbf-201">See also</span></span>

- [<span data-ttu-id="9fdbf-202">Používání vazeb ke konfiguraci služeb a klientů</span><span class="sxs-lookup"><span data-stu-id="9fdbf-202">Using Bindings to Configure Services and Clients</span></span>](../using-bindings-to-configure-services-and-clients.md)
- [<span data-ttu-id="9fdbf-203">Spolehlivá relace WS</span><span class="sxs-lookup"><span data-stu-id="9fdbf-203">WS Reliable Session</span></span>](../samples/ws-reliable-session.md)
