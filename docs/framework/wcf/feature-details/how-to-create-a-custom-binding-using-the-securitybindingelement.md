---
title: 'Postupy: Vytvoření vlastní vazby pomocí elementu SecurityBindingElement'
ms.date: 03/30/2017
dev_langs:
- csharp
- vb
helpviewer_keywords:
- security [WCF], creating custom bindings
ms.assetid: 203a9f9e-3a73-427c-87aa-721c56265b29
ms.openlocfilehash: da67d923b36d673c87c90ba79b72ad4e1fc64a0c
ms.sourcegitcommit: 37616676fde89153f563a485fc6159fc57326fc2
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 08/23/2019
ms.locfileid: "69988760"
---
# <a name="how-to-create-a-custom-binding-using-the-securitybindingelement"></a><span data-ttu-id="6c77c-102">Postupy: Vytvoření vlastní vazby pomocí elementu SecurityBindingElement</span><span class="sxs-lookup"><span data-stu-id="6c77c-102">How to: Create a Custom Binding Using the SecurityBindingElement</span></span>
<span data-ttu-id="6c77c-103">Windows Communication Foundation (WCF) zahrnuje několik systémových vazeb, které je možné nakonfigurovat, ale neposkytují plnou flexibilitu při konfiguraci všech možností zabezpečení, které podporuje WCF.</span><span class="sxs-lookup"><span data-stu-id="6c77c-103">Windows Communication Foundation (WCF) includes several system-provided bindings that can be configured but do not provide full flexibility when configuring all the security options that WCF supports.</span></span> <span data-ttu-id="6c77c-104">Toto téma ukazuje, jak vytvořit vlastní vazbu přímo z jednotlivých prvků vazby a zvýrazní některá z nastavení zabezpečení, která lze zadat při vytváření takové vazby.</span><span class="sxs-lookup"><span data-stu-id="6c77c-104">This topic demonstrates how to create a custom binding directly from individual binding elements and highlights some of the security settings that can be specified when creating such a binding.</span></span> <span data-ttu-id="6c77c-105">Další informace o vytváření vlastních vazeb naleznete v tématu [rozšíření vazeb](../../../../docs/framework/wcf/extending/extending-bindings.md).</span><span class="sxs-lookup"><span data-stu-id="6c77c-105">For more information about creating custom bindings, see [Extending Bindings](../../../../docs/framework/wcf/extending/extending-bindings.md).</span></span>  
  
> [!WARNING]
> <span data-ttu-id="6c77c-106"><xref:System.ServiceModel.Channels.SecurityBindingElement>nepodporuje obrazec <xref:System.ServiceModel.TransferMode> <xref:System.ServiceModel.TransferMode.Buffered>kanálu, což je výchozí obrazec kanálu, který používá přenos TCP, pokud je nastaven na. <xref:System.ServiceModel.Channels.IDuplexSessionChannel></span><span class="sxs-lookup"><span data-stu-id="6c77c-106"><xref:System.ServiceModel.Channels.SecurityBindingElement> does not support the <xref:System.ServiceModel.Channels.IDuplexSessionChannel> channel shape, which is the default channel shape use by the TCP transport when <xref:System.ServiceModel.TransferMode> is set to <xref:System.ServiceModel.TransferMode.Buffered>.</span></span> <span data-ttu-id="6c77c-107">V tomto scénáři <xref:System.ServiceModel.TransferMode> musíte <xref:System.ServiceModel.TransferMode.Streamed> nastavit na, aby <xref:System.ServiceModel.Channels.SecurityBindingElement> bylo možné použít.</span><span class="sxs-lookup"><span data-stu-id="6c77c-107">You must set <xref:System.ServiceModel.TransferMode> to <xref:System.ServiceModel.TransferMode.Streamed> in order to use <xref:System.ServiceModel.Channels.SecurityBindingElement> in this scenario.</span></span>  
  
## <a name="creating-a-custom-binding"></a><span data-ttu-id="6c77c-108">Vytvoření vlastní vazby</span><span class="sxs-lookup"><span data-stu-id="6c77c-108">Creating a Custom Binding</span></span>  
 <span data-ttu-id="6c77c-109">V WCF jsou všechny vazby tvořeny *prvky vazby*.</span><span class="sxs-lookup"><span data-stu-id="6c77c-109">In WCF all bindings are made up of *binding elements*.</span></span> <span data-ttu-id="6c77c-110">Každý prvek vazby je odvozen z <xref:System.ServiceModel.Channels.BindingElement> třídy.</span><span class="sxs-lookup"><span data-stu-id="6c77c-110">Each binding element derives from the <xref:System.ServiceModel.Channels.BindingElement> class.</span></span> <span data-ttu-id="6c77c-111">Pro standardní systémové vazby se vytvoří a nakonfigurují prvky vazby, i když můžete přizpůsobit některá nastavení vlastností.</span><span class="sxs-lookup"><span data-stu-id="6c77c-111">For the standard system-provided bindings, the binding elements are created and configured for you, although you can customize some of the property settings.</span></span>  
  
 <span data-ttu-id="6c77c-112">Naopak pro vytvoření vlastní vazby se vytvoří a nakonfigurují prvky vazby a <xref:System.ServiceModel.Channels.CustomBinding> vytvoří se z elementů vazby.</span><span class="sxs-lookup"><span data-stu-id="6c77c-112">In contrast, to create a custom binding, binding elements are created and configured and a <xref:System.ServiceModel.Channels.CustomBinding> is created from the binding elements.</span></span>  
  
 <span data-ttu-id="6c77c-113">Chcete-li to provést, přidejte jednotlivé prvky vazby do kolekce reprezentované instancí <xref:System.ServiceModel.Channels.BindingElementCollection> třídy a pak `Elements` nastavte vlastnost `CustomBinding` objektu EQUAL.</span><span class="sxs-lookup"><span data-stu-id="6c77c-113">To do this, you add the individual binding elements to a collection represented by an instance of the <xref:System.ServiceModel.Channels.BindingElementCollection> class, and then set the `Elements` property of the `CustomBinding` equal to that object.</span></span> <span data-ttu-id="6c77c-114">Prvky vazby je nutné přidat v následujícím pořadí: Tok transakcí, spolehlivé relace, zabezpečení, kompozitní duplexní, jednosměrné, zabezpečení datového proudu, kódování zpráv a přenos.</span><span class="sxs-lookup"><span data-stu-id="6c77c-114">You must add the binding elements in the following order: Transaction Flow, Reliable Session, Security, Composite Duplex, One-way, Stream Security, Message Encoding, and Transport.</span></span> <span data-ttu-id="6c77c-115">Všimněte si, že ne všechny uvedené prvky vazby jsou požadovány při každé vazbě.</span><span class="sxs-lookup"><span data-stu-id="6c77c-115">Note that not all the binding elements listed are required in every binding.</span></span>  
  
## <a name="securitybindingelement"></a><span data-ttu-id="6c77c-116">SecurityBindingElement</span><span class="sxs-lookup"><span data-stu-id="6c77c-116">SecurityBindingElement</span></span>  
 <span data-ttu-id="6c77c-117">Tři prvky vazby se týkají zabezpečení na úrovni zprávy, z nichž všechny jsou odvozeny z <xref:System.ServiceModel.Channels.SecurityBindingElement> třídy.</span><span class="sxs-lookup"><span data-stu-id="6c77c-117">Three binding elements relate to message level security, all of which derive from the <xref:System.ServiceModel.Channels.SecurityBindingElement> class.</span></span> <span data-ttu-id="6c77c-118">Tři jsou <xref:System.ServiceModel.Channels.TransportSecurityBindingElement>, <xref:System.ServiceModel.Channels.SymmetricSecurityBindingElement>a. <xref:System.ServiceModel.Channels.AsymmetricSecurityBindingElement></span><span class="sxs-lookup"><span data-stu-id="6c77c-118">The three are <xref:System.ServiceModel.Channels.TransportSecurityBindingElement>, <xref:System.ServiceModel.Channels.SymmetricSecurityBindingElement>, and <xref:System.ServiceModel.Channels.AsymmetricSecurityBindingElement>.</span></span> <span data-ttu-id="6c77c-119"><xref:System.ServiceModel.Channels.TransportSecurityBindingElement> Slouží k zajištění zabezpečení smíšeného režimu.</span><span class="sxs-lookup"><span data-stu-id="6c77c-119">The <xref:System.ServiceModel.Channels.TransportSecurityBindingElement> is used to provide Mixed mode security.</span></span> <span data-ttu-id="6c77c-120">Další dva prvky jsou použity, když vrstva zprávy poskytuje zabezpečení.</span><span class="sxs-lookup"><span data-stu-id="6c77c-120">The other two elements are used when the message layer provides security.</span></span>  
  
 <span data-ttu-id="6c77c-121">Další třídy se používají v případě, že je zajištěno zabezpečení na úrovni přenosu:</span><span class="sxs-lookup"><span data-stu-id="6c77c-121">Additional classes are used when transport level security is provided:</span></span>  
  
- <xref:System.ServiceModel.Channels.HttpsTransportBindingElement>  
  
- <xref:System.ServiceModel.Channels.SslStreamSecurityBindingElement>  
  
- <xref:System.ServiceModel.Channels.WindowsStreamSecurityBindingElement>  
  
## <a name="required-binding-elements"></a><span data-ttu-id="6c77c-122">Požadované prvky vazby</span><span class="sxs-lookup"><span data-stu-id="6c77c-122">Required Binding Elements</span></span>  
 <span data-ttu-id="6c77c-123">Existuje velký počet možných prvků vazby, které mohou být kombinovány do vazby.</span><span class="sxs-lookup"><span data-stu-id="6c77c-123">There are a large number of possible binding elements that can be combined into a binding.</span></span> <span data-ttu-id="6c77c-124">Některé z těchto kombinací nejsou platné.</span><span class="sxs-lookup"><span data-stu-id="6c77c-124">Not all of these combinations are valid.</span></span> <span data-ttu-id="6c77c-125">Tato část popisuje vyžadované prvky, které musí být přítomny ve vazbě zabezpečení.</span><span class="sxs-lookup"><span data-stu-id="6c77c-125">This section describes the required elements that must be present in a security binding.</span></span>  
  
 <span data-ttu-id="6c77c-126">Platné vazby zabezpečení závisí na mnoha faktorech, včetně následujících:</span><span class="sxs-lookup"><span data-stu-id="6c77c-126">Valid security bindings depend on many factors, including the following:</span></span>  
  
- <span data-ttu-id="6c77c-127">Režim zabezpečení.</span><span class="sxs-lookup"><span data-stu-id="6c77c-127">Security mode.</span></span>  
  
- <span data-ttu-id="6c77c-128">Transportní protokol.</span><span class="sxs-lookup"><span data-stu-id="6c77c-128">Transport protocol.</span></span>  
  
- <span data-ttu-id="6c77c-129">Vzor výměny zpráv (MEP) zadaný v kontraktu.</span><span class="sxs-lookup"><span data-stu-id="6c77c-129">The message exchange pattern (MEP) specified in the contract.</span></span>  
  
 <span data-ttu-id="6c77c-130">V následující tabulce jsou uvedeny platné konfigurace zásobníku prvků vazby pro každou kombinaci předchozích faktorů.</span><span class="sxs-lookup"><span data-stu-id="6c77c-130">The following table shows the valid binding element stack configurations for each combination of the preceding factors.</span></span> <span data-ttu-id="6c77c-131">Všimněte si, že se jedná o minimální požadavky.</span><span class="sxs-lookup"><span data-stu-id="6c77c-131">Note that these are minimal requirements.</span></span> <span data-ttu-id="6c77c-132">Do vazby lze přidat další prvky vazby, například prvky vazby kódování zprávy, prvky vazby transakce a jiné prvky vazby.</span><span class="sxs-lookup"><span data-stu-id="6c77c-132">You can add additional binding elements to the binding, such as message encoding binding elements, transaction binding elements, and other binding elements.</span></span>  
  
|<span data-ttu-id="6c77c-133">Režim zabezpečení</span><span class="sxs-lookup"><span data-stu-id="6c77c-133">Security Mode</span></span>|<span data-ttu-id="6c77c-134">Přepravu</span><span class="sxs-lookup"><span data-stu-id="6c77c-134">Transport</span></span>|<span data-ttu-id="6c77c-135">Vzor výměny zpráv o kontraktu</span><span class="sxs-lookup"><span data-stu-id="6c77c-135">Contract Message Exchange Pattern</span></span>|<span data-ttu-id="6c77c-136">Vzor výměny zpráv o kontraktu</span><span class="sxs-lookup"><span data-stu-id="6c77c-136">Contract Message Exchange Pattern</span></span>|<span data-ttu-id="6c77c-137">Vzor výměny zpráv o kontraktu</span><span class="sxs-lookup"><span data-stu-id="6c77c-137">Contract Message Exchange Pattern</span></span>|  
|-------------------|---------------|---------------------------------------|---------------------------------------|---------------------------------------|  
|||`Datagram`|`Request Reply`|`Duplex`|  
|<span data-ttu-id="6c77c-138">Přepravu</span><span class="sxs-lookup"><span data-stu-id="6c77c-138">Transport</span></span>|<span data-ttu-id="6c77c-139">Https</span><span class="sxs-lookup"><span data-stu-id="6c77c-139">Https</span></span>||||  
|||<span data-ttu-id="6c77c-140">OneWayBindingElement</span><span class="sxs-lookup"><span data-stu-id="6c77c-140">OneWayBindingElement</span></span>|||  
|||<span data-ttu-id="6c77c-141">HttpsTransportBindingElement</span><span class="sxs-lookup"><span data-stu-id="6c77c-141">HttpsTransportBindingElement</span></span>|<span data-ttu-id="6c77c-142">HttpsTransportBindingElement</span><span class="sxs-lookup"><span data-stu-id="6c77c-142">HttpsTransportBindingElement</span></span>||  
||<span data-ttu-id="6c77c-143">TCP</span><span class="sxs-lookup"><span data-stu-id="6c77c-143">TCP</span></span>||||  
|||<span data-ttu-id="6c77c-144">OneWayBindingElement</span><span class="sxs-lookup"><span data-stu-id="6c77c-144">OneWayBindingElement</span></span>|||  
|||<span data-ttu-id="6c77c-145">SSL nebo Windows třídu StreamSecurityBindingElement</span><span class="sxs-lookup"><span data-stu-id="6c77c-145">SSL or Windows StreamSecurityBindingElement</span></span>|<span data-ttu-id="6c77c-146">SSL nebo Windows třídu StreamSecurityBindingElement</span><span class="sxs-lookup"><span data-stu-id="6c77c-146">SSL or Windows StreamSecurityBindingElement</span></span>|<span data-ttu-id="6c77c-147">SSL nebo Windows třídu StreamSecurityBindingElement</span><span class="sxs-lookup"><span data-stu-id="6c77c-147">SSL or Windows StreamSecurityBindingElement</span></span>|  
|||<span data-ttu-id="6c77c-148">TcpTransportBindingElement</span><span class="sxs-lookup"><span data-stu-id="6c77c-148">TcpTransportBindingElement</span></span>|<span data-ttu-id="6c77c-149">TcpTransportBindingElement</span><span class="sxs-lookup"><span data-stu-id="6c77c-149">TcpTransportBindingElement</span></span>|<span data-ttu-id="6c77c-150">TcpTransportBindingElement</span><span class="sxs-lookup"><span data-stu-id="6c77c-150">TcpTransportBindingElement</span></span>|  
|<span data-ttu-id="6c77c-151">Message</span><span class="sxs-lookup"><span data-stu-id="6c77c-151">Message</span></span>|<span data-ttu-id="6c77c-152">Http</span><span class="sxs-lookup"><span data-stu-id="6c77c-152">Http</span></span>|<span data-ttu-id="6c77c-153">SymmetricSecurityBindingElement</span><span class="sxs-lookup"><span data-stu-id="6c77c-153">SymmetricSecurityBindingElement</span></span>|<span data-ttu-id="6c77c-154">SymmetricSecurityBindingElement</span><span class="sxs-lookup"><span data-stu-id="6c77c-154">SymmetricSecurityBindingElement</span></span>|<span data-ttu-id="6c77c-155">SymmetricSecurityBindingElement (režim ověřování = SecureConversation)</span><span class="sxs-lookup"><span data-stu-id="6c77c-155">SymmetricSecurityBindingElement (authentication mode = SecureConversation)</span></span>|  
|||||<span data-ttu-id="6c77c-156">CompositeDuplexBindingElement</span><span class="sxs-lookup"><span data-stu-id="6c77c-156">CompositeDuplexBindingElement</span></span>|  
|||<span data-ttu-id="6c77c-157">OneWayBindingElement</span><span class="sxs-lookup"><span data-stu-id="6c77c-157">OneWayBindingElement</span></span>||<span data-ttu-id="6c77c-158">OneWayBindingElement</span><span class="sxs-lookup"><span data-stu-id="6c77c-158">OneWayBindingElement</span></span>|  
|||<span data-ttu-id="6c77c-159">HttpTransportBindingElement</span><span class="sxs-lookup"><span data-stu-id="6c77c-159">HttpTransportBindingElement</span></span>|<span data-ttu-id="6c77c-160">HttpTransportBindingElement</span><span class="sxs-lookup"><span data-stu-id="6c77c-160">HttpTransportBindingElement</span></span>|<span data-ttu-id="6c77c-161">HttpTransportBindingElement</span><span class="sxs-lookup"><span data-stu-id="6c77c-161">HttpTransportBindingElement</span></span>|  
||<span data-ttu-id="6c77c-162">Protokolu</span><span class="sxs-lookup"><span data-stu-id="6c77c-162">Tcp</span></span>|<span data-ttu-id="6c77c-163">SecurityBindingElement</span><span class="sxs-lookup"><span data-stu-id="6c77c-163">SecurityBindingElement</span></span>|<span data-ttu-id="6c77c-164">SecurityBindingElement</span><span class="sxs-lookup"><span data-stu-id="6c77c-164">SecurityBindingElement</span></span>|<span data-ttu-id="6c77c-165">SymmetricSecurityBindingElement (režim ověřování = SecureConversation)</span><span class="sxs-lookup"><span data-stu-id="6c77c-165">SymmetricSecurityBindingElement (authentication mode = SecureConversation)</span></span>|  
|||<span data-ttu-id="6c77c-166">TcpTransportBindingElement</span><span class="sxs-lookup"><span data-stu-id="6c77c-166">TcpTransportBindingElement</span></span>|<span data-ttu-id="6c77c-167">TcpTransportBindingElement</span><span class="sxs-lookup"><span data-stu-id="6c77c-167">TcpTransportBindingElement</span></span>|<span data-ttu-id="6c77c-168">TcpTransportBindingElement</span><span class="sxs-lookup"><span data-stu-id="6c77c-168">TcpTransportBindingElement</span></span>|  
|<span data-ttu-id="6c77c-169">Smíšený (přenos s přihlašovacími údaji zprávy)</span><span class="sxs-lookup"><span data-stu-id="6c77c-169">Mixed (transport with message credentials)</span></span>|<span data-ttu-id="6c77c-170">Https</span><span class="sxs-lookup"><span data-stu-id="6c77c-170">Https</span></span>|<span data-ttu-id="6c77c-171">TransportSecurityBindingElement</span><span class="sxs-lookup"><span data-stu-id="6c77c-171">TransportSecurityBindingElement</span></span>|<span data-ttu-id="6c77c-172">TransportSecurityBindingElement</span><span class="sxs-lookup"><span data-stu-id="6c77c-172">TransportSecurityBindingElement</span></span>||  
|||<span data-ttu-id="6c77c-173">OneWayBindingElement</span><span class="sxs-lookup"><span data-stu-id="6c77c-173">OneWayBindingElement</span></span>|||  
|||<span data-ttu-id="6c77c-174">HttpsTransportBindingElement</span><span class="sxs-lookup"><span data-stu-id="6c77c-174">HttpsTransportBindingElement</span></span>|<span data-ttu-id="6c77c-175">HttpsTransportBindingElement</span><span class="sxs-lookup"><span data-stu-id="6c77c-175">HttpsTransportBindingElement</span></span>||  
||<span data-ttu-id="6c77c-176">TCP</span><span class="sxs-lookup"><span data-stu-id="6c77c-176">TCP</span></span>|<span data-ttu-id="6c77c-177">TransportSecurityBindingElement</span><span class="sxs-lookup"><span data-stu-id="6c77c-177">TransportSecurityBindingElement</span></span>|<span data-ttu-id="6c77c-178">SymmetricSecurityBindingElement (režim ověřování = SecureConversation)</span><span class="sxs-lookup"><span data-stu-id="6c77c-178">SymmetricSecurityBindingElement (authentication mode = SecureConversation)</span></span>|<span data-ttu-id="6c77c-179">SymmetricSecurityBindingElement (režim ověřování = SecureConversation)</span><span class="sxs-lookup"><span data-stu-id="6c77c-179">SymmetricSecurityBindingElement (authentication mode = SecureConversation)</span></span>|  
|||<span data-ttu-id="6c77c-180">OneWayBindingElement</span><span class="sxs-lookup"><span data-stu-id="6c77c-180">OneWayBindingElement</span></span>|||  
|||<span data-ttu-id="6c77c-181">SSL nebo Windows třídu StreamSecurityBindingElement</span><span class="sxs-lookup"><span data-stu-id="6c77c-181">SSL or Windows StreamSecurityBindingElement</span></span>|<span data-ttu-id="6c77c-182">SSL nebo Windows třídu StreamSecurityBindingElement</span><span class="sxs-lookup"><span data-stu-id="6c77c-182">SSL or Windows StreamSecurityBindingElement</span></span>|<span data-ttu-id="6c77c-183">SSL nebo Windows třídu StreamSecurityBindingElement</span><span class="sxs-lookup"><span data-stu-id="6c77c-183">SSL or Windows StreamSecurityBindingElement</span></span>|  
|||<span data-ttu-id="6c77c-184">TcpTransportBindingElement</span><span class="sxs-lookup"><span data-stu-id="6c77c-184">TcpTransportBindingElement</span></span>|<span data-ttu-id="6c77c-185">TcpTransportBindingElement</span><span class="sxs-lookup"><span data-stu-id="6c77c-185">TcpTransportBindingElement</span></span>|<span data-ttu-id="6c77c-186">TcpTransportBindingElement</span><span class="sxs-lookup"><span data-stu-id="6c77c-186">TcpTransportBindingElement</span></span>|  
  
 <span data-ttu-id="6c77c-187">Všimněte si, že SecurityBindingElements má mnoho konfigurovatelných nastavení.</span><span class="sxs-lookup"><span data-stu-id="6c77c-187">Note that there are many configurable settings on the SecurityBindingElements.</span></span> <span data-ttu-id="6c77c-188">Další informace najdete v tématu [režimy ověřování SecurityBindingElement](../../../../docs/framework/wcf/feature-details/securitybindingelement-authentication-modes.md).</span><span class="sxs-lookup"><span data-stu-id="6c77c-188">For more information, see [SecurityBindingElement Authentication Modes](../../../../docs/framework/wcf/feature-details/securitybindingelement-authentication-modes.md).</span></span>  
  
 <span data-ttu-id="6c77c-189">Další informace najdete v tématu [zabezpečené konverzace a zabezpečené relace](../../../../docs/framework/wcf/feature-details/secure-conversations-and-secure-sessions.md).</span><span class="sxs-lookup"><span data-stu-id="6c77c-189">For more information, see [Secure Conversations and Secure Sessions](../../../../docs/framework/wcf/feature-details/secure-conversations-and-secure-sessions.md).</span></span>  
  
## <a name="procedures"></a><span data-ttu-id="6c77c-190">Procedury</span><span class="sxs-lookup"><span data-stu-id="6c77c-190">Procedures</span></span>  
  
#### <a name="to-create-a-custom-binding-that-uses-a-symmetricsecuritybindingelement"></a><span data-ttu-id="6c77c-191">Vytvoření vlastní vazby, která používá SymmetricSecurityBindingElement</span><span class="sxs-lookup"><span data-stu-id="6c77c-191">To create a custom binding that uses a SymmetricSecurityBindingElement</span></span>  
  
1. <span data-ttu-id="6c77c-192">Vytvořte instanci <xref:System.ServiceModel.Channels.BindingElementCollection> třídy s názvem `outputBec`.</span><span class="sxs-lookup"><span data-stu-id="6c77c-192">Create an instance of the <xref:System.ServiceModel.Channels.BindingElementCollection> class with the name `outputBec`.</span></span>  
  
2. <span data-ttu-id="6c77c-193">Zavolejte statickou metodu `M:System.ServiceModel.Channels.SecurityBindingElement.CreateSspiNegotiationBindingElement(true)`, která vrátí instanci <xref:System.ServiceModel.Channels.SymmetricSecurityBindingElement> třídy.</span><span class="sxs-lookup"><span data-stu-id="6c77c-193">Call the static method `M:System.ServiceModel.Channels.SecurityBindingElement.CreateSspiNegotiationBindingElement(true)`, which returns an instance of the <xref:System.ServiceModel.Channels.SymmetricSecurityBindingElement> class.</span></span>  
  
3. <span data-ttu-id="6c77c-194">`outputBec` `Add` Přidejte do kolekce ( )<xref:System.Collections.ObjectModel.Collection%601> voláním metody<xref:System.ServiceModel.Channels.BindingElement>třídy. <xref:System.ServiceModel.Channels.SymmetricSecurityBindingElement></span><span class="sxs-lookup"><span data-stu-id="6c77c-194">Add the <xref:System.ServiceModel.Channels.SymmetricSecurityBindingElement> to the collection (`outputBec`) by calling the `Add` method of the <xref:System.Collections.ObjectModel.Collection%601> of <xref:System.ServiceModel.Channels.BindingElement> class.</span></span>  
  
4. <span data-ttu-id="6c77c-195">Vytvořte instanci <xref:System.ServiceModel.Channels.TextMessageEncodingBindingElement> třídy a přidejte ji do kolekce (`outputBec`).</span><span class="sxs-lookup"><span data-stu-id="6c77c-195">Create an instance of the <xref:System.ServiceModel.Channels.TextMessageEncodingBindingElement> class and add it to the collection (`outputBec`).</span></span> <span data-ttu-id="6c77c-196">Toto určuje kódování používané vazbou.</span><span class="sxs-lookup"><span data-stu-id="6c77c-196">This specifies the encoding used by the binding.</span></span>  
  
5. <span data-ttu-id="6c77c-197">Vytvořte a přidejte ho do kolekce (`outputBec`). <xref:System.ServiceModel.Channels.HttpTransportBindingElement></span><span class="sxs-lookup"><span data-stu-id="6c77c-197">Create a <xref:System.ServiceModel.Channels.HttpTransportBindingElement> and add it to the collection (`outputBec`).</span></span> <span data-ttu-id="6c77c-198">Tím se určuje, že vazba používá přenos HTTP.</span><span class="sxs-lookup"><span data-stu-id="6c77c-198">This specifies that the binding uses the HTTP transport.</span></span>  
  
6. <span data-ttu-id="6c77c-199">Vytvořte novou vlastní vazbu vytvořením instance <xref:System.ServiceModel.Channels.CustomBinding> třídy a předáním kolekce `outputBec` do konstruktoru.</span><span class="sxs-lookup"><span data-stu-id="6c77c-199">Create a new custom binding by creating an instance of the <xref:System.ServiceModel.Channels.CustomBinding> class and passing the collection `outputBec` to the constructor.</span></span>  
  
7. <span data-ttu-id="6c77c-200">Výsledná vlastní vazba sdílí mnoho stejných vlastností jako standard <xref:System.ServiceModel.WSHttpBinding>.</span><span class="sxs-lookup"><span data-stu-id="6c77c-200">The resulting custom binding shares many of the same characteristics as the standard <xref:System.ServiceModel.WSHttpBinding>.</span></span> <span data-ttu-id="6c77c-201">Určuje zabezpečení na úrovni zprávy a přihlašovací údaje systému Windows, ale zakáže zabezpečené relace, vyžaduje, aby pověření služby bylo určeno mimo IP síť a nešifroval signatury.</span><span class="sxs-lookup"><span data-stu-id="6c77c-201">It specifies message-level security and Windows credentials but disables secure sessions, requires that the service credential be specified out-of-band, and does not encrypt signatures.</span></span> <span data-ttu-id="6c77c-202">Poslední lze ovládat pouze nastavením vlastnosti, jak je <xref:System.ServiceModel.Channels.SymmetricSecurityBindingElement.MessageProtectionOrder%2A> znázorněno v kroku 4.</span><span class="sxs-lookup"><span data-stu-id="6c77c-202">The last can be controlled only by setting the <xref:System.ServiceModel.Channels.SymmetricSecurityBindingElement.MessageProtectionOrder%2A> property as shown in step 4.</span></span> <span data-ttu-id="6c77c-203">Ostatní dvě lze ovládat pomocí nastavení standardní vazby.</span><span class="sxs-lookup"><span data-stu-id="6c77c-203">The other two can be controlled using settings on the standard binding.</span></span>  
  
## <a name="example"></a><span data-ttu-id="6c77c-204">Příklad</span><span class="sxs-lookup"><span data-stu-id="6c77c-204">Example</span></span>  
  
### <a name="description"></a><span data-ttu-id="6c77c-205">Popis</span><span class="sxs-lookup"><span data-stu-id="6c77c-205">Description</span></span>  
 <span data-ttu-id="6c77c-206">Následující příklad poskytuje úplnou funkci pro vytvoření vlastní vazby, která používá <xref:System.ServiceModel.Channels.SymmetricSecurityBindingElement>.</span><span class="sxs-lookup"><span data-stu-id="6c77c-206">The following example provides a complete function to create a custom binding that uses a <xref:System.ServiceModel.Channels.SymmetricSecurityBindingElement>.</span></span>  
  
### <a name="code"></a><span data-ttu-id="6c77c-207">Kód</span><span class="sxs-lookup"><span data-stu-id="6c77c-207">Code</span></span>  
 [!code-csharp[c_CustomBinding#20](../../../../samples/snippets/csharp/VS_Snippets_CFX/c_custombinding/cs/c_custombinding.cs#20)]
 [!code-vb[c_CustomBinding#20](../../../../samples/snippets/visualbasic/VS_Snippets_CFX/c_custombinding/vb/source.vb#20)]  
  
## <a name="see-also"></a><span data-ttu-id="6c77c-208">Viz také:</span><span class="sxs-lookup"><span data-stu-id="6c77c-208">See also</span></span>

- <xref:System.ServiceModel.Channels.SecurityBindingElement>
- <xref:System.ServiceModel.Channels.TransportSecurityBindingElement>
- <xref:System.ServiceModel.Channels.SymmetricSecurityBindingElement>
- <xref:System.ServiceModel.Channels.CustomBinding>
- [<span data-ttu-id="6c77c-209">Rozšíření vazeb</span><span class="sxs-lookup"><span data-stu-id="6c77c-209">Extending Bindings</span></span>](../../../../docs/framework/wcf/extending/extending-bindings.md)
- [<span data-ttu-id="6c77c-210">Vazby poskytované systémem</span><span class="sxs-lookup"><span data-stu-id="6c77c-210">System-Provided Bindings</span></span>](../../../../docs/framework/wcf/system-provided-bindings.md)
