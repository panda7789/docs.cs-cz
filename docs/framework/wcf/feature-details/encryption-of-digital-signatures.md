---
title: Šifrování digitálních podpisů
ms.date: 03/30/2017
helpviewer_keywords:
- encryption of digital signatures [WCF]
- digital signatures [WCF], encryption
- digital signatures [WCF]
ms.assetid: 0868866d-40b4-4341-8e42-eee3b7f15b69
ms.openlocfilehash: 41094b2eee50e97cf60887cfa29f8110f2895bfa
ms.sourcegitcommit: cdb295dd1db589ce5169ac9ff096f01fd0c2da9d
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 06/09/2020
ms.locfileid: "84597394"
---
# <a name="encryption-of-digital-signatures"></a><span data-ttu-id="08aa1-102">Šifrování digitálních podpisů</span><span class="sxs-lookup"><span data-stu-id="08aa1-102">Encryption of Digital Signatures</span></span>
<span data-ttu-id="08aa1-103">Ve výchozím nastavení je zpráva podepsaná a šifrovaná a podpis je digitálně zašifrovaný.</span><span class="sxs-lookup"><span data-stu-id="08aa1-103">By default, a message is signed and encrypted, and the signature is digitally encrypted.</span></span> <span data-ttu-id="08aa1-104">Můžete to řídit vytvořením vlastní vazby s instancí <xref:System.ServiceModel.Channels.AsymmetricSecurityBindingElement> nebo <xref:System.ServiceModel.Channels.SymmetricSecurityBindingElement> a pak nastavením `MessageProtectionOrder` vlastnosti obou tříd na <xref:System.ServiceModel.Security.MessageProtectionOrder> hodnotu výčtu.</span><span class="sxs-lookup"><span data-stu-id="08aa1-104">You can control this by creating a custom binding with an instance of the <xref:System.ServiceModel.Channels.AsymmetricSecurityBindingElement> or the <xref:System.ServiceModel.Channels.SymmetricSecurityBindingElement> and then setting the `MessageProtectionOrder` property of either class to a <xref:System.ServiceModel.Security.MessageProtectionOrder> enumeration value.</span></span> <span data-ttu-id="08aa1-105">Výchozí formát je <xref:System.ServiceModel.Security.MessageProtectionOrder.SignBeforeEncryptAndEncryptSignature>.</span><span class="sxs-lookup"><span data-stu-id="08aa1-105">The default is <xref:System.ServiceModel.Security.MessageProtectionOrder.SignBeforeEncryptAndEncryptSignature>.</span></span> <span data-ttu-id="08aa1-106">Tento proces trvá 10 až 40% déle než pouhým přihlášením a šifrováním.</span><span class="sxs-lookup"><span data-stu-id="08aa1-106">This process takes 10 to 40 percent longer than simply signing and encrypting.</span></span> <span data-ttu-id="08aa1-107">Zakázání šifrování podpisu ale může útočníkovi umožnit odhadnout obsah zprávy.</span><span class="sxs-lookup"><span data-stu-id="08aa1-107">Disabling encryption of the signature, however, might allow an attacker to guess the contents of the message.</span></span> <span data-ttu-id="08aa1-108">To je možné, protože element signatura obsahuje hodnotu hash prostého textu každé podepsané části ve zprávě.</span><span class="sxs-lookup"><span data-stu-id="08aa1-108">This is possible because the signature element contains the hash code of the plain text of every signed part in the message.</span></span> <span data-ttu-id="08aa1-109">I když je text zprávy ve výchozím nastavení zašifrovaný, nešifrovaný podpis obsahuje kód hash těla zprávy.</span><span class="sxs-lookup"><span data-stu-id="08aa1-109">For example, although the message body is encrypted by default, the unencrypted signature contains the hash code of the message body.</span></span> <span data-ttu-id="08aa1-110">Pokud je zpráva malá, útočník může obsah odvodit.</span><span class="sxs-lookup"><span data-stu-id="08aa1-110">If the message is small, an attacker might be able to deduce the contents.</span></span> <span data-ttu-id="08aa1-111">Šifrování signatury snižuje nebo eliminuje tuto možnost.</span><span class="sxs-lookup"><span data-stu-id="08aa1-111">Encrypting the signature reduces or eliminates this possibility.</span></span>  
  
 <span data-ttu-id="08aa1-112">Proto zakažte šifrování signatury pouze v případě, že je hodnota obsahu nízká a zisk výkonu bude významný, například při posílání velkých binárních souborů, které nemají žádné důsledky zabezpečení.</span><span class="sxs-lookup"><span data-stu-id="08aa1-112">Therefore, disable encryption of the signature only when the value of the content is low, and the performance gain will be significant, for example, when sending large binary files that have no security implications.</span></span>  
  
### <a name="to-disable-digital-signing"></a><span data-ttu-id="08aa1-113">Zakázání digitálního podepisování</span><span class="sxs-lookup"><span data-stu-id="08aa1-113">To disable digital signing</span></span>  
  
1. <span data-ttu-id="08aa1-114">Vytvořte <xref:System.ServiceModel.Channels.CustomBinding> .</span><span class="sxs-lookup"><span data-stu-id="08aa1-114">Create a <xref:System.ServiceModel.Channels.CustomBinding>.</span></span> <span data-ttu-id="08aa1-115">Další informace najdete v tématu [Postup: Vytvoření vlastní vazby pomocí SecurityBindingElement](how-to-create-a-custom-binding-using-the-securitybindingelement.md).</span><span class="sxs-lookup"><span data-stu-id="08aa1-115">For more information, see [How to: Create a Custom Binding Using the SecurityBindingElement](how-to-create-a-custom-binding-using-the-securitybindingelement.md).</span></span>  
  
2. <span data-ttu-id="08aa1-116">Přidejte <xref:System.ServiceModel.Channels.AsymmetricSecurityBindingElement> do kolekce vazeb buď nebo, a <xref:System.ServiceModel.Channels.SymmetricSecurityBindingElement> .</span><span class="sxs-lookup"><span data-stu-id="08aa1-116">Add either an <xref:System.ServiceModel.Channels.AsymmetricSecurityBindingElement> or a <xref:System.ServiceModel.Channels.SymmetricSecurityBindingElement> to the binding collection.</span></span>  
  
3. <span data-ttu-id="08aa1-117">Nastavte <xref:System.ServiceModel.Channels.AsymmetricSecurityBindingElement.MessageProtectionOrder%2A?displayProperty=nameWithType> vlastnost na <xref:System.ServiceModel.Security.MessageProtectionOrder.SignBeforeEncrypt> nebo nastavte <xref:System.ServiceModel.Channels.SymmetricSecurityBindingElement.MessageProtectionOrder%2A?displayProperty=nameWithType> vlastnost na <xref:System.ServiceModel.Security.MessageProtectionOrder.SignBeforeEncrypt> .</span><span class="sxs-lookup"><span data-stu-id="08aa1-117">Set the <xref:System.ServiceModel.Channels.AsymmetricSecurityBindingElement.MessageProtectionOrder%2A?displayProperty=nameWithType> property to <xref:System.ServiceModel.Security.MessageProtectionOrder.SignBeforeEncrypt>, or set the <xref:System.ServiceModel.Channels.SymmetricSecurityBindingElement.MessageProtectionOrder%2A?displayProperty=nameWithType> property to <xref:System.ServiceModel.Security.MessageProtectionOrder.SignBeforeEncrypt>.</span></span>  
  
 <span data-ttu-id="08aa1-118">Další informace o vytváření vlastních vazeb naleznete v tématu [vytváření uživatelsky definovaných vazeb](../extending/creating-user-defined-bindings.md).</span><span class="sxs-lookup"><span data-stu-id="08aa1-118">For more information about creating custom bindings, see [Creating User-Defined Bindings](../extending/creating-user-defined-bindings.md).</span></span> <span data-ttu-id="08aa1-119">Další informace o vytvoření vlastní vazby pro konkrétní režim ověřování naleznete v tématu [How to: Create a SecurityBindingElement for a Authentication Mode](how-to-create-a-securitybindingelement-for-a-specified-authentication-mode.md).</span><span class="sxs-lookup"><span data-stu-id="08aa1-119">For more information about creating a custom binding for a specific authentication mode, see [How to: Create a SecurityBindingElement for a Specified Authentication Mode](how-to-create-a-securitybindingelement-for-a-specified-authentication-mode.md).</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="08aa1-120">Viz také</span><span class="sxs-lookup"><span data-stu-id="08aa1-120">See also</span></span>

- <xref:System.ServiceModel.Security.MessageProtectionOrder>
- <xref:System.ServiceModel.Channels.AsymmetricSecurityBindingElement>
- <xref:System.ServiceModel.Channels.SymmetricSecurityBindingElement>
- [<span data-ttu-id="08aa1-121">Postupy: Vytvoření vlastní vazby pomocí SecurityBindingElement</span><span class="sxs-lookup"><span data-stu-id="08aa1-121">How to: Create a Custom Binding Using the SecurityBindingElement</span></span>](how-to-create-a-custom-binding-using-the-securitybindingelement.md)
- [<span data-ttu-id="08aa1-122">Vytváření uživatelem definovaných vazeb</span><span class="sxs-lookup"><span data-stu-id="08aa1-122">Creating User-Defined Bindings</span></span>](../extending/creating-user-defined-bindings.md)
- [<span data-ttu-id="08aa1-123">Postupy: Vytvoření elementu SecurityBindingElement pro zadaný režim ověřování</span><span class="sxs-lookup"><span data-stu-id="08aa1-123">How to: Create a SecurityBindingElement for a Specified Authentication Mode</span></span>](how-to-create-a-securitybindingelement-for-a-specified-authentication-mode.md)
