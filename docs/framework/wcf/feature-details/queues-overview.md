---
title: Fronty – přehled
ms.date: 03/30/2017
helpviewer_keywords:
- queues [WCF], MSMQ integration
ms.assetid: b8757992-ffce-40ad-9e9b-3243f6d0fce1
ms.openlocfilehash: 3e75b6d5926b65a93204241eb7c71ca23a5694af
ms.sourcegitcommit: cdb295dd1db589ce5169ac9ff096f01fd0c2da9d
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 06/09/2020
ms.locfileid: "84596718"
---
# <a name="queues-overview"></a><span data-ttu-id="18d46-102">Přehled front</span><span class="sxs-lookup"><span data-stu-id="18d46-102">Queues overview</span></span>

<span data-ttu-id="18d46-103">V této části se seznámíte s obecnými a základními koncepty za komunikaci ve frontě.</span><span class="sxs-lookup"><span data-stu-id="18d46-103">This section introduces the general and core concepts behind queued communication.</span></span> <span data-ttu-id="18d46-104">Následující části obsahují podrobné informace o tom, jak tady popsané koncepty služby Řízení front jsou v Windows Communication Foundation (WCF) uvedené v manifestu.</span><span class="sxs-lookup"><span data-stu-id="18d46-104">Subsequent sections go into details about how the queuing concepts described here are manifested in Windows Communication Foundation (WCF).</span></span>  
  
## <a name="basic-queuing-concepts"></a><span data-ttu-id="18d46-105">Základní koncepty řízení front</span><span class="sxs-lookup"><span data-stu-id="18d46-105">Basic Queuing Concepts</span></span>  
 <span data-ttu-id="18d46-106">Při navrhování distribuované aplikace je důležité zvolit správný přenos pro komunikaci mezi službami a klienty.</span><span class="sxs-lookup"><span data-stu-id="18d46-106">When designing a distributed application, choosing the right transport for communication between services and clients is important.</span></span> <span data-ttu-id="18d46-107">Typ přenosu, který se má použít, má vliv na několik faktorů.</span><span class="sxs-lookup"><span data-stu-id="18d46-107">Several factors affect the kind of transport to use.</span></span> <span data-ttu-id="18d46-108">Jeden důležitý faktor – izolace mezi službou, klientem a přenosem – Určuje použití přenosu ve frontě nebo přímé přenosu, jako je například TCP nebo HTTP.</span><span class="sxs-lookup"><span data-stu-id="18d46-108">One important factor—isolation between the service, the client, and the transport—determines use of a queued transport or a direct transport, such as TCP or HTTP.</span></span> <span data-ttu-id="18d46-109">Vzhledem k povaze přímých přenosů, jako jsou TCP a HTTP, se komunikace zcela zastaví, pokud služba nebo klient přestane fungovat nebo pokud síť selže.</span><span class="sxs-lookup"><span data-stu-id="18d46-109">Due to the nature of direct transports such as TCP and HTTP, communication stops altogether if the service or the client stop functioning or if the network fails.</span></span> <span data-ttu-id="18d46-110">Aby aplikace fungovala, musí být služba, klient a síť spuštěná současně.</span><span class="sxs-lookup"><span data-stu-id="18d46-110">The service, the client, and the network must be running at the same time for the application to work.</span></span> <span data-ttu-id="18d46-111">Přenosy zařazené do fronty poskytují izolaci, což znamená, že pokud dojde k selhání služby nebo klienta nebo pokud komunikační propojení mezi nimi selže, může klient a služba dál fungovat.</span><span class="sxs-lookup"><span data-stu-id="18d46-111">Queued transports provide isolation, which means that if the service or client fail or if communication links between them fail, the client and service can continue to function.</span></span>  
  
 <span data-ttu-id="18d46-112">Fronty poskytují spolehlivou komunikaci i s chybami v komunikujících stranách nebo v síti.</span><span class="sxs-lookup"><span data-stu-id="18d46-112">Queues provide reliable communication even with failures in the communicating parties or the network.</span></span> <span data-ttu-id="18d46-113">Fronty zachycují a dodávají zprávy vyměňované mezi komunikujícími stranami.</span><span class="sxs-lookup"><span data-stu-id="18d46-113">Queues capture and deliver messages exchanged between the communicating parties.</span></span> <span data-ttu-id="18d46-114">Fronty jsou obvykle zálohované nějakým druhem úložiště, která můžou být nestálá nebo trvalá.</span><span class="sxs-lookup"><span data-stu-id="18d46-114">Queues are typically backed by some kind of a store, which can be volatile or durable.</span></span> <span data-ttu-id="18d46-115">Fronty ukládají zprávy od klienta jménem služby a později tyto zprávy předá službě.</span><span class="sxs-lookup"><span data-stu-id="18d46-115">Queues store messages from a client on behalf of a service and later forward these messages to the service.</span></span> <span data-ttu-id="18d46-116">Nepřímých front zajišťuje, aby kterákoli strana zajišťovala vzájemnou izolaci selhání, takže je upřednostňovaným komunikačním mechanismem pro systémy s vysokou dostupností a odpojené služby.</span><span class="sxs-lookup"><span data-stu-id="18d46-116">The indirection queues provide ensured isolation of failure by either party, thus making it the preferred communication mechanism for high-availability systems and disconnected services.</span></span> <span data-ttu-id="18d46-117">Nepřímý odkaz je dodáván s náklady na vysokou latenci.</span><span class="sxs-lookup"><span data-stu-id="18d46-117">The indirection comes with the cost of high latency.</span></span> <span data-ttu-id="18d46-118">*Latence* je časová prodleva mezi časem, kdy klient odesílá zprávu a čas, kdy ji služba přijme.</span><span class="sxs-lookup"><span data-stu-id="18d46-118">*Latency* is the time delay between the time the client sends a message and the time the service receives it.</span></span> <span data-ttu-id="18d46-119">To znamená, že jakmile se pošle zpráva, nevíte, kdy se tato zpráva může zpracovat.</span><span class="sxs-lookup"><span data-stu-id="18d46-119">This means that once a message is sent, you do not know when that message may be processed.</span></span> <span data-ttu-id="18d46-120">Většina aplikací zařazených do fronty se vypořádat s vysokou latencí.</span><span class="sxs-lookup"><span data-stu-id="18d46-120">Most queued applications cope with high latency.</span></span> <span data-ttu-id="18d46-121">Následující ilustrace znázorňuje koncepční model komunikace ve frontě.</span><span class="sxs-lookup"><span data-stu-id="18d46-121">The following illustration shows a conceptual model of queued communication.</span></span>  
  
 <span data-ttu-id="18d46-122">![Model komunikace ve frontě](media/qconceptual-figure1c.gif "QConceptual-Figure1c")</span><span class="sxs-lookup"><span data-stu-id="18d46-122">![Model of queued communication](media/qconceptual-figure1c.gif "QConceptual-Figure1c")</span></span>  
  
 <span data-ttu-id="18d46-123">Konceptuální model komunikace ve frontě</span><span class="sxs-lookup"><span data-stu-id="18d46-123">Queued communication conceptual model</span></span>  
  
 <span data-ttu-id="18d46-124">Ve skutečnosti je fronta distribuovaným konceptem.</span><span class="sxs-lookup"><span data-stu-id="18d46-124">In reality, the queue is a distributed concept.</span></span> <span data-ttu-id="18d46-125">V takovém případě mohou být obě strany buď místní, nebo vzdálené.</span><span class="sxs-lookup"><span data-stu-id="18d46-125">As such, they can be local to either party or remote to both parties.</span></span> <span data-ttu-id="18d46-126">Obvykle je fronta pro službu místní.</span><span class="sxs-lookup"><span data-stu-id="18d46-126">Typically, the queue is local to the service.</span></span> <span data-ttu-id="18d46-127">V této konfiguraci klient nemůže být závislý na připojení ke vzdálené frontě, aby byl neustále dostupný.</span><span class="sxs-lookup"><span data-stu-id="18d46-127">In this configuration, the client cannot depend on connectivity to the remote queue to be constantly available.</span></span> <span data-ttu-id="18d46-128">Podobně musí být fronta dostupná nezávisle na dostupnosti služby čtené z fronty.</span><span class="sxs-lookup"><span data-stu-id="18d46-128">Similarly, the queue must be available independent of the availability of the service reading from the queue.</span></span> <span data-ttu-id="18d46-129">Správce fronty spravuje kolekci front.</span><span class="sxs-lookup"><span data-stu-id="18d46-129">A queue manager manages a collection of queues.</span></span> <span data-ttu-id="18d46-130">Zodpovídá za příjem zpráv odeslaných do front z jiných správců fronty.</span><span class="sxs-lookup"><span data-stu-id="18d46-130">It is responsible for accepting messages sent to its queues from other queue managers.</span></span> <span data-ttu-id="18d46-131">Zodpovídá taky za správu připojení ke vzdáleným frontám a přenos zpráv do těchto vzdálených front.</span><span class="sxs-lookup"><span data-stu-id="18d46-131">It is also responsible for managing connectivity to remote queues and transferring messages to those remote queues.</span></span> <span data-ttu-id="18d46-132">Správce fronty se obvykle spouští jako externí služba, aby se zajistila dostupnost front i přes selhání aplikací klienta nebo služby.</span><span class="sxs-lookup"><span data-stu-id="18d46-132">To ensure availability of queues despite client or service application failures, the queue manager is typically run as an external service.</span></span>  
  
 <span data-ttu-id="18d46-133">Když klient odešle zprávu do fronty, adresuje zprávu do cílové fronty, což je fronta spravovaná správcem fronty služby.</span><span class="sxs-lookup"><span data-stu-id="18d46-133">When a client sends a message to a queue, it addresses the message to the target queue, which is the queue managed by the service's queue manager.</span></span> <span data-ttu-id="18d46-134">Správce fronty klienta odesílá zprávu do fronty pro přenos (nebo odchozí).</span><span class="sxs-lookup"><span data-stu-id="18d46-134">The queue manager on the client sends the message to a transmission (or outgoing) queue.</span></span> <span data-ttu-id="18d46-135">Fronta přenosu je frontou ve Správci front klienta, který ukládá zprávy pro přenos do cílové fronty.</span><span class="sxs-lookup"><span data-stu-id="18d46-135">The transmission queue is a queue on the client queue manager that stores messages for transmission to the target queue.</span></span> <span data-ttu-id="18d46-136">Správce fronty pak najde cestu ke Správci fronty, který vlastní cílovou frontu a přenáší do ní zprávu.</span><span class="sxs-lookup"><span data-stu-id="18d46-136">The queue manager then finds a path to the queue manager that owns the target queue and transfers the message to it.</span></span> <span data-ttu-id="18d46-137">Aby se zajistila spolehlivá komunikace, správci fronty implementují protokol spolehlivého přenosu, aby se zabránilo ztrátě dat.</span><span class="sxs-lookup"><span data-stu-id="18d46-137">To ensure reliable communication, the queue managers implement a reliable transfer protocol to prevent data loss.</span></span> <span data-ttu-id="18d46-138">Cílový správce fronty přijímá zprávy adresované cílovým frontám, které vlastní, a ukládá zprávy.</span><span class="sxs-lookup"><span data-stu-id="18d46-138">The destination queue manager accepts messages addressed to the target queues it owns and stores the messages.</span></span> <span data-ttu-id="18d46-139">Služba dává žádosti o čtení z cílové fronty, kdy ji správce fronty pak doručí do cílové aplikace.</span><span class="sxs-lookup"><span data-stu-id="18d46-139">The service makes requests to read from the target queue, at which time the queue manager then delivers the message to the destination application.</span></span> <span data-ttu-id="18d46-140">Následující ilustrace znázorňuje komunikaci mezi čtyřmi stranami.</span><span class="sxs-lookup"><span data-stu-id="18d46-140">The following illustration shows communication between the four parties.</span></span>  
  
 <span data-ttu-id="18d46-141">![Diagram aplikace ve frontě](media/distributed-queue-figure.jpg "Distribuované – fronta – obrázek")</span><span class="sxs-lookup"><span data-stu-id="18d46-141">![Queued Application Diagram](media/distributed-queue-figure.jpg "Distributed-Queue-Figure")</span></span>  
  
 <span data-ttu-id="18d46-142">Komunikace ve frontě v typickém scénáři nasazení</span><span class="sxs-lookup"><span data-stu-id="18d46-142">Queued communication in a typical deployment scenario</span></span>  
  
 <span data-ttu-id="18d46-143">Správce fronty proto poskytne požadovanou izolaci, aby odesílatel a přijímač mohli nezávisle selhat bez vlivu na skutečnou komunikaci.</span><span class="sxs-lookup"><span data-stu-id="18d46-143">Thus, the queue manager provides the required isolation so that the sender and receiver can independently fail without affecting actual communication.</span></span> <span data-ttu-id="18d46-144">Výhodou dalšího dereference, kterou fronty poskytují, umožňuje také více instancí aplikace číst ze stejné fronty, aby výrobní prostředí mezi uzly dosáhlo vyšší propustnosti.</span><span class="sxs-lookup"><span data-stu-id="18d46-144">The benefit of extra indirection that queues provide also enables multiple application instances to read from the same queue, so that farming work among the nodes achieves higher throughput.</span></span> <span data-ttu-id="18d46-145">Proto není běžné zobrazovat fronty používané k dosažení vyšších požadavků na škálování a propustnost.</span><span class="sxs-lookup"><span data-stu-id="18d46-145">Therefore, it is not uncommon to see queues being used to achieve higher scale and throughput requirements.</span></span>  
  
## <a name="queues-and-transactions"></a><span data-ttu-id="18d46-146">Fronty a transakce</span><span class="sxs-lookup"><span data-stu-id="18d46-146">Queues and Transactions</span></span>  
 <span data-ttu-id="18d46-147">Transakce umožňují seskupit sadu operací dohromady, takže pokud selže jedna operace, všechny operace selžou.</span><span class="sxs-lookup"><span data-stu-id="18d46-147">Transactions allow you to group a set of operations together so that if one operation fails, all of the operations fail.</span></span> <span data-ttu-id="18d46-148">Příkladem použití transakcí je, že uživatel používá ATM k přenosu $1 000 z účtu úspory na svůj účet pro kontrolu.</span><span class="sxs-lookup"><span data-stu-id="18d46-148">An example of how to use transactions is when a person uses an ATM to transfer $1,000 from their savings account to their checking account.</span></span> <span data-ttu-id="18d46-149">To zahrnuje následující operace:</span><span class="sxs-lookup"><span data-stu-id="18d46-149">This entails the following operations:</span></span>  
  
- <span data-ttu-id="18d46-150">Z účtu úspory se odeberou $1 000.</span><span class="sxs-lookup"><span data-stu-id="18d46-150">Withdrawing $1,000 from the savings account.</span></span>  
  
- <span data-ttu-id="18d46-151">Do kontrolního účtu se uloží $1 000.</span><span class="sxs-lookup"><span data-stu-id="18d46-151">Depositing $1,000 into the checking account.</span></span>  
  
 <span data-ttu-id="18d46-152">Pokud je první operace úspěšná a $1 000 z účtu úspory, ale druhá operace selže, bude $1 000 ztraceno, protože již bylo odebráno z účtu úspory.</span><span class="sxs-lookup"><span data-stu-id="18d46-152">If the first operation succeeds and $1,000 is withdrawn from the savings account but the second operation fails, the $1,000 is lost because it has already been withdrawn from the savings account.</span></span> <span data-ttu-id="18d46-153">Chcete-li zachovat účty v platném stavu, v případě selhání jedné operace musí dojít k selhání obou operací.</span><span class="sxs-lookup"><span data-stu-id="18d46-153">To keep the accounts in a valid state, if one operation fails, both operations must fail.</span></span>  
  
 <span data-ttu-id="18d46-154">V transakčních přenosech zpráv je možné zprávy odesílat do fronty a přijímat z fronty v rámci transakce.</span><span class="sxs-lookup"><span data-stu-id="18d46-154">In transactional messaging, messages can be sent to the queue and received from the queue under a transaction.</span></span> <span data-ttu-id="18d46-155">Proto pokud je zpráva odeslána v transakci a transakce je vrácena zpět, výsledek je, jako by zpráva nebyla nikdy odeslána do fronty.</span><span class="sxs-lookup"><span data-stu-id="18d46-155">Thus, if a message is sent in a transaction and the transaction is rolled back, then the outcome is as if the message had never been sent to the queue.</span></span> <span data-ttu-id="18d46-156">Podobně pokud je v transakci přijata zpráva a transakce je vrácena zpět, výsledek je, jako kdyby nebyla zpráva nikdy přijata.</span><span class="sxs-lookup"><span data-stu-id="18d46-156">Similarly if a message is received in a transaction and the transaction is rolled back, then the outcome is as if the message had never been received.</span></span> <span data-ttu-id="18d46-157">Zpráva zůstane ve frontě pro čtení.</span><span class="sxs-lookup"><span data-stu-id="18d46-157">The message remains in the queue to be read.</span></span>  
  
 <span data-ttu-id="18d46-158">Kvůli vysoké latenci vám při odeslání zprávy nezáleží na tom, jak dlouho trvá přístup k cílové frontě, ani nevíte, jak dlouho trvá, než služba zprávu zpracuje.</span><span class="sxs-lookup"><span data-stu-id="18d46-158">Because of high latency, when you send a message you have no way of knowing how long it takes to reach its target queue, nor do you know how long it takes for the service to process the message.</span></span> <span data-ttu-id="18d46-159">Z tohoto důvodu nechcete pro odeslání zprávy použít jedinou transakci, přijmout zprávu a potom zprávu zpracovat.</span><span class="sxs-lookup"><span data-stu-id="18d46-159">Because of this, you do not want to use a single transaction to send the message, receive the message, and then process the message.</span></span> <span data-ttu-id="18d46-160">Tím se vytvoří transakce, která není potvrzena po neurčitou dobu.</span><span class="sxs-lookup"><span data-stu-id="18d46-160">This creates a transaction that is not committed for an indeterminate amount of time.</span></span> <span data-ttu-id="18d46-161">Když klient a služba komunikují prostřednictvím fronty pomocí transakce, jsou zapojeny dvě transakce: jeden na straně klienta a druhý ve službě.</span><span class="sxs-lookup"><span data-stu-id="18d46-161">When a client and service communicate through a queue using a transaction, two transactions are involved: one on the client and one on the service.</span></span> <span data-ttu-id="18d46-162">Následující ilustrace znázorňuje hranice transakce v typické komunikaci ve frontě.</span><span class="sxs-lookup"><span data-stu-id="18d46-162">The following illustration shows the transaction boundaries in typical queued communication.</span></span>  
  
 <span data-ttu-id="18d46-163">![Zařazení do fronty s transakcemi](media/qwithtransactions-figure3.gif "QWithTransactions-Figure3")</span><span class="sxs-lookup"><span data-stu-id="18d46-163">![Queue with transactions](media/qwithtransactions-figure3.gif "QWithTransactions-Figure3")</span></span>  
  
 <span data-ttu-id="18d46-164">Komunikace ve frontě znázorňující samostatné transakce pro zachytávání a doručování</span><span class="sxs-lookup"><span data-stu-id="18d46-164">Queued communication showing separate transactions for capture and delivery</span></span>  
  
 <span data-ttu-id="18d46-165">Transakce klienta zpracovává a odesílá zprávu.</span><span class="sxs-lookup"><span data-stu-id="18d46-165">The client transaction processes and sends the message.</span></span> <span data-ttu-id="18d46-166">Když je transakce potvrzena, zpráva je ve frontě přenosu.</span><span class="sxs-lookup"><span data-stu-id="18d46-166">When the transaction is committed, the message is in the transmission queue.</span></span> <span data-ttu-id="18d46-167">Transakce ve službě načte zprávu z cílové fronty, zpracuje zprávu a pak transakci potvrdí.</span><span class="sxs-lookup"><span data-stu-id="18d46-167">On the service, the transaction reads the message from the target queue, processes the message, and then commits the transaction.</span></span> <span data-ttu-id="18d46-168">Pokud během zpracování dojde k chybě, zpráva se vrátí zpátky a umístí se do cílové fronty.</span><span class="sxs-lookup"><span data-stu-id="18d46-168">If an error occurs during the processing, the message is rolled back and placed in the target queue.</span></span>  
  
## <a name="asynchronous-communication-using-queues"></a><span data-ttu-id="18d46-169">Asynchronní komunikace pomocí front</span><span class="sxs-lookup"><span data-stu-id="18d46-169">Asynchronous Communication Using Queues</span></span>  
 <span data-ttu-id="18d46-170">Fronty poskytují asynchronní způsob komunikace.</span><span class="sxs-lookup"><span data-stu-id="18d46-170">Queues provide an asynchronous means of communication.</span></span> <span data-ttu-id="18d46-171">Aplikace odesílající zprávy pomocí front nečekají na příjem a zpracování zprávy příjemcem z důvodu vysoké latence zavedené správcem fronty.</span><span class="sxs-lookup"><span data-stu-id="18d46-171">Applications that send messages using queues cannot wait for the message to be received and processed by the receiver because of high latency introduced by the queue manager.</span></span> <span data-ttu-id="18d46-172">Zprávy mohou zůstat ve frontě delší dobu, než je aplikace určena.</span><span class="sxs-lookup"><span data-stu-id="18d46-172">Messages can remain in the queue for a far longer time than the application intended.</span></span> <span data-ttu-id="18d46-173">Aby k tomu nedocházelo, aplikace může pro zprávu zadat hodnotu TTL (Time to Live).</span><span class="sxs-lookup"><span data-stu-id="18d46-173">To avoid this, the application can specify a Time-To-Live value on the message.</span></span> <span data-ttu-id="18d46-174">Tato hodnota určuje, jak dlouho by zpráva měla zůstat ve frontě přenosu.</span><span class="sxs-lookup"><span data-stu-id="18d46-174">This value specifies how long the message should remain in the transmission queue.</span></span> <span data-ttu-id="18d46-175">Pokud je tato hodnota času překročena a zpráva ještě nebyla odeslána do cílové fronty, zpráva může být přenesena do fronty nedoručených zpráv.</span><span class="sxs-lookup"><span data-stu-id="18d46-175">If this time value is exceeded, and the message still has not been sent to the target queue, the message can be transferred to a dead-letter queue.</span></span>  
  
 <span data-ttu-id="18d46-176">Když odesílatel odešle zprávu, vrátí návrat z operace odeslání, že zpráva byla odeslána pouze do fronty přenosu v odesilateli.</span><span class="sxs-lookup"><span data-stu-id="18d46-176">When the sender sends a message, the return from the send operation implies that the message only made it to the transmission queue on the sender.</span></span> <span data-ttu-id="18d46-177">V takovém případě, pokud dojde k selhání při získávání zprávy do cílové fronty, nemůže odesílající aplikace o tom okamžitě získat informace.</span><span class="sxs-lookup"><span data-stu-id="18d46-177">As such, if there is a failure in getting the message to the target queue, the sending application cannot know about it immediately.</span></span> <span data-ttu-id="18d46-178">V takovém případě se zpráva o selhání přenese do fronty nedoručených zpráv.</span><span class="sxs-lookup"><span data-stu-id="18d46-178">To take note of such failures, the failed message is transferred to a dead-letter queue.</span></span>  
  
 <span data-ttu-id="18d46-179">Všechny chyby, jako je například zpráva o neúspěšném dosažení cílové fronty nebo vypršení doby do provozu, musí být zpracovány samostatně.</span><span class="sxs-lookup"><span data-stu-id="18d46-179">Any error, such as a message failing to reach the target queue or the Time-To-Live expiring, must be processed separately.</span></span> <span data-ttu-id="18d46-180">Pro aplikace zařazené do fronty není neobvyklé, takže zapisují dvě sady logiky:</span><span class="sxs-lookup"><span data-stu-id="18d46-180">It is not uncommon, therefore, for queued applications to write two sets of logic:</span></span>  
  
- <span data-ttu-id="18d46-181">Normální logika klienta a služby pro odesílání a příjem zpráv.</span><span class="sxs-lookup"><span data-stu-id="18d46-181">The normal client and service logic of sending and receiving messages.</span></span>  
  
- <span data-ttu-id="18d46-182">Logika kompenzace pro zpracování zpráv z neúspěšného přenosu nebo doručování.</span><span class="sxs-lookup"><span data-stu-id="18d46-182">Compensation logic to handle messages from the failed transmission or delivery.</span></span>  
  
 <span data-ttu-id="18d46-183">Následující části popisují tyto koncepce.</span><span class="sxs-lookup"><span data-stu-id="18d46-183">The following sections discuss these concepts.</span></span>  
  
## <a name="dead-letter-queue-programming"></a><span data-ttu-id="18d46-184">Programování fronty nedoručených zpráv</span><span class="sxs-lookup"><span data-stu-id="18d46-184">Dead-Letter Queue Programming</span></span>  
 <span data-ttu-id="18d46-185">Fronty nedoručených zpráv obsahují zprávy, které selhaly při dosažení cílové fronty z různých důvodů.</span><span class="sxs-lookup"><span data-stu-id="18d46-185">Dead-letter queues contain messages that failed to reach the target queue for various reasons.</span></span> <span data-ttu-id="18d46-186">Důvody mohou být v rozsahu od zpráv s vypršenou platností až po problémy s připojením zabraňující přenosu zprávy do cílové fronty.</span><span class="sxs-lookup"><span data-stu-id="18d46-186">The reasons can range from expired messages to connectivity issues preventing transfer of the message to the target queue.</span></span>  
  
 <span data-ttu-id="18d46-187">Aplikace obvykle může číst zprávy z fronty nedoručených zpráv v rámci systému, zjistit, co se nepovedlo, a provést příslušné akce, třeba opravit chyby a znovu odeslat zprávu nebo si ji poznamenat.</span><span class="sxs-lookup"><span data-stu-id="18d46-187">Typically, an application can read messages from a system-wide dead-letter queue, determine what went wrong, and take appropriate action, such as correcting the errors and resending the message or taking note of it.</span></span>  
  
## <a name="poison-message-queue-programming"></a><span data-ttu-id="18d46-188">Programování ve frontě zpráv o nepoškozeném řízení</span><span class="sxs-lookup"><span data-stu-id="18d46-188">Poison Message Queue Programming</span></span>  
 <span data-ttu-id="18d46-189">Po vytvoření zprávy do cílové fronty může služba opakovaně selhat při zpracování zprávy.</span><span class="sxs-lookup"><span data-stu-id="18d46-189">After a message makes it to the target queue, the service may repeatedly fail to process the message.</span></span> <span data-ttu-id="18d46-190">Například aplikace, která čte zprávu z fronty v rámci transakce a aktualizuje databázi, může databázi najít dočasně odpojenou.</span><span class="sxs-lookup"><span data-stu-id="18d46-190">For example, an application reading a message from the queue under a transaction and updating a database may find the database temporarily disconnected.</span></span> <span data-ttu-id="18d46-191">V tomto případě se transakce vrátí zpět, vytvoří se nová transakce a zpráva se znovu načte z fronty.</span><span class="sxs-lookup"><span data-stu-id="18d46-191">In this case, the transaction is rolled back, a new transaction is created, and the message is reread from the queue.</span></span> <span data-ttu-id="18d46-192">Druhý pokus může být úspěšný nebo neúspěšný.</span><span class="sxs-lookup"><span data-stu-id="18d46-192">A second attempt may succeed or fail.</span></span> <span data-ttu-id="18d46-193">V některých případech může v závislosti na příčině chyby dojít k opakovanému doručování zpráv do aplikace.</span><span class="sxs-lookup"><span data-stu-id="18d46-193">In some cases, depending on the cause of the error, the message may repeatedly fail delivery to the application.</span></span> <span data-ttu-id="18d46-194">V tomto případě se zpráva považuje za "jed".</span><span class="sxs-lookup"><span data-stu-id="18d46-194">In this case, the message is deemed as "poison."</span></span> <span data-ttu-id="18d46-195">Tyto zprávy jsou přesunuty do fronty nepoškozeného, kterou lze číst aplikací pro zpracování poškození.</span><span class="sxs-lookup"><span data-stu-id="18d46-195">Such messages are moved to a poison queue that can be read by a poison-handling application.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="18d46-196">Viz také</span><span class="sxs-lookup"><span data-stu-id="18d46-196">See also</span></span>

- [<span data-ttu-id="18d46-197">Fronty ve WCF</span><span class="sxs-lookup"><span data-stu-id="18d46-197">Queuing in WCF</span></span>](queuing-in-wcf.md)
- [<span data-ttu-id="18d46-198">Relace a fronty</span><span class="sxs-lookup"><span data-stu-id="18d46-198">Sessions and Queues</span></span>](../samples/sessions-and-queues.md)
- [<span data-ttu-id="18d46-199">Fronty nedoručených zpráv</span><span class="sxs-lookup"><span data-stu-id="18d46-199">Dead Letter Queues</span></span>](../samples/dead-letter-queues.md)
- [<span data-ttu-id="18d46-200">Nestálá komunikace ve frontě</span><span class="sxs-lookup"><span data-stu-id="18d46-200">Volatile Queued Communication</span></span>](../samples/volatile-queued-communication.md)
- [<span data-ttu-id="18d46-201">Z WCF do Řízení front zpráv</span><span class="sxs-lookup"><span data-stu-id="18d46-201">Windows Communication Foundation to Message Queuing</span></span>](../samples/wcf-to-message-queuing.md)
- [<span data-ttu-id="18d46-202">Instalace služby Řízení front zpráv (MSMQ)</span><span class="sxs-lookup"><span data-stu-id="18d46-202">Installing Message Queuing (MSMQ)</span></span>](../samples/installing-message-queuing-msmq.md)
- [<span data-ttu-id="18d46-203">Řízení front zpráv do WCF</span><span class="sxs-lookup"><span data-stu-id="18d46-203">Message Queuing to Windows Communication Foundation</span></span>](../samples/message-queuing-to-wcf.md)
- [<span data-ttu-id="18d46-204">Zabezpečení zprávy pomocí služby Řízení front zpráv</span><span class="sxs-lookup"><span data-stu-id="18d46-204">Message Security over Message Queuing</span></span>](../samples/message-security-over-message-queuing.md)
