---
title: Korelace – přehled
ms.date: 03/30/2017
ms.assetid: edcc0315-5d26-44d6-a36d-ea554c418e9f
ms.openlocfilehash: cb11f65a30c6bdf5a1d910402ef58446c03a5491
ms.sourcegitcommit: c01c18755bb7b0f82c7232314ccf7955ea7834db
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 01/15/2020
ms.locfileid: "75963946"
---
# <a name="correlation-overview"></a><span data-ttu-id="e9d28-102">Korelace – přehled</span><span class="sxs-lookup"><span data-stu-id="e9d28-102">Correlation Overview</span></span>
<span data-ttu-id="e9d28-103">Korelace je mechanismus pro vzájemné navýšení zpráv služby pracovního postupu nebo stav instance aplikace, jako je například odpověď na počáteční požadavek nebo konkrétní ID objednávky do trvalého stavu pracovního postupu zpracování objednávek.</span><span class="sxs-lookup"><span data-stu-id="e9d28-103">Correlation is the mechanism for relating workflow service messages to each other or to the application instance state, such as a reply to an initial request, or a particular order ID to the persisted state of an order-processing workflow.</span></span> <span data-ttu-id="e9d28-104">V tomto tématu najdete přehled korelace.</span><span class="sxs-lookup"><span data-stu-id="e9d28-104">This topic provides an overview of correlation.</span></span> <span data-ttu-id="e9d28-105">Další témata v této části poskytují další informace o jednotlivých typech korelace.</span><span class="sxs-lookup"><span data-stu-id="e9d28-105">The other topics in this section provide additional information for each type of correlation.</span></span>  
  
## <a name="types-of-correlation"></a><span data-ttu-id="e9d28-106">Typy korelace</span><span class="sxs-lookup"><span data-stu-id="e9d28-106">Types of Correlation</span></span>  
 <span data-ttu-id="e9d28-107">Korelace může být založená na protokolu nebo na základě obsahu.</span><span class="sxs-lookup"><span data-stu-id="e9d28-107">Correlation can be protocol-based or content-based.</span></span> <span data-ttu-id="e9d28-108">Korelace založené na protokolech používají data poskytovaná infrastrukturou doručování zpráv k poskytnutí mapování mezi zprávami.</span><span class="sxs-lookup"><span data-stu-id="e9d28-108">Protocol-based correlations use data provided by the message delivery infrastructure to provide the mapping between messages.</span></span> <span data-ttu-id="e9d28-109">Zprávy, které jsou korelační pomocí korelace založené na protokolech, jsou vzájemně propojené pomocí objektu v paměti, například <xref:System.ServiceModel.Channels.RequestContext>nebo pomocí tokenu poskytnutého transportním protokolem.</span><span class="sxs-lookup"><span data-stu-id="e9d28-109">Messages that are correlated using protocol-based correlation are related to each other using an object in memory, such as a <xref:System.ServiceModel.Channels.RequestContext>, or by a token provided by the transport protocol.</span></span> <span data-ttu-id="e9d28-110">Korelace na základě obsahu vzájemně procházejí zprávy pomocí dat zadaných aplikací.</span><span class="sxs-lookup"><span data-stu-id="e9d28-110">Content-based correlations relate messages to each other using application-specified data.</span></span> <span data-ttu-id="e9d28-111">Zprávy, které jsou korelační pomocí korelace na základě obsahu, vzájemně souvisí s některými daty definovanými aplikací ve zprávě, jako je číslo zákazníka.</span><span class="sxs-lookup"><span data-stu-id="e9d28-111">Messages that are correlated using content-based correlation are related to each other by some application-defined data in the message, such as a customer number.</span></span>  
  
 <span data-ttu-id="e9d28-112">Aktivity, které se účastní korelace, používají <xref:System.ServiceModel.Activities.CorrelationHandle> k propojení aktivit zasílání zpráv.</span><span class="sxs-lookup"><span data-stu-id="e9d28-112">Activities that participate in correlation use a <xref:System.ServiceModel.Activities.CorrelationHandle> to tie the messaging activities together.</span></span> <span data-ttu-id="e9d28-113">Například <xref:System.ServiceModel.Activities.Send>, který se používá k volání služby a následná <xref:System.ServiceModel.Activities.Receive>, která se používá k přijetí zpětného volání ze služby, sdílejte stejný <xref:System.ServiceModel.Activities.CorrelationHandle>.</span><span class="sxs-lookup"><span data-stu-id="e9d28-113">For example, a <xref:System.ServiceModel.Activities.Send> that is used to call a service and a subsequent <xref:System.ServiceModel.Activities.Receive> that is used to receive a callback from the service, share the same <xref:System.ServiceModel.Activities.CorrelationHandle>.</span></span> <span data-ttu-id="e9d28-114">Tento základní vzor se používá, je-li korelace založená na obsahu nebo protokolu.</span><span class="sxs-lookup"><span data-stu-id="e9d28-114">This basic pattern is used whether the correlation is content based or protocol based.</span></span> <span data-ttu-id="e9d28-115">Korelační popisovač lze explicitně nastavit u každé aktivity nebo aktivity mohou být obsaženy v aktivitě <xref:System.ServiceModel.Activities.CorrelationScope>.</span><span class="sxs-lookup"><span data-stu-id="e9d28-115">The correlation handle can be explicitly set on each activity or the activities can be contained in a <xref:System.ServiceModel.Activities.CorrelationScope> activity.</span></span> <span data-ttu-id="e9d28-116">Aktivity obsažené ve <xref:System.ServiceModel.Activities.CorrelationScope> mají své korelační popisovače spravované <xref:System.ServiceModel.Activities.CorrelationScope> a nevyžadují explicitně nastavené <xref:System.ServiceModel.Activities.CorrelationHandle>.</span><span class="sxs-lookup"><span data-stu-id="e9d28-116">Activities contained in a <xref:System.ServiceModel.Activities.CorrelationScope> have their correlation handles managed by the <xref:System.ServiceModel.Activities.CorrelationScope> and do not require the <xref:System.ServiceModel.Activities.CorrelationHandle> to be explicitly set.</span></span> <span data-ttu-id="e9d28-117">Obor <xref:System.ServiceModel.Activities.CorrelationScope> poskytuje <xref:System.ServiceModel.Activities.CorrelationHandle> správu pro korelaci požadavek-odpověď a jeden další typ korelace.</span><span class="sxs-lookup"><span data-stu-id="e9d28-117">A <xref:System.ServiceModel.Activities.CorrelationScope> scope provides <xref:System.ServiceModel.Activities.CorrelationHandle> management for a request-reply correlation and one additional correlation type.</span></span> <span data-ttu-id="e9d28-118">Služby pracovních postupů hostované pomocí <xref:System.ServiceModel.Activities.WorkflowServiceHost> mají stejnou výchozí správu korelace jako aktivita <xref:System.ServiceModel.Activities.CorrelationScope>.</span><span class="sxs-lookup"><span data-stu-id="e9d28-118">Workflow services hosted using <xref:System.ServiceModel.Activities.WorkflowServiceHost> have the same default correlation management as the <xref:System.ServiceModel.Activities.CorrelationScope> activity.</span></span> <span data-ttu-id="e9d28-119">Tato výchozí Správa korelace obecně znamená, že v mnoha scénářích nevyžadují aktivity zasílání zpráv ve <xref:System.ServiceModel.Activities.CorrelationScope> nebo službě pracovního postupu jejich <xref:System.ServiceModel.Activities.CorrelationHandle> nastavené, pokud se více aktivit zasílání zpráv neprovádí paralelně nebo překrývají, například dvě <xref:System.ServiceModel.Activities.Receive> aktivity, nebo dvě <xref:System.ServiceModel.Activities.Send> aktivity, které následují dvě <xref:System.ServiceModel.Activities.Receive> aktivity.</span><span class="sxs-lookup"><span data-stu-id="e9d28-119">This default correlation management generally means that in many scenarios, messaging activities in a <xref:System.ServiceModel.Activities.CorrelationScope> or a workflow service do not require their <xref:System.ServiceModel.Activities.CorrelationHandle> set unless multiple messaging activities are in parallel or overlap, such as two <xref:System.ServiceModel.Activities.Receive> activities in parallel, or two <xref:System.ServiceModel.Activities.Send> activities followed by two <xref:System.ServiceModel.Activities.Receive> activities.</span></span> <span data-ttu-id="e9d28-120">Další informace o výchozí korelaci najdete v tématech v této části, které se týkají každého konkrétního typu korelace.</span><span class="sxs-lookup"><span data-stu-id="e9d28-120">More information about default correlation is provided in the topics in this section that cover each specific type of correlation.</span></span> <span data-ttu-id="e9d28-121">Další informace o aktivitách zasílání zpráv najdete v tématech aktivity zasílání [zpráv](../../../../docs/framework/wcf/feature-details/messaging-activities.md) a [Postupy: vytvoření služby pracovního postupu pomocí aktivit zasílání zpráv](../../../../docs/framework/wcf/feature-details/how-to-create-a-workflow-service-with-messaging-activities.md).</span><span class="sxs-lookup"><span data-stu-id="e9d28-121">For more information about messaging activities see [Messaging Activities](../../../../docs/framework/wcf/feature-details/messaging-activities.md) and [How to: Create a Workflow Service with Messaging Activities](../../../../docs/framework/wcf/feature-details/how-to-create-a-workflow-service-with-messaging-activities.md).</span></span>  
  
## <a name="protocol-based-correlation"></a><span data-ttu-id="e9d28-122">Korelace na základě protokolů</span><span class="sxs-lookup"><span data-stu-id="e9d28-122">Protocol-Based Correlation</span></span>

<span data-ttu-id="e9d28-123">Korelace založená na protokolech používá přenosový mechanismus k vzájemnému propojení zpráv a příslušné instance.</span><span class="sxs-lookup"><span data-stu-id="e9d28-123">Protocol-based correlation uses the transport mechanism to relate messages to each other and the appropriate instance.</span></span> <span data-ttu-id="e9d28-124">Mezi korelace protokolů poskytovaných systémem patří korelace požadavku a odpovědi a korelace na základě kontextu.</span><span class="sxs-lookup"><span data-stu-id="e9d28-124">Some system-provided protocol correlations include request-reply correlation and context-based correlation.</span></span> <span data-ttu-id="e9d28-125">Korelace požadavek-odpověď se používá ke korelaci jedné dvojice aktivit zasílání zpráv za účelem vytvoření obousměrné operace, například <xref:System.ServiceModel.Activities.Send> spárované s <xref:System.ServiceModel.Activities.ReceiveReply>nebo <xref:System.ServiceModel.Activities.Receive> spárované s <xref:System.ServiceModel.Activities.SendReply>.</span><span class="sxs-lookup"><span data-stu-id="e9d28-125">A request-reply correlation is used to correlate a single pair of messaging activities to form a two-way operation, such as a <xref:System.ServiceModel.Activities.Send> paired with a <xref:System.ServiceModel.Activities.ReceiveReply>, or a <xref:System.ServiceModel.Activities.Receive> paired with a <xref:System.ServiceModel.Activities.SendReply>.</span></span> <span data-ttu-id="e9d28-126">Sada Visual Studio Návrhář postupu provádění také poskytuje sadu šablon aktivity k rychlé implementaci tohoto modelu.</span><span class="sxs-lookup"><span data-stu-id="e9d28-126">The Visual Studio Workflow Designer also provides a set of activity templates to quickly implement this pattern.</span></span> <span data-ttu-id="e9d28-127">Korelace založená na kontextu je založena na mechanismu výměny kontextu popsaném ve [specifikaci protokolu výměny kontextu .NET](https://docs.microsoft.com/openspecs/windows_protocols/mc-netcex/a7f26280-491f-465b-9914-c5eb5322dbb4).</span><span class="sxs-lookup"><span data-stu-id="e9d28-127">A context-based correlation is based on the context exchange mechanism described in the [.NET Context Exchange Protocol Specification](https://docs.microsoft.com/openspecs/windows_protocols/mc-netcex/a7f26280-491f-465b-9914-c5eb5322dbb4).</span></span> <span data-ttu-id="e9d28-128">Pro použití korelace založené na kontextu, musí být na koncovém bodu použita kontextová vazba, například <xref:System.ServiceModel.BasicHttpContextBinding>, <xref:System.ServiceModel.WSHttpContextBinding> nebo <xref:System.ServiceModel.NetTcpContextBinding>.</span><span class="sxs-lookup"><span data-stu-id="e9d28-128">To use context-based correlation, a context-based binding such as <xref:System.ServiceModel.BasicHttpContextBinding>, <xref:System.ServiceModel.WSHttpContextBinding> or <xref:System.ServiceModel.NetTcpContextBinding> must be used on the endpoint.</span></span>  
  
<span data-ttu-id="e9d28-129">Další informace o korelaci protokolu najdete v tématu [odolný Duplex](../../../../docs/framework/wcf/feature-details/durable-duplex-correlation.md) a [Request-Reply](../../../../docs/framework/wcf/feature-details/request-reply-correlation.md).</span><span class="sxs-lookup"><span data-stu-id="e9d28-129">For more information about protocol correlation, see [Durable Duplex](../../../../docs/framework/wcf/feature-details/durable-duplex-correlation.md) and [Request-Reply](../../../../docs/framework/wcf/feature-details/request-reply-correlation.md).</span></span> <span data-ttu-id="e9d28-130">Další informace o používání šablon aktivity aplikace Visual Studio Návrhář postupu provádění najdete v tématu [aktivity zasílání zpráv](../../../../docs/framework/wcf/feature-details/messaging-activities.md).</span><span class="sxs-lookup"><span data-stu-id="e9d28-130">For more information about using the Visual Studio Workflow Designer activity templates, see [Messaging Activities](../../../../docs/framework/wcf/feature-details/messaging-activities.md).</span></span> <span data-ttu-id="e9d28-131">Vzorový kód naleznete v ukázce [NetContextExchangeCorrelation](https://docs.microsoft.com/previous-versions/dotnet/netframework-4.0/ee662963%28v%3dvs.100%29) .</span><span class="sxs-lookup"><span data-stu-id="e9d28-131">For sample code, see the [NetContextExchangeCorrelation](https://docs.microsoft.com/previous-versions/dotnet/netframework-4.0/ee662963%28v%3dvs.100%29) sample.</span></span>  
  
## <a name="content-based-correlation"></a><span data-ttu-id="e9d28-132">Korelace na základě obsahu</span><span class="sxs-lookup"><span data-stu-id="e9d28-132">Content-Based Correlation</span></span>

<span data-ttu-id="e9d28-133">Korelace na základě obsahu používá některé informace ve zprávě k jejímu přidružení ke konkrétní instanci.</span><span class="sxs-lookup"><span data-stu-id="e9d28-133">Content-based correlation uses some piece of information in the message to associate it to a particular instance.</span></span> <span data-ttu-id="e9d28-134">Na rozdíl od korelace na základě protokolu vyžaduje korelace na základě obsahu explicitní stav, kde se tato data dají najít v každé související zprávě.</span><span class="sxs-lookup"><span data-stu-id="e9d28-134">Unlike protocol-based correlation, content-based correlation requires the application author to explicitly state where this data can be found in each related message.</span></span> <span data-ttu-id="e9d28-135">Aktivity, které používají korelaci na základě obsahu, určují tato data zprávy pomocí <xref:System.ServiceModel.MessageQuerySet>.</span><span class="sxs-lookup"><span data-stu-id="e9d28-135">Activities that use content-based correlation specify this message data by using a <xref:System.ServiceModel.MessageQuerySet>.</span></span> <span data-ttu-id="e9d28-136">Korelace na základě obsahu je užitečná při komunikaci se službami, které nepoužívají jednu z kontextových vazeb, jako je například <xref:System.ServiceModel.BasicHttpContextBinding>.</span><span class="sxs-lookup"><span data-stu-id="e9d28-136">Content-based correlation is useful when communicating with services that do not use one of the context bindings such as <xref:System.ServiceModel.BasicHttpContextBinding>.</span></span>
  
## <a name="see-also"></a><span data-ttu-id="e9d28-137">Viz také:</span><span class="sxs-lookup"><span data-stu-id="e9d28-137">See also</span></span>

- [<span data-ttu-id="e9d28-138">NetContextExchangeCorrelation</span><span class="sxs-lookup"><span data-stu-id="e9d28-138">NetContextExchangeCorrelation</span></span>](https://docs.microsoft.com/previous-versions/dotnet/netframework-4.0/ee662963%28v%3dvs.100%29)
