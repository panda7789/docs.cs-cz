---
title: Korelace – přehled
ms.date: 03/30/2017
ms.assetid: edcc0315-5d26-44d6-a36d-ea554c418e9f
ms.openlocfilehash: cb11f65a30c6bdf5a1d910402ef58446c03a5491
ms.sourcegitcommit: c01c18755bb7b0f82c7232314ccf7955ea7834db
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 01/15/2020
ms.locfileid: "75963946"
---
# <a name="correlation-overview"></a>Korelace – přehled
Korelace je mechanismus pro vzájemné navýšení zpráv služby pracovního postupu nebo stav instance aplikace, jako je například odpověď na počáteční požadavek nebo konkrétní ID objednávky do trvalého stavu pracovního postupu zpracování objednávek. V tomto tématu najdete přehled korelace. Další témata v této části poskytují další informace o jednotlivých typech korelace.  
  
## <a name="types-of-correlation"></a>Typy korelace  
 Korelace může být založená na protokolu nebo na základě obsahu. Korelace založené na protokolech používají data poskytovaná infrastrukturou doručování zpráv k poskytnutí mapování mezi zprávami. Zprávy, které jsou korelační pomocí korelace založené na protokolech, jsou vzájemně propojené pomocí objektu v paměti, například <xref:System.ServiceModel.Channels.RequestContext>nebo pomocí tokenu poskytnutého transportním protokolem. Korelace na základě obsahu vzájemně procházejí zprávy pomocí dat zadaných aplikací. Zprávy, které jsou korelační pomocí korelace na základě obsahu, vzájemně souvisí s některými daty definovanými aplikací ve zprávě, jako je číslo zákazníka.  
  
 Aktivity, které se účastní korelace, používají <xref:System.ServiceModel.Activities.CorrelationHandle> k propojení aktivit zasílání zpráv. Například <xref:System.ServiceModel.Activities.Send>, který se používá k volání služby a následná <xref:System.ServiceModel.Activities.Receive>, která se používá k přijetí zpětného volání ze služby, sdílejte stejný <xref:System.ServiceModel.Activities.CorrelationHandle>. Tento základní vzor se používá, je-li korelace založená na obsahu nebo protokolu. Korelační popisovač lze explicitně nastavit u každé aktivity nebo aktivity mohou být obsaženy v aktivitě <xref:System.ServiceModel.Activities.CorrelationScope>. Aktivity obsažené ve <xref:System.ServiceModel.Activities.CorrelationScope> mají své korelační popisovače spravované <xref:System.ServiceModel.Activities.CorrelationScope> a nevyžadují explicitně nastavené <xref:System.ServiceModel.Activities.CorrelationHandle>. Obor <xref:System.ServiceModel.Activities.CorrelationScope> poskytuje <xref:System.ServiceModel.Activities.CorrelationHandle> správu pro korelaci požadavek-odpověď a jeden další typ korelace. Služby pracovních postupů hostované pomocí <xref:System.ServiceModel.Activities.WorkflowServiceHost> mají stejnou výchozí správu korelace jako aktivita <xref:System.ServiceModel.Activities.CorrelationScope>. Tato výchozí Správa korelace obecně znamená, že v mnoha scénářích nevyžadují aktivity zasílání zpráv ve <xref:System.ServiceModel.Activities.CorrelationScope> nebo službě pracovního postupu jejich <xref:System.ServiceModel.Activities.CorrelationHandle> nastavené, pokud se více aktivit zasílání zpráv neprovádí paralelně nebo překrývají, například dvě <xref:System.ServiceModel.Activities.Receive> aktivity, nebo dvě <xref:System.ServiceModel.Activities.Send> aktivity, které následují dvě <xref:System.ServiceModel.Activities.Receive> aktivity. Další informace o výchozí korelaci najdete v tématech v této části, které se týkají každého konkrétního typu korelace. Další informace o aktivitách zasílání zpráv najdete v tématech aktivity zasílání [zpráv](../../../../docs/framework/wcf/feature-details/messaging-activities.md) a [Postupy: vytvoření služby pracovního postupu pomocí aktivit zasílání zpráv](../../../../docs/framework/wcf/feature-details/how-to-create-a-workflow-service-with-messaging-activities.md).  
  
## <a name="protocol-based-correlation"></a>Korelace na základě protokolů

Korelace založená na protokolech používá přenosový mechanismus k vzájemnému propojení zpráv a příslušné instance. Mezi korelace protokolů poskytovaných systémem patří korelace požadavku a odpovědi a korelace na základě kontextu. Korelace požadavek-odpověď se používá ke korelaci jedné dvojice aktivit zasílání zpráv za účelem vytvoření obousměrné operace, například <xref:System.ServiceModel.Activities.Send> spárované s <xref:System.ServiceModel.Activities.ReceiveReply>nebo <xref:System.ServiceModel.Activities.Receive> spárované s <xref:System.ServiceModel.Activities.SendReply>. Sada Visual Studio Návrhář postupu provádění také poskytuje sadu šablon aktivity k rychlé implementaci tohoto modelu. Korelace založená na kontextu je založena na mechanismu výměny kontextu popsaném ve [specifikaci protokolu výměny kontextu .NET](https://docs.microsoft.com/openspecs/windows_protocols/mc-netcex/a7f26280-491f-465b-9914-c5eb5322dbb4). Pro použití korelace založené na kontextu, musí být na koncovém bodu použita kontextová vazba, například <xref:System.ServiceModel.BasicHttpContextBinding>, <xref:System.ServiceModel.WSHttpContextBinding> nebo <xref:System.ServiceModel.NetTcpContextBinding>.  
  
Další informace o korelaci protokolu najdete v tématu [odolný Duplex](../../../../docs/framework/wcf/feature-details/durable-duplex-correlation.md) a [Request-Reply](../../../../docs/framework/wcf/feature-details/request-reply-correlation.md). Další informace o používání šablon aktivity aplikace Visual Studio Návrhář postupu provádění najdete v tématu [aktivity zasílání zpráv](../../../../docs/framework/wcf/feature-details/messaging-activities.md). Vzorový kód naleznete v ukázce [NetContextExchangeCorrelation](https://docs.microsoft.com/previous-versions/dotnet/netframework-4.0/ee662963%28v%3dvs.100%29) .  
  
## <a name="content-based-correlation"></a>Korelace na základě obsahu

Korelace na základě obsahu používá některé informace ve zprávě k jejímu přidružení ke konkrétní instanci. Na rozdíl od korelace na základě protokolu vyžaduje korelace na základě obsahu explicitní stav, kde se tato data dají najít v každé související zprávě. Aktivity, které používají korelaci na základě obsahu, určují tato data zprávy pomocí <xref:System.ServiceModel.MessageQuerySet>. Korelace na základě obsahu je užitečná při komunikaci se službami, které nepoužívají jednu z kontextových vazeb, jako je například <xref:System.ServiceModel.BasicHttpContextBinding>.
  
## <a name="see-also"></a>Viz také:

- [NetContextExchangeCorrelation](https://docs.microsoft.com/previous-versions/dotnet/netframework-4.0/ee662963%28v%3dvs.100%29)
