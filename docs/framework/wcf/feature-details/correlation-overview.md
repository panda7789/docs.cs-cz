---
title: Korelace – přehled
ms.date: 03/30/2017
ms.assetid: edcc0315-5d26-44d6-a36d-ea554c418e9f
ms.openlocfilehash: 65f87195fde0c3dbda610804260f0ebfbf599073
ms.sourcegitcommit: cdb295dd1db589ce5169ac9ff096f01fd0c2da9d
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 06/09/2020
ms.locfileid: "84586972"
---
# <a name="correlation-overview"></a><span data-ttu-id="2b3db-102">Korelace – přehled</span><span class="sxs-lookup"><span data-stu-id="2b3db-102">Correlation Overview</span></span>
<span data-ttu-id="2b3db-103">Korelace je mechanismus pro vzájemné navýšení zpráv služby pracovního postupu nebo stav instance aplikace, jako je například odpověď na počáteční požadavek nebo konkrétní ID objednávky do trvalého stavu pracovního postupu zpracování objednávek.</span><span class="sxs-lookup"><span data-stu-id="2b3db-103">Correlation is the mechanism for relating workflow service messages to each other or to the application instance state, such as a reply to an initial request, or a particular order ID to the persisted state of an order-processing workflow.</span></span> <span data-ttu-id="2b3db-104">V tomto tématu najdete přehled korelace.</span><span class="sxs-lookup"><span data-stu-id="2b3db-104">This topic provides an overview of correlation.</span></span> <span data-ttu-id="2b3db-105">Další témata v této části poskytují další informace o jednotlivých typech korelace.</span><span class="sxs-lookup"><span data-stu-id="2b3db-105">The other topics in this section provide additional information for each type of correlation.</span></span>  
  
## <a name="types-of-correlation"></a><span data-ttu-id="2b3db-106">Typy korelace</span><span class="sxs-lookup"><span data-stu-id="2b3db-106">Types of Correlation</span></span>  
 <span data-ttu-id="2b3db-107">Korelace může být založená na protokolu nebo na základě obsahu.</span><span class="sxs-lookup"><span data-stu-id="2b3db-107">Correlation can be protocol-based or content-based.</span></span> <span data-ttu-id="2b3db-108">Korelace založené na protokolech používají data poskytovaná infrastrukturou doručování zpráv k poskytnutí mapování mezi zprávami.</span><span class="sxs-lookup"><span data-stu-id="2b3db-108">Protocol-based correlations use data provided by the message delivery infrastructure to provide the mapping between messages.</span></span> <span data-ttu-id="2b3db-109">Zprávy, které jsou korelační pomocí korelace založené na protokolech, jsou vzájemně propojené pomocí objektu v paměti, jako je například <xref:System.ServiceModel.Channels.RequestContext> nebo pomocí tokenu poskytnutého transportním protokolem.</span><span class="sxs-lookup"><span data-stu-id="2b3db-109">Messages that are correlated using protocol-based correlation are related to each other using an object in memory, such as a <xref:System.ServiceModel.Channels.RequestContext>, or by a token provided by the transport protocol.</span></span> <span data-ttu-id="2b3db-110">Korelace na základě obsahu vzájemně procházejí zprávy pomocí dat zadaných aplikací.</span><span class="sxs-lookup"><span data-stu-id="2b3db-110">Content-based correlations relate messages to each other using application-specified data.</span></span> <span data-ttu-id="2b3db-111">Zprávy, které jsou korelační pomocí korelace na základě obsahu, vzájemně souvisí s některými daty definovanými aplikací ve zprávě, jako je číslo zákazníka.</span><span class="sxs-lookup"><span data-stu-id="2b3db-111">Messages that are correlated using content-based correlation are related to each other by some application-defined data in the message, such as a customer number.</span></span>  
  
 <span data-ttu-id="2b3db-112">Aktivity, které se účastní korelace, využívají <xref:System.ServiceModel.Activities.CorrelationHandle> k propojení aktivit zasílání zpráv.</span><span class="sxs-lookup"><span data-stu-id="2b3db-112">Activities that participate in correlation use a <xref:System.ServiceModel.Activities.CorrelationHandle> to tie the messaging activities together.</span></span> <span data-ttu-id="2b3db-113">Například, <xref:System.ServiceModel.Activities.Send> který se používá k volání služby a následného <xref:System.ServiceModel.Activities.Receive> , který se používá k získání zpětného volání ze služby, můžete sdílet stejné <xref:System.ServiceModel.Activities.CorrelationHandle> .</span><span class="sxs-lookup"><span data-stu-id="2b3db-113">For example, a <xref:System.ServiceModel.Activities.Send> that is used to call a service and a subsequent <xref:System.ServiceModel.Activities.Receive> that is used to receive a callback from the service, share the same <xref:System.ServiceModel.Activities.CorrelationHandle>.</span></span> <span data-ttu-id="2b3db-114">Tento základní vzor se používá, je-li korelace založená na obsahu nebo protokolu.</span><span class="sxs-lookup"><span data-stu-id="2b3db-114">This basic pattern is used whether the correlation is content based or protocol based.</span></span> <span data-ttu-id="2b3db-115">Korelační popisovač lze explicitně nastavit u každé aktivity nebo aktivity mohou být obsaženy v <xref:System.ServiceModel.Activities.CorrelationScope> aktivitě.</span><span class="sxs-lookup"><span data-stu-id="2b3db-115">The correlation handle can be explicitly set on each activity or the activities can be contained in a <xref:System.ServiceModel.Activities.CorrelationScope> activity.</span></span> <span data-ttu-id="2b3db-116">Aktivity obsažené v rámci <xref:System.ServiceModel.Activities.CorrelationScope> mají své korelační popisovače spravované pomocí <xref:System.ServiceModel.Activities.CorrelationScope> a nevyžadují, aby byly <xref:System.ServiceModel.Activities.CorrelationHandle> nastaveny explicitně.</span><span class="sxs-lookup"><span data-stu-id="2b3db-116">Activities contained in a <xref:System.ServiceModel.Activities.CorrelationScope> have their correlation handles managed by the <xref:System.ServiceModel.Activities.CorrelationScope> and do not require the <xref:System.ServiceModel.Activities.CorrelationHandle> to be explicitly set.</span></span> <span data-ttu-id="2b3db-117"><xref:System.ServiceModel.Activities.CorrelationScope>Obor poskytuje <xref:System.ServiceModel.Activities.CorrelationHandle> správu pro korelaci požadavek-odpověď a jeden další typ korelace.</span><span class="sxs-lookup"><span data-stu-id="2b3db-117">A <xref:System.ServiceModel.Activities.CorrelationScope> scope provides <xref:System.ServiceModel.Activities.CorrelationHandle> management for a request-reply correlation and one additional correlation type.</span></span> <span data-ttu-id="2b3db-118">Služba pracovního postupu hostovaná pomocí nástroje <xref:System.ServiceModel.Activities.WorkflowServiceHost> mají stejnou výchozí správu korelace jako <xref:System.ServiceModel.Activities.CorrelationScope> aktivita.</span><span class="sxs-lookup"><span data-stu-id="2b3db-118">Workflow services hosted using <xref:System.ServiceModel.Activities.WorkflowServiceHost> have the same default correlation management as the <xref:System.ServiceModel.Activities.CorrelationScope> activity.</span></span> <span data-ttu-id="2b3db-119">Tato výchozí Správa korelace obecně znamená, že v mnoha scénářích nevyžadují aktivity zasílání zpráv ve <xref:System.ServiceModel.Activities.CorrelationScope> službě nebo v rámci služby pracovního postupu, <xref:System.ServiceModel.Activities.CorrelationHandle> Pokud je více aktivit zasílání zpráv paralelní nebo překrývající se, například dvě <xref:System.ServiceModel.Activities.Receive> aktivity paralelně, nebo dvě <xref:System.ServiceModel.Activities.Send> aktivity, které následují dvě <xref:System.ServiceModel.Activities.Receive> aktivity.</span><span class="sxs-lookup"><span data-stu-id="2b3db-119">This default correlation management generally means that in many scenarios, messaging activities in a <xref:System.ServiceModel.Activities.CorrelationScope> or a workflow service do not require their <xref:System.ServiceModel.Activities.CorrelationHandle> set unless multiple messaging activities are in parallel or overlap, such as two <xref:System.ServiceModel.Activities.Receive> activities in parallel, or two <xref:System.ServiceModel.Activities.Send> activities followed by two <xref:System.ServiceModel.Activities.Receive> activities.</span></span> <span data-ttu-id="2b3db-120">Další informace o výchozí korelaci najdete v tématech v této části, které se týkají každého konkrétního typu korelace.</span><span class="sxs-lookup"><span data-stu-id="2b3db-120">More information about default correlation is provided in the topics in this section that cover each specific type of correlation.</span></span> <span data-ttu-id="2b3db-121">Další informace o aktivitách zasílání zpráv najdete v tématech aktivity zasílání [zpráv](messaging-activities.md) a [Postupy: vytvoření služby pracovního postupu pomocí aktivit zasílání zpráv](how-to-create-a-workflow-service-with-messaging-activities.md).</span><span class="sxs-lookup"><span data-stu-id="2b3db-121">For more information about messaging activities see [Messaging Activities](messaging-activities.md) and [How to: Create a Workflow Service with Messaging Activities](how-to-create-a-workflow-service-with-messaging-activities.md).</span></span>  
  
## <a name="protocol-based-correlation"></a><span data-ttu-id="2b3db-122">Korelace na základě protokolů</span><span class="sxs-lookup"><span data-stu-id="2b3db-122">Protocol-Based Correlation</span></span>

<span data-ttu-id="2b3db-123">Korelace založená na protokolech používá přenosový mechanismus k vzájemnému propojení zpráv a příslušné instance.</span><span class="sxs-lookup"><span data-stu-id="2b3db-123">Protocol-based correlation uses the transport mechanism to relate messages to each other and the appropriate instance.</span></span> <span data-ttu-id="2b3db-124">Mezi korelace protokolů poskytovaných systémem patří korelace požadavku a odpovědi a korelace na základě kontextu.</span><span class="sxs-lookup"><span data-stu-id="2b3db-124">Some system-provided protocol correlations include request-reply correlation and context-based correlation.</span></span> <span data-ttu-id="2b3db-125">Korelace požadavek-odpověď se používá ke korelaci jedné dvojice aktivit zasílání zpráv za účelem vytvoření obousměrné operace, například <xref:System.ServiceModel.Activities.Send> párování s <xref:System.ServiceModel.Activities.ReceiveReply> nebo <xref:System.ServiceModel.Activities.Receive> spárovaného s <xref:System.ServiceModel.Activities.SendReply> .</span><span class="sxs-lookup"><span data-stu-id="2b3db-125">A request-reply correlation is used to correlate a single pair of messaging activities to form a two-way operation, such as a <xref:System.ServiceModel.Activities.Send> paired with a <xref:System.ServiceModel.Activities.ReceiveReply>, or a <xref:System.ServiceModel.Activities.Receive> paired with a <xref:System.ServiceModel.Activities.SendReply>.</span></span> <span data-ttu-id="2b3db-126">Sada Visual Studio Návrhář postupu provádění také poskytuje sadu šablon aktivity k rychlé implementaci tohoto modelu.</span><span class="sxs-lookup"><span data-stu-id="2b3db-126">The Visual Studio Workflow Designer also provides a set of activity templates to quickly implement this pattern.</span></span> <span data-ttu-id="2b3db-127">Korelace založená na kontextu je založena na mechanismu výměny kontextu popsaném ve [specifikaci protokolu výměny kontextu .NET](https://docs.microsoft.com/openspecs/windows_protocols/mc-netcex/a7f26280-491f-465b-9914-c5eb5322dbb4).</span><span class="sxs-lookup"><span data-stu-id="2b3db-127">A context-based correlation is based on the context exchange mechanism described in the [.NET Context Exchange Protocol Specification](https://docs.microsoft.com/openspecs/windows_protocols/mc-netcex/a7f26280-491f-465b-9914-c5eb5322dbb4).</span></span> <span data-ttu-id="2b3db-128">Chcete-li použít kontextovou korelaci, použijte kontextovou vazbu, jako <xref:System.ServiceModel.BasicHttpContextBinding> je například, <xref:System.ServiceModel.WSHttpContextBinding> nebo <xref:System.ServiceModel.NetTcpContextBinding> musí být použita na koncovém bodu.</span><span class="sxs-lookup"><span data-stu-id="2b3db-128">To use context-based correlation, a context-based binding such as <xref:System.ServiceModel.BasicHttpContextBinding>, <xref:System.ServiceModel.WSHttpContextBinding> or <xref:System.ServiceModel.NetTcpContextBinding> must be used on the endpoint.</span></span>  
  
<span data-ttu-id="2b3db-129">Další informace o korelaci protokolu najdete v tématu [odolný Duplex](durable-duplex-correlation.md) a [Request-Reply](request-reply-correlation.md).</span><span class="sxs-lookup"><span data-stu-id="2b3db-129">For more information about protocol correlation, see [Durable Duplex](durable-duplex-correlation.md) and [Request-Reply](request-reply-correlation.md).</span></span> <span data-ttu-id="2b3db-130">Další informace o používání šablon aktivity aplikace Visual Studio Návrhář postupu provádění najdete v tématu [aktivity zasílání zpráv](messaging-activities.md).</span><span class="sxs-lookup"><span data-stu-id="2b3db-130">For more information about using the Visual Studio Workflow Designer activity templates, see [Messaging Activities](messaging-activities.md).</span></span> <span data-ttu-id="2b3db-131">Vzorový kód naleznete v ukázce [NetContextExchangeCorrelation](https://docs.microsoft.com/previous-versions/dotnet/netframework-4.0/ee662963%28v%3dvs.100%29) .</span><span class="sxs-lookup"><span data-stu-id="2b3db-131">For sample code, see the [NetContextExchangeCorrelation](https://docs.microsoft.com/previous-versions/dotnet/netframework-4.0/ee662963%28v%3dvs.100%29) sample.</span></span>  
  
## <a name="content-based-correlation"></a><span data-ttu-id="2b3db-132">Korelace na základě obsahu</span><span class="sxs-lookup"><span data-stu-id="2b3db-132">Content-Based Correlation</span></span>

<span data-ttu-id="2b3db-133">Korelace na základě obsahu používá některé informace ve zprávě k jejímu přidružení ke konkrétní instanci.</span><span class="sxs-lookup"><span data-stu-id="2b3db-133">Content-based correlation uses some piece of information in the message to associate it to a particular instance.</span></span> <span data-ttu-id="2b3db-134">Na rozdíl od korelace na základě protokolu vyžaduje korelace na základě obsahu explicitní stav, kde se tato data dají najít v každé související zprávě.</span><span class="sxs-lookup"><span data-stu-id="2b3db-134">Unlike protocol-based correlation, content-based correlation requires the application author to explicitly state where this data can be found in each related message.</span></span> <span data-ttu-id="2b3db-135">Aktivity, které používají korelaci na základě obsahu, určují tato data zprávy pomocí <xref:System.ServiceModel.MessageQuerySet> .</span><span class="sxs-lookup"><span data-stu-id="2b3db-135">Activities that use content-based correlation specify this message data by using a <xref:System.ServiceModel.MessageQuerySet>.</span></span> <span data-ttu-id="2b3db-136">Korelace na základě obsahu je užitečná při komunikaci se službami, které nepoužívají jednu z kontextových vazeb, jako je <xref:System.ServiceModel.BasicHttpContextBinding> .</span><span class="sxs-lookup"><span data-stu-id="2b3db-136">Content-based correlation is useful when communicating with services that do not use one of the context bindings such as <xref:System.ServiceModel.BasicHttpContextBinding>.</span></span>
  
## <a name="see-also"></a><span data-ttu-id="2b3db-137">Viz také</span><span class="sxs-lookup"><span data-stu-id="2b3db-137">See also</span></span>

- [<span data-ttu-id="2b3db-138">NetContextExchangeCorrelation</span><span class="sxs-lookup"><span data-stu-id="2b3db-138">NetContextExchangeCorrelation</span></span>](https://docs.microsoft.com/previous-versions/dotnet/netframework-4.0/ee662963%28v%3dvs.100%29)
