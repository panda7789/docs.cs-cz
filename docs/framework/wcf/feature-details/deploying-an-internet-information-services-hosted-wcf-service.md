---
title: Nasazení služby WCF hostované Internetovou informační službou
ms.date: 03/30/2017
ms.assetid: 04ebd329-3fbd-44c3-b3ab-1de3517e27d7
ms.openlocfilehash: 67f6877546951bd92b235218f10f6ccc7011ef5c
ms.sourcegitcommit: 927b7ea6b2ea5a440c8f23e3e66503152eb85591
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 04/16/2020
ms.locfileid: "81463858"
---
# <a name="deploying-an-internet-information-services-hosted-wcf-service"></a><span data-ttu-id="ca9ae-102">Nasazení služby WCF hostované Internetovou informační službou</span><span class="sxs-lookup"><span data-stu-id="ca9ae-102">Deploying an Internet Information Services-Hosted WCF Service</span></span>

<span data-ttu-id="ca9ae-103">Vývoj a nasazení služby WCF (Windows Communication Foundation), která je hostována v Internetové informační službě (IIS), se skládá z následujících úkolů:</span><span class="sxs-lookup"><span data-stu-id="ca9ae-103">Developing and deploying a Windows Communication Foundation (WCF) service that is hosted in Internet Information Services (IIS) consists of the following tasks:</span></span>

- <span data-ttu-id="ca9ae-104">Ujistěte se, že iis, ASP.NET, WCF a wcf aktivační součást jsou správně nainstalovány a registrovány.</span><span class="sxs-lookup"><span data-stu-id="ca9ae-104">Ensure that IIS, ASP.NET, WCF, and the WCF activation component are correctly installed and registered.</span></span>

- <span data-ttu-id="ca9ae-105">Vytvořte novou aplikaci služby IIS nebo znovu použijte existující ASP.NET aplikaci.</span><span class="sxs-lookup"><span data-stu-id="ca9ae-105">Create a new IIS application, or reuse an existing ASP.NET application.</span></span>

- <span data-ttu-id="ca9ae-106">Vytvořte soubor SVC pro službu WCF.</span><span class="sxs-lookup"><span data-stu-id="ca9ae-106">Create a .svc file for the WCF service.</span></span>

- <span data-ttu-id="ca9ae-107">Nasaďte implementaci služby do aplikace služby IIS.</span><span class="sxs-lookup"><span data-stu-id="ca9ae-107">Deploy the service implementation to the IIS application.</span></span>

- <span data-ttu-id="ca9ae-108">Nakonfigurujte službu WCF.</span><span class="sxs-lookup"><span data-stu-id="ca9ae-108">Configure the WCF service.</span></span>

<span data-ttu-id="ca9ae-109">Podrobný návod k vytvoření služby WCF hostované službou IIS naleznete v tématu [How to: Host a WCF Service in IIS](how-to-host-a-wcf-service-in-iis.md).</span><span class="sxs-lookup"><span data-stu-id="ca9ae-109">For a detailed walkthrough of creating an IIS-hosted WCF service, see [How to: Host a WCF Service in IIS](how-to-host-a-wcf-service-in-iis.md).</span></span>

## <a name="ensure-that-iis-aspnet-and-wcf-are-correctly-installed-and-registered"></a><span data-ttu-id="ca9ae-110">Ujistěte se, že iis, ASP.NET a WCF jsou správně nainstalovány a registrovány</span><span class="sxs-lookup"><span data-stu-id="ca9ae-110">Ensure That IIS, ASP.NET and WCF Are Correctly Installed and Registered</span></span>

<span data-ttu-id="ca9ae-111">WCF, IIS a ASP.NET musí být nainstalovány pro služby WCF hostované službou IIS, aby fungovaly správně.</span><span class="sxs-lookup"><span data-stu-id="ca9ae-111">WCF, IIS, and ASP.NET must be installed for IIS-hosted WCF services to function correctly.</span></span> <span data-ttu-id="ca9ae-112">Postupy pro instalaci WCF (jako součást rozhraní .NET Framework), ASP.NET a Služby IIS se liší v závislosti na operačním systému.</span><span class="sxs-lookup"><span data-stu-id="ca9ae-112">The procedures for installing WCF (as part of the .NET Framework), ASP.NET, and IIS vary depending on your operating system.</span></span> <span data-ttu-id="ca9ae-113">Další informace o instalaci wcf a rozhraní .NET Framework naleznete [v tématu Instalace rozhraní .NET Framework pro vývojáře](../../install/guide-for-developers.md).</span><span class="sxs-lookup"><span data-stu-id="ca9ae-113">For more information about installing WCF and the .NET Framework, see [Install the .NET Framework for developers](../../install/guide-for-developers.md).</span></span> <span data-ttu-id="ca9ae-114">Chcete-li službu IIS nainstalovat do systému Windows 10, otevřete ovládací **panel** **Programy a funkce** a vyberte možnost **Zapnout nebo vypnout funkce systému Windows**.</span><span class="sxs-lookup"><span data-stu-id="ca9ae-114">To install IIS on Windows 10, open **Programs and Features** in **Control Panel** and then select **Turn Windows features on or off**.</span></span> <span data-ttu-id="ca9ae-115">V **programu Funkce systému Windows**vyberte Možnost **Internetová informační služba** a pak zvolte **OK**.</span><span class="sxs-lookup"><span data-stu-id="ca9ae-115">In **Windows Features**, select **Internet Information Services** and then choose **OK**.</span></span>

![Funkce systému Windows se zvýrazněnou službou IIS](./media/windows-features-iis.png)

<span data-ttu-id="ca9ae-117">Pokyny pro instalaci služby IIS do jiných operačních systémů naleznete na [webu Instalace služby IIS v systémech Windows Vista a Windows 7](/iis/install/installing-iis-7/installing-iis-on-windows-vista-and-windows-7) a Instalace [služby IIS 8.5 v systému Windows Server 2012 R2](/iis/install/installing-iis-85/installing-iis-85-on-windows-server-2012-r2).</span><span class="sxs-lookup"><span data-stu-id="ca9ae-117">Instructions for installing IIS on other operating systems can be found at [Install IIS on Windows Vista and Windows 7](/iis/install/installing-iis-7/installing-iis-on-windows-vista-and-windows-7) and [Install IIS 8.5 on Windows Server 2012 R2](/iis/install/installing-iis-85/installing-iis-85-on-windows-server-2012-r2).</span></span>

<span data-ttu-id="ca9ae-118">Proces instalace rozhraní .NET Framework automaticky zaregistruje wcf se službou IIS, pokud je služby IIS již v počítači k dispozici.</span><span class="sxs-lookup"><span data-stu-id="ca9ae-118">The installation process for .NET Framework automatically registers WCF with IIS if IIS is already present on the machine.</span></span> <span data-ttu-id="ca9ae-119">Pokud je iis nainstalována po rozhraní .NET Framework, je nutný další krok k registraci wcf s iis a ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="ca9ae-119">If IIS is installed after the .NET Framework, an additional step is required to register WCF with IIS and ASP.NET.</span></span> <span data-ttu-id="ca9ae-120">V závislosti na operačním systému to lze provést následujícím způsobem:</span><span class="sxs-lookup"><span data-stu-id="ca9ae-120">You can do this as follows, depending on your operating system:</span></span>

- <span data-ttu-id="ca9ae-121">Windows 7 a Windows Server 2003: Pomocí nástroje [ServiceModel Registration Tool (ServiceModelReg.exe)](../../../../docs/framework/wcf/servicemodelreg-exe.md) zaregistrujte wcf se službou IIS.</span><span class="sxs-lookup"><span data-stu-id="ca9ae-121">Windows 7 and Windows Server 2003: Use the [ServiceModel Registration Tool (ServiceModelReg.exe)](../../../../docs/framework/wcf/servicemodelreg-exe.md) tool to register WCF with IIS.</span></span> <span data-ttu-id="ca9ae-122">Chcete-li použít tento nástroj, zadejte do [příkazového řádku pro vývojáře pro sadu Visual Studio](../../tools/developer-command-prompt-for-vs.md)zadejte příkaz **ServiceModelReg.exe /i /x** .</span><span class="sxs-lookup"><span data-stu-id="ca9ae-122">To use this tool, type **ServiceModelReg.exe /i /x** in the [Developer Command Prompt for Visual Studio](../../tools/developer-command-prompt-for-vs.md).</span></span>

- <span data-ttu-id="ca9ae-123">Windows 7: Nakonec je nutné ověřit, že ASP.NET je nakonfigurován pro použití rozhraní .NET Framework verze 4 nebo novější.</span><span class="sxs-lookup"><span data-stu-id="ca9ae-123">Windows 7: Finally, you must verify that ASP.NET is configured to use the .NET Framework version 4 or later.</span></span> <span data-ttu-id="ca9ae-124">To provést spuštěním nástroje ASPNET_Regiis `–i` s možností.</span><span class="sxs-lookup"><span data-stu-id="ca9ae-124">You do this by running the ASPNET_Regiis tool with the `–i` option.</span></span> <span data-ttu-id="ca9ae-125">Další informace naleznete [v tématu ASP.NET Nástroj pro registraci iis](https://docs.microsoft.com/previous-versions/dotnet/netframework-3.5/k6h9cz8h(v=vs.90)).</span><span class="sxs-lookup"><span data-stu-id="ca9ae-125">For more information, see [ASP.NET IIS Registration Tool](https://docs.microsoft.com/previous-versions/dotnet/netframework-3.5/k6h9cz8h(v=vs.90)).</span></span>

## <a name="create-a-new-iis-application-or-reuse-an-existing-aspnet-application"></a><span data-ttu-id="ca9ae-126">Vytvoření nové aplikace služby IIS nebo opětovné použití existující ASP.NET aplikace</span><span class="sxs-lookup"><span data-stu-id="ca9ae-126">Create a New IIS Application or Reuse an Existing ASP.NET Application</span></span>

<span data-ttu-id="ca9ae-127">Služby WCF hostované službou IIS musí být umístěny uvnitř aplikace služby IIS.</span><span class="sxs-lookup"><span data-stu-id="ca9ae-127">IIS-hosted WCF services must reside inside of an IIS application.</span></span> <span data-ttu-id="ca9ae-128">Můžete vytvořit novou aplikaci služby IIS pro výhradní hostování služeb WCF.</span><span class="sxs-lookup"><span data-stu-id="ca9ae-128">You can create a new IIS application to host WCF services exclusively.</span></span> <span data-ttu-id="ca9ae-129">Případně můžete nasadit službu WCF do existující aplikace, která je již hostitelem obsahu ASP.NET 2.0 (například stránky ASPX a ASP.NET webových služeb [ASMX]).</span><span class="sxs-lookup"><span data-stu-id="ca9ae-129">Alternatively, you can deploy an WCF service into an existing application that is already hosting ASP.NET 2.0 content (such as .aspx pages and ASP.NET Web services [ASMX]).</span></span> <span data-ttu-id="ca9ae-130">Další informace o těchto možnostech naleznete v části "Hostování WCF side-by-Side with ASP.NET" a "Hosting WCF Services in ASP.NET Compatibility Mode" v [wcf služby a ASP.NET](wcf-services-and-aspnet.md).</span><span class="sxs-lookup"><span data-stu-id="ca9ae-130">For more information about these options, see the "Hosting WCF Side-by-Side with ASP.NET" and "Hosting WCF Services in ASP.NET Compatibility Mode" sections in [WCF Services and ASP.NET](wcf-services-and-aspnet.md).</span></span>

<span data-ttu-id="ca9ae-131">Všimněte si, že iIS 6.0 a novější verze pravidelně restartují izolované objektově orientované programovací aplikace.</span><span class="sxs-lookup"><span data-stu-id="ca9ae-131">Note that IIS 6.0 and later versions periodically restart an isolated object-oriented programming application.</span></span> <span data-ttu-id="ca9ae-132">Výchozí hodnota je 1740 minut.</span><span class="sxs-lookup"><span data-stu-id="ca9ae-132">The default value is 1740 minutes.</span></span> <span data-ttu-id="ca9ae-133">Maximální podporovaná hodnota je 71 582 minut.</span><span class="sxs-lookup"><span data-stu-id="ca9ae-133">The maximum value supported is 71,582 minutes.</span></span> <span data-ttu-id="ca9ae-134">Toto restartování lze zakázat.</span><span class="sxs-lookup"><span data-stu-id="ca9ae-134">This restart can be disabled.</span></span> <span data-ttu-id="ca9ae-135">Další informace o této vlastnosti naleznete v tématu [PeriodARestartTime](https://docs.microsoft.com/previous-versions/iis/6.0-sdk/ms525914(v=vs.90)).</span><span class="sxs-lookup"><span data-stu-id="ca9ae-135">For more information about this property, see the [PeriodicRestartTime](https://docs.microsoft.com/previous-versions/iis/6.0-sdk/ms525914(v=vs.90)).</span></span>

## <a name="create-an-svc-file-for-the-wcf-service"></a><span data-ttu-id="ca9ae-136">Vytvoření souboru SVC pro službu WCF</span><span class="sxs-lookup"><span data-stu-id="ca9ae-136">Create an .svc File for the WCF Service</span></span>

<span data-ttu-id="ca9ae-137">Služby WCF hostované ve službě IIS jsou v aplikaci služby IIS reprezentovány jako speciální soubory obsahu (soubory svc).</span><span class="sxs-lookup"><span data-stu-id="ca9ae-137">WCF services hosted in IIS are represented as special content files (.svc files) inside the IIS application.</span></span> <span data-ttu-id="ca9ae-138">Tento model je podobný způsobu, jakým jsou stránky ASMX reprezentovány uvnitř aplikace služby IIS jako soubory ASMX.</span><span class="sxs-lookup"><span data-stu-id="ca9ae-138">This model is similar to the way ASMX pages are represented inside of an IIS application as .asmx files.</span></span> <span data-ttu-id="ca9ae-139">Soubor .svc obsahuje direktivu zpracování specifické pro WCF[\@(ServiceHost](../../../../docs/framework/configure-apps/file-schema/wcf-directive/servicehost.md)), která umožňuje hostitelské infrastruktuře WCF aktivovat hostované služby v reakci na příchozí zprávy.</span><span class="sxs-lookup"><span data-stu-id="ca9ae-139">A .svc file contains a WCF-specific processing directive ([\@ServiceHost](../../../../docs/framework/configure-apps/file-schema/wcf-directive/servicehost.md)) that allows the WCF hosting infrastructure to activate hosted services in response to incoming messages.</span></span> <span data-ttu-id="ca9ae-140">Nejběžnější syntaxe souboru .svc je v následujícím příkazu.</span><span class="sxs-lookup"><span data-stu-id="ca9ae-140">The most common syntax for a .svc file is in the following statement.</span></span>

`<% @ServiceHost Service="MyNamespace.MyServiceImplementationTypeName" %>`

<span data-ttu-id="ca9ae-141">Skládá se ze směrnice [ \@ServiceHost](../../../../docs/framework/configure-apps/file-schema/wcf-directive/servicehost.md) a `Service`jednoho atributu .</span><span class="sxs-lookup"><span data-stu-id="ca9ae-141">It consists of the [\@ServiceHost](../../../../docs/framework/configure-apps/file-schema/wcf-directive/servicehost.md) directive and a single attribute, `Service`.</span></span> <span data-ttu-id="ca9ae-142">Hodnota atributu `Service` je název typu clr (CLR) společného jazyka (CLR).</span><span class="sxs-lookup"><span data-stu-id="ca9ae-142">The value of the `Service` attribute is the common language runtime (CLR) type name of the service implementation.</span></span> <span data-ttu-id="ca9ae-143">Použití této směrnice je v podstatě ekvivalentní k vytvoření hostitele služby pomocí následujícího kódu.</span><span class="sxs-lookup"><span data-stu-id="ca9ae-143">Using this directive is basically equivalent to creating a service host using the following code.</span></span>

```csharp
new ServiceHost( typeof( MyNamespace.MyServiceImplementationTypeName ) );
```

<span data-ttu-id="ca9ae-144">Další hostování konfigurace, jako je například vytvoření seznamu základních adres pro službu lze také provést.</span><span class="sxs-lookup"><span data-stu-id="ca9ae-144">Additional hosting configuration, such as creating a list of base addresses for the service can also be done.</span></span> <span data-ttu-id="ca9ae-145">Můžete také použít <xref:System.ServiceModel.Activation.ServiceHostFactory> vlastní rozšířit směrnice pro použití s vlastní hosting řešení.</span><span class="sxs-lookup"><span data-stu-id="ca9ae-145">You can also use a custom <xref:System.ServiceModel.Activation.ServiceHostFactory> to extend the directive for use with custom hosting solutions.</span></span> <span data-ttu-id="ca9ae-146">Aplikace služby IIS, které jsou hostiteli služeb WCF, nejsou odpovědné za správu vytváření a životnosti <xref:System.ServiceModel.ServiceHost> instancí.</span><span class="sxs-lookup"><span data-stu-id="ca9ae-146">The IIS applications that host WCF services are not responsible for managing the creation and lifetime of <xref:System.ServiceModel.ServiceHost> instances.</span></span> <span data-ttu-id="ca9ae-147">Spravovaná hostitelská infrastruktura WCF vytvoří potřebnou <xref:System.ServiceModel.ServiceHost> instanci dynamicky při přijetí prvního požadavku pro soubor .svc.</span><span class="sxs-lookup"><span data-stu-id="ca9ae-147">The managed WCF hosting infrastructure creates the necessary <xref:System.ServiceModel.ServiceHost> instance dynamically when the first request is received for the .svc file.</span></span> <span data-ttu-id="ca9ae-148">Instance není uvolněna, dokud není explicitně uzavřena kódem nebo když je aplikace recyklována.</span><span class="sxs-lookup"><span data-stu-id="ca9ae-148">The instance is not released until either it is closed explicitly by code or when the application is recycled.</span></span>

<span data-ttu-id="ca9ae-149">Další informace o syntaxi souborů .svc naleznete v tématu [ \@ServiceHost](../../../../docs/framework/configure-apps/file-schema/wcf-directive/servicehost.md).</span><span class="sxs-lookup"><span data-stu-id="ca9ae-149">For more information about the syntax for .svc files, see [\@ServiceHost](../../../../docs/framework/configure-apps/file-schema/wcf-directive/servicehost.md).</span></span>

## <a name="deploy-the-service-implementation-to-the-iis-application"></a><span data-ttu-id="ca9ae-150">Nasazení implementace služby do aplikace služby IIS</span><span class="sxs-lookup"><span data-stu-id="ca9ae-150">Deploy the Service Implementation to the IIS Application</span></span>

<span data-ttu-id="ca9ae-151">Služby WCF hostované ve službě IIS používají stejný model dynamické kompilace jako ASP.NET 2.0.</span><span class="sxs-lookup"><span data-stu-id="ca9ae-151">WCF services hosted in IIS use the same dynamic compilation model as ASP.NET 2.0.</span></span> <span data-ttu-id="ca9ae-152">Stejně jako u ASP.NET můžete nasadit kód implementace pro služby WCF hostované službou IIS několika způsoby na různých místech, a to následujícím způsobem:</span><span class="sxs-lookup"><span data-stu-id="ca9ae-152">Just as with ASP.NET, you can deploy the implementation code for IIS-hosted WCF services in several ways at various locations, as follows:</span></span>

- <span data-ttu-id="ca9ae-153">Jako předkompilovaný soubor DLL umístěný v globální mezipaměti sestavení (GAC) nebo v adresáři \bin aplikace.</span><span class="sxs-lookup"><span data-stu-id="ca9ae-153">As a precompiled .dll file located in the global assembly cache (GAC) or in the application’s \bin directory.</span></span> <span data-ttu-id="ca9ae-154">Předkompilované binární soubory nejsou aktualizovány, dokud není nasazena nová verze knihovny tříd.</span><span class="sxs-lookup"><span data-stu-id="ca9ae-154">Precompiled binaries are not updated until a new version of the class library is deployed.</span></span>

- <span data-ttu-id="ca9ae-155">Jako nezkompilované zdrojové soubory umístěné v adresáři \App_Code aplikace.</span><span class="sxs-lookup"><span data-stu-id="ca9ae-155">As uncompiled source files located in the application’s \App_Code directory.</span></span> <span data-ttu-id="ca9ae-156">Zdrojové soubory umístěné v tomto adresáři jsou dynamicky vyžadovány při zpracování prvního požadavku aplikace.</span><span class="sxs-lookup"><span data-stu-id="ca9ae-156">Source files located in this directory are dynamically required when processing the application’s first request.</span></span> <span data-ttu-id="ca9ae-157">Jakékoli změny souborů v adresáři \App_Code způsobí, že celá aplikace bude recyklována a znovu zkompilován při přijetí dalšího požadavku.</span><span class="sxs-lookup"><span data-stu-id="ca9ae-157">Any changes to files in the \App_Code directory cause the entire application to be recycled and recompiled when the next request is received.</span></span>

- <span data-ttu-id="ca9ae-158">Jako nezkompilovaný kód umístěný přímo do souboru .svc.</span><span class="sxs-lookup"><span data-stu-id="ca9ae-158">As uncompiled code placed directly in the .svc file.</span></span> <span data-ttu-id="ca9ae-159">Kód implementace může být také umístěn v řádku v souboru \@.svc služby po servicehost směrnice.</span><span class="sxs-lookup"><span data-stu-id="ca9ae-159">Implementation code can also be located inline in the service’s .svc file, after the \@ServiceHost directive.</span></span> <span data-ttu-id="ca9ae-160">Všechny změny vsazeného kódu způsobí, že aplikace bude recyklována a znovu zkompilována při přijetí dalšího požadavku.</span><span class="sxs-lookup"><span data-stu-id="ca9ae-160">Any changes to inline code cause the application to be recycled and recompiled when the next request is received.</span></span>

<span data-ttu-id="ca9ae-161">Další informace o modelu kompilace ASP.NET 2.0 naleznete [v tématu ASP.NET Přehled kompilace](https://docs.microsoft.com/previous-versions/aspnet/ms178466(v=vs.100)).</span><span class="sxs-lookup"><span data-stu-id="ca9ae-161">For more information about the ASP.NET 2.0 compilation model, see [ASP.NET Compilation Overview](https://docs.microsoft.com/previous-versions/aspnet/ms178466(v=vs.100)).</span></span>

## <a name="configure-the-wcf-service"></a><span data-ttu-id="ca9ae-162">Konfigurace služby WCF</span><span class="sxs-lookup"><span data-stu-id="ca9ae-162">Configure the WCF Service</span></span>

<span data-ttu-id="ca9ae-163">Služby WCF hostované službou IIS ukládají svou konfiguraci do souboru Web.config aplikací.</span><span class="sxs-lookup"><span data-stu-id="ca9ae-163">IIS-hosted WCF services store their configuration in the applications Web.config file.</span></span> <span data-ttu-id="ca9ae-164">Služby hostované službou IIS používají stejné konfigurační prvky a syntaxi jako služby WCF hostované mimo službu IIS.</span><span class="sxs-lookup"><span data-stu-id="ca9ae-164">IIS-hosted services use the same configuration elements and syntax as WCF services hosted outside of IIS.</span></span> <span data-ttu-id="ca9ae-165">Následující omezení jsou však jedinečná pro hostitelské prostředí služby IIS:</span><span class="sxs-lookup"><span data-stu-id="ca9ae-165">However, the following constraints are unique to the IIS hosting environment:</span></span>

- <span data-ttu-id="ca9ae-166">Základní adresy pro služby hostované službou IIS.</span><span class="sxs-lookup"><span data-stu-id="ca9ae-166">Base addresses for IIS-hosted services.</span></span>

- <span data-ttu-id="ca9ae-167">Aplikace hostující služby WCF mimo službu IIS mohou řídit základní adresu služeb, které <xref:System.ServiceModel.ServiceHost> hostují, předáním sady identifikátorů URI základní adresy konstruktoru nebo poskytnutím [ \<prvku hostitelského>](../../../../docs/framework/configure-apps/file-schema/wcf/host.md) v konfiguraci služby.</span><span class="sxs-lookup"><span data-stu-id="ca9ae-167">Applications hosting WCF services outside of IIS can control the base address of the services they host by passing a set of base address URIs to the <xref:System.ServiceModel.ServiceHost> constructor or by providing a [\<host>](../../../../docs/framework/configure-apps/file-schema/wcf/host.md) element in the service’s configuration.</span></span> <span data-ttu-id="ca9ae-168">Služby hostované ve službě IIS nemají možnost kontrolovat svou základní adresu. základní adresa služby hostované službou IIS je adresa souboru SVC.</span><span class="sxs-lookup"><span data-stu-id="ca9ae-168">Services hosted in IIS do not have the ability to control their base address; the base address of an IIS-hosted service is the address of its .svc file.</span></span>

### <a name="endpoint-addresses-for-iis-hosted-services"></a><span data-ttu-id="ca9ae-169">Adresy koncových bodů pro služby Hosted iIS</span><span class="sxs-lookup"><span data-stu-id="ca9ae-169">Endpoint Addresses for IIS-Hosted Services</span></span>

<span data-ttu-id="ca9ae-170">Při hostování ve službě IIS jsou adresy koncového bodu vždy považovány za relativní vzhledem k adrese souboru SVC, který představuje službu.</span><span class="sxs-lookup"><span data-stu-id="ca9ae-170">When hosted in IIS, endpoint addresses are always considered to be relative to the address of the .svc file that represents the service.</span></span> <span data-ttu-id="ca9ae-171">Například pokud je základní adresa služby `http://localhost/Application1/MyService.svc` WCF s následující konfigurací koncového bodu:</span><span class="sxs-lookup"><span data-stu-id="ca9ae-171">For example, if the base address of a WCF service is `http://localhost/Application1/MyService.svc` with the following endpoint configuration:</span></span>

```xml
<endpoint address="anotherEndpoint" />
```

<span data-ttu-id="ca9ae-172">To poskytuje koncový bod, který `http://localhost/Application1/MyService.svc/anotherEndpoint`lze dosáhnout na adrese .</span><span class="sxs-lookup"><span data-stu-id="ca9ae-172">This provides an endpoint that can be reached at `http://localhost/Application1/MyService.svc/anotherEndpoint`.</span></span>

<span data-ttu-id="ca9ae-173">Podobně prvek konfigurace koncového bodu, který používá prázdný řetězec jako relativní `http://localhost/Application1/MyService.svc`adresu poskytuje koncový bod dosažitelný na , což je základní adresa.</span><span class="sxs-lookup"><span data-stu-id="ca9ae-173">Similarly, the endpoint configuration element that uses an empty string as the relative address provides an endpoint reachable at `http://localhost/Application1/MyService.svc`, which is the base address.</span></span>

```xml
<endpoint address="" />
```

<span data-ttu-id="ca9ae-174">Pro koncové body služby Hostované službou IIS je vždy nutné používat relativní adresy koncových bodů.</span><span class="sxs-lookup"><span data-stu-id="ca9ae-174">You must always use relative endpoint addresses for IIS-hosted service endpoints.</span></span> <span data-ttu-id="ca9ae-175">Zadání plně kvalifikované adresy koncového bodu `http://localhost/MyService.svc`(například) může vést k chybám v nasazení služby, pokud adresa koncového bodu neukazuje na aplikaci služby IIS, která je hostitelem služby, která vystavuje koncový bod.</span><span class="sxs-lookup"><span data-stu-id="ca9ae-175">Supplying a fully-qualified endpoint address (for example, `http://localhost/MyService.svc`) can lead to errors in the deployment of the service if the endpoint address does not point to the IIS-application that hosts the service exposing the endpoint.</span></span> <span data-ttu-id="ca9ae-176">Použití relativní adresy koncového bodu pro hostované služby se těmto potenciálním konfliktům vyhne.</span><span class="sxs-lookup"><span data-stu-id="ca9ae-176">Using relative endpoint addresses for hosted services avoids these potential conflicts.</span></span>

### <a name="available-transports"></a><span data-ttu-id="ca9ae-177">Dostupné přenosy</span><span class="sxs-lookup"><span data-stu-id="ca9ae-177">Available Transports</span></span>

<span data-ttu-id="ca9ae-178">Služby WCF hostované ve službě IIS 5.1 a IIS 6.0 jsou omezeny na použití komunikace založené na protokolu HTTP.</span><span class="sxs-lookup"><span data-stu-id="ca9ae-178">WCF services hosted in IIS 5.1 and IIS 6.0 are restricted to using HTTP-based communication.</span></span> <span data-ttu-id="ca9ae-179">Na těchto platformách služby IIS má konfigurace hostované služby pro použití vazby bez protokolu HTTP za následek chybu během aktivace služby.</span><span class="sxs-lookup"><span data-stu-id="ca9ae-179">On these IIS platforms, configuring a hosted service to use a non-HTTP binding results in an error during service activation.</span></span> <span data-ttu-id="ca9ae-180">Pro iis 7.0 podporované přenosy zahrnují HTTP, Net.TCP, Net.Pipe, Net.MSMQ a msmq.formatname pro zpětnou kompatibilitu s existujícími aplikacemi msmq.</span><span class="sxs-lookup"><span data-stu-id="ca9ae-180">For IIS 7.0, the supported transports include HTTP, Net.TCP, Net.Pipe, Net.MSMQ, and msmq.formatname for backwards compatibility with existing MSMQ applications.</span></span>

### <a name="http-transport-security"></a><span data-ttu-id="ca9ae-181">Zabezpečení přenosu HTTP</span><span class="sxs-lookup"><span data-stu-id="ca9ae-181">HTTP Transport Security</span></span>

<span data-ttu-id="ca9ae-182">Služby WCF hostované službou IIS mohou využívat zabezpečení přenosu protokolu HTTP (například schémata ověřování protokolu HTTPS a HTTP, například Základní, Digest a Integrované ověřování systému Windows), pokud virtuální adresář služby IIS, který tuto službu obsahuje, tato nastavení podporuje.</span><span class="sxs-lookup"><span data-stu-id="ca9ae-182">IIS-hosted WCF services can make use of HTTP transport security (for example, HTTPS and HTTP authentication schemes such as Basic, Digest, and Windows Integrated Authentication) as long as the IIS virtual directory that contains the service supports those settings.</span></span> <span data-ttu-id="ca9ae-183">Nastavení zabezpečení přenosu PROTOKOLU HTTP na vazbě hostovaného koncového bodu se musí shodovat s nastavením zabezpečení přenosu ve virtuálním adresáři služby IIS, který jej obsahuje.</span><span class="sxs-lookup"><span data-stu-id="ca9ae-183">The HTTP Transport Security settings on a hosted endpoint’s binding must match the transport security settings on the IIS virtual directory that contains it.</span></span>

<span data-ttu-id="ca9ae-184">Koncový bod WCF nakonfigurovaný pro použití ověřování algoritmem HTTP digest se například musí nasytit ve virtuálním adresáři služby IIS, který je také nakonfigurován tak, aby umožňoval ověřování algoritmem HTTP digest.</span><span class="sxs-lookup"><span data-stu-id="ca9ae-184">For example, a WCF endpoint configured to use HTTP digest authentication must reside in an IIS virtual directory that is also configured to allow HTTP digest authentication.</span></span> <span data-ttu-id="ca9ae-185">Neodpovídající kombinace nastavení služby IIS a nastavení koncového bodu WCF mají za následek chybu během aktivace služby.</span><span class="sxs-lookup"><span data-stu-id="ca9ae-185">Unmatched combinations of IIS settings and WCF endpoint settings result in an error during service activation.</span></span>

## <a name="see-also"></a><span data-ttu-id="ca9ae-186">Viz také</span><span class="sxs-lookup"><span data-stu-id="ca9ae-186">See also</span></span>

- [<span data-ttu-id="ca9ae-187">Hostování v Internetové informační službě</span><span class="sxs-lookup"><span data-stu-id="ca9ae-187">Hosting in Internet Information Services</span></span>](hosting-in-internet-information-services.md)
- [<span data-ttu-id="ca9ae-188">Doporučené postupy hostování Internetové informační služby</span><span class="sxs-lookup"><span data-stu-id="ca9ae-188">Internet Information Services Hosting Best Practices</span></span>](internet-information-services-hosting-best-practices.md)
- <span data-ttu-id="ca9ae-189">[Funkce hostování prostředků pro aplikace systému Windows Server](https://docs.microsoft.com/previous-versions/appfabric/ee677189(v=azure.10))</span><span class="sxs-lookup"><span data-stu-id="ca9ae-189">[Windows Server App Fabric Hosting Features](https://docs.microsoft.com/previous-versions/appfabric/ee677189(v=azure.10))</span></span>
