---
title: Kontrolní koncový bod pracovního postupu
ms.date: 03/30/2017
ms.assetid: 1b883334-1590-4fbb-b0d6-65197efe0700
ms.openlocfilehash: 91923129235a596e4fa19a8e5982845a25db9712
ms.sourcegitcommit: cdb295dd1db589ce5169ac9ff096f01fd0c2da9d
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 06/09/2020
ms.locfileid: "84594917"
---
# <a name="workflow-control-endpoint"></a><span data-ttu-id="73add-102">Kontrolní koncový bod pracovního postupu</span><span class="sxs-lookup"><span data-stu-id="73add-102">Workflow Control Endpoint</span></span>
<span data-ttu-id="73add-103">Koncový bod řízení pracovního postupu umožňuje vývojářům volat operace řízení pro vzdálené řízení instancí pracovních postupů hostovaných pomocí <xref:System.ServiceModel.Activities.WorkflowServiceHost> .</span><span class="sxs-lookup"><span data-stu-id="73add-103">The workflow control endpoint allows developers to call control operations to remotely control workflow instances hosted using <xref:System.ServiceModel.Activities.WorkflowServiceHost>.</span></span> <span data-ttu-id="73add-104">Tato funkce se dá použít k programovému provádění operací řízení, jako je pozastavení, obnovení a ukončení.</span><span class="sxs-lookup"><span data-stu-id="73add-104">This feature can be used to programmatically perform control operations like suspend, resume, and terminate.</span></span>  
  
> [!WARNING]
> <span data-ttu-id="73add-105">Pokud používáte řídicí koncový bod pracovního postupu v rámci transakce a řízený pracovní postup obsahuje <xref:System.Activities.Statements.Persist> aktivitu, instance pracovního postupu se zablokuje, dokud nevyprší časový limit transakce.</span><span class="sxs-lookup"><span data-stu-id="73add-105">If using the workflow control endpoint within a transaction and the workflow being controlled contains a <xref:System.Activities.Statements.Persist> activity, the workflow instance will block until the transaction times out.</span></span>  
  
## <a name="workflow-instance-management"></a><span data-ttu-id="73add-106">Správa instancí pracovního postupu</span><span class="sxs-lookup"><span data-stu-id="73add-106">Workflow Instance Management</span></span>  
 [!INCLUDE[netfx_current_long](../../../../includes/netfx-current-long-md.md)]<span data-ttu-id="73add-107">Definuje novou kontrakt s názvem <xref:System.ServiceModel.Activities.IWorkflowInstanceManagement> .</span><span class="sxs-lookup"><span data-stu-id="73add-107">defines a new contract called <xref:System.ServiceModel.Activities.IWorkflowInstanceManagement>.</span></span> <span data-ttu-id="73add-108">Tato Smlouva definuje řadu operací řízení, které umožňují vzdáleně řídit instance pracovních postupů, které hostuje <xref:System.ServiceModel.Activities.WorkflowServiceHost> .</span><span class="sxs-lookup"><span data-stu-id="73add-108">This contract defines a series of control operations that allow you remotely control workflow instances hosted by <xref:System.ServiceModel.Activities.WorkflowServiceHost>.</span></span> <span data-ttu-id="73add-109"><xref:System.ServiceModel.Activities.WorkflowControlEndpoint>je standardní koncový bod, který poskytuje implementaci <xref:System.ServiceModel.Activities.IWorkflowInstanceManagement> kontraktu.</span><span class="sxs-lookup"><span data-stu-id="73add-109"><xref:System.ServiceModel.Activities.WorkflowControlEndpoint> is a standard endpoint that provides an implementation of the <xref:System.ServiceModel.Activities.IWorkflowInstanceManagement> contract.</span></span> <span data-ttu-id="73add-110"><xref:System.ServiceModel.Activities.WorkflowControlClient>je třída, která slouží k odeslání operací ovládacího prvku do <xref:System.ServiceModel.Activities.WorkflowControlEndpoint> .</span><span class="sxs-lookup"><span data-stu-id="73add-110"><xref:System.ServiceModel.Activities.WorkflowControlClient> is a class that is used to send the control operations to the <xref:System.ServiceModel.Activities.WorkflowControlEndpoint>.</span></span>  
  
 <span data-ttu-id="73add-111">Instance pracovního postupu můžou být v jednom z následujících stavů:</span><span class="sxs-lookup"><span data-stu-id="73add-111">Workflow instances can be in one of the following states:</span></span>  
  
 <span data-ttu-id="73add-112">Aktivní</span><span class="sxs-lookup"><span data-stu-id="73add-112">Active</span></span>  
 <span data-ttu-id="73add-113">Stav instance pracovního postupu před tím, než dosáhne stavu dokončeno, a když není v pozastaveném stavu.</span><span class="sxs-lookup"><span data-stu-id="73add-113">The state of a workflow instance before it reaches the completed state and when it is not in the suspended state.</span></span> <span data-ttu-id="73add-114">V tomto stavu instance pracovního postupu spouští a zpracovává zprávy aplikací.</span><span class="sxs-lookup"><span data-stu-id="73add-114">While in this state, the workflow instance runs and processes application messages.</span></span>  
  
 <span data-ttu-id="73add-115">Dočasně blokován.</span><span class="sxs-lookup"><span data-stu-id="73add-115">Suspended</span></span>  
 <span data-ttu-id="73add-116">V tomto stavu se instance pracovního postupu nespustí ani v případě, že dojde k aktivitám, které nezačaly běžet nebo byly částečně spuštěny.</span><span class="sxs-lookup"><span data-stu-id="73add-116">While in this state, the workflow instance does not run even if there are activities that have not started running or have partially run.</span></span>  
  
 <span data-ttu-id="73add-117">Dokončeno</span><span class="sxs-lookup"><span data-stu-id="73add-117">Completed</span></span>  
 <span data-ttu-id="73add-118">Konečný stav instance pracovního postupu.</span><span class="sxs-lookup"><span data-stu-id="73add-118">The final state of a workflow instance.</span></span> <span data-ttu-id="73add-119">Po dosažení stavu dokončení nelze instanci pracovního postupu spustit.</span><span class="sxs-lookup"><span data-stu-id="73add-119">The workflow instance cannot run after reaching the completed state.</span></span>  
  
## <a name="iworkflowinstancemanagement"></a><span data-ttu-id="73add-120">IWorkflowInstanceManagement</span><span class="sxs-lookup"><span data-stu-id="73add-120">IWorkflowInstanceManagement</span></span>  
 <span data-ttu-id="73add-121"><xref:System.ServiceModel.Activities.IWorkflowInstanceManagement>Rozhraní definuje sadu operací řízení s synchronními a asynchronními verzemi.</span><span class="sxs-lookup"><span data-stu-id="73add-121">The <xref:System.ServiceModel.Activities.IWorkflowInstanceManagement> interface defines a set of control operations with synchronous and asynchronous versions.</span></span> <span data-ttu-id="73add-122">Verze v transakčním systému vyžadují použití vazby zohledňující transakci.</span><span class="sxs-lookup"><span data-stu-id="73add-122">The transacted versions require use of a transaction-aware binding.</span></span> <span data-ttu-id="73add-123">V následující tabulce jsou uvedeny podporované operace ovládacího prvku.</span><span class="sxs-lookup"><span data-stu-id="73add-123">The following table lists the control operations supported.</span></span>  
  
|<span data-ttu-id="73add-124">Operace řízení</span><span class="sxs-lookup"><span data-stu-id="73add-124">Control Operation</span></span>|<span data-ttu-id="73add-125">Popis</span><span class="sxs-lookup"><span data-stu-id="73add-125">Description</span></span>|  
|-----------------------|-----------------|  
|<span data-ttu-id="73add-126">Přerušení</span><span class="sxs-lookup"><span data-stu-id="73add-126">Abort</span></span>|<span data-ttu-id="73add-127">Vynuceně zastaví provádění instance pracovního postupu.</span><span class="sxs-lookup"><span data-stu-id="73add-127">Forcefully stops the execution of the workflow instance.</span></span>|  
|<span data-ttu-id="73add-128">Zrušit</span><span class="sxs-lookup"><span data-stu-id="73add-128">Cancel</span></span>|<span data-ttu-id="73add-129">Přepřechoduje instanci pracovního postupu z aktivního nebo pozastaveného stavu do stavu dokončeno.</span><span class="sxs-lookup"><span data-stu-id="73add-129">Transitions a workflow instance from the active or suspended state to the completed state.</span></span>|  
|<span data-ttu-id="73add-130">Spustit</span><span class="sxs-lookup"><span data-stu-id="73add-130">Run</span></span>|<span data-ttu-id="73add-131">Poskytuje instanci pracovního postupu, kterou je možné provést.</span><span class="sxs-lookup"><span data-stu-id="73add-131">Provides a workflow instance the opportunity to execute.</span></span>|  
|<span data-ttu-id="73add-132">Suspend</span><span class="sxs-lookup"><span data-stu-id="73add-132">Suspend</span></span>|<span data-ttu-id="73add-133">Převede instanci pracovního postupu z aktivního stavu do pozastaveného stavu.</span><span class="sxs-lookup"><span data-stu-id="73add-133">Transitions a workflow instance from the active state to the suspended state.</span></span>|  
|<span data-ttu-id="73add-134">Terminate</span><span class="sxs-lookup"><span data-stu-id="73add-134">Terminate</span></span>|<span data-ttu-id="73add-135">Přepřechoduje instanci pracovního postupu z aktivního nebo pozastaveného stavu do stavu dokončeno.</span><span class="sxs-lookup"><span data-stu-id="73add-135">Transitions a workflow instance from the active or suspended state to the completed state.</span></span>|  
|<span data-ttu-id="73add-136">Zrušit pozastavení účtu</span><span class="sxs-lookup"><span data-stu-id="73add-136">Unsuspend</span></span>|<span data-ttu-id="73add-137">Převede instanci pracovního postupu z pozastaveného stavu do stavu aktivní.</span><span class="sxs-lookup"><span data-stu-id="73add-137">Transitions a workflow instance from the suspended state to the active state.</span></span>|  
|<span data-ttu-id="73add-138">TransactedCancel</span><span class="sxs-lookup"><span data-stu-id="73add-138">TransactedCancel</span></span>|<span data-ttu-id="73add-139">Provede operaci zrušení v rámci transakce (v toku z klienta nebo v místním prostředí).</span><span class="sxs-lookup"><span data-stu-id="73add-139">Performs the Cancel operation under a transaction (flowed in from the client or created locally).</span></span> <span data-ttu-id="73add-140">Pokud systém udržuje trvalý stav instance pracovního postupu, během provádění této operace musí být instance pracovního postupu trvalá.</span><span class="sxs-lookup"><span data-stu-id="73add-140">If the system maintains the durable state of the workflow instance, the workflow instance must be persisted during execution of this operation.</span></span>|  
|<span data-ttu-id="73add-141">TransactedRun</span><span class="sxs-lookup"><span data-stu-id="73add-141">TransactedRun</span></span>|<span data-ttu-id="73add-142">Provede operaci spuštění v rámci transakce (Flow z klienta nebo vytvořená místně).</span><span class="sxs-lookup"><span data-stu-id="73add-142">Performs the Run operation under a transaction (flowed in from the client or created locally).</span></span> <span data-ttu-id="73add-143">Pokud systém udržuje trvalý stav instance pracovního postupu, během provádění této operace musí být instance pracovního postupu trvalá.</span><span class="sxs-lookup"><span data-stu-id="73add-143">If the system maintains the durable state of the workflow instance, the workflow instance must be persisted during execution of this operation.</span></span>|  
|<span data-ttu-id="73add-144">TransactedSuspend</span><span class="sxs-lookup"><span data-stu-id="73add-144">TransactedSuspend</span></span>|<span data-ttu-id="73add-145">Provede operaci pozastavit v rámci transakce (v toku z klienta nebo vytvořená místně).</span><span class="sxs-lookup"><span data-stu-id="73add-145">Performs the Suspend operation under a transaction (flowed in from the client or created locally).</span></span> <span data-ttu-id="73add-146">Pokud systém udržuje trvalý stav instance pracovního postupu, během provádění této operace musí být instance pracovního postupu trvalá.</span><span class="sxs-lookup"><span data-stu-id="73add-146">If the system maintains the durable state of the workflow instance, the workflow instance must be persisted during execution of this operation.</span></span>|  
|<span data-ttu-id="73add-147">TransactedTerminate</span><span class="sxs-lookup"><span data-stu-id="73add-147">TransactedTerminate</span></span>|<span data-ttu-id="73add-148">Provede operaci ukončení v rámci transakce (v toku z klienta nebo v místním prostředí).</span><span class="sxs-lookup"><span data-stu-id="73add-148">Performs the Terminate operation under a transaction (flowed in from the client or created locally).</span></span> <span data-ttu-id="73add-149">Pokud systém udržuje trvalý stav instance pracovního postupu, během provádění této operace musí být instance pracovního postupu trvalá.</span><span class="sxs-lookup"><span data-stu-id="73add-149">If the system maintains the durable state of the workflow instance, the workflow instance must be persisted during execution of this operation.</span></span>|  
|<span data-ttu-id="73add-150">TransactedUnsuspend</span><span class="sxs-lookup"><span data-stu-id="73add-150">TransactedUnsuspend</span></span>|<span data-ttu-id="73add-151">Provede operaci zrušení pozastavení v rámci transakce (v toku z klienta nebo v místním prostředí).</span><span class="sxs-lookup"><span data-stu-id="73add-151">Performs the Unsuspend operation under a transaction (flowed in from the client or created locally).</span></span> <span data-ttu-id="73add-152">Pokud systém udržuje trvalý stav instance pracovního postupu, během provádění této operace musí být instance pracovního postupu trvalá.</span><span class="sxs-lookup"><span data-stu-id="73add-152">If the system maintains the durable state of the workflow instance, the workflow instance must be persisted during execution of this operation.</span></span>|  
  
 <span data-ttu-id="73add-153"><xref:System.ServiceModel.Activities.IWorkflowInstanceManagement>Kontrakt neposkytuje způsob, jak vytvořit novou instanci pracovního postupu, a to pouze za účelem správy existujících instancí pracovního postupu.</span><span class="sxs-lookup"><span data-stu-id="73add-153">The <xref:System.ServiceModel.Activities.IWorkflowInstanceManagement> contract does not provide a means to create a new workflow instance, only to manage existing workflow instances.</span></span> <span data-ttu-id="73add-154">Další informace o vzdáleném vytvoření nové instance pracovního postupu najdete v tématu [rozšiřitelnost hostitele služby pracovního postupu](workflow-service-host-extensibility.md).</span><span class="sxs-lookup"><span data-stu-id="73add-154">For more information about remotely creating a new workflow instance, see [Workflow Service Host Extensibility](workflow-service-host-extensibility.md).</span></span>  
  
## <a name="workflowcontrolendpoint"></a><span data-ttu-id="73add-155">WorkflowControlEndpoint</span><span class="sxs-lookup"><span data-stu-id="73add-155">WorkflowControlEndpoint</span></span>  
 <span data-ttu-id="73add-156"><xref:System.ServiceModel.Activities.WorkflowControlEndpoint>je standardní koncový bod s pevným kontraktem <xref:System.ServiceModel.Activities.IWorkflowInstanceManagement> .</span><span class="sxs-lookup"><span data-stu-id="73add-156"><xref:System.ServiceModel.Activities.WorkflowControlEndpoint> is a standard endpoint with a fixed contract, <xref:System.ServiceModel.Activities.IWorkflowInstanceManagement>.</span></span> <span data-ttu-id="73add-157">Po přidání do <xref:System.ServiceModel.Activities.WorkflowServiceHost> instance je možné tento koncový bod použít k odeslání operací příkazů do jakékoli instance pracovního postupu hostované instancí hostitele.</span><span class="sxs-lookup"><span data-stu-id="73add-157">When added to a <xref:System.ServiceModel.Activities.WorkflowServiceHost> instance, this endpoint can then be used to send command operations to any workflow instance hosted by the host instance.</span></span> <span data-ttu-id="73add-158">Další informace o standardních koncových bodech naleznete v tématu [Standardní koncové body](standard-endpoints.md).</span><span class="sxs-lookup"><span data-stu-id="73add-158">For more information about standard endpoints, see [Standard Endpoints](standard-endpoints.md).</span></span>  
  
## <a name="workflowcontrolclient"></a><span data-ttu-id="73add-159">WorkflowControlClient</span><span class="sxs-lookup"><span data-stu-id="73add-159">WorkflowControlClient</span></span>  
 <span data-ttu-id="73add-160"><xref:System.ServiceModel.Activities.WorkflowControlClient>je třída, která umožňuje odeslat řídicí zprávy do <xref:System.ServiceModel.Activities.WorkflowControlEndpoint> v <xref:System.ServiceModel.Activities.WorkflowServiceHost> .</span><span class="sxs-lookup"><span data-stu-id="73add-160"><xref:System.ServiceModel.Activities.WorkflowControlClient> is a class that allows you to send control messages to a <xref:System.ServiceModel.Activities.WorkflowControlEndpoint> on a <xref:System.ServiceModel.Activities.WorkflowServiceHost>.</span></span> <span data-ttu-id="73add-161">Obsahuje metodu pro každou operaci podporovanou <xref:System.ServiceModel.Activities.IWorkflowInstanceManagement> smlouvou s výjimkou operací s podporou transakcí.</span><span class="sxs-lookup"><span data-stu-id="73add-161">It contains a method for each of the operations supported by the <xref:System.ServiceModel.Activities.IWorkflowInstanceManagement> contract except for the transacted operations.</span></span> <span data-ttu-id="73add-162"><xref:System.ServiceModel.Activities.WorkflowControlClient>Používá ambientní transakci k určení, zda by měla být použita transakční operace.</span><span class="sxs-lookup"><span data-stu-id="73add-162"><xref:System.ServiceModel.Activities.WorkflowControlClient> uses the ambient transaction to determine whether a transacted operation should be used.</span></span>
