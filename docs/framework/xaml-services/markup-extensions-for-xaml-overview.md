---
title: Přehled rozšíření značek pro jazyk XAML
ms.date: 03/30/2017
helpviewer_keywords:
- markup extensions [XAML Services], custom
- XAML [XAML Services], markup extensions
ms.assetid: 261b2b11-2dc0-462f-8c66-55b8c9c6e436
ms.openlocfilehash: 29cf4e03c1e4f91cd4390b84dd62c07268fe0189
ms.sourcegitcommit: 30a83efb57c468da74e9e218de26cf88d3254597
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 07/20/2019
ms.locfileid: "68364328"
---
# <a name="markup-extensions-for-xaml-overview"></a><span data-ttu-id="dc0a0-102">Přehled rozšíření značek pro jazyk XAML</span><span class="sxs-lookup"><span data-stu-id="dc0a0-102">Markup Extensions for XAML Overview</span></span>
<span data-ttu-id="dc0a0-103">Rozšíření značek představují techniku XAML pro získání hodnoty, která není primitivní ani konkrétního typu XAML.</span><span class="sxs-lookup"><span data-stu-id="dc0a0-103">Markup extensions are a XAML technique for obtaining a value that is neither a primitive nor a specific XAML type.</span></span> <span data-ttu-id="dc0a0-104">Pro použití atributů rozšíření značek používají sekvenci známého znaku levé složené závorky `{` k zadání rozsahu rozšíření značek a uzavírací složené `}` závorky pro ukončení.</span><span class="sxs-lookup"><span data-stu-id="dc0a0-104">For attribute usage, markup extensions use the known character sequence of an opening curly brace `{` to enter the markup extension scope, and a closing curly brace `}` to exit.</span></span> <span data-ttu-id="dc0a0-105">Při použití .NET Framework služby XAML můžete použít některé z předdefinovaných rozšíření značek jazyka XAML ze sestavení System. XAML.</span><span class="sxs-lookup"><span data-stu-id="dc0a0-105">When using .NET Framework XAML Services, you can use some of the predefined XAML language markup extensions from the System.Xaml assembly.</span></span> <span data-ttu-id="dc0a0-106">Můžete také podtřídou z <xref:System.Windows.Markup.MarkupExtension> třídy definované v souboru System. XAML a definovat vlastní rozšíření značek.</span><span class="sxs-lookup"><span data-stu-id="dc0a0-106">You can also subclass from the <xref:System.Windows.Markup.MarkupExtension> class, defined in System.Xaml, and define your own markup extensions.</span></span> <span data-ttu-id="dc0a0-107">Nebo můžete použít rozšíření značek definované konkrétní architekturou, pokud již odkazujete na tuto architekturu.</span><span class="sxs-lookup"><span data-stu-id="dc0a0-107">Or you can use markup extensions defined by a particular framework if you are already referencing that framework .</span></span>  
  
 <span data-ttu-id="dc0a0-108">Když je k použití rozšíření značek přistupované, zapisovač objektů XAML může poskytovat služby vlastní <xref:System.Windows.Markup.MarkupExtension> třídě prostřednictvím spojovacího bodu služby <xref:System.Windows.Markup.MarkupExtension.ProvideValue%2A?displayProperty=nameWithType> v přepsání.</span><span class="sxs-lookup"><span data-stu-id="dc0a0-108">When a markup extension usage is accessed, the XAML object writer can provide services to a custom <xref:System.Windows.Markup.MarkupExtension> class through a service connection point in the <xref:System.Windows.Markup.MarkupExtension.ProvideValue%2A?displayProperty=nameWithType> override.</span></span> <span data-ttu-id="dc0a0-109">Služby lze použít k získání kontextu použití, specifických možností modulu pro zápis objektů, kontextu schématu XAML a tak dále.</span><span class="sxs-lookup"><span data-stu-id="dc0a0-109">The services can be used to obtain context about the usage, specific capabilities of the object writer, XAML schema context, and so on.</span></span>  
  
<a name="XAML_Defined_Markup_Extensions"></a>   
## <a name="xaml-defined-markup-extensions"></a><span data-ttu-id="dc0a0-110">Rozšíření značek definovaná v jazyce XAML</span><span class="sxs-lookup"><span data-stu-id="dc0a0-110">XAML-Defined Markup Extensions</span></span>  
 <span data-ttu-id="dc0a0-111">Několik rozšíření značek je implementováno pomocí .NET Framework služby XAML pro podporu jazyka XAML.</span><span class="sxs-lookup"><span data-stu-id="dc0a0-111">Several markup extensions are implemented by .NET Framework XAML Services for XAML language support.</span></span> <span data-ttu-id="dc0a0-112">Tato rozšíření značek odpovídají částem specifikace XAML jako jazyka.</span><span class="sxs-lookup"><span data-stu-id="dc0a0-112">These markup extensions correspond to parts of the specification of XAML as a language.</span></span> <span data-ttu-id="dc0a0-113">Ty jsou obvykle identifikovatelné `x:` předponou v syntaxi, jak je vidět v tématu běžné použití.</span><span class="sxs-lookup"><span data-stu-id="dc0a0-113">These are typically identifiable by the `x:` prefix in the syntax as seen in common usage.</span></span> <span data-ttu-id="dc0a0-114">Implementace .NET Framework XAML Services pro tyto prvky jazyka XAML jsou odvozeny ze <xref:System.Windows.Markup.MarkupExtension> základní třídy.</span><span class="sxs-lookup"><span data-stu-id="dc0a0-114">The .NET Framework XAML Services implementations for these XAML language elements all derive from the  <xref:System.Windows.Markup.MarkupExtension> base class .</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="dc0a0-115">`x:` Předpona se používá pro typické mapování oboru názvů jazyka XAML v oboru názvů jazyka XAML v kořenovém elementu v produkci XAML.</span><span class="sxs-lookup"><span data-stu-id="dc0a0-115">The `x:` prefix is used for the typical XAML namespace mapping of the XAML language namespace, in the root element of a XAML production.</span></span> <span data-ttu-id="dc0a0-116">Například projekt sady Visual Studio a šablony stránky pro různá konkrétní rozhraní iniciují soubor XAML pomocí tohoto `x:` mapování.</span><span class="sxs-lookup"><span data-stu-id="dc0a0-116">For example, the Visual Studio project and page templates for various specific frameworks initiate a XAML file using this `x:` mapping.</span></span> <span data-ttu-id="dc0a0-117">Můžete zvolit jiný token předpony ve vlastním mapování oboru názvů XAML, ale tato dokumentace bude předpokládat výchozí `x:` mapování jako způsob identifikace těch entit, které jsou definovanou součástí oboru názvů XAML jazyka XAML, na rozdíl od výchozí obor názvů jazyka XAML konkrétního rozhraní nebo jiný libovolný obor názvů CLR nebo XML.</span><span class="sxs-lookup"><span data-stu-id="dc0a0-117">You could choose a different prefix token in your own XAML namespace mapping, but this documentation will assume the default `x:` mapping as a means of identifying those entities that are a defined part of the XAML language XAML namespace, as opposed to a specific framework's default XAML namespace or other arbitrary CLR or XML namespaces.</span></span>  
  
### <a name="xtype"></a><span data-ttu-id="dc0a0-118">x:Type</span><span class="sxs-lookup"><span data-stu-id="dc0a0-118">x:Type</span></span>  
 <span data-ttu-id="dc0a0-119">`x:Type`<xref:System.Type> poskytuje objekt pro pojmenovaný typ.</span><span class="sxs-lookup"><span data-stu-id="dc0a0-119">`x:Type` supplies the <xref:System.Type> object for the named type.</span></span> <span data-ttu-id="dc0a0-120">Tato funkce se používá nejčastěji v mechanizmu odložení, který používá základní typ CLR a odvození typu jako moniker seskupení nebo identifikátor.</span><span class="sxs-lookup"><span data-stu-id="dc0a0-120">This functionality is used most frequently in deferral mechanisms that use underlying CLR type and type derivation as a grouping moniker or identifier.</span></span> <span data-ttu-id="dc0a0-121">Konkrétní příklad jsou styly a šablony WPF a jejich `TargetType` použití vlastností.</span><span class="sxs-lookup"><span data-stu-id="dc0a0-121">WPF styles and templates, and their usage of `TargetType` properties, are a specific example.</span></span> <span data-ttu-id="dc0a0-122">Další informace najdete v tématu [rozšíření značek x:Type](x-type-markup-extension.md).</span><span class="sxs-lookup"><span data-stu-id="dc0a0-122">For more information, see [x:Type Markup Extension](x-type-markup-extension.md).</span></span>  
  
### <a name="xstatic"></a><span data-ttu-id="dc0a0-123">x:Static</span><span class="sxs-lookup"><span data-stu-id="dc0a0-123">x:Static</span></span>  
 <span data-ttu-id="dc0a0-124">`x:Static`Vytvoří statické hodnoty z entit kódu typu hodnoty, které nejsou přímo typu hodnoty vlastnosti, ale lze je vyhodnotit na tento typ.</span><span class="sxs-lookup"><span data-stu-id="dc0a0-124">`x:Static` produces static values from value-type code entities that are not directly the type of a property's value, but can be evaluated to that type.</span></span> <span data-ttu-id="dc0a0-125">To je užitečné při zadávání hodnot, které již existují jako známé konstanty v definici typu.</span><span class="sxs-lookup"><span data-stu-id="dc0a0-125">This is useful for specifying values that already exist as well-known constants in a type definition.</span></span> <span data-ttu-id="dc0a0-126">Další informace najdete v tématu [rozšíření značek x:static](x-static-markup-extension.md).</span><span class="sxs-lookup"><span data-stu-id="dc0a0-126">For more information, see [x:Static Markup Extension](x-static-markup-extension.md).</span></span>  
  
### <a name="xnull"></a><span data-ttu-id="dc0a0-127">x:Null</span><span class="sxs-lookup"><span data-stu-id="dc0a0-127">x:Null</span></span>  
 <span data-ttu-id="dc0a0-128">`x:Null`Určuje `null` hodnotu člena XAML.</span><span class="sxs-lookup"><span data-stu-id="dc0a0-128">`x:Null` specifies `null` as a value for a XAML member.</span></span> <span data-ttu-id="dc0a0-129">V závislosti na návrhu konkrétního typu nebo na větších konceptech `null` rozhraní není vždy výchozí hodnota pro vlastnost nebo předpokládaná hodnota prázdného řetězcového atributu.</span><span class="sxs-lookup"><span data-stu-id="dc0a0-129">Depending on the design of specific types or on larger framework concepts, `null` is not always a default value for a property, or the implied value of an empty string attribute.</span></span> <span data-ttu-id="dc0a0-130">Další informace najdete v tématu [rozšíření značek x:null](x-null-markup-extension.md).</span><span class="sxs-lookup"><span data-stu-id="dc0a0-130">For more information, see [x:Null Markup Extension](x-null-markup-extension.md).</span></span>  
  
### <a name="xarray"></a><span data-ttu-id="dc0a0-131">x:Array</span><span class="sxs-lookup"><span data-stu-id="dc0a0-131">x:Array</span></span>  
 <span data-ttu-id="dc0a0-132">`x:Array`podporuje vytváření obecných polí v syntaxi jazyka XAML v případech, kdy podpora kolekce, která je poskytována základními prvky a modely ovládacích prvků, není použita záměrně.</span><span class="sxs-lookup"><span data-stu-id="dc0a0-132">`x:Array` supports creation of general arrays in XAML syntax in cases where the collection support that is provided by base elements and control models is deliberately not used.</span></span> <span data-ttu-id="dc0a0-133">Další informace najdete v tématu [rozšíření značek x:Array](x-array-markup-extension.md).</span><span class="sxs-lookup"><span data-stu-id="dc0a0-133">For more information, see [x:Array Markup Extension](x-array-markup-extension.md).</span></span> <span data-ttu-id="dc0a0-134">V jazyce XAML 2009 konkrétně jsou pole k dispozici jako jazykové primitiva namísto jako rozšíření.</span><span class="sxs-lookup"><span data-stu-id="dc0a0-134">In XAML 2009 specifically, arrays are accessed as language primitives instead of as an extension.</span></span> <span data-ttu-id="dc0a0-135">Další informace naleznete v tématu [funkce jazyka XAML 2009](xaml-2009-language-features.md).</span><span class="sxs-lookup"><span data-stu-id="dc0a0-135">For more information, see [XAML 2009 Language Features](xaml-2009-language-features.md).</span></span>  
  
### <a name="xreference"></a><span data-ttu-id="dc0a0-136">x:Reference</span><span class="sxs-lookup"><span data-stu-id="dc0a0-136">x:Reference</span></span>  
 <span data-ttu-id="dc0a0-137">`x:Reference`je součástí XAML 2009, přípony původní (2006) sady jazyků.</span><span class="sxs-lookup"><span data-stu-id="dc0a0-137">`x:Reference` is part of XAML 2009, an extension of the original (2006) language set.</span></span> <span data-ttu-id="dc0a0-138">`x:Reference`představuje odkaz na jiný existující objekt v grafu objektů.</span><span class="sxs-lookup"><span data-stu-id="dc0a0-138">`x:Reference` represents a reference to another existing object in an object graph.</span></span> <span data-ttu-id="dc0a0-139">Tento objekt je identifikován jeho `x:Name`.</span><span class="sxs-lookup"><span data-stu-id="dc0a0-139">That object is identified by its `x:Name`.</span></span> <span data-ttu-id="dc0a0-140">Další informace najdete v tématu [rozšíření značek x:Reference](x-reference-markup-extension.md).</span><span class="sxs-lookup"><span data-stu-id="dc0a0-140">For more information, see [x:Reference Markup Extension](x-reference-markup-extension.md).</span></span>  
  
### <a name="other-x-constructs"></a><span data-ttu-id="dc0a0-141">Další x: Konstrukce</span><span class="sxs-lookup"><span data-stu-id="dc0a0-141">Other x: Constructs</span></span>  
 <span data-ttu-id="dc0a0-142">Existují `x:` i jiné konstrukce pro podporu funkcí jazyka XAML, ale nejsou implementovány jako rozšíření značek.</span><span class="sxs-lookup"><span data-stu-id="dc0a0-142">Other `x:` constructs to support XAML language features exist, but these are not implemented as markup extensions.</span></span> <span data-ttu-id="dc0a0-143">Další informace naleznete v tématu [obor názvů XAML (x:). Jazykové funkce](xaml-namespace-x-language-features.md).</span><span class="sxs-lookup"><span data-stu-id="dc0a0-143">For more information, see [XAML Namespace (x:) Language Features](xaml-namespace-x-language-features.md).</span></span>  
  
<a name="the_markupextension_base_class"></a>   
## <a name="the-markupextension-base-class"></a><span data-ttu-id="dc0a0-144">Základní třída MarkupExtension</span><span class="sxs-lookup"><span data-stu-id="dc0a0-144">The MarkupExtension Base Class</span></span>  
 <span data-ttu-id="dc0a0-145">Chcete-li definovat vlastní rozšíření značek, které může komunikovat s výchozími implementacemi čteček XAML a zapisovači XAML v System. XAML, odvozujete třídu <xref:System.Windows.Markup.MarkupExtension> od abstraktní třídy.</span><span class="sxs-lookup"><span data-stu-id="dc0a0-145">To define a custom markup extension that can interact with the default implementations of XAML readers and XAML writers in System.Xaml, you derive a class from the abstract <xref:System.Windows.Markup.MarkupExtension> class.</span></span> <span data-ttu-id="dc0a0-146">Tato třída má jednu metodu, která <xref:System.Windows.Markup.MarkupExtension.ProvideValue%2A>má být přepsána.</span><span class="sxs-lookup"><span data-stu-id="dc0a0-146">That class has one method to override, which is <xref:System.Windows.Markup.MarkupExtension.ProvideValue%2A>.</span></span> <span data-ttu-id="dc0a0-147">Může být také nutné definovat další konstruktory pro podporu argumentů použití rozšíření značek a přizpůsobení vlastností, které lze nastavit.</span><span class="sxs-lookup"><span data-stu-id="dc0a0-147">You might also need to define additional constructors to support arguments to the markup extension usage, and matching settable properties.</span></span>  
  
 <span data-ttu-id="dc0a0-148">Prostřednictvím <xref:System.Windows.Markup.MarkupExtension.ProvideValue%2A>nástroje má vlastní rozšíření značek přístup k kontextu služby, který hlásí prostředí, ve kterém je rozšíření značek skutečně vyvoláno procesorem XAML.</span><span class="sxs-lookup"><span data-stu-id="dc0a0-148">Through <xref:System.Windows.Markup.MarkupExtension.ProvideValue%2A>, a custom markup extension has access to a service context that reports the environment where the markup extension is actually invoked by a XAML processor.</span></span> <span data-ttu-id="dc0a0-149">V cestě načtení je to obvykle <xref:System.Xaml.XamlObjectWriter>.</span><span class="sxs-lookup"><span data-stu-id="dc0a0-149">In the load path this is typically a <xref:System.Xaml.XamlObjectWriter>.</span></span> <span data-ttu-id="dc0a0-150">V cestě pro uložení je to obvykle <xref:System.Xaml.XamlXmlWriter>.</span><span class="sxs-lookup"><span data-stu-id="dc0a0-150">In the save path this is typically a <xref:System.Xaml.XamlXmlWriter>.</span></span> <span data-ttu-id="dc0a0-151">Každou sestavu kontextu služby jako interní třídu kontextu poskytovatele služby XAML, která implementuje model poskytovatele služby.</span><span class="sxs-lookup"><span data-stu-id="dc0a0-151">Each report the service context as an internal XAML service provider context class that implements a service provider pattern.</span></span> <span data-ttu-id="dc0a0-152">Další informace o dostupných službách a o tom, co představují, najdete v tématu [převaděče typů a rozšíření značek pro jazyk XAML](type-converters-and-markup-extensions-for-xaml.md).</span><span class="sxs-lookup"><span data-stu-id="dc0a0-152">For more information about the available services and what they represent, see [Type Converters and Markup Extensions for XAML](type-converters-and-markup-extensions-for-xaml.md).</span></span>  
  
 <span data-ttu-id="dc0a0-153">Třída rozšíření značek musí používat úroveň veřejného přístupu; Procesory XAML musí být vždy schopny vytvořit instanci třídy podpory rozšíření značek, aby bylo možné používat jeho služby.</span><span class="sxs-lookup"><span data-stu-id="dc0a0-153">Your markup extension class must use a public access level; XAML processors must always be able to instantiate the markup extension's support class in order to use its services.</span></span>  
  
<a name="naming_the_support_type"></a>   
## <a name="defining-the-support-type-for-a-custom-markup-extension"></a><span data-ttu-id="dc0a0-154">Definování typu podpory pro vlastní rozšíření značek</span><span class="sxs-lookup"><span data-stu-id="dc0a0-154">Defining the Support Type for a Custom Markup Extension</span></span>  
 <span data-ttu-id="dc0a0-155">Pokud používáte .NET Framework služby XAML nebo architektury, které se sestavují v .NET Framework služby XAML, máte dvě možnosti, jak pojmenovat typ podpory rozšíření značek.</span><span class="sxs-lookup"><span data-stu-id="dc0a0-155">When you use .NET Framework XAML Services or frameworks that build on .NET Framework XAML Services, you have two choices for how to name the markup extension support type.</span></span> <span data-ttu-id="dc0a0-156">Název typu je relevantní, jak se autoři objektů XAML pokusí získat přístup a vyvolat typ podpory rozšíření značek, když narazí na použití rozšíření značek v jazyce XAML.</span><span class="sxs-lookup"><span data-stu-id="dc0a0-156">The type name is relevant to how XAML object writers attempt to access and invoke a markup extension support type when they encounter a markup extension usage in XAML.</span></span> <span data-ttu-id="dc0a0-157">Použijte jednu z následujících strategií vytváření názvů:</span><span class="sxs-lookup"><span data-stu-id="dc0a0-157">Use one of the following naming strategies:</span></span>  
  
- <span data-ttu-id="dc0a0-158">Název typu, který bude mít přesnou shodu s tokenem použití kódu XAML.</span><span class="sxs-lookup"><span data-stu-id="dc0a0-158">Name the type name to be an exact match to the XAML markup usage token.</span></span> <span data-ttu-id="dc0a0-159">Například pro podporu `{Collate ...}` použití rozšíření zadejte `Collate`název podpory.</span><span class="sxs-lookup"><span data-stu-id="dc0a0-159">For example, to support a `{Collate ...}` extension usage, name the support type `Collate`.</span></span>  
  
- <span data-ttu-id="dc0a0-160">Název typu, který bude token řetězce využití a přípona `Extension`.</span><span class="sxs-lookup"><span data-stu-id="dc0a0-160">Name the type name to be the usage string token plus the suffix `Extension`.</span></span> <span data-ttu-id="dc0a0-161">Například pro podporu `{Collate ...}` použití rozšíření zadejte `CollateExtension`název podpory.</span><span class="sxs-lookup"><span data-stu-id="dc0a0-161">For example, to support a `{Collate ...}` extension usage, name the support type `CollateExtension`.</span></span>  
  
 <span data-ttu-id="dc0a0-162">Pořadí vyhledávání je nejprve vyhledat `Extension`název třídy s příponou a potom název třídy vyhledat `Extension` bez přípony.</span><span class="sxs-lookup"><span data-stu-id="dc0a0-162">The order of lookup is to look for the `Extension`-suffixed class name first and then look for the class name without the `Extension` suffix.</span></span>  
  
 <span data-ttu-id="dc0a0-163">Z perspektivy použití značek, včetně `Extension` přípony jako součást použití, je platný.</span><span class="sxs-lookup"><span data-stu-id="dc0a0-163">From the markup usage perspective, including the `Extension` suffix as part of the usage is valid.</span></span> <span data-ttu-id="dc0a0-164">To se ale chová, jako by `Extension` se skutečně součástí názvu třídy, a autoři objektů XAML by nemuseli přeložit třídu podpory rozšíření značek pro toto použití, pokud třída `Extension` podpory nemá příponu.</span><span class="sxs-lookup"><span data-stu-id="dc0a0-164">However, this behaves as if `Extension` is truly part of the class name, and XAML object writers would fail to resolve a markup extension support class for that usage if the support class did not have the `Extension` suffix.</span></span>  
  
### <a name="the-default-constructor"></a><span data-ttu-id="dc0a0-165">Výchozí konstruktor</span><span class="sxs-lookup"><span data-stu-id="dc0a0-165">The Default Constructor</span></span>  
 <span data-ttu-id="dc0a0-166">Pro všechny typy podpory rozšíření značek byste měli vystavit veřejný konstruktor bez parametrů.</span><span class="sxs-lookup"><span data-stu-id="dc0a0-166">For all markup extension support types, you should expose a public parameterless constructor.</span></span> <span data-ttu-id="dc0a0-167">Konstruktor bez parametrů je vyžadován pro případ, kdy zapisovač objektů XAML vytvoří instanci rozšíření značek z použití prvku objektu.</span><span class="sxs-lookup"><span data-stu-id="dc0a0-167">A parameterless constructor is required for any case where a XAML object writer instantiates the markup extension from an object element usage.</span></span> <span data-ttu-id="dc0a0-168">Podpora použití elementu objektu je korektní očekávání pro rozšíření značek, zejména pro serializaci.</span><span class="sxs-lookup"><span data-stu-id="dc0a0-168">Supporting object element usage is a fair expectation for a markup extension, particularly for serialization.</span></span> <span data-ttu-id="dc0a0-169">Můžete však implementovat rozšíření značek bez veřejného konstruktoru, pokud chcete pouze podporovat použití atributů rozšíření značek.</span><span class="sxs-lookup"><span data-stu-id="dc0a0-169">However, you can implement a markup extension without a public constructor if you only intend to support attribute usages of the markup extension.</span></span>  
  
 <span data-ttu-id="dc0a0-170">Pokud vaše použití rozšíření značek nemá žádné argumenty, konstruktor bez parametrů je vyžadován k podpoře využití.</span><span class="sxs-lookup"><span data-stu-id="dc0a0-170">If your markup extension usage has no arguments, the parameterless constructor is required to support usage.</span></span>  
  
<a name="constructor_patterns_and_positional_arguments_for_a_custom_markup_extension"></a>   
## <a name="constructor-patterns-and-positional-arguments-for-a-custom-markup-extension"></a><span data-ttu-id="dc0a0-171">Vzory a poziční argumenty konstruktoru pro vlastní rozšíření značek</span><span class="sxs-lookup"><span data-stu-id="dc0a0-171">Constructor Patterns and Positional Arguments for a Custom Markup Extension</span></span>  
 <span data-ttu-id="dc0a0-172">Pro rozšíření značek se zamýšleným použitím argumentů musí veřejné konstruktory odpovídat režimům zamýšleného použití.</span><span class="sxs-lookup"><span data-stu-id="dc0a0-172">For a markup extension with intended argument usage, the public constructors must correspond to the modes of the intended usage.</span></span> <span data-ttu-id="dc0a0-173">Jinými slovy, pokud je vaše rozšíření značek navrženo tak, aby vyžadovalo jeden poziční argument jako platné použití, měli byste podporovat veřejný konstruktor s jedním vstupním parametrem, který přebírá poziční argument.</span><span class="sxs-lookup"><span data-stu-id="dc0a0-173">In other words, if your markup extension is designed to require one positional argument as a valid usage, you should support a public constructor with one input parameter that takes the positional argument.</span></span>  
  
 <span data-ttu-id="dc0a0-174">Předpokládejme například, že `Collate` rozšíření označení je určeno pro podporu pouze režimu, kde je jeden poziční argument, který představuje jeho režim, který je určen `CollationMode` jako konstanta výčtu.</span><span class="sxs-lookup"><span data-stu-id="dc0a0-174">For example, suppose the `Collate` markup extension is intended to support only a mode where there is one positional argument that represents its mode, specified as a `CollationMode` enumeration constant.</span></span> <span data-ttu-id="dc0a0-175">V takovém případě by měl být konstruktor s následujícím formulářem:</span><span class="sxs-lookup"><span data-stu-id="dc0a0-175">In this case, there should be a constructor with the following form:</span></span>  
  
```  
public Collate(CollationMode collationMode) {...}  
```  
  
 <span data-ttu-id="dc0a0-176">Na úrovni Basic jsou argumenty předané příponě kódu řetězce, protože jsou předávány z hodnot atributů značek.</span><span class="sxs-lookup"><span data-stu-id="dc0a0-176">At a basic level, the arguments passed to a markup extension are a string because they are being forwarded from the markup's attribute values.</span></span> <span data-ttu-id="dc0a0-177">Můžete provést všechny řetězce argumentů a pracovat se vstupem na této úrovni.</span><span class="sxs-lookup"><span data-stu-id="dc0a0-177">You can make all of your arguments strings and work with input at that level.</span></span> <span data-ttu-id="dc0a0-178">Nicméně máte přístup k určitému zpracování, ke kterému dochází před předáním argumentů rozšíření značek do třídy podpory.</span><span class="sxs-lookup"><span data-stu-id="dc0a0-178">However, you do have access to certain processing that occurs before the markup extension arguments are passed to the support class.</span></span>  
  
 <span data-ttu-id="dc0a0-179">Zpracování funguje koncepčně, jako je přípona označení objektu, který má být vytvořen, a poté jsou nastaveny hodnoty členů.</span><span class="sxs-lookup"><span data-stu-id="dc0a0-179">The processing works conceptually as if the markup extension is an object to be created, and then its member values are set.</span></span> <span data-ttu-id="dc0a0-180">Každá zadaná vlastnost, která má být nastavena, je vyhodnocena podobným způsobem, jakým je možné nastavit konkrétního člena při analýze XAML.</span><span class="sxs-lookup"><span data-stu-id="dc0a0-180">Each specified property to set is evaluated similar to how a specified member can be set on a created object when XAML is parsed.</span></span> <span data-ttu-id="dc0a0-181">Existují dva důležité rozdíly:</span><span class="sxs-lookup"><span data-stu-id="dc0a0-181">There are two important differences:</span></span>  
  
- <span data-ttu-id="dc0a0-182">Jak bylo uvedeno dříve, typ podpory rozšíření značek nemusí mít konstruktor bez parametrů, aby mohl být vytvořen v jazyce XAML.</span><span class="sxs-lookup"><span data-stu-id="dc0a0-182">As noted previously, a markup extension support type does not need to have a parameterless constructor in order to be instantiated in XAML.</span></span> <span data-ttu-id="dc0a0-183">Konstrukce objektu je odložena, dokud jeho možné argumenty v syntaxi textu nejsou vyhodnoceny jako poziční nebo pojmenované argumenty a příslušný konstruktor je v daném okamžiku volán.</span><span class="sxs-lookup"><span data-stu-id="dc0a0-183">Its object construction is deferred until its possible arguments in the text syntax are tokenized and evaluated as either positional or named arguments, and the appropriate constructor is called at that time.</span></span>  
  
- <span data-ttu-id="dc0a0-184">Používání rozšíření značek lze vnořovat.</span><span class="sxs-lookup"><span data-stu-id="dc0a0-184">Markup extensions usages can be nested.</span></span> <span data-ttu-id="dc0a0-185">Nejprve se vyhodnocuje přípona nejvnitřnějšího označení.</span><span class="sxs-lookup"><span data-stu-id="dc0a0-185">The innermost markup extension is evaluated first.</span></span> <span data-ttu-id="dc0a0-186">Proto můžete předpokládat takové použití a deklarovat jeden z parametrů konstrukce jako typ, který vyžaduje konvertor hodnoty (například rozšíření značek) k vytvoření.</span><span class="sxs-lookup"><span data-stu-id="dc0a0-186">Therefore, you can assume such a usage and declare one of the construction parameters to be a type that requires a value converter (such as a markup extension) to produce.</span></span>  
  
 <span data-ttu-id="dc0a0-187">V předchozím příkladu se zobrazila závislost na takovém zpracování.</span><span class="sxs-lookup"><span data-stu-id="dc0a0-187">A reliance on such processing was shown in the previous example.</span></span> <span data-ttu-id="dc0a0-188">Modul pro zápis objektů XAML .NET Framework XAML Services zpracovává výčtové hodnoty do výčtových hodnot na nativní úrovni.</span><span class="sxs-lookup"><span data-stu-id="dc0a0-188">The .NET Framework XAML Services XAML object writer processes enumeration constant names into enumerated values at a native level.</span></span>  
  
 <span data-ttu-id="dc0a0-189">Syntaxe textu pozičního parametru rozšíření značek se může také spoléhat na konvertor typu, který je přidružený k typu, který je v argumentu konstrukce.</span><span class="sxs-lookup"><span data-stu-id="dc0a0-189">Processing text syntax of a markup extension positional parameter can also rely on a type converter that is associated with the type that is in the construction argument.</span></span>  
  
 <span data-ttu-id="dc0a0-190">Argumenty jsou označovány jako poziční argumenty, protože pořadí, ve kterém jsou zjištěny tokeny v použití, odpovídají umístění parametru konstruktoru, ke kterému jsou přiřazeny.</span><span class="sxs-lookup"><span data-stu-id="dc0a0-190">The arguments are called positional arguments because the order in which the tokens in the usage is encountered corresponds to the positional order of the constructor parameter to which they are assigned.</span></span> <span data-ttu-id="dc0a0-191">Zvažte například následující signatura konstruktoru:</span><span class="sxs-lookup"><span data-stu-id="dc0a0-191">For example, consider the following constructor signature:</span></span>  
  
```  
public Collate(CollationMode collationMode, object collateThis) {...}  
```  
  
 <span data-ttu-id="dc0a0-192">Procesor XAML očekává dva Poziční argumenty pro tuto příponu označení.</span><span class="sxs-lookup"><span data-stu-id="dc0a0-192">A XAML processor expects two positional arguments for this markup extension.</span></span> <span data-ttu-id="dc0a0-193">Pokud existuje použití `{Collate AlphaUp,{x:Reference circularFile}}` `AlphaUp` , token se pošle na první `CollationMode` parametr a vyhodnotí se jako výčet s názvem Constant.</span><span class="sxs-lookup"><span data-stu-id="dc0a0-193">If there was a usage `{Collate AlphaUp,{x:Reference circularFile}}`, the `AlphaUp` token is sent to the first parameter and evaluated as a `CollationMode` enumeration named constant.</span></span> <span data-ttu-id="dc0a0-194">Výsledek vnitřního `x:Reference` objektu se pošle druhému parametru a vyhodnotí se jako objekt.</span><span class="sxs-lookup"><span data-stu-id="dc0a0-194">The result of the inner `x:Reference` is sent to the second parameter and evaluated as an object.</span></span>  
  
 <span data-ttu-id="dc0a0-195">V zadaném pravidle XAML pro syntaxi a zpracování rozšíření značek je čárka oddělovač mezi argumenty, zda jsou tyto argumenty poziční argumenty nebo pojmenované argumenty.</span><span class="sxs-lookup"><span data-stu-id="dc0a0-195">In the XAML specified rules for markup extension syntax and processing, the comma is the delimiter between arguments, whether those arguments are positional arguments or named arguments.</span></span>  
  
### <a name="duplicate-arity-of-positional-arguments"></a><span data-ttu-id="dc0a0-196">Duplicitní Arita pozičních argumentů</span><span class="sxs-lookup"><span data-stu-id="dc0a0-196">Duplicate Arity of Positional Arguments</span></span>  
 <span data-ttu-id="dc0a0-197">Pokud modul pro zápis objektů XAML narazí na použití rozšíření značek pomocí pozičních argumentů a existuje více argumentů konstruktoru, které přebírají tento počet argumentů (duplicitní Arita), což není nutně chyba.</span><span class="sxs-lookup"><span data-stu-id="dc0a0-197">If a XAML object writer encounters a markup extension usage with positional arguments, and there are multiple constructor arguments that take that number of arguments (a duplicate arity), that is not necessarily an error.</span></span> <span data-ttu-id="dc0a0-198">Chování závisí na přizpůsobitelné nastavení <xref:System.Xaml.XamlSchemaContextSettings.SupportMarkupExtensionsWithDuplicateArity%2A>kontextu schématu XAML.</span><span class="sxs-lookup"><span data-stu-id="dc0a0-198">The behavior depends on a customizable XAML schema context setting, <xref:System.Xaml.XamlSchemaContextSettings.SupportMarkupExtensionsWithDuplicateArity%2A>.</span></span> <span data-ttu-id="dc0a0-199">Pokud <xref:System.Xaml.XamlSchemaContextSettings.SupportMarkupExtensionsWithDuplicateArity%2A> je`true`, modul pro zápis objektů XAML by neměl vyvolat výjimku pouze z důvodu duplicitní aritou.</span><span class="sxs-lookup"><span data-stu-id="dc0a0-199">If <xref:System.Xaml.XamlSchemaContextSettings.SupportMarkupExtensionsWithDuplicateArity%2A> is `true`, a XAML object writer should not throw an exception only for reasons of duplicate arity.</span></span> <span data-ttu-id="dc0a0-200">Chování nad tímto bodem není definováno přesně.</span><span class="sxs-lookup"><span data-stu-id="dc0a0-200">Behavior beyond that point is not strictly defined.</span></span> <span data-ttu-id="dc0a0-201">Základním předpokladem pro návrh je, že kontext schématu má k dispozici informace o typu pro konkrétní parametry a může se pokusit o explicitní přetypování, které odpovídají duplicitním kandidátům, aby bylo možné zjistit, který podpis může být nejlepší shodou.</span><span class="sxs-lookup"><span data-stu-id="dc0a0-201">The basic design assumption is that the schema context has type information available for the specific parameters and can attempt explicit casts that match the duplicate candidates to see which signature might be the best match.</span></span> <span data-ttu-id="dc0a0-202">Výjimka může být stále vyvolána, pokud žádné signatury nemůžou předat testy, které jsou uloženy v rámci konkrétního kontextu schématu, který je spuštěn v modulu pro zápis objektů XAML.</span><span class="sxs-lookup"><span data-stu-id="dc0a0-202">An exception might still be thrown if no signatures can pass the tests that are imposed by that particular schema context that is running on a XAML object writer.</span></span>  
  
 <span data-ttu-id="dc0a0-203">Ve výchozím nastavení <xref:System.Xaml.XamlSchemaContextSettings.SupportMarkupExtensionsWithDuplicateArity%2A> je `false` modul CLR založen <xref:System.Xaml.XamlSchemaContext> pro .NET Framework služby XAML.</span><span class="sxs-lookup"><span data-stu-id="dc0a0-203">By default, <xref:System.Xaml.XamlSchemaContextSettings.SupportMarkupExtensionsWithDuplicateArity%2A> is `false` in the CLR-based <xref:System.Xaml.XamlSchemaContext> for .NET Framework XAML Services.</span></span> <span data-ttu-id="dc0a0-204">Proto výchozí <xref:System.Xaml.XamlObjectWriter> vyvolá výjimky, pokud dojde k použití rozšíření značek, kde je duplicitní Arita v konstruktorech back-Type.</span><span class="sxs-lookup"><span data-stu-id="dc0a0-204">Thus, the default <xref:System.Xaml.XamlObjectWriter> throws exceptions if it encounters a markup extension usage where there is duplicate arity in the backing type's constructors.</span></span>  
  
<a name="named_arguments_for_a_custom_markup_extension"></a>   
## <a name="named-arguments-for-a-custom-markup-extension"></a><span data-ttu-id="dc0a0-205">Pojmenované argumenty pro vlastní rozšíření značek</span><span class="sxs-lookup"><span data-stu-id="dc0a0-205">Named Arguments for a Custom Markup Extension</span></span>  
 <span data-ttu-id="dc0a0-206">Rozšíření značek, jak je uvedeno v jazyce XAML, mohou také použít formulář pojmenovaných argumentů pro použití.</span><span class="sxs-lookup"><span data-stu-id="dc0a0-206">Markup extensions as specified by XAML can also use a named arguments form for usage.</span></span> <span data-ttu-id="dc0a0-207">Na první úrovni tokenizace je syntaxe textu rozdělena do argumentů.</span><span class="sxs-lookup"><span data-stu-id="dc0a0-207">At the first level of tokenization, the text syntax is divided into arguments.</span></span> <span data-ttu-id="dc0a0-208">Přítomnost znaménka rovná se (=) v rámci libovolného argumentu identifikuje argument jako pojmenovaný argument.</span><span class="sxs-lookup"><span data-stu-id="dc0a0-208">The presence of an equals sign (=) within any argument identifies an argument as a named argument.</span></span> <span data-ttu-id="dc0a0-209">Takový argument je také přidaný do dvojice název/hodnota.</span><span class="sxs-lookup"><span data-stu-id="dc0a0-209">Such an argument is also tokenized into a name/value pair.</span></span> <span data-ttu-id="dc0a0-210">Název v tomto případě pojmenovává veřejnou nastavitelnou vlastnost typu podpory rozšíření značek.</span><span class="sxs-lookup"><span data-stu-id="dc0a0-210">The name in this case names a public settable property of the markup extension's support type.</span></span> <span data-ttu-id="dc0a0-211">Pokud máte v úmyslu podporovat použití pojmenovaného argumentu, měli byste poskytnout tyto veřejné vlastnosti.</span><span class="sxs-lookup"><span data-stu-id="dc0a0-211">If you intend to support named argument usage, you should provide these public settable properties.</span></span> <span data-ttu-id="dc0a0-212">Vlastnosti mohou být děděny, pokud zůstanou veřejné.</span><span class="sxs-lookup"><span data-stu-id="dc0a0-212">The properties can be inherited properties as long as they remain public.</span></span>  
  
<a name="accessing_service_provider_context_from_a_markup_extension_implementation"></a>   
## <a name="accessing-service-provider-context-from-a-markup-extension-implementation"></a><span data-ttu-id="dc0a0-213">Přístup k kontextu poskytovatele služby z implementace rozšíření značek</span><span class="sxs-lookup"><span data-stu-id="dc0a0-213">Accessing Service Provider Context from a Markup Extension Implementation</span></span>  
 <span data-ttu-id="dc0a0-214">Dostupné služby jsou pro libovolný převaděč hodnot stejné.</span><span class="sxs-lookup"><span data-stu-id="dc0a0-214">The services available are the same for any value converter.</span></span> <span data-ttu-id="dc0a0-215">Rozdíl je v tom, jak každý konvertor hodnot přijímá kontext služby.</span><span class="sxs-lookup"><span data-stu-id="dc0a0-215">The difference is in how each value converter receives the service context.</span></span> <span data-ttu-id="dc0a0-216">Přístup ke službám a službám, které jsou k dispozici, jsou popsány v tématu [převaděče typů a rozšíření značek pro jazyk XAML](type-converters-and-markup-extensions-for-xaml.md).</span><span class="sxs-lookup"><span data-stu-id="dc0a0-216">Accessing services and the services available are documented in the topic [Type Converters and Markup Extensions for XAML](type-converters-and-markup-extensions-for-xaml.md).</span></span>  
  
<a name="property_element_usage_of_a_markup_extension"></a>   
## <a name="property-element-usage-of-a-markup-extension"></a><span data-ttu-id="dc0a0-217">Použití elementu vlastnosti rozšíření značek</span><span class="sxs-lookup"><span data-stu-id="dc0a0-217">Property Element Usage of a Markup Extension</span></span>  
 <span data-ttu-id="dc0a0-218">Scénáře použití rozšíření značek jsou často navržené kolem použití rozšíření značek v použití atributu.</span><span class="sxs-lookup"><span data-stu-id="dc0a0-218">The scenarios for markup extension usages are often designed around using the markup extension in attribute usage.</span></span> <span data-ttu-id="dc0a0-219">Je však také možné definovat třídu zálohování pro podporu použití prvku vlastnosti.</span><span class="sxs-lookup"><span data-stu-id="dc0a0-219">However, it is also potentially possible to define the backing class to support property element usage.</span></span>  
  
 <span data-ttu-id="dc0a0-220">Pro podporu použití elementu vlastností rozšíření značek definujte veřejný konstruktor bez parametrů.</span><span class="sxs-lookup"><span data-stu-id="dc0a0-220">To support property element usage of your markup extension, define a public parameterless constructor.</span></span> <span data-ttu-id="dc0a0-221">Toto by měl být konstruktor instance, který není statickým konstruktorem.</span><span class="sxs-lookup"><span data-stu-id="dc0a0-221">This should be an instance constructor not a static constructor.</span></span> <span data-ttu-id="dc0a0-222">To je nutné, protože procesor XAML musí obecně vyvolat konstruktor bez parametrů u libovolného objektu, který zpracovává ze značky, a obsahuje třídy rozšíření značek jako prvky objektů.</span><span class="sxs-lookup"><span data-stu-id="dc0a0-222">This is required because a XAML processor must generally invoke the parameterless constructor on any object element it processes from markup, and this includes markup extension classes as object elements.</span></span> <span data-ttu-id="dc0a0-223">V případě pokročilých scénářů můžete definovat jiné než výchozí cesty konstrukce pro třídy.</span><span class="sxs-lookup"><span data-stu-id="dc0a0-223">For advanced scenarios, you can define non-default construction paths for classes.</span></span> <span data-ttu-id="dc0a0-224">(Další informace najdete v tématu [direktiva x:FactoryMethod –](x-factorymethod-directive.md).) Nepoužívejte však tyto vzory pro účely rozšíření značek, protože díky tomu je zjišťování vzoru použití mnohem obtížnější, jak pro návrháře, tak pro uživatele nezpracovaných značek.</span><span class="sxs-lookup"><span data-stu-id="dc0a0-224">(For more information, see [x:FactoryMethod Directive](x-factorymethod-directive.md).) However, you should not use these patterns for markup extension purposes because this makes discovery of the usage pattern much more difficult, both for designers and for users of raw markup.</span></span>  
  
<a name="attributing_for_a_custom_markup_extension"></a>   
## <a name="attributing-for-a-custom-markup-extension"></a><span data-ttu-id="dc0a0-225">Připisující se k vlastnímu rozšíření značek</span><span class="sxs-lookup"><span data-stu-id="dc0a0-225">Attributing for a Custom Markup Extension</span></span>  
 <span data-ttu-id="dc0a0-226">Aby bylo možné podporovat návrhová prostředí i určité scénáře zapisovače objektů XAML, měli byste atribut typu podpora rozšíření značek zadat pomocí několika atributů CLR.</span><span class="sxs-lookup"><span data-stu-id="dc0a0-226">To support both design environments and certain XAML object writer scenarios, you should attribute a markup extension support type with several CLR attributes.</span></span> <span data-ttu-id="dc0a0-227">Tyto atributy nahlásí zamýšlené použití rozšíření značek.</span><span class="sxs-lookup"><span data-stu-id="dc0a0-227">These attributes report the intended markup extension usage.</span></span>  
  
 <span data-ttu-id="dc0a0-228"><xref:System.Windows.Markup.MarkupExtensionReturnTypeAttribute>oznamuje informace pro typ objektu, který se <xref:System.Windows.Markup.ArrayExtension.ProvideValue%2A> vrátí. <xref:System.Type></span><span class="sxs-lookup"><span data-stu-id="dc0a0-228"><xref:System.Windows.Markup.MarkupExtensionReturnTypeAttribute> reports the <xref:System.Type> information for the object type that <xref:System.Windows.Markup.ArrayExtension.ProvideValue%2A> returns.</span></span> <span data-ttu-id="dc0a0-229">Pomocí jeho čistě signatury <xref:System.Windows.Markup.ArrayExtension.ProvideValue%2A> vrátí <xref:System.Object>.</span><span class="sxs-lookup"><span data-stu-id="dc0a0-229">By its pure signature, <xref:System.Windows.Markup.ArrayExtension.ProvideValue%2A> returns <xref:System.Object>.</span></span> <span data-ttu-id="dc0a0-230">Ale různí spotřebitelé můžou chtít přesnější informace o návratovém typu.</span><span class="sxs-lookup"><span data-stu-id="dc0a0-230">But various consumers might want more precise return type information.</span></span> <span data-ttu-id="dc0a0-231">Sem patří:</span><span class="sxs-lookup"><span data-stu-id="dc0a0-231">This includes:</span></span>  
  
- <span data-ttu-id="dc0a0-232">Návrháři a IDEs, kteří mohou poskytovat podporu typů pro použití rozšíření značek.</span><span class="sxs-lookup"><span data-stu-id="dc0a0-232">Designers and IDEs, who might be able to provide type-aware support for markup extension usages.</span></span>  
  
- <span data-ttu-id="dc0a0-233">Pokročilé implementace `SetMarkupExtension` obslužných rutin na cílových třídách, které se mohou spoléhat na reflexi pro určení návratového typu rozšíření značek místo větvení <xref:System.Windows.Markup.MarkupExtension> na konkrétní známé implementace podle názvu.</span><span class="sxs-lookup"><span data-stu-id="dc0a0-233">Advanced implementations of `SetMarkupExtension` handlers on target classes, which might rely on reflection to determine a markup extension's return type instead of branching on specific known <xref:System.Windows.Markup.MarkupExtension> implementations by name.</span></span>  
  
<a name="serialization_of_markup_extension_usages"></a>   
## <a name="serialization-of-markup-extension-usages"></a><span data-ttu-id="dc0a0-234">Serializace používání rozšíření značek</span><span class="sxs-lookup"><span data-stu-id="dc0a0-234">Serialization of Markup Extension Usages</span></span>  
 <span data-ttu-id="dc0a0-235">Když modul pro zápis objektů XAML zpracuje použití rozšíření značek a volání <xref:System.Windows.Markup.MarkupExtension.ProvideValue%2A>, kontext pro něj předtím používá rozšíření značek v proudu uzlu XAML, ale ne v grafu objektů.</span><span class="sxs-lookup"><span data-stu-id="dc0a0-235">When a XAML object writer processes a markup extension usage and calls <xref:System.Windows.Markup.MarkupExtension.ProvideValue%2A>, the context for it previously being a markup extension usage persists in the XAML node stream but not in the object graph.</span></span> <span data-ttu-id="dc0a0-236">V grafu objektů se zachová jenom hodnota.</span><span class="sxs-lookup"><span data-stu-id="dc0a0-236">In the object graph, only the value is preserved.</span></span> <span data-ttu-id="dc0a0-237">Máte-li scénáře návrhu nebo jiné důvody pro zachování původního využití rozšíření značek do serializovaného výstupu, je nutné navrhnout vlastní infrastrukturu pro sledování využití rozšíření značek z datového proudu uzlu XAML zatížení.</span><span class="sxs-lookup"><span data-stu-id="dc0a0-237">If you have design scenarios or other reasons for persisting the original markup extension usage into the serialized output, you must design your own infrastructure for tracking the markup extension usages from the load path XAML node stream.</span></span> <span data-ttu-id="dc0a0-238">Můžete implementovat chování pro opětovné vytvoření prvků datového proudu uzlu z cesty načtení a jejich přehrání zpět do zapisovačů XAML pro serializaci v cestě pro uložení, nahrazení hodnoty na příslušné pozici datového proudu uzlu.</span><span class="sxs-lookup"><span data-stu-id="dc0a0-238">You can implement behavior to recreate the elements of the node stream from the load path and play them back to XAML writers for serialization in the save path, substituting for the value in the appropriate position of the node stream.</span></span>  
  
<a name="markup_extensions_in_the_xaml_node_stream"></a>   
## <a name="markup-extensions-in-the-xaml-node-stream"></a><span data-ttu-id="dc0a0-239">Rozšíření značek v datovém proudu uzlu XAML</span><span class="sxs-lookup"><span data-stu-id="dc0a0-239">Markup Extensions in the XAML Node Stream</span></span>  
 <span data-ttu-id="dc0a0-240">Pokud pracujete s datovým proudem uzlu XAML v cestě zatížení, použití rozšíření značek se zobrazí v proudu uzlu jako objekt.</span><span class="sxs-lookup"><span data-stu-id="dc0a0-240">If you are working with a XAML node stream on the load path, a markup extension usage appears in the node stream as an object.</span></span>  
  
 <span data-ttu-id="dc0a0-241">Pokud použití rozšíření značek používá poziční argumenty, je reprezentované jako počáteční objekt s hodnotou inicializace.</span><span class="sxs-lookup"><span data-stu-id="dc0a0-241">If the markup extension usage uses positional arguments, it is represented as a start object with an initialization value.</span></span> <span data-ttu-id="dc0a0-242">Jako Přibližná reprezentace textu se datový proud uzlu podobá následujícímu:</span><span class="sxs-lookup"><span data-stu-id="dc0a0-242">As a rough text representation, the node stream resembles the following:</span></span>  
  
 <span data-ttu-id="dc0a0-243">`StartObject`(<xref:System.Xaml.XamlType> je typ definice rozšíření značek, nikoli jeho návratový typ)</span><span class="sxs-lookup"><span data-stu-id="dc0a0-243">`StartObject` (<xref:System.Xaml.XamlType> is the markup extension's definition type, not its return type)</span></span>  
  
 <span data-ttu-id="dc0a0-244">`StartMember`(název <xref:System.Xaml.XamlMember> je `_InitializationText`)</span><span class="sxs-lookup"><span data-stu-id="dc0a0-244">`StartMember` (name of the <xref:System.Xaml.XamlMember> is `_InitializationText`)</span></span>  
  
 <span data-ttu-id="dc0a0-245">`Value`(value je poziční argumenty jako řetězec, včetně započítaných oddělovačů)</span><span class="sxs-lookup"><span data-stu-id="dc0a0-245">`Value` (value is the positional arguments as a string including the intervening delimiters)</span></span>  
  
 `EndMember`  
  
 `EndObject`  
  
 <span data-ttu-id="dc0a0-246">Použití rozšíření značek s pojmenovanými argumenty je reprezentováno jako objekt se členy příslušných názvů, každá sada má textové řetězce hodnoty.</span><span class="sxs-lookup"><span data-stu-id="dc0a0-246">A markup extension usage with named arguments is represented as an object with members of the relevant names, each set with text string values.</span></span>  
  
 <span data-ttu-id="dc0a0-247">Ve skutečnosti vyvolání `ProvideValue` implementace rozšíření pro označení vyžaduje kontext schématu XAML, protože to vyžaduje mapování typů a vytváření rozšíření značek typ podpory.</span><span class="sxs-lookup"><span data-stu-id="dc0a0-247">Actually invoking the `ProvideValue` implementation of a markup extension requires the XAML schema context because that requires type-mapping and creating a markup extension support type instance.</span></span> <span data-ttu-id="dc0a0-248">Toto je jeden z důvodů, proč se použití rozšíření značek zachová tímto způsobem ve výchozích .NET Framework datových proudů uzlu XAML Services – součást čtecího zařízení často nemá k dispozici potřebný kontext schématu XAML.</span><span class="sxs-lookup"><span data-stu-id="dc0a0-248">This is one reason why markup extension usages are preserved this way in the default .NET Framework XAML Services node streams -  the reader part of a load path often does not have the necessary XAML schema context available.</span></span>  
  
 <span data-ttu-id="dc0a0-249">Pokud pracujete s datovým proudem uzlu XAML v cestě pro uložení, není obvykle přítomna žádná reprezentace v grafu objektů, která může informovat o tom, že objekt k serializaci byl původně poskytnut použitím rozšíření značek a `ProvideValue` výsledkem.</span><span class="sxs-lookup"><span data-stu-id="dc0a0-249">If you are working with a XAML node stream on the save path, there generally is nothing present in an object graph representation that can inform you that the object to serialize was originally provided by a markup extension usage and a `ProvideValue` result.</span></span> <span data-ttu-id="dc0a0-250">Scénáře, které musí zachovat použití rozšíření značek pro příkaz Round-Trip a zároveň zachytit jiné změny v grafu objektů, musí navrhnout své vlastní techniky pro zachování znalostí rozšíření značek od původního vstupu XAML.</span><span class="sxs-lookup"><span data-stu-id="dc0a0-250">Scenarios that need to persist markup extension usages for round-tripping while also capturing other changes in the object graph must devise their own techniques for preserving the knowledge of a markup extension usage from the original XAML input.</span></span> <span data-ttu-id="dc0a0-251">Například pro obnovení použití rozšíření značek může být nutné pracovat s datovým proudem uzlu v cestě pro uložení, aby bylo možné obnovit použití rozšíření značek, nebo provést nějaký typ sloučení mezi původní XAML a kulatým Trip XAML.</span><span class="sxs-lookup"><span data-stu-id="dc0a0-251">For example, to restore the markup extension usages, you may need to work with the node stream on the save path in order to restore markup extension usages, or perform some type of merge between the original XAML and the round-tripped XAML.</span></span> <span data-ttu-id="dc0a0-252">Některé architektury implementující XAML, jako je WPF, používají mezilehlé typy (výrazy) k vyjádření případů, kde využití rozšíření značek poskytlo hodnoty.</span><span class="sxs-lookup"><span data-stu-id="dc0a0-252">Some XAML-implementing frameworks such as WPF use intermediate types (expressions) to help represent cases where markup extension usages provided the values.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="dc0a0-253">Viz také:</span><span class="sxs-lookup"><span data-stu-id="dc0a0-253">See also</span></span>

- <xref:System.Windows.Markup.MarkupExtension>
- [<span data-ttu-id="dc0a0-254">Převaděče typů a rozšíření značek pro jazyk XAML</span><span class="sxs-lookup"><span data-stu-id="dc0a0-254">Type Converters and Markup Extensions for XAML</span></span>](type-converters-and-markup-extensions-for-xaml.md)
- [<span data-ttu-id="dc0a0-255">Rozšíření značek a WPF XAML</span><span class="sxs-lookup"><span data-stu-id="dc0a0-255">Markup Extensions and WPF XAML</span></span>](../wpf/advanced/markup-extensions-and-wpf-xaml.md)
