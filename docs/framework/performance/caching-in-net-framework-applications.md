---
title: Ukládání do vyrovnávací paměti v aplikacích .NET Framework
description: Používejte ukládání do mezipaměti v aplikacích .NET. Přečtěte si o ukládání dat do mezipaměti, o ukládání do mezipaměti v aplikacích ASP.NET nebo službách WCF REST a rozšíření ukládání do mezipaměti v .NET.
ms.date: 03/30/2017
helpviewer_keywords:
- ASP.NET caching
- caching [.NET Framework]
- caching [ASP.NET]
ms.assetid: c4b47ee0-4b82-4124-9bce-818088385e34
ms.openlocfilehash: 9b08a07e9b446c2998150a327dccdc8d0481722a
ms.sourcegitcommit: 0fa2b7b658bf137e813a7f4d09589d64c148ebf5
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 07/14/2020
ms.locfileid: "86309765"
---
# <a name="caching-in-net-framework-applications"></a><span data-ttu-id="d4482-104">Ukládání do vyrovnávací paměti v aplikacích .NET Framework</span><span class="sxs-lookup"><span data-stu-id="d4482-104">Caching in .NET Framework Applications</span></span>
<span data-ttu-id="d4482-105">Ukládání do mezipaměti umožňuje ukládat data v paměti pro rychlý přístup.</span><span class="sxs-lookup"><span data-stu-id="d4482-105">Caching enables you to store data in memory for rapid access.</span></span> <span data-ttu-id="d4482-106">Po opětovném přístup k datům mohou aplikace získat data z mezipaměti, nikoli načíst je z původního zdroje.</span><span class="sxs-lookup"><span data-stu-id="d4482-106">When the data is accessed again, applications can get the data from the cache instead of retrieving it from the original source.</span></span> <span data-ttu-id="d4482-107">To může zvýšit výkon a škálovatelnost.</span><span class="sxs-lookup"><span data-stu-id="d4482-107">This can improve performance and scalability.</span></span> <span data-ttu-id="d4482-108">Ukládání do mezipaměti navíc zpřístupňuje data v případě, že zdroj dat není dočasně k dispozici.</span><span class="sxs-lookup"><span data-stu-id="d4482-108">In addition, caching makes data available when the data source is temporarily unavailable.</span></span>  
  
 <span data-ttu-id="d4482-109">.NET Framework poskytuje funkce pro ukládání do mezipaměti, které můžete použít ke zlepšení výkonu a škálovatelnosti klientských a serverových aplikací pro Windows, včetně ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="d4482-109">The .NET Framework provides caching functionality that you can use to improve the performance and scalability of both Windows client and server applications, including ASP.NET.</span></span>  
  
> [!NOTE]
> <span data-ttu-id="d4482-110">V .NET Framework 3,5 a dřívějších verzích poskytuje ASP.NET implementaci mezipaměti v paměti v <xref:System.Web.Caching> oboru názvů.</span><span class="sxs-lookup"><span data-stu-id="d4482-110">In the .NET Framework 3.5 and earlier versions, ASP.NET provided an in-memory cache implementation in the <xref:System.Web.Caching> namespace.</span></span> <span data-ttu-id="d4482-111">V předchozích verzích .NET Framework bylo ukládání do mezipaměti k dispozici pouze v <xref:System.Web> oboru názvů, a proto je vyžadována závislost na třídách ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="d4482-111">In previous versions of the .NET Framework, caching was available only in the <xref:System.Web> namespace and therefore required a dependency on ASP.NET classes.</span></span> <span data-ttu-id="d4482-112">V .NET Framework 4 <xref:System.Runtime.Caching> obor názvů obsahuje rozhraní API navržená pro webové i newebové aplikace.</span><span class="sxs-lookup"><span data-stu-id="d4482-112">In the .NET Framework 4, the <xref:System.Runtime.Caching> namespace contains APIs that are designed for both Web and non-Web applications.</span></span>  
  
## <a name="caching-data"></a><span data-ttu-id="d4482-113">Ukládaní dat do mezipaměti</span><span class="sxs-lookup"><span data-stu-id="d4482-113">Caching Data</span></span>  
 <span data-ttu-id="d4482-114">Informace můžete ukládat do mezipaměti pomocí tříd v <xref:System.Runtime.Caching> oboru názvů.</span><span class="sxs-lookup"><span data-stu-id="d4482-114">You can cache information by using classes in the <xref:System.Runtime.Caching> namespace.</span></span> <span data-ttu-id="d4482-115">Třídy pro ukládání do mezipaměti v tomto oboru názvů poskytují následující funkce:</span><span class="sxs-lookup"><span data-stu-id="d4482-115">The caching classes in this namespace provide the following features:</span></span>  
  
- <span data-ttu-id="d4482-116">Abstraktní typy, které poskytují základ pro vytváření vlastních implementací mezipaměti.</span><span class="sxs-lookup"><span data-stu-id="d4482-116">Abstract types that provide the foundation for creating custom cache implementations.</span></span>  
  
- <span data-ttu-id="d4482-117">Konkrétní implementace mezipaměti objektů v paměti.</span><span class="sxs-lookup"><span data-stu-id="d4482-117">A concrete in-memory object cache implementation.</span></span>  
  
 <span data-ttu-id="d4482-118">Abstraktní základní třída pro ukládání do mezipaměti ( <xref:System.Runtime.Caching.ObjectCache> ) definuje následující úlohy ukládání do mezipaměti:</span><span class="sxs-lookup"><span data-stu-id="d4482-118">The abstract base caching class (<xref:System.Runtime.Caching.ObjectCache>) defines the following caching tasks:</span></span>  
  
- <span data-ttu-id="d4482-119">Vytváření a Správa položek mezipaměti.</span><span class="sxs-lookup"><span data-stu-id="d4482-119">Creating and managing cache entries.</span></span>  
  
- <span data-ttu-id="d4482-120">Zadání informací o vypršení platnosti a vyřazení.</span><span class="sxs-lookup"><span data-stu-id="d4482-120">Specifying expiration and eviction information.</span></span>  
  
- <span data-ttu-id="d4482-121">Aktivuje události, které jsou vyvolány v reakci na změny v položkách mezipaměti.</span><span class="sxs-lookup"><span data-stu-id="d4482-121">Triggering events that are raised in response to changes in cache entries.</span></span>  
  
 <span data-ttu-id="d4482-122"><xref:System.Runtime.Caching.MemoryCache>Třída je implementací mezipaměti objektů v paměti <xref:System.Runtime.Caching.ObjectCache> třídy.</span><span class="sxs-lookup"><span data-stu-id="d4482-122">The <xref:System.Runtime.Caching.MemoryCache> class is an in-memory object cache implementation of the <xref:System.Runtime.Caching.ObjectCache> class.</span></span> <span data-ttu-id="d4482-123">Třídu můžete použít <xref:System.Runtime.Caching.MemoryCache> pro většinu úloh ukládání do mezipaměti.</span><span class="sxs-lookup"><span data-stu-id="d4482-123">You can use the <xref:System.Runtime.Caching.MemoryCache> class for most caching tasks.</span></span>  
  
> [!NOTE]
> <span data-ttu-id="d4482-124"><xref:System.Runtime.Caching.MemoryCache>Třída je modelována v objektu ASP.NET Cache, který je definován v <xref:System.Web.Caching> oboru názvů.</span><span class="sxs-lookup"><span data-stu-id="d4482-124">The <xref:System.Runtime.Caching.MemoryCache> class is modeled on the ASP.NET cache object that is defined in the <xref:System.Web.Caching> namespace.</span></span> <span data-ttu-id="d4482-125">Proto interní logika ukládání do mezipaměti bude podobná logice, která byla poskytnuta v dřívějších verzích ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="d4482-125">Therefore, the internal caching logic similar to the logic that was provided in earlier versions of ASP.NET.</span></span>  
  
 <span data-ttu-id="d4482-126">Příklad použití pro ukládání do mezipaměti v aplikaci WPF naleznete v tématu [Návod: ukládání aplikačních dat do mezipaměti v aplikaci WPF](../wpf/advanced/walkthrough-caching-application-data-in-a-wpf-application.md).</span><span class="sxs-lookup"><span data-stu-id="d4482-126">For an example of how to use to caching in a WPF application, see [Walkthrough: Caching Application Data in a WPF Application](../wpf/advanced/walkthrough-caching-application-data-in-a-wpf-application.md).</span></span>  
  
## <a name="caching-in-aspnet-applications"></a><span data-ttu-id="d4482-127">Ukládání do mezipaměti v aplikacích ASP.NET</span><span class="sxs-lookup"><span data-stu-id="d4482-127">Caching in ASP.NET Applications</span></span>  
 <span data-ttu-id="d4482-128">Třídy ukládání do mezipaměti v <xref:System.Runtime.Caching> oboru názvů poskytují funkce pro ukládání dat do mezipaměti v ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="d4482-128">The caching classes in the <xref:System.Runtime.Caching> namespace provide functionality for caching data in ASP.NET.</span></span>  
  
> [!NOTE]
> <span data-ttu-id="d4482-129">Pokud je vaše aplikace cílena na .NET Framework 3,5 nebo starší, je nutné použít třídy mezipaměti, které jsou definovány v <xref:System.Web.Caching> oboru názvů.</span><span class="sxs-lookup"><span data-stu-id="d4482-129">If your application targets the .NET Framework 3.5 or earlier, you must use the caching classes that are defined in the <xref:System.Web.Caching> namespace.</span></span> <span data-ttu-id="d4482-130">Další informace najdete v tématu [Přehled ukládání do mezipaměti ASP.NET](https://docs.microsoft.com/previous-versions/aspnet/ms178597(v=vs.100)).</span><span class="sxs-lookup"><span data-stu-id="d4482-130">For more information, see [ASP.NET Caching Overview](https://docs.microsoft.com/previous-versions/aspnet/ms178597(v=vs.100)).</span></span>  
  
> [!NOTE]
> <span data-ttu-id="d4482-131">Při vývoji nových aplikací doporučujeme použít <xref:System.Runtime.Caching.MemoryCache> třídu.</span><span class="sxs-lookup"><span data-stu-id="d4482-131">When you develop new applications, we recommend that you use the <xref:System.Runtime.Caching.MemoryCache> class.</span></span> <span data-ttu-id="d4482-132">Rozhraní API, které je k dispozici v <xref:System.Runtime.Caching> oboru názvů, je podobné rozhraní API, které je k dispozici v <xref:System.Web.Caching.Cache> oboru názvů.</span><span class="sxs-lookup"><span data-stu-id="d4482-132">The API that is provided in the <xref:System.Runtime.Caching> namespace is like the API that is provided in the <xref:System.Web.Caching.Cache> namespace.</span></span> <span data-ttu-id="d4482-133">Rozhraní API proto bude známé, pokud jste v dřívějších verzích ASP.NET použili ukládání do mezipaměti.</span><span class="sxs-lookup"><span data-stu-id="d4482-133">Therefore, the API will be familiar if you used caching in earlier versions of ASP.NET.</span></span> <span data-ttu-id="d4482-134">Příklad toho, jak používat ukládání do mezipaměti v aplikacích ASP.NET, najdete v tématu [Návod: ukládání aplikačních dat do mezipaměti v ASP.NET](https://docs.microsoft.com/previous-versions/ff477235(v=vs.100)).</span><span class="sxs-lookup"><span data-stu-id="d4482-134">For an example of how to use caching in ASP.NET applications, see [Walkthrough: Caching Application Data in ASP.NET](https://docs.microsoft.com/previous-versions/ff477235(v=vs.100)).</span></span>  
  
### <a name="output-caching"></a><span data-ttu-id="d4482-135">Ukládání výstupu do mezipaměti</span><span class="sxs-lookup"><span data-stu-id="d4482-135">Output Caching</span></span>  
 <span data-ttu-id="d4482-136">Chcete-li ručně uložit data aplikace do mezipaměti, můžete použít <xref:System.Runtime.Caching.MemoryCache> třídu v ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="d4482-136">To manually cache application data, you can use the <xref:System.Runtime.Caching.MemoryCache> class in ASP.NET.</span></span> <span data-ttu-id="d4482-137">ASP.NET podporuje také ukládání výstupu do mezipaměti, který ukládá generovaný výstup stránek, ovládacích prvků a odpovědí HTTP do paměti.</span><span class="sxs-lookup"><span data-stu-id="d4482-137">ASP.NET also supports output caching, which stores the generated output of pages, controls, and HTTP responses in memory.</span></span> <span data-ttu-id="d4482-138">Ukládání výstupu do mezipaměti můžete nakonfigurovat deklarativně na webové stránce ASP.NET nebo pomocí nastavení v souboru Web.config.</span><span class="sxs-lookup"><span data-stu-id="d4482-138">You can configure output caching declaratively in an ASP.NET Web page or by using settings in the Web.config file.</span></span> <span data-ttu-id="d4482-139">Další informace naleznete v tématu [element OutputCache pro ukládání do mezipaměti (schéma nastavení ASP.NET)](https://docs.microsoft.com/previous-versions/dotnet/netframework-4.0/ms228124(v=vs.100)).</span><span class="sxs-lookup"><span data-stu-id="d4482-139">For more information, see [outputCache Element for caching (ASP.NET Settings Schema)](https://docs.microsoft.com/previous-versions/dotnet/netframework-4.0/ms228124(v=vs.100)).</span></span>  
  
 <span data-ttu-id="d4482-140">ASP.NET umožňuje rozšiřování výstupu do mezipaměti tím, že vytváří vlastní poskytovatele výstupní mezipaměti.</span><span class="sxs-lookup"><span data-stu-id="d4482-140">ASP.NET lets you extend output caching by creating custom output-cache providers.</span></span> <span data-ttu-id="d4482-141">Pomocí vlastních zprostředkovatelů můžete ukládat obsah uložený v mezipaměti pomocí jiných úložných zařízení, jako jsou disky, cloudové úložiště a moduly distribuované mezipaměti.</span><span class="sxs-lookup"><span data-stu-id="d4482-141">By using custom providers, you can store cached content using other storage devices such as disks, cloud storage, and distributed cache engines.</span></span> <span data-ttu-id="d4482-142">Chcete-li vytvořit vlastního poskytovatele výstupní mezipaměti, vytvořte třídu, která je odvozena z <xref:System.Web.Caching.OutputCacheProvider> třídy, a nakonfigurujte aplikaci tak, aby používala vlastního zprostředkovatele výstupní mezipaměti.</span><span class="sxs-lookup"><span data-stu-id="d4482-142">To create a custom output cache provider, you create a class that derives from the <xref:System.Web.Caching.OutputCacheProvider> class and configure the application to use the custom output cache provider.</span></span>  
  
## <a name="caching-in-wcf-rest-services"></a><span data-ttu-id="d4482-143">Ukládání do mezipaměti v WCF REST Services</span><span class="sxs-lookup"><span data-stu-id="d4482-143">Caching in WCF REST Services</span></span>  
 <span data-ttu-id="d4482-144">U WCF REST Services umožňuje .NET Framework využít výhod deklarativního ukládání výstupu do mezipaměti, které je k dispozici v ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="d4482-144">For WCF REST services, the .NET Framework enables you to take advantage of the declarative output caching that is available in ASP.NET.</span></span> <span data-ttu-id="d4482-145">Díky tomu můžete ukládat odpovědi z operací služby WCF REST.</span><span class="sxs-lookup"><span data-stu-id="d4482-145">This enables you to cache responses from your WCF REST service operations.</span></span> <span data-ttu-id="d4482-146">Když uživatel odešle požadavek HTTP GET do služby, která je nakonfigurovaná pro ukládání do mezipaměti, ASP.NET odešle zpět odpověď uloženou v mezipaměti a metoda služby se nevolá.</span><span class="sxs-lookup"><span data-stu-id="d4482-146">When a user sends an HTTP GET request to a service that is configured for caching, ASP.NET sends back the cached response, and the service method is not called.</span></span> <span data-ttu-id="d4482-147">Po vypršení platnosti mezipaměti bude při příštím odeslání požadavku HTTP GET vyvolána vaše metoda služby a odpověď se znovu uloží do mezipaměti.</span><span class="sxs-lookup"><span data-stu-id="d4482-147">After the cache expires, the next time that a user sends an HTTP GET request, your service method is called and the response is again cached.</span></span>  
  
 <span data-ttu-id="d4482-148">.NET Framework taky umožňuje implementovat podmíněný mezipaměť HTTP GET.</span><span class="sxs-lookup"><span data-stu-id="d4482-148">The .NET Framework also enables you to implement conditional HTTP GET caching.</span></span> <span data-ttu-id="d4482-149">V případě scénářů REST se služba často používá k implementaci inteligentního ukládání do mezipaměti protokolu HTTP, jak je popsáno ve [specifikaci http](https://www.w3.org/Protocols/rfc2616/rfc2616.html).</span><span class="sxs-lookup"><span data-stu-id="d4482-149">In REST scenarios, a conditional HTTP GET request is often used by services to implement intelligent HTTP caching as described in the [HTTP Specification](https://www.w3.org/Protocols/rfc2616/rfc2616.html).</span></span> <span data-ttu-id="d4482-150">Další informace najdete v tématu [Podpora ukládání do mezipaměti pro webové HTTP služby WCF](../wcf/feature-details/caching-support-for-wcf-web-http-services.md).</span><span class="sxs-lookup"><span data-stu-id="d4482-150">For more information, see [Caching Support for WCF Web HTTP Services](../wcf/feature-details/caching-support-for-wcf-web-http-services.md).</span></span>  
  
## <a name="extending-caching-in-the-net-framework"></a><span data-ttu-id="d4482-151">Rozšíření ukládání do mezipaměti v .NET Framework</span><span class="sxs-lookup"><span data-stu-id="d4482-151">Extending Caching in the .NET Framework</span></span>  
 <span data-ttu-id="d4482-152">Ukládání do mezipaměti v .NET Framework je navrženo jako rozšiřitelné.</span><span class="sxs-lookup"><span data-stu-id="d4482-152">Caching in the .NET Framework is designed to be extensible.</span></span> <span data-ttu-id="d4482-153"><xref:System.Runtime.Caching.ObjectCache>Třída umožňuje vytvořit vlastní implementaci mezipaměti.</span><span class="sxs-lookup"><span data-stu-id="d4482-153">The <xref:System.Runtime.Caching.ObjectCache> class enables you to create a custom cache implementation.</span></span> <span data-ttu-id="d4482-154">Tato třída poskytuje členy, kteří jsou k dispozici pro všechny spravované aplikace, včetně model Windows Forms, Windows Presentation Foundation (WPF) a Windows Communications Foundation (WCF).</span><span class="sxs-lookup"><span data-stu-id="d4482-154">This class provides members that are available to all managed applications, including Windows Forms, Windows Presentation Foundation (WPF), and Windows Communications Foundation (WCF).</span></span> <span data-ttu-id="d4482-155">Můžete to udělat tak, aby bylo možné vytvořit třídu mezipaměti, která používá jiný mechanismus úložiště, nebo pokud chcete detailní kontrolu nad operacemi mezipaměti.</span><span class="sxs-lookup"><span data-stu-id="d4482-155">You might do this in order to create a cache class that uses a different storage mechanism, or if you want granular control over cache operations.</span></span>  
  
 <span data-ttu-id="d4482-156">K rozšiřování mezipaměti můžete postupovat takto:</span><span class="sxs-lookup"><span data-stu-id="d4482-156">To extend caching you can do the following:</span></span>  
  
- <span data-ttu-id="d4482-157">Vytvořte vlastní třídu, která je odvozena z <xref:System.Runtime.Caching.ObjectCache> třídy a pak Poskytněte vlastní implementaci mezipaměti v odvozené třídě.</span><span class="sxs-lookup"><span data-stu-id="d4482-157">Create a custom class that derives from the <xref:System.Runtime.Caching.ObjectCache> class and then provide a custom cache implementation in the derived class.</span></span>  
  
- <span data-ttu-id="d4482-158">Vytvořte třídu, která je odvozena z <xref:System.Runtime.Caching.MemoryCache> třídy a přizpůsobte nebo rozšiřuje odvozenou třídu.</span><span class="sxs-lookup"><span data-stu-id="d4482-158">Create a class that derives from <xref:System.Runtime.Caching.MemoryCache> class and customize or extend the derived class.</span></span> <span data-ttu-id="d4482-159">Příklad toho, jak to provést, najdete v tématu [ukládání aplikačních dat do mezipaměti pomocí více objektů mezipaměti v aplikaci ASP.NET](https://docs.microsoft.com/archive/blogs/aspnetue/caching-application-data-by-using-multiple-cache-objects-in-an-asp-net-application).</span><span class="sxs-lookup"><span data-stu-id="d4482-159">For an example of how to do this, see [Caching Application Data by Using Multiple Cache Objects in an ASP.NET Application](https://docs.microsoft.com/archive/blogs/aspnetue/caching-application-data-by-using-multiple-cache-objects-in-an-asp-net-application).</span></span>  
  
- <span data-ttu-id="d4482-160">Vytvořte třídu, která je odvozena z <xref:System.Web.Caching.OutputCacheProvider> třídy a nakonfigurujte aplikaci tak, aby používala vlastního zprostředkovatele výstupní mezipaměti.</span><span class="sxs-lookup"><span data-stu-id="d4482-160">Create a class that derives from the <xref:System.Web.Caching.OutputCacheProvider> class and configure the application to use the custom output cache provider.</span></span>  
  
 <span data-ttu-id="d4482-161">Další informace najdete v tématu [rozšiřitelné ukládání výstupu do mezipaměti s ASP.NET 4 (VS 2010 a .net 4,0 Series)](https://weblogs.asp.net/scottgu/extensible-output-caching-with-asp-net-4-vs-2010-and-net-4-0-series) na blogu Scott Guthrie.</span><span class="sxs-lookup"><span data-stu-id="d4482-161">For more information, see the entry [Extensible Output Caching with ASP.NET 4 (VS 2010 and .NET 4.0 Series)](https://weblogs.asp.net/scottgu/extensible-output-caching-with-asp-net-4-vs-2010-and-net-4-0-series) on Scott Guthrie's blog.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="d4482-162">Viz také</span><span class="sxs-lookup"><span data-stu-id="d4482-162">See also</span></span>

- <xref:System.Runtime.Caching.ObjectCache>
- <xref:System.Runtime.Caching.MemoryCache>
- [<span data-ttu-id="d4482-163">Návod: Ukládání aplikačních dat do mezipaměti v aplikaci WPF</span><span class="sxs-lookup"><span data-stu-id="d4482-163">Walkthrough: Caching Application Data in a WPF Application</span></span>](../wpf/advanced/walkthrough-caching-application-data-in-a-wpf-application.md)
- <span data-ttu-id="d4482-164">[Návod: ukládání aplikačních dat do mezipaměti v ASP.NET](https://docs.microsoft.com/previous-versions/ff477235(v=vs.100))</span><span class="sxs-lookup"><span data-stu-id="d4482-164">[Walkthrough: Caching Application Data in ASP.NET](https://docs.microsoft.com/previous-versions/ff477235(v=vs.100))</span></span>
