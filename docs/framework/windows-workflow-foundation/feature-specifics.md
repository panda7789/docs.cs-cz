---
title: Specifické funkce Windows Workflow Foundation
ms.date: 03/30/2017
ms.assetid: e84d12da-a055-45f6-b4d1-878d127b46b6
ms.openlocfilehash: 869d6108edaa7f32101b6fe8d077e4eba7eef6b5
ms.sourcegitcommit: 32a575bf4adccc901f00e264f92b759ced633379
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 12/04/2019
ms.locfileid: "74802593"
---
# <a name="windows-workflow-foundation-feature-specifics"></a><span data-ttu-id="e4381-102">Specifické funkce Windows Workflow Foundation</span><span class="sxs-lookup"><span data-stu-id="e4381-102">Windows Workflow Foundation Feature Specifics</span></span>

<span data-ttu-id="e4381-103">.NET Framework 4 přidává k programovací model Windows Workflow Foundation řadu funkcí.</span><span class="sxs-lookup"><span data-stu-id="e4381-103">.NET Framework 4 adds a number of features to Windows Workflow Foundation.</span></span> <span data-ttu-id="e4381-104">Tento dokument popisuje řadu nových funkcí a poskytuje podrobnosti o scénářích, ve kterých mohou být užitečné.</span><span class="sxs-lookup"><span data-stu-id="e4381-104">This document describes a number of the new features, and gives details about scenarios in which they may be useful.</span></span>

## <a name="messaging-activities"></a><span data-ttu-id="e4381-105">Aktivity zasílání zpráv</span><span class="sxs-lookup"><span data-stu-id="e4381-105">Messaging Activities</span></span>

<span data-ttu-id="e4381-106">Aktivity zasílání zpráv (<xref:System.ServiceModel.Activities.Receive>, <xref:System.ServiceModel.Activities.SendReply>, <xref:System.ServiceModel.Activities.Send>, <xref:System.ServiceModel.Activities.ReceiveReply>) se používají k posílání a přijímání zpráv WCF z pracovního postupu.</span><span class="sxs-lookup"><span data-stu-id="e4381-106">The messaging activities (<xref:System.ServiceModel.Activities.Receive>, <xref:System.ServiceModel.Activities.SendReply>, <xref:System.ServiceModel.Activities.Send>, <xref:System.ServiceModel.Activities.ReceiveReply>) are used to send and receive WCF messages from your workflow.</span></span> <span data-ttu-id="e4381-107">Aktivity <xref:System.ServiceModel.Activities.Receive> a <xref:System.ServiceModel.Activities.SendReply> slouží k vytvoření operace služby Windows Communication Foundation (WCF), která je vystavena prostřednictvím WSDL stejně jako standardní webové služby WCF.</span><span class="sxs-lookup"><span data-stu-id="e4381-107"><xref:System.ServiceModel.Activities.Receive> and <xref:System.ServiceModel.Activities.SendReply> activities are used to form a Windows Communication Foundation (WCF) service operation that is exposed via WSDL just like standard WCF web services.</span></span> <span data-ttu-id="e4381-108"><xref:System.ServiceModel.Activities.Send> a <xref:System.ServiceModel.Activities.ReceiveReply> se používají ke využívání webové služby podobné <xref:System.ServiceModel.ChannelFactory>WCF; pro portál Workflow Foundation, který generuje předem konfigurované aktivity, existuje i **Přidat odkaz na službu** prostředí.</span><span class="sxs-lookup"><span data-stu-id="e4381-108"><xref:System.ServiceModel.Activities.Send> and <xref:System.ServiceModel.Activities.ReceiveReply> are used to consume a web service similar to a WCF <xref:System.ServiceModel.ChannelFactory>; an **Add Service Reference** experience also exists for Workflow Foundation that generates pre-configured activities.</span></span>

### <a name="getting-started-with-messaging-activities"></a><span data-ttu-id="e4381-109">Začínáme s aktivitami zasílání zpráv</span><span class="sxs-lookup"><span data-stu-id="e4381-109">Getting Started with Messaging Activities</span></span>

- <span data-ttu-id="e4381-110">V aplikaci Visual Studio 2012 vytvořte projekt aplikace služby pracovního postupu WCF.</span><span class="sxs-lookup"><span data-stu-id="e4381-110">In Visual Studio 2012, create a WCF Workflow Service Application project.</span></span> <span data-ttu-id="e4381-111">Na plátno budou vloženy páry <xref:System.ServiceModel.Activities.Receive> a <xref:System.ServiceModel.Activities.SendReply>.</span><span class="sxs-lookup"><span data-stu-id="e4381-111">A <xref:System.ServiceModel.Activities.Receive> and <xref:System.ServiceModel.Activities.SendReply> pair will be placed on your canvas.</span></span>

- <span data-ttu-id="e4381-112">Klikněte pravým tlačítkem na projekt a vyberte **Přidat odkaz na službu**.</span><span class="sxs-lookup"><span data-stu-id="e4381-112">Right-click on the project and select **Add Service Reference**.</span></span> <span data-ttu-id="e4381-113">Přejděte na existující prvek WSDL webové služby a klikněte na tlačítko **OK**.</span><span class="sxs-lookup"><span data-stu-id="e4381-113">Point to an existing web service WSDL and click **OK**.</span></span> <span data-ttu-id="e4381-114">Sestavte projekt, aby se zobrazily vygenerované aktivity (implementované pomocí <xref:System.ServiceModel.Activities.Send> a <xref:System.ServiceModel.Activities.ReceiveReply>) ve vaší sadě nástrojů.</span><span class="sxs-lookup"><span data-stu-id="e4381-114">Build your project to show the generated activities (implemented using <xref:System.ServiceModel.Activities.Send> and <xref:System.ServiceModel.Activities.ReceiveReply>) in your toolbox.</span></span>

- [<span data-ttu-id="e4381-115">Dokumentace ke službám Workflow Services</span><span class="sxs-lookup"><span data-stu-id="e4381-115">Workflow services documentation</span></span>](../wcf/feature-details/workflow-services.md)

### <a name="messaging-activities-example-scenario"></a><span data-ttu-id="e4381-116">Příklad scénáře aktivity zasílání zpráv</span><span class="sxs-lookup"><span data-stu-id="e4381-116">Messaging Activities Example Scenario</span></span>

<span data-ttu-id="e4381-117">Služba `BestPriceFinder` volá více leteckých služeb a hledá nejlepší cenu za lístek pro konkrétní trasu.</span><span class="sxs-lookup"><span data-stu-id="e4381-117">A `BestPriceFinder` service calls out to multiple airline services to find the best ticket price for a particular route.</span></span> <span data-ttu-id="e4381-118">Implementace tohoto scénáře by vyžadovala, abyste mohli používat aktivity zpráv pro příjem žádosti o cenu, načítat ceny z back-endové služby a odpovědět na žádost o cenu s nejlepší cenou.</span><span class="sxs-lookup"><span data-stu-id="e4381-118">Implementing this scenario would require you to use the message activities to receive the price request, retrieve the prices from the back-end services, and reply to the price request with the best price.</span></span> <span data-ttu-id="e4381-119">Také vyžaduje, abyste k vytvoření obchodní logiky pro výpočet nejlepší ceny použili další připravené aktivity.</span><span class="sxs-lookup"><span data-stu-id="e4381-119">It would also require you to use other out-of-box activities to create the business logic for calculating the best price.</span></span>

## <a name="workflowservicehost"></a><span data-ttu-id="e4381-120">WorkflowServiceHost</span><span class="sxs-lookup"><span data-stu-id="e4381-120">WorkflowServiceHost</span></span>

<span data-ttu-id="e4381-121"><xref:System.ServiceModel.WorkflowServiceHost> je předem připravený hostitel pracovního postupu, který podporuje více instancí, konfigurací a zasílání zpráv WCF (i když pracovní postupy nevyžadují, aby používaly zasílání zpráv, aby je bylo možné hostovat).</span><span class="sxs-lookup"><span data-stu-id="e4381-121">The <xref:System.ServiceModel.WorkflowServiceHost> is the out-of-box workflow host that supports multiple instances, configuration, and WCF messaging (although the workflows aren’t required to use messaging in order to be hosted).</span></span> <span data-ttu-id="e4381-122">Integruje se taky se zachováním, sledováním a instancí prostřednictvím sady chování služby.</span><span class="sxs-lookup"><span data-stu-id="e4381-122">It also integrates with persistence, tracking, and instance control through a set of service behaviors.</span></span> <span data-ttu-id="e4381-123">Stejně jako <xref:System.ServiceModel.ServiceHost>WCF, <xref:System.ServiceModel.WorkflowServiceHost> může být v místním prostředí v konzole/WinForms/prostředí WPF nebo ve službě systému Windows nebo v hostovaném webu (jako soubor. xamlx) ve službě IIS nebo WAS.</span><span class="sxs-lookup"><span data-stu-id="e4381-123">Just like WCF’s <xref:System.ServiceModel.ServiceHost>, the <xref:System.ServiceModel.WorkflowServiceHost> can be self-hosted in a console/WinForms/WPF application or Windows service, or web-hosted (as a .xamlx file) in IIS or WAS.</span></span>

### <a name="getting-started-with-workflow-service-host"></a><span data-ttu-id="e4381-124">Začínáme s hostitelem služby pracovního postupu</span><span class="sxs-lookup"><span data-stu-id="e4381-124">Getting Started with Workflow Service Host</span></span>

- <span data-ttu-id="e4381-125">V sadě Visual Studio 2010 vytvořte projekt aplikace služby pracovního postupu WCF: Tento projekt bude nastaven na použití <xref:System.ServiceModel.WorkflowServiceHost> v prostředí webového hostitele.</span><span class="sxs-lookup"><span data-stu-id="e4381-125">In Visual Studio 2010, create a WCF Workflow Service Application project: this project will be set up to use <xref:System.ServiceModel.WorkflowServiceHost> in a web-host environment.</span></span>

- <span data-ttu-id="e4381-126">Chcete-li hostovat pracovní postup bez zasílání zpráv, přidejte vlastní <xref:System.ServiceModel.Activities.WorkflowHostingEndpoint>, která vytvoří instanci na základě zprávy.</span><span class="sxs-lookup"><span data-stu-id="e4381-126">In order to host a non-messaging workflow, add a custom <xref:System.ServiceModel.Activities.WorkflowHostingEndpoint> that will create the instance based on a message.</span></span>

- <span data-ttu-id="e4381-127">Instance pracovního postupu lze řídit (například pozastaveno nebo ukončeno) přidáním <xref:System.ServiceModel.Activities.WorkflowControlEndpoint> do <xref:System.ServiceModel.WorkflowServiceHost> a následným použitím <xref:System.ServiceModel.Activities.WorkflowControlClient>.</span><span class="sxs-lookup"><span data-stu-id="e4381-127">Workflow instances can be controlled (e.g. suspended or terminated) by adding a <xref:System.ServiceModel.Activities.WorkflowControlEndpoint> to the <xref:System.ServiceModel.WorkflowServiceHost> and then using a <xref:System.ServiceModel.Activities.WorkflowControlClient>.</span></span>

- <span data-ttu-id="e4381-128">Ukázky pro <xref:System.ServiceModel.WorkflowServiceHost> najdete v následujících částech:</span><span class="sxs-lookup"><span data-stu-id="e4381-128">Samples for the <xref:System.ServiceModel.WorkflowServiceHost> can be found in the following sections:</span></span>

  - [<span data-ttu-id="e4381-129">Spuštění</span><span class="sxs-lookup"><span data-stu-id="e4381-129">Execution</span></span>](./samples/execution.md)

  - <span data-ttu-id="e4381-130">Aplikace: [pozastavená Správa instancí](./samples/suspended-instance-management.md)</span><span class="sxs-lookup"><span data-stu-id="e4381-130">Application: [Suspended Instance Management](./samples/suspended-instance-management.md)</span></span>

- [<span data-ttu-id="e4381-131">Přehled hostování služeb pracovních postupů</span><span class="sxs-lookup"><span data-stu-id="e4381-131">Hosting Workflow services overview</span></span>](../wcf/feature-details/hosting-workflow-services-overview.md)

### <a name="workflowservicehost-scenario"></a><span data-ttu-id="e4381-132">Scénář WorkflowServiceHost</span><span class="sxs-lookup"><span data-stu-id="e4381-132">WorkflowServiceHost Scenario</span></span>

<span data-ttu-id="e4381-133">Služba BestPriceFinder volá více leteckých služeb a hledá nejlepší cenu za lístek pro konkrétní trasu.</span><span class="sxs-lookup"><span data-stu-id="e4381-133">A BestPriceFinder service calls out to multiple airline services to find the best ticket price for a particular route.</span></span> <span data-ttu-id="e4381-134">Implementace tohoto scénáře by vyžadovala hostování pracovního postupu v <xref:System.ServiceModel.WorkflowServiceHost>.</span><span class="sxs-lookup"><span data-stu-id="e4381-134">Implementing this scenario would require you to host the workflow in <xref:System.ServiceModel.WorkflowServiceHost>.</span></span> <span data-ttu-id="e4381-135">Tyto aktivity by také používaly aktivity zpráv pro příjem žádosti o cenu, načetla ceny z back-endové služby a odpovědět na žádost o cenu s nejlepší cenou.</span><span class="sxs-lookup"><span data-stu-id="e4381-135">It would also use the message activities to receive the price request, retrieve the prices from the back-end services, and reply to the price request with the best price.</span></span>

## <a name="correlation"></a><span data-ttu-id="e4381-136">Korelace</span><span class="sxs-lookup"><span data-stu-id="e4381-136">Correlation</span></span>

<span data-ttu-id="e4381-137">Korelace je jednou ze dvou věcí:</span><span class="sxs-lookup"><span data-stu-id="e4381-137">A correlation is one of two things:</span></span>

- <span data-ttu-id="e4381-138">Způsob, jak seskupovat zprávy; To znamená vztah mezi zprávou požadavku a odpovědí.</span><span class="sxs-lookup"><span data-stu-id="e4381-138">A way of grouping messages together; that is, the relationship between a request message and its reply.</span></span>

- <span data-ttu-id="e4381-139">Způsob mapování částí dat na instanci služby</span><span class="sxs-lookup"><span data-stu-id="e4381-139">A way of mapping a piece of data to a service instance</span></span>

### <a name="getting-started"></a><span data-ttu-id="e4381-140">Začínáme</span><span class="sxs-lookup"><span data-stu-id="e4381-140">Getting Started</span></span>

- <span data-ttu-id="e4381-141">Chcete-li začít s korelací, vytvořte nový projekt v aplikaci Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="e4381-141">To get started with correlation, create a new project in Visual Studio.</span></span> <span data-ttu-id="e4381-142">Vytvořte proměnnou typu <xref:System.ServiceModel.Activities.CorrelationHandle>.</span><span class="sxs-lookup"><span data-stu-id="e4381-142">Create a variable of type <xref:System.ServiceModel.Activities.CorrelationHandle>.</span></span>

- <span data-ttu-id="e4381-143">Příkladem korelace používaného k seskupení zpráv je korelace požadavek-odpověď, která seskupuje zprávy dohromady.</span><span class="sxs-lookup"><span data-stu-id="e4381-143">An example of correlation used to group messages together is a Request-Reply correlation that groups messages together.</span></span>

  - <span data-ttu-id="e4381-144">V <xref:System.ServiceModel.Activities.Receive> aktivity klikněte na vlastnost <xref:System.ServiceModel.Activities.Receive.CorrelationInitializers%2A> a přidejte <xref:System.ServiceModel.Activities.RequestReplyCorrelationInitializer> pomocí popisovač CorrelationHandle vytvořeného v prvním kroku.</span><span class="sxs-lookup"><span data-stu-id="e4381-144">On a <xref:System.ServiceModel.Activities.Receive> activity, click on the <xref:System.ServiceModel.Activities.Receive.CorrelationInitializers%2A> property and add a <xref:System.ServiceModel.Activities.RequestReplyCorrelationInitializer> using the CorrelationHandle created in the first step above.</span></span>

  - <span data-ttu-id="e4381-145"><xref:System.ServiceModel.Activities.SendReply> aktivitu vytvoříte tak, že kliknete pravým tlačítkem na <xref:System.ServiceModel.Activities.Receive> a kliknete na vytvořit aktivitu SendReply.</span><span class="sxs-lookup"><span data-stu-id="e4381-145">Create a <xref:System.ServiceModel.Activities.SendReply> activity by right-clicking on the <xref:System.ServiceModel.Activities.Receive> and clicking "Create SendReply".</span></span> <span data-ttu-id="e4381-146">Vložte ji do pracovního postupu po aktivitě <xref:System.ServiceModel.Activities.Receive>.</span><span class="sxs-lookup"><span data-stu-id="e4381-146">Paste it into your workflow after the <xref:System.ServiceModel.Activities.Receive> activity.</span></span>

- <span data-ttu-id="e4381-147">Příkladem mapování částí dat na instanci služby je korelace založená na obsahu, která mapuje část dat (například ID objednávky) do konkrétní instance pracovního postupu.</span><span class="sxs-lookup"><span data-stu-id="e4381-147">An example of mapping a piece of data to a service instance is content-based correlation which maps a piece of data (for example, an order ID) to a particular workflow instance.</span></span>

  - <span data-ttu-id="e4381-148">U jakékoli aktivity zasílání zpráv klikněte na vlastnost `CorrelationInitializers` a přidejte <xref:System.ServiceModel.Activities.QueryCorrelationInitializer> pomocí <xref:System.ServiceModel.Activities.CorrelationHandle> proměnné vytvořené výše.</span><span class="sxs-lookup"><span data-stu-id="e4381-148">On any messaging activity, click on the `CorrelationInitializers` property and add a <xref:System.ServiceModel.Activities.QueryCorrelationInitializer> using the <xref:System.ServiceModel.Activities.CorrelationHandle> variable created above.</span></span> <span data-ttu-id="e4381-149">Dvakrát klikněte na požadovanou vlastnost ve zprávě (např. ČísloObjednávky) z rozevírací nabídky.</span><span class="sxs-lookup"><span data-stu-id="e4381-149">Double-click on the desired property on the message (e.g. OrderID) from the drop-down menu.</span></span> <span data-ttu-id="e4381-150">Vlastnost `CorrelatesWith` nastavte na výše použitou <xref:System.ServiceModel.Activities.CorrelationHandle> proměnnou.</span><span class="sxs-lookup"><span data-stu-id="e4381-150">Set the `CorrelatesWith` property to the <xref:System.ServiceModel.Activities.CorrelationHandle> variable used above.</span></span>

- [<span data-ttu-id="e4381-151">Rámcová dokumentace korelace</span><span class="sxs-lookup"><span data-stu-id="e4381-151">Correlation Conceptual Documentation</span></span>](../wcf/feature-details/correlation.md)

### <a name="correlation-scenario"></a><span data-ttu-id="e4381-152">Scénář korelace</span><span class="sxs-lookup"><span data-stu-id="e4381-152">Correlation Scenario</span></span>

<span data-ttu-id="e4381-153">Pracovní postup zpracování objednávek se používá ke zpracování nových objednávek a aktualizaci stávajících objednávek, které jsou zpracovávány.</span><span class="sxs-lookup"><span data-stu-id="e4381-153">An order-processing workflow is used to handle new order creation and updating existing orders that are in process.</span></span> <span data-ttu-id="e4381-154">Implementace tohoto scénáře by vyžadovala hostování pracovního postupu v <xref:System.ServiceModel.WorkflowServiceHost> a používání aktivit zasílání zpráv.</span><span class="sxs-lookup"><span data-stu-id="e4381-154">Implementing this scenario would require you to host the workflow in <xref:System.ServiceModel.WorkflowServiceHost> and use the messaging activities.</span></span> <span data-ttu-id="e4381-155">Bude také vyžadovat korelaci na základě `orderId`, aby bylo zajištěno, že budou aktualizace provedeny ve správném pracovním postupu.</span><span class="sxs-lookup"><span data-stu-id="e4381-155">It would also require correlation based on the `orderId` to ensure that updates are made to the correct workflow.</span></span>

## <a name="simplified-configuration"></a><span data-ttu-id="e4381-156">Zjednodušená konfigurace</span><span class="sxs-lookup"><span data-stu-id="e4381-156">Simplified Configuration</span></span>

<span data-ttu-id="e4381-157">Schéma konfigurace WCF je složité a poskytuje uživatelům mnoho obtížnéch funkcí hledání.</span><span class="sxs-lookup"><span data-stu-id="e4381-157">The WCF configuration schema is complex and provides users with many hard to find features.</span></span> <span data-ttu-id="e4381-158">V [!INCLUDE[netfx_current_short](../../../includes/netfx-current-short-md.md)]jsme se zaměřili na pomoc uživatelům WCF s konfigurací svých služeb pomocí následujících funkcí:</span><span class="sxs-lookup"><span data-stu-id="e4381-158">In [!INCLUDE[netfx_current_short](../../../includes/netfx-current-short-md.md)], we have focused on helping WCF users configure their services with the following features:</span></span>

- <span data-ttu-id="e4381-159">Odebrání potřeby explicitní konfigurace podle služby.</span><span class="sxs-lookup"><span data-stu-id="e4381-159">Removing the need for explicit per-service configuration.</span></span> <span data-ttu-id="e4381-160">Pokud neprovedete konfiguraci žádného prvku > služby \<pro vaši službu a služba nedefinuje programově žádný koncový bod, pak se do vaší služby automaticky přidají sada koncových bodů, jednu pro každou základní adresu služby a pro každou smlouvu, kterou služba implementuje.</span><span class="sxs-lookup"><span data-stu-id="e4381-160">If you do not configure any \<service> elements for your service, and your service does not define programmatically any endpoint, then a set of endpoints will be automatically added to your service, one per service base address and per contract implemented by your service.</span></span>

- <span data-ttu-id="e4381-161">Umožňuje uživateli definovat výchozí hodnoty pro vazby a chování WCF, které budou aplikovány na služby bez explicitní konfigurace.</span><span class="sxs-lookup"><span data-stu-id="e4381-161">Enables the user to define default values for WCF bindings and behaviors, which will be applied to services with no explicit configuration.</span></span>

- <span data-ttu-id="e4381-162">Standardní koncové body definují opakovaně používané předem nakonfigurované koncové body, které mají pevné hodnoty pro jednu nebo více vlastností koncového bodu (adresa, vazba a kontrakt) a umožňují definovat vlastní vlastnosti.</span><span class="sxs-lookup"><span data-stu-id="e4381-162">Standard endpoints define reusable preconfigured endpoints, which have fixed values for one or more of the endpoint properties (address, binding and contract), and allow defining custom properties.</span></span>

- <span data-ttu-id="e4381-163">Nakonec <xref:System.ServiceModel.Configuration.ConfigurationChannelFactory%601> umožňuje provádět centrální správu konfigurace klienta WCF, která je užitečná ve scénářích, ve kterých je vybraná konfigurace nebo se změnila po dobu načtení domény aplikace.</span><span class="sxs-lookup"><span data-stu-id="e4381-163">Finally, the <xref:System.ServiceModel.Configuration.ConfigurationChannelFactory%601> allows you to do central management of WCF client configuration, useful in scenarios in which configuration is selected or changed after the application domain load time.</span></span>

### <a name="getting-started"></a><span data-ttu-id="e4381-164">Začínáme</span><span class="sxs-lookup"><span data-stu-id="e4381-164">Getting Started</span></span>

- <span data-ttu-id="e4381-165">[Příručka pro vývojáře k WCF 4,0](https://docs.microsoft.com/previous-versions/dotnet/articles/ee354381(v=msdn.10))</span><span class="sxs-lookup"><span data-stu-id="e4381-165">[A Developer's Guide to WCF 4.0](https://docs.microsoft.com/previous-versions/dotnet/articles/ee354381(v=msdn.10))</span></span>

- [<span data-ttu-id="e4381-166">Objekt pro vytváření kanálů konfigurace</span><span class="sxs-lookup"><span data-stu-id="e4381-166">Configuration Channel Factory</span></span>](xref:System.ServiceModel.Configuration.ConfigurationChannelFactory%601)

- [<span data-ttu-id="e4381-167">Element standardního koncového bodu</span><span class="sxs-lookup"><span data-stu-id="e4381-167">Standard Endpoint Element</span></span>](xref:System.ServiceModel.Configuration.StandardEndpointElement)

- [<span data-ttu-id="e4381-168">Vylepšení konfigurace služby v .NET Framework 4</span><span class="sxs-lookup"><span data-stu-id="e4381-168">Service configuration improvements in .NET Framework 4</span></span>](https://blogs.msdn.microsoft.com/endpoint/2009/06/30/service-configuration-improvements-in-net-4/)

- [<span data-ttu-id="e4381-169">Běžná chyba uživatele v rozhraní .NET 4: zadání názvu konfigurace služby WF/WCF</span><span class="sxs-lookup"><span data-stu-id="e4381-169">Common User Mistake in .NET 4: Mistyping the WF/WCF Service Configuration Name</span></span>](https://blogs.msdn.microsoft.com/endpoint/2009/11/09/common-user-mistake-in-net-4-mistyping-the-wfwcf-service-configuration-name/)

### <a name="simplified-configuration-scenarios"></a><span data-ttu-id="e4381-170">Zjednodušené scénáře konfigurace</span><span class="sxs-lookup"><span data-stu-id="e4381-170">Simplified Configuration Scenarios</span></span>

- <span data-ttu-id="e4381-171">Zkušený vývojář ASMX chce začít používat WCF.</span><span class="sxs-lookup"><span data-stu-id="e4381-171">An experienced ASMX developer wants to start using WCF.</span></span> <span data-ttu-id="e4381-172">WCF se ale jeví jako moc komplikované.</span><span class="sxs-lookup"><span data-stu-id="e4381-172">However, WCF seems way too complicated!</span></span> <span data-ttu-id="e4381-173">Jaké jsou všechny informace, které potřebuji k zápisu do konfiguračního souboru?</span><span class="sxs-lookup"><span data-stu-id="e4381-173">What is all that information that I need to write in a configuration file?</span></span> <span data-ttu-id="e4381-174">V rozhraní .NET 4 se můžete rozhodnout, že ještě nemáte konfigurační soubor.</span><span class="sxs-lookup"><span data-stu-id="e4381-174">In .NET 4, you can even decide to not have a configuration file at all.</span></span>

- <span data-ttu-id="e4381-175">Existující sada služeb WCF je velmi obtížné nakonfigurovat a udržovat.</span><span class="sxs-lookup"><span data-stu-id="e4381-175">An existing set of WCF services are very difficult to configure and maintain.</span></span> <span data-ttu-id="e4381-176">Konfigurační soubor obsahuje tisíce řádků kódu XML, které jsou mimořádně nebezpečné dotykem.</span><span class="sxs-lookup"><span data-stu-id="e4381-176">The configuration file has thousands of lines of XML code that are extremely dangerous to touch.</span></span> <span data-ttu-id="e4381-177">Je potřeba, abyste snížili množství kódu na něco, co je možné spravovat.</span><span class="sxs-lookup"><span data-stu-id="e4381-177">Help is needed to reduce that amount of code to something more manageable.</span></span>

## <a name="data-contract-resolver"></a><span data-ttu-id="e4381-178">Překladač kontraktu dat</span><span class="sxs-lookup"><span data-stu-id="e4381-178">Data Contract Resolver</span></span>

<span data-ttu-id="e4381-179">V rozhraní .NET 3,5 bylo při návrhu známých typů zjištěno několik omezení:</span><span class="sxs-lookup"><span data-stu-id="e4381-179">In .NET 3.5, there were a few limitations in the design of known types:</span></span>

- <span data-ttu-id="e4381-180">Přidávání známých typů dynamicky, během serializace nebo deserializace nebylo možné.</span><span class="sxs-lookup"><span data-stu-id="e4381-180">Adding known types dynamically, during serialization or deserialization, was not possible.</span></span>

- <span data-ttu-id="e4381-181">Serializátory nemohly zabývat s neznámými informacemi xsi: Type.</span><span class="sxs-lookup"><span data-stu-id="e4381-181">Serializers could not deal with unknown xsi:type information.</span></span>

- <span data-ttu-id="e4381-182">Uživatelé nedokázali určit, jaký typ xsi: Type by se měl na lince zobrazit, například nastavit velikost instance serializace na malém kabelu.</span><span class="sxs-lookup"><span data-stu-id="e4381-182">It was not possible for users to specify what xsi:type they would like to have appear on the wire to, for instance, make the size of a serialization instance on the wire smaller.</span></span>

<span data-ttu-id="e4381-183">[DataContractResolver](../wcf/samples/datacontractresolver.md) tyto problémy řeší v rozhraní .NET 4,5.</span><span class="sxs-lookup"><span data-stu-id="e4381-183">The [DataContractResolver](../wcf/samples/datacontractresolver.md) solves these issues in .NET 4.5.</span></span>

### <a name="getting-started"></a><span data-ttu-id="e4381-184">Začínáme</span><span class="sxs-lookup"><span data-stu-id="e4381-184">Getting Started</span></span>

- [<span data-ttu-id="e4381-185">Dokumentace k rozhraní API překladače kontraktů dat</span><span class="sxs-lookup"><span data-stu-id="e4381-185">Data Contract Resolver API documentation</span></span>](xref:System.Runtime.Serialization.DataContractResolver)

- [<span data-ttu-id="e4381-186">Představení překladače kontraktů dat</span><span class="sxs-lookup"><span data-stu-id="e4381-186">Introducing the Data Contract Resolver</span></span>](https://blogs.msdn.microsoft.com/youssefm/2009/06/05/configuring-known-types-dynamically-introducing-the-datacontractresolver/)

- <span data-ttu-id="e4381-187">Ukázky:</span><span class="sxs-lookup"><span data-stu-id="e4381-187">Samples:</span></span>

  - [<span data-ttu-id="e4381-188">DataContractResolver</span><span class="sxs-lookup"><span data-stu-id="e4381-188">DataContractResolver</span></span>](../wcf/samples/datacontractresolver.md)

  - [<span data-ttu-id="e4381-189">KnownAssemblyAttribute</span><span class="sxs-lookup"><span data-stu-id="e4381-189">KnownAssemblyAttribute</span></span>](../wcf/samples/knownassemblyattribute.md)

### <a name="data-contract-resolver-scenarios"></a><span data-ttu-id="e4381-190">Scénáře překladače kontraktů dat</span><span class="sxs-lookup"><span data-stu-id="e4381-190">Data Contract Resolver Scenarios</span></span>

- <span data-ttu-id="e4381-191">Zamezení nutnosti deklarovat desítky <xref:System.Runtime.Serialization.KnownTypeAttribute> objektů ve službě.</span><span class="sxs-lookup"><span data-stu-id="e4381-191">Avoiding having to declare tens of <xref:System.Runtime.Serialization.KnownTypeAttribute> objects in a service.</span></span>

- <span data-ttu-id="e4381-192">Zmenšení velikosti objektu blob XML.</span><span class="sxs-lookup"><span data-stu-id="e4381-192">Reducing the size of the XML blob.</span></span>

## <a name="flowchart"></a><span data-ttu-id="e4381-193">Vývojový diagram</span><span class="sxs-lookup"><span data-stu-id="e4381-193">Flowchart</span></span>

<span data-ttu-id="e4381-194">Vývojové diagramy jsou dobře známé paradigmaty, které vizuálně reprezentují problémy v doméně.</span><span class="sxs-lookup"><span data-stu-id="e4381-194">Flowchart is a well-known paradigm to visually represent domain problems.</span></span> <span data-ttu-id="e4381-195">Je to nový styl toku ovládacích prvků, který zavádíme v rozhraní .NET 4.</span><span class="sxs-lookup"><span data-stu-id="e4381-195">It is a new control flow style we’re introducing in .NET 4.</span></span> <span data-ttu-id="e4381-196">Základní charakteristika vývojového diagramu je, že v daném okamžiku se spustí jenom jedna aktivita.</span><span class="sxs-lookup"><span data-stu-id="e4381-196">A core characteristic of Flowchart is that only one activity is executed at any given time.</span></span> <span data-ttu-id="e4381-197">Vývojové diagramy mohou vyjádřit smyčky a alternativní výsledky, ale nemohou nativně expresní souběžné provádění více uzlů.</span><span class="sxs-lookup"><span data-stu-id="e4381-197">Flowcharts can express loops and alternative outcomes, but cannot natively express concurrent execution of multiple nodes.</span></span>

### <a name="getting-started"></a><span data-ttu-id="e4381-198">Začínáme</span><span class="sxs-lookup"><span data-stu-id="e4381-198">Getting Started</span></span>

- <span data-ttu-id="e4381-199">V aplikaci Visual Studio 2012 vytvořte konzolovou aplikaci pracovního postupu.</span><span class="sxs-lookup"><span data-stu-id="e4381-199">In Visual Studio 2012, create a workflow console application.</span></span> <span data-ttu-id="e4381-200">Přidejte vývojový diagram do návrháře pracovních postupů.</span><span class="sxs-lookup"><span data-stu-id="e4381-200">Add a Flowchart in the workflow designer.</span></span>

- <span data-ttu-id="e4381-201">Funkce vývojového diagramu používá následující třídy:</span><span class="sxs-lookup"><span data-stu-id="e4381-201">The flowchart feature uses the following classes:</span></span>

  - <xref:System.Activities.Statements.Flowchart>

  - <xref:System.Activities.Statements.FlowNode>

  - <xref:System.Activities.Statements.FlowDecision>

  - <xref:System.Activities.Statements.FlowStep>

  - <xref:System.Activities.Statements.FlowSwitch%601>

- <span data-ttu-id="e4381-202">Ukázky:</span><span class="sxs-lookup"><span data-stu-id="e4381-202">Samples:</span></span>

  - [<span data-ttu-id="e4381-203">Zpracování chyb v aktivitě FlowChart pomocí TryCatch</span><span class="sxs-lookup"><span data-stu-id="e4381-203">Fault Handling in a Flowchart Activity Using TryCatch</span></span>](./samples/fault-handling-in-a-flowchart-activity-using-trycatch.md)

  - [<span data-ttu-id="e4381-204">Proces náboru</span><span class="sxs-lookup"><span data-stu-id="e4381-204">Hiring Process</span></span>](./samples/hiring-process.md)

- <span data-ttu-id="e4381-205">Dokumentace k Návrháři:</span><span class="sxs-lookup"><span data-stu-id="e4381-205">Designer Documentation:</span></span>

  - [<span data-ttu-id="e4381-206">Návrháři aktivit vývojového diagramu</span><span class="sxs-lookup"><span data-stu-id="e4381-206">Flowchart Activity Designers</span></span>](/visualstudio/workflow-designer/flowchart-activity-designers)

### <a name="flowchart-scenarios"></a><span data-ttu-id="e4381-207">Scénáře vývojového diagramu</span><span class="sxs-lookup"><span data-stu-id="e4381-207">Flowchart Scenarios</span></span>

<span data-ttu-id="e4381-208">Aktivitu vývojového diagramu lze použít k implementaci odhadované hry.</span><span class="sxs-lookup"><span data-stu-id="e4381-208">A flowchart activity can be used to implement a guessing game.</span></span> <span data-ttu-id="e4381-209">Odhadovaná hra je velmi jednoduchá: počítač vybere náhodné číslo a přehrávač musí toto číslo odhadnout.</span><span class="sxs-lookup"><span data-stu-id="e4381-209">The guessing game is very simple: the computer selects a random number and the player has to guess that number.</span></span> <span data-ttu-id="e4381-210">Když hráč každý odhad odešle, zobrazí mu nápovědu (tzn. "zkusit nižší číslo").</span><span class="sxs-lookup"><span data-stu-id="e4381-210">When the player submits each guess, the computer shows him a hint (i.e. "try a lower number").</span></span> <span data-ttu-id="e4381-211">Pokud hráč najde číslo během méně než 7 pokusů, obdrží od počítače speciální congratulation.</span><span class="sxs-lookup"><span data-stu-id="e4381-211">If the player finds the number in less than 7 attempts, he receives a special congratulation from the computer.</span></span> <span data-ttu-id="e4381-212">Tato hra se dá implementovat s kombinací následujících procedurálních aktivit:</span><span class="sxs-lookup"><span data-stu-id="e4381-212">This game can be implemented with a combination of the following procedural activities:</span></span>

- <xref:System.Activities.Statements.Sequence>

- <xref:System.Activities.Statements.While>

- <xref:System.Activities.Statements.Switch%601>

- <xref:System.Activities.Statements.TryCatch>

- <xref:System.Activities.Statements.Assign%601>

- <xref:System.Activities.Statements.If>

## <a name="procedural-activities-sequence-if-foreach-switch-assign-dowhile-while"></a><span data-ttu-id="e4381-213">Procesní aktivity (sekvence, if, ForEach, přepínač, Assign, DoWhile, while)</span><span class="sxs-lookup"><span data-stu-id="e4381-213">Procedural activities (Sequence, If, ForEach, Switch, Assign, DoWhile, While)</span></span>

<span data-ttu-id="e4381-214">Procesní aktivity poskytují mechanismus pro modelování sekvenčního řízení toku pomocí konceptů, které jsou obeznámeny s programátory.</span><span class="sxs-lookup"><span data-stu-id="e4381-214">Procedural activities provide a mechanism to model sequential control flow using concepts that are familiar to programmers.</span></span> <span data-ttu-id="e4381-215">Tyto aktivity umožňují tradičně strukturované konstrukce programovacích jazyků a v případě potřeby poskytují jazykovou paritu běžných procedurálních jazyků, C#jako je/vb.</span><span class="sxs-lookup"><span data-stu-id="e4381-215">These activities enable traditionally structured programming language constructs and, when appropriate, provide language parity with common procedural languages such as C#/VB.</span></span>

### <a name="getting-started"></a><span data-ttu-id="e4381-216">Začínáme</span><span class="sxs-lookup"><span data-stu-id="e4381-216">Getting Started</span></span>

- <span data-ttu-id="e4381-217">V aplikaci Visual Studio 2012 vytvořte konzolovou aplikaci pracovního postupu.</span><span class="sxs-lookup"><span data-stu-id="e4381-217">In Visual Studio 2012, create a workflow console application.</span></span> <span data-ttu-id="e4381-218">Přidejte procedurální aktivity v Návrháři pracovních postupů.</span><span class="sxs-lookup"><span data-stu-id="e4381-218">Add procedural activities in the workflow designer.</span></span>

- <span data-ttu-id="e4381-219">Ukázky:</span><span class="sxs-lookup"><span data-stu-id="e4381-219">Samples:</span></span>

  - [<span data-ttu-id="e4381-220">Proces náboru</span><span class="sxs-lookup"><span data-stu-id="e4381-220">Hiring Process</span></span>](./samples/hiring-process.md)

  - [<span data-ttu-id="e4381-221">Proces nákupu v podniku</span><span class="sxs-lookup"><span data-stu-id="e4381-221">Corporate Purchase Process</span></span>](./samples/corporate-purchase-process.md)

- <span data-ttu-id="e4381-222">Dokumentace k Návrháři:</span><span class="sxs-lookup"><span data-stu-id="e4381-222">Designer Documentation:</span></span>

  - [<span data-ttu-id="e4381-223">Návrhář aktivity Parallel</span><span class="sxs-lookup"><span data-stu-id="e4381-223">Parallel Activity Designer</span></span>](/visualstudio/workflow-designer/parallel-activity-designer)

  - [<span data-ttu-id="e4381-224">Návrhář aktivit > ParallelForEach\<T</span><span class="sxs-lookup"><span data-stu-id="e4381-224">ParallelForEach\<T> Activity Designer</span></span>](/visualstudio/workflow-designer/parallelforeach-t-activity-designer)

### <a name="procedural-activity-scenarios"></a><span data-ttu-id="e4381-225">Scénáře činnosti procedurálního řízení</span><span class="sxs-lookup"><span data-stu-id="e4381-225">Procedural Activity Scenarios</span></span>

- <span data-ttu-id="e4381-226"><xref:System.Activities.Statements.Parallel>: systém správy dokumentů v intranetu má pracovní postup schvalování dokumentů.</span><span class="sxs-lookup"><span data-stu-id="e4381-226"><xref:System.Activities.Statements.Parallel>: An intranet document management system has a document approval workflow.</span></span> <span data-ttu-id="e4381-227">Než bude možné publikovat dokumenty v intranetu, je nutné, aby je uživatelé schválili v několika odděleních.</span><span class="sxs-lookup"><span data-stu-id="e4381-227">Documents need to be approved by people in several departments before they can be published to the intranet.</span></span> <span data-ttu-id="e4381-228">Pro schválení není stanoveno pořadí; k tomu může dojít kdykoli, když je dokument ve fázi schválení "čeká na schválení".</span><span class="sxs-lookup"><span data-stu-id="e4381-228">There isn’t an established order for the approvals; they can occur at any time while the document is in the "approval pending" phase.</span></span> <span data-ttu-id="e4381-229">Když uživatel dokument pošle k revizi, musí ho schválit jeho přímý nadřízený, správce intranetu a interní komunikační správce.</span><span class="sxs-lookup"><span data-stu-id="e4381-229">When a user submits a document for review it must be approved by her direct manager, the intranet administrator, and the internal communications manager.</span></span>

- <span data-ttu-id="e4381-230"><xref:System.Activities.Statements.ParallelForEach%601>: aplikace WF spravuje podnikové koupě v rámci velké společnosti.</span><span class="sxs-lookup"><span data-stu-id="e4381-230"><xref:System.Activities.Statements.ParallelForEach%601>: A WF application manages corporate buys within a large company.</span></span> <span data-ttu-id="e4381-231">Podniková pravidla je určují, že před plánováním operací nákupu se vyžadují ocenění tří různých dodavatelů.</span><span class="sxs-lookup"><span data-stu-id="e4381-231">The corporate rules dictate that before planning any purchase operation, the valuations of three different vendors is required.</span></span> <span data-ttu-id="e4381-232">Zaměstnanec z nákupního oddělení vybere tři dodavatele ze seznamu dodavatelů společnosti.</span><span class="sxs-lookup"><span data-stu-id="e4381-232">An employee from the buying department selects three vendors from the company’s vendor list.</span></span> <span data-ttu-id="e4381-233">Po výběru a oznámení těchto dodavatelů bude společnost čekat na jejich ekonomické návrhy.</span><span class="sxs-lookup"><span data-stu-id="e4381-233">After these vendors have been selected and notified, the company will wait for their economic proposals.</span></span> <span data-ttu-id="e4381-234">Návrhy můžou být v libovolném pořadí.</span><span class="sxs-lookup"><span data-stu-id="e4381-234">The proposals can come in any order.</span></span> <span data-ttu-id="e4381-235">K implementaci tohoto scénáře na WF používáme <xref:System.Activities.Statements.ParallelForEach%601>, který se bude iterovat prostřednictvím naší kolekce dodavatelů a požádat o jejich ekonomické návrhy.</span><span class="sxs-lookup"><span data-stu-id="e4381-235">To implement this scenario in WF, we use a <xref:System.Activities.Statements.ParallelForEach%601> that will iterate through our collection of vendors and ask for their economic proposals.</span></span> <span data-ttu-id="e4381-236">Po shromáždění všech nabídek se vybere a zobrazí nejlepší z nich.</span><span class="sxs-lookup"><span data-stu-id="e4381-236">After all offers are gathered, the best one is selected and displayed.</span></span>

## <a name="invokemethod"></a><span data-ttu-id="e4381-237">InvokeMethod</span><span class="sxs-lookup"><span data-stu-id="e4381-237">InvokeMethod</span></span>

<span data-ttu-id="e4381-238">Aktivita <xref:System.Activities.Statements.InvokeMethod> umožňuje vyvolání veřejných metod v objektech nebo typech v oboru.</span><span class="sxs-lookup"><span data-stu-id="e4381-238">The <xref:System.Activities.Statements.InvokeMethod> activity allows invoking public methods in objects or types in scope.</span></span> <span data-ttu-id="e4381-239">Podporuje vyvolání instance a statických metod s parametry nebo bez parametrů (včetně polí parametrů) a obecných metod.</span><span class="sxs-lookup"><span data-stu-id="e4381-239">It supports invoking instance and static methods with or without parameters (including parameter arrays), and generic methods.</span></span> <span data-ttu-id="e4381-240">Také umožňuje provádět synchronní a asynchronní provádění metody.</span><span class="sxs-lookup"><span data-stu-id="e4381-240">It also allows executing method synchronously and asynchronously.</span></span>

### <a name="getting-started"></a><span data-ttu-id="e4381-241">Začínáme</span><span class="sxs-lookup"><span data-stu-id="e4381-241">Getting Started</span></span>

- <span data-ttu-id="e4381-242">V aplikaci Visual Studio 2012 vytvořte konzolovou aplikaci pracovního postupu.</span><span class="sxs-lookup"><span data-stu-id="e4381-242">In Visual Studio 2012, create a workflow console application.</span></span> <span data-ttu-id="e4381-243">Přidejte aktivitu <xref:System.Activities.Statements.InvokeMethod> v Návrháři postupu a nakonfigurujte pro ni statické a instanční metody.</span><span class="sxs-lookup"><span data-stu-id="e4381-243">Add an <xref:System.Activities.Statements.InvokeMethod> activity in the workflow designer, and configure static and instance methods on it.</span></span>

- <span data-ttu-id="e4381-244">Dokumentace návrháře: [Návrhář aktivity InvokeMethod](/visualstudio/workflow-designer/invokemethod-activity-designer)</span><span class="sxs-lookup"><span data-stu-id="e4381-244">Designer Documentation: [InvokeMethod Activity Designer](/visualstudio/workflow-designer/invokemethod-activity-designer)</span></span>

### <a name="invokemethod-scenarios"></a><span data-ttu-id="e4381-245">Scénáře InvokeMethod</span><span class="sxs-lookup"><span data-stu-id="e4381-245">InvokeMethod Scenarios</span></span>

- <span data-ttu-id="e4381-246">Metoda v objektu v oboru musí být vyvolána.</span><span class="sxs-lookup"><span data-stu-id="e4381-246">A method in an object in scope needs to be invoked.</span></span> <span data-ttu-id="e4381-247">Například hodnota musí být přidána do slovníku.</span><span class="sxs-lookup"><span data-stu-id="e4381-247">For example, a value needs to be added to a dictionary.</span></span> <span data-ttu-id="e4381-248">Metoda Add instance slovníku je vyvolána a klíč a hodnota jsou k dispozici.</span><span class="sxs-lookup"><span data-stu-id="e4381-248">The Add method of the instance of the dictionary is invoked, and the key and value are provided.</span></span>

- <span data-ttu-id="e4381-249">Metoda musí být vyvolána na starší verzi objektu CLR.</span><span class="sxs-lookup"><span data-stu-id="e4381-249">A method needs to be invoked on a legacy CLR object.</span></span> <span data-ttu-id="e4381-250">Namísto vytvoření vlastní aktivity pro zabalení volání této starší třídy, pokud je v oboru během provádění pracovního postupu, lze použít <xref:System.Activities.Statements.InvokeMethod>.</span><span class="sxs-lookup"><span data-stu-id="e4381-250">Instead of creating a custom activity to wrap the call to that legacy class, if it is in scope during the workflow execution, <xref:System.Activities.Statements.InvokeMethod> can be used.</span></span>

## <a name="error-handling-activities"></a><span data-ttu-id="e4381-251">Aktivity zpracovávající chyby</span><span class="sxs-lookup"><span data-stu-id="e4381-251">Error handling activities</span></span>

<span data-ttu-id="e4381-252">Aktivita <xref:System.Activities.Statements.TryCatch> poskytuje mechanismus pro zachycení výjimek, ke kterým dochází během provádění sady obsažených aktivit (podobně jako konstrukce try/catch v C#/VB).</span><span class="sxs-lookup"><span data-stu-id="e4381-252">The <xref:System.Activities.Statements.TryCatch> activity provides a mechanism for catching exceptions that occur during the execution of a set of contained activities (similar to the Try/Catch construct in C#/VB).</span></span> <span data-ttu-id="e4381-253"><xref:System.Activities.Statements.TryCatch> poskytuje zpracování výjimek na úrovni pracovního postupu.</span><span class="sxs-lookup"><span data-stu-id="e4381-253"><xref:System.Activities.Statements.TryCatch> provides exception handling at the workflow level.</span></span> <span data-ttu-id="e4381-254">Pokud je vyvolána neošetřená výjimka, je pracovní postup přerušen a blok finally nebude proveden.</span><span class="sxs-lookup"><span data-stu-id="e4381-254">When an unhandled exception is thrown, the workflow is aborted and the Finally block won’t be executed.</span></span> <span data-ttu-id="e4381-255">Toto chování je konzistentní s C#.</span><span class="sxs-lookup"><span data-stu-id="e4381-255">This behavior is consistent with C#.</span></span>

### <a name="getting-started"></a><span data-ttu-id="e4381-256">Začínáme</span><span class="sxs-lookup"><span data-stu-id="e4381-256">Getting Started</span></span>

- <span data-ttu-id="e4381-257">V aplikaci Visual Studio 2012 vytvořte konzolovou aplikaci pracovního postupu.</span><span class="sxs-lookup"><span data-stu-id="e4381-257">In Visual Studio 2012, create a workflow console application.</span></span> <span data-ttu-id="e4381-258">Přidejte aktivitu <xref:System.Activities.Statements.TryCatch> v Návrháři pracovních postupů.</span><span class="sxs-lookup"><span data-stu-id="e4381-258">Add a <xref:System.Activities.Statements.TryCatch> activity in the workflow designer.</span></span>

- <span data-ttu-id="e4381-259">Ukázka: [zpracování chyb v aktivitě vývojového diagramu pomocí TryCatch](./samples/fault-handling-in-a-flowchart-activity-using-trycatch.md)</span><span class="sxs-lookup"><span data-stu-id="e4381-259">Sample: [Fault Handling in a Flowchart Activity Using TryCatch](./samples/fault-handling-in-a-flowchart-activity-using-trycatch.md)</span></span>

- <span data-ttu-id="e4381-260">Dokumentace návrháře: [zpracování chyb návrháři aktivit](/visualstudio/workflow-designer/error-handling-activity-designers)</span><span class="sxs-lookup"><span data-stu-id="e4381-260">Designer Documentation: [Error Handling Activity Designers](/visualstudio/workflow-designer/error-handling-activity-designers)</span></span>

### <a name="error-handling-scenarios"></a><span data-ttu-id="e4381-261">Scénáře zpracování chyb</span><span class="sxs-lookup"><span data-stu-id="e4381-261">Error handling scenarios</span></span>

<span data-ttu-id="e4381-262">Je nutné provést sadu aktivit a při výskytu chyby musí být provedena konkrétní logika.</span><span class="sxs-lookup"><span data-stu-id="e4381-262">A set of activities needs to be executed, and specific logic needs to be executed when an error occurs.</span></span> <span data-ttu-id="e4381-263">Pokud v této logice zpracování chyb zjistíte, že chyba není obnovitelná, výjimka se znovu vyvolá a Nadřazená aktivita (nebo hostitel) se tomuto problému zaměří.</span><span class="sxs-lookup"><span data-stu-id="e4381-263">If during that error handling logic it is found that the error is not recoverable, the exception will be rethrown, and the parent activity (or the host) will deal with the problem.</span></span>

## <a name="pick-activity"></a><span data-ttu-id="e4381-264">Aktivita výběru</span><span class="sxs-lookup"><span data-stu-id="e4381-264">Pick activity</span></span>

<span data-ttu-id="e4381-265">Aktivita <xref:System.Activities.Statements.Pick> poskytuje modelování toku řízení založeného na událostech na WF.</span><span class="sxs-lookup"><span data-stu-id="e4381-265">The <xref:System.Activities.Statements.Pick> Activity provides event-based control flow modeling in WF.</span></span> <span data-ttu-id="e4381-266"><xref:System.Activities.Statements.Pick> obsahuje mnoho větví, ve kterých každá větev čeká na určitou událost před spuštěním.</span><span class="sxs-lookup"><span data-stu-id="e4381-266"><xref:System.Activities.Statements.Pick> contains many branches where each branch waits for a particular event to occur before running.</span></span> <span data-ttu-id="e4381-267">V tomto nastavení se <xref:System.Activities.Statements.Pick> chová podobně jako <xref:System.Activities.Statements.Switch%601>, na které aktivita spustí pouze jednu ze sady událostí, kterou naslouchá.</span><span class="sxs-lookup"><span data-stu-id="e4381-267">In this setup, a <xref:System.Activities.Statements.Pick> behaves similar to a <xref:System.Activities.Statements.Switch%601> to which the Activity will execute only one of the set of events it is listening.</span></span> <span data-ttu-id="e4381-268">Každá větev je řízený událost a událost, ke které dojde, spustí nejprve příslušnou větev.</span><span class="sxs-lookup"><span data-stu-id="e4381-268">Each branch is event driven and the event that occurs runs the corresponding branch first.</span></span> <span data-ttu-id="e4381-269">Všechny ostatní větve zruší a zastaví naslouchání pro události.</span><span class="sxs-lookup"><span data-stu-id="e4381-269">All other branches cancel and stop listening for events.</span></span>

### <a name="getting-started"></a><span data-ttu-id="e4381-270">Začínáme</span><span class="sxs-lookup"><span data-stu-id="e4381-270">Getting Started</span></span>

- <span data-ttu-id="e4381-271">V aplikaci Visual Studio 2012 vytvořte konzolovou aplikaci pracovního postupu.</span><span class="sxs-lookup"><span data-stu-id="e4381-271">In Visual Studio 2012, create a workflow console application.</span></span> <span data-ttu-id="e4381-272">Přidejte aktivitu <xref:System.Activities.Statements.Pick> v Návrháři pracovních postupů.</span><span class="sxs-lookup"><span data-stu-id="e4381-272">Add a <xref:System.Activities.Statements.Pick> activity in the workflow designer.</span></span>

- <span data-ttu-id="e4381-273">Ukázka: [použití aktivity výběru](./samples/using-the-pick-activity.md)</span><span class="sxs-lookup"><span data-stu-id="e4381-273">Sample: [Using the Pick Activity](./samples/using-the-pick-activity.md)</span></span>

- <span data-ttu-id="e4381-274">Dokumentace návrháře: [Návrhář aktivity výběru](/visualstudio/workflow-designer/pick-activity-designer)</span><span class="sxs-lookup"><span data-stu-id="e4381-274">Designer documentation: [Pick Activity Designer](/visualstudio/workflow-designer/pick-activity-designer)</span></span>

### <a name="pick-scenario"></a><span data-ttu-id="e4381-275">Scénář výběru</span><span class="sxs-lookup"><span data-stu-id="e4381-275">Pick Scenario</span></span>

<span data-ttu-id="e4381-276">Uživatel musí být vyzván k zadání vstupu.</span><span class="sxs-lookup"><span data-stu-id="e4381-276">A user needs to be prompted for input.</span></span> <span data-ttu-id="e4381-277">Za normálních okolností by vývojář používal volání metody, jako je <xref:System.Console.ReadLine%2A> k zobrazení výzvy k zadání uživatele.</span><span class="sxs-lookup"><span data-stu-id="e4381-277">Under normal circumstances, the developer would use a method call like <xref:System.Console.ReadLine%2A> to prompt for a user’s input.</span></span> <span data-ttu-id="e4381-278">Problém s tímto nastavením je, že program čeká, dokud uživatel nezadá něco.</span><span class="sxs-lookup"><span data-stu-id="e4381-278">The problem with this setup is that the program waits until the user enters something.</span></span> <span data-ttu-id="e4381-279">V tomto scénáři je potřeba časový limit odblokování blokující aktivity.</span><span class="sxs-lookup"><span data-stu-id="e4381-279">In this scenario, a time-out is needed to unblock a blocking activity.</span></span> <span data-ttu-id="e4381-280">Běžným scénářem je jeden, který vyžaduje dokončení úkolu v rámci dané doby trvání.</span><span class="sxs-lookup"><span data-stu-id="e4381-280">A common scenario is one that requires a task to be completed within a given time duration.</span></span> <span data-ttu-id="e4381-281">Načasování blokující aktivity je scénář, ve kterém nástroj pro výběr přidá hodně hodnot.</span><span class="sxs-lookup"><span data-stu-id="e4381-281">Timing out a blocking activity is a scenario where Pick adds a lot of value.</span></span>

## <a name="wcf-routing-service"></a><span data-ttu-id="e4381-282">Směrovací služba WCF</span><span class="sxs-lookup"><span data-stu-id="e4381-282">WCF Routing Service</span></span>

<span data-ttu-id="e4381-283">Směrovací služba je navržená jako obecný softwarový směrovač, který umožňuje řídit, jak se zprávy WCF směrují mezi klienty a službami.</span><span class="sxs-lookup"><span data-stu-id="e4381-283">The Routing Service is designed to be a generic software Router that allows you to control how WCF messages flow in between your clients and services.</span></span> <span data-ttu-id="e4381-284">Směrovací služba umožňuje oddělit klienty od služeb, což vám dává mnohem větší volnost v souvislosti s konfiguracemi, které můžete podporovat, a flexibilitou, kterou máte při zvažování toho, jak vaše služby hostovat.</span><span class="sxs-lookup"><span data-stu-id="e4381-284">The Routing Service allows you to decouple your clients from your services, which gives you much more freedom in terms of the configurations that you can support and the flexibility you have when considering how to host your services.</span></span> <span data-ttu-id="e4381-285">V rozhraní .NET 3,5 byly klienti a služby úzce spojeni. klient musel znát všechny služby, které potřebují ke komunikaci s a kde se nacházejí.</span><span class="sxs-lookup"><span data-stu-id="e4381-285">In .NET 3.5, clients and services were tightly coupled; a client had to know about all of the services it needed to talk to and where they were located.</span></span> <span data-ttu-id="e4381-286">Kromě toho WCF v .NET Framework 3,5 má následující omezení:</span><span class="sxs-lookup"><span data-stu-id="e4381-286">In addition, WCF in .NET Framework 3.5 had the following limitations:</span></span>

- <span data-ttu-id="e4381-287">Zpracování chyb bylo složité, protože tato logika musela být pevně zakódována do klienta.</span><span class="sxs-lookup"><span data-stu-id="e4381-287">Error handling was complex, as this logic had to be hard-coded into the client.</span></span>

- <span data-ttu-id="e4381-288">Klienti a služby museli vždy používat stejné vazby.</span><span class="sxs-lookup"><span data-stu-id="e4381-288">Clients and services had to always use the same bindings.</span></span>

- <span data-ttu-id="e4381-289">Služby byly zřídka dobře vyladěny: klient je snazší, aby mohl komunikovat s jednou službou, která implementuje vše a nepotřebuje vybírat mezi více službami.</span><span class="sxs-lookup"><span data-stu-id="e4381-289">Services were rarely well factored: it is easier to have the client talk to one service which implements everything, rather than needing to choose between multiple services.</span></span>

<span data-ttu-id="e4381-290">Směrovací služba v .NET 4 je navržená tak, aby se tyto problémy lépe vyřešily.</span><span class="sxs-lookup"><span data-stu-id="e4381-290">The routing service in .NET 4 is designed to make these problems easier to solve.</span></span> <span data-ttu-id="e4381-291">Nová směrovací služba má následující funkce:</span><span class="sxs-lookup"><span data-stu-id="e4381-291">The new routing service has the following features:</span></span>

1. <span data-ttu-id="e4381-292">Směrování založené na obsahu (<xref:System.ServiceModel.Dispatcher.MessageFilter> objekty prozkoumají zprávu a určíte, kam se má odeslat.)</span><span class="sxs-lookup"><span data-stu-id="e4381-292">Content based routing (<xref:System.ServiceModel.Dispatcher.MessageFilter> objects examine a message to determine where it should be sent.)</span></span>

2. <span data-ttu-id="e4381-293">Přemostění protokolu (přenosová & zpráva)</span><span class="sxs-lookup"><span data-stu-id="e4381-293">Protocol bridging (transport & message)</span></span>

3. <span data-ttu-id="e4381-294">Zpracování chyb (směrovač zachytává výjimky komunikace a převzetí služeb při selhání koncovými body zálohování)</span><span class="sxs-lookup"><span data-stu-id="e4381-294">Error handling (the router catches communication exceptions and fails over to backup endpoints)</span></span>

4. <span data-ttu-id="e4381-295">Dynamická aktualizace (v paměti) <xref:System.ServiceModel.Dispatcher.MessageFilterTable%601> a konfigurace směrování.</span><span class="sxs-lookup"><span data-stu-id="e4381-295">Dynamic (in memory) update of <xref:System.ServiceModel.Dispatcher.MessageFilterTable%601> and Routing Configuration.</span></span>

### <a name="getting-started"></a><span data-ttu-id="e4381-296">Začínáme</span><span class="sxs-lookup"><span data-stu-id="e4381-296">Getting Started</span></span>

1. <span data-ttu-id="e4381-297">Dokumentace: [Směrování](../wcf/feature-details/routing.md)</span><span class="sxs-lookup"><span data-stu-id="e4381-297">Documentation: [Routing](../wcf/feature-details/routing.md)</span></span>

2. <span data-ttu-id="e4381-298">Ukázky: [ukázky&#93; služby &#91;Routing Services WCF](../wcf/samples/routing-services.md)</span><span class="sxs-lookup"><span data-stu-id="e4381-298">Samples: [Routing Services &#91;WCF Samples&#93;](../wcf/samples/routing-services.md)</span></span>

3. <span data-ttu-id="e4381-299">Blog: [pravidla směrování!](https://blogs.msdn.microsoft.com/RoutingRules/)</span><span class="sxs-lookup"><span data-stu-id="e4381-299">Blog: [Routing Rules!](https://blogs.msdn.microsoft.com/RoutingRules/)</span></span>

### <a name="routing-scenarios"></a><span data-ttu-id="e4381-300">Scénáře směrování</span><span class="sxs-lookup"><span data-stu-id="e4381-300">Routing Scenarios</span></span>

<span data-ttu-id="e4381-301">Směrovací služba je užitečná v následujících scénářích:</span><span class="sxs-lookup"><span data-stu-id="e4381-301">The routing service is useful in the following scenarios:</span></span>

- <span data-ttu-id="e4381-302">Klienti můžou komunikovat s více službami, aniž by museli je řešit přímo.</span><span class="sxs-lookup"><span data-stu-id="e4381-302">Clients can talk to multiple services without having to address them all directly.</span></span>

- <span data-ttu-id="e4381-303">Klienti mohou provést další logiku na žádost klienta o určení místa směrování</span><span class="sxs-lookup"><span data-stu-id="e4381-303">Clients can perform additional logic on a client request to determine where to route it</span></span>

- <span data-ttu-id="e4381-304">Rozloží operace, které klient provádí, do více implementací služeb bez refaktoringu klienta.</span><span class="sxs-lookup"><span data-stu-id="e4381-304">Decompose the operations a client performs into multiple service implementations without refactoring the client.</span></span>

- <span data-ttu-id="e4381-305">Klienti a služby můžou namluvit s různými nastaveními zabezpečení různé vazby.</span><span class="sxs-lookup"><span data-stu-id="e4381-305">Clients and services can speak different bindings with different security settings.</span></span>

- <span data-ttu-id="e4381-306">U klientů se dá povolit větší robustnost před selháním nebo nedostupností služeb.</span><span class="sxs-lookup"><span data-stu-id="e4381-306">Clients can be enabled to be more robust against failure or the unavailability of services.</span></span>

## <a name="wcf-discovery"></a><span data-ttu-id="e4381-307">Zjišťování WCF</span><span class="sxs-lookup"><span data-stu-id="e4381-307">WCF Discovery</span></span>

<span data-ttu-id="e4381-308">Zjišťování WCF je technologie architektury, která umožňuje začlenit mechanismus zjišťování do vaší aplikační infrastruktury.</span><span class="sxs-lookup"><span data-stu-id="e4381-308">WCF Discovery is a framework technology that allows you to incorporate a discovery mechanism to your application infrastructure.</span></span> <span data-ttu-id="e4381-309">Pomocí tohoto nastavení můžete službu zjistit a nakonfigurovat klienty tak, aby vyhledali služby.</span><span class="sxs-lookup"><span data-stu-id="e4381-309">You can use this to make your service discoverable, and configure your clients to search for services.</span></span> <span data-ttu-id="e4381-310">Klienti už nemusejí být pevně kódované s koncovým bodem, takže vaše aplikace bude robustnější a odolná proti chybám.</span><span class="sxs-lookup"><span data-stu-id="e4381-310">Clients no longer need to be hard coded with endpoint, making your application more robust and fault tolerant.</span></span> <span data-ttu-id="e4381-311">Zjišťování je ideální platformou pro sestavování možností automatické konfigurace do vaší aplikace.</span><span class="sxs-lookup"><span data-stu-id="e4381-311">Discovery is the perfect platform to build auto-configuration capabilities into your application.</span></span>

<span data-ttu-id="e4381-312">Produkt je postaven nad standardem WS-Discovery.</span><span class="sxs-lookup"><span data-stu-id="e4381-312">The product is built on top of the WS-Discovery standard.</span></span> <span data-ttu-id="e4381-313">Je navržený tak, aby byl interoperabilní, rozšiřitelný a obecný.</span><span class="sxs-lookup"><span data-stu-id="e4381-313">It’s designed to be interoperable, extensible, and generic.</span></span> <span data-ttu-id="e4381-314">Produkt podporuje dva režimy provozu:</span><span class="sxs-lookup"><span data-stu-id="e4381-314">The product supports two modes of operation:</span></span>

1. <span data-ttu-id="e4381-315">Spravované: v případě, že je v síti dostupná nějaká entita o stávajících službách, klienti se dotazují přímo na informace.</span><span class="sxs-lookup"><span data-stu-id="e4381-315">Managed: where there is an entity on the network knowledgeable about existing services, clients query it directly for information.</span></span> <span data-ttu-id="e4381-316">To je obdobou služby Active Directory.</span><span class="sxs-lookup"><span data-stu-id="e4381-316">This is analogous to Active Directory.</span></span>

2. <span data-ttu-id="e4381-317">Ad hoc: kde klienti používají zprávy vícesměrového vysílání k vyhledání služeb.</span><span class="sxs-lookup"><span data-stu-id="e4381-317">Ad-hoc: where clients use multicast messages to locate services.</span></span>

<span data-ttu-id="e4381-318">Zprávy zjišťování jsou navíc síťový protokol nezávislá; můžete je použít v jakémkoli protokolu, který podporuje požadavky na režim.</span><span class="sxs-lookup"><span data-stu-id="e4381-318">Furthermore, discovery messages are network protocol agnostic; you can use them on top any protocol that supports the mode requirements.</span></span> <span data-ttu-id="e4381-319">Například zprávy vícesměrového vysílání se dají odesílat přes kanál UDP nebo jakoukoli jinou síť, která podporuje zasílání zpráv vícesměrového vysílání.</span><span class="sxs-lookup"><span data-stu-id="e4381-319">For example, discovery multicast messages can be sent over the UDP channel or any other network that supports multicast messaging.</span></span> <span data-ttu-id="e4381-320">Tyto body návrhu v kombinaci s flexibilitou funkcí umožňují přizpůsobit zjišťování specificky pro vaše řešení.</span><span class="sxs-lookup"><span data-stu-id="e4381-320">These design points, combined with feature flexibility, allow you to adapt the discovery specifically to your solution.</span></span>

### <a name="getting-started"></a><span data-ttu-id="e4381-321">Začínáme</span><span class="sxs-lookup"><span data-stu-id="e4381-321">Getting Started</span></span>

- <span data-ttu-id="e4381-322">Dokumentace: [zjišťování WCF](../wcf/feature-details/wcf-discovery.md)</span><span class="sxs-lookup"><span data-stu-id="e4381-322">Documentation: [WCF Discovery](../wcf/feature-details/wcf-discovery.md)</span></span>

- <span data-ttu-id="e4381-323">Ukázky: [zjišťování (ukázky)](../wcf/samples/discovery-samples.md)</span><span class="sxs-lookup"><span data-stu-id="e4381-323">Samples: [Discovery (Samples)](../wcf/samples/discovery-samples.md)</span></span>

### <a name="discovery-scenarios"></a><span data-ttu-id="e4381-324">Scénáře zjišťování</span><span class="sxs-lookup"><span data-stu-id="e4381-324">Discovery Scenarios</span></span>

<span data-ttu-id="e4381-325">Vývojář nechce, aby se koncovým bodům nezměnil, protože není znám, když bude k dispozici moje služba.</span><span class="sxs-lookup"><span data-stu-id="e4381-325">A developer doesn't want to hard code endpoints, since it is unknown when my service will be available.</span></span> <span data-ttu-id="e4381-326">Místo toho chce vývojář zvolit službu za běhu.</span><span class="sxs-lookup"><span data-stu-id="e4381-326">Instead, the developer wants to choose a service at runtime.</span></span> <span data-ttu-id="e4381-327">Mezi komponentami v aplikaci je potřeba víc oddálení, odolnost a Automatická konfigurace.</span><span class="sxs-lookup"><span data-stu-id="e4381-327">More decoupling, robustness, and auto-configuration is needed between the components in the application.</span></span>

## <a name="tracking"></a><span data-ttu-id="e4381-328">Sledování</span><span class="sxs-lookup"><span data-stu-id="e4381-328">Tracking</span></span>

<span data-ttu-id="e4381-329">Sledování pracovního postupu nabízí přehled o provádění instance pracovního postupu.</span><span class="sxs-lookup"><span data-stu-id="e4381-329">Workflow tracking provides insight into the execution of a workflow instance.</span></span> <span data-ttu-id="e4381-330">Události sledování se generují z pracovního postupu na úrovni instance pracovního postupu a při provádění aktivit v rámci pracovního postupu.</span><span class="sxs-lookup"><span data-stu-id="e4381-330">The tracking events are emitted from a workflow at the workflow instance level and when activities within the workflow execute.</span></span> <span data-ttu-id="e4381-331">Účastník sledování pracovního postupu musí být přidán do hostitele pracovního postupu, aby se mohl přihlásit k odběru sledování záznamů.</span><span class="sxs-lookup"><span data-stu-id="e4381-331">A workflow tracking participant needs to be added to the workflow host to subscribe to tracking records.</span></span> <span data-ttu-id="e4381-332">Záznamy sledování se filtrují pomocí sledovacího profilu.</span><span class="sxs-lookup"><span data-stu-id="e4381-332">The tracking records are filtered using a tracking profile.</span></span> <span data-ttu-id="e4381-333">.NET Framework poskytuje účastník sledování trasování událostí pro Windows (Event Tracing for Windows) a v souboru Machine. config je nainstalovaný základní profil.</span><span class="sxs-lookup"><span data-stu-id="e4381-333">The .NET Framework provides an ETW (Event Tracing for Windows) tracking participant, and a basic profile is installed in the machine.config file.</span></span>

### <a name="getting-started"></a><span data-ttu-id="e4381-334">Začínáme</span><span class="sxs-lookup"><span data-stu-id="e4381-334">Getting Started</span></span>

1. <span data-ttu-id="e4381-335">V aplikaci Visual Studio 2010 vytvořte projekt aplikace služby pracovního postupu WCF.</span><span class="sxs-lookup"><span data-stu-id="e4381-335">In Visual Studio 2010, create a WCF Workflow Service Application project.</span></span> <span data-ttu-id="e4381-336">Na plátno se umístí pár <xref:System.ServiceModel.Activities.Receive> a <xref:System.ServiceModel.Activities.SendReply>, aby se spustila.</span><span class="sxs-lookup"><span data-stu-id="e4381-336">A <xref:System.ServiceModel.Activities.Receive> and <xref:System.ServiceModel.Activities.SendReply> pair will be placed on your canvas to start.</span></span>

2. <span data-ttu-id="e4381-337">Otevřete soubor Web. config a přidejte chování sledování ETW bez profilu.</span><span class="sxs-lookup"><span data-stu-id="e4381-337">Open the web.config and add an ETW tracking behavior with no profile.</span></span>

    1. <span data-ttu-id="e4381-338">Použije se výchozí profil.</span><span class="sxs-lookup"><span data-stu-id="e4381-338">The default profile is used.</span></span>

    2. <span data-ttu-id="e4381-339">Otevřete Prohlížeč událostí a povolte analytický kanál v následujícím uzlu: **Prohlížeč událostí**, **protokoly aplikací a služeb**, **Microsoft**, **Windows**, **aplikační server – aplikace**.</span><span class="sxs-lookup"><span data-stu-id="e4381-339">Open event viewer and enable the analytic channel in the following node: **Event Viewer**, **Applications and Services Logs**, **Microsoft**, **Windows**, **Application Server-Applications**.</span></span> <span data-ttu-id="e4381-340">Klikněte pravým tlačítkem na možnost **analytické** a vyberte **Povolit protokol**.</span><span class="sxs-lookup"><span data-stu-id="e4381-340">Right-click **Analytic** and select **Enable Log**.</span></span>

    3. <span data-ttu-id="e4381-341">Spusťte službu pracovního postupu.</span><span class="sxs-lookup"><span data-stu-id="e4381-341">Run the workflow service.</span></span>

    4. <span data-ttu-id="e4381-342">Sledujte události sledování pracovních postupů v prohlížeči událostí.</span><span class="sxs-lookup"><span data-stu-id="e4381-342">Observe the workflow tracking events in event viewer.</span></span>

3. <span data-ttu-id="e4381-343">Ukázky: [sledování](./samples/tracking.md)</span><span class="sxs-lookup"><span data-stu-id="e4381-343">Samples: [Tracking](./samples/tracking.md)</span></span>

4. <span data-ttu-id="e4381-344">Koncepční dokumentace: [sledování a trasování pracovních postupů](workflow-tracking-and-tracing.md)</span><span class="sxs-lookup"><span data-stu-id="e4381-344">Conceptual documentation: [Workflow Tracking and Tracing](workflow-tracking-and-tracing.md)</span></span>

## <a name="sql-workflow-instance-store"></a><span data-ttu-id="e4381-345">Úložiště instancí pracovních postupů SQL</span><span class="sxs-lookup"><span data-stu-id="e4381-345">SQL Workflow Instance Store</span></span>

<span data-ttu-id="e4381-346"><xref:System.Activities.DurableInstancing.SqlWorkflowInstanceStore> je implementace instance na základě SQL Server.</span><span class="sxs-lookup"><span data-stu-id="e4381-346">The <xref:System.Activities.DurableInstancing.SqlWorkflowInstanceStore> is a SQL Server-based implementation of an instance store.</span></span> <span data-ttu-id="e4381-347">Úložiště instancí ukládá stav spuštěné instance společně se všemi daty potřebnými pro načtení a obnovení této instance.</span><span class="sxs-lookup"><span data-stu-id="e4381-347">An instance store stores the state of a running instance together with all data necessary to load and resume that instance.</span></span> <span data-ttu-id="e4381-348">Hostitel služby instruuje úložiště instancí, aby uložil stav instance, pokud pracovní postup přetrvává, a nastaví úložiště instancí, aby načetlo stav instance, když se do této instance dorazí zpráva pro tuto instanci nebo když platnost aktivity zpoždění vyprší.</span><span class="sxs-lookup"><span data-stu-id="e4381-348">The service host instructs the instance store to save the instance state if the workflow persists, and it instructs the instance store to load the instance state when a message arrives for that instance or a delay activity expires.</span></span>

### <a name="getting-started"></a><span data-ttu-id="e4381-349">Začínáme</span><span class="sxs-lookup"><span data-stu-id="e4381-349">Getting Started</span></span>

1. <span data-ttu-id="e4381-350">V aplikaci Visual Studio 2012 vytvořte pracovní postup, který obsahuje implicitní nebo explicitní aktivitu <xref:System.Activities.Statements.Persist>.</span><span class="sxs-lookup"><span data-stu-id="e4381-350">In Visual Studio 2012, create a Workflow that contains an implicit or explicit <xref:System.Activities.Statements.Persist> activity.</span></span> <span data-ttu-id="e4381-351">Přidejte <xref:System.Activities.DurableInstancing.SqlWorkflowInstanceStore> chování do hostitele služby pracovního postupu.</span><span class="sxs-lookup"><span data-stu-id="e4381-351">Add the <xref:System.Activities.DurableInstancing.SqlWorkflowInstanceStore> behavior to your workflow service host.</span></span> <span data-ttu-id="e4381-352">To lze provést v kódu nebo v konfiguračním souboru aplikace.</span><span class="sxs-lookup"><span data-stu-id="e4381-352">This can be done in code or in the application configuration file.</span></span>

2. <span data-ttu-id="e4381-353">Ukázky: [trvalost](/previous-versions/dotnet/netframework-4.0/dd699769(v%3dvs.100))</span><span class="sxs-lookup"><span data-stu-id="e4381-353">Samples: [Persistence](/previous-versions/dotnet/netframework-4.0/dd699769(v%3dvs.100))</span></span>

3. <span data-ttu-id="e4381-354">Koncepční dokumentace: [úložiště instancí pracovních postupů SQL](sql-workflow-instance-store.md)</span><span class="sxs-lookup"><span data-stu-id="e4381-354">Conceptual documentation: [SQL Workflow Instance Store](sql-workflow-instance-store.md).</span></span>
