---
title: Specifické funkce Windows Workflow Foundation
ms.date: 03/30/2017
ms.assetid: e84d12da-a055-45f6-b4d1-878d127b46b6
ms.openlocfilehash: 11bde5edea44f09ef1a5658cdf0e20ec1349c84b
ms.sourcegitcommit: 7588136e355e10cbc2582f389c90c127363c02a5
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 03/12/2020
ms.locfileid: "79182926"
---
# <a name="windows-workflow-foundation-feature-specifics"></a><span data-ttu-id="6bab3-102">Specifické funkce Windows Workflow Foundation</span><span class="sxs-lookup"><span data-stu-id="6bab3-102">Windows Workflow Foundation Feature Specifics</span></span>

<span data-ttu-id="6bab3-103">Rozhraní .NET Framework 4 přidává do nadace Windows Workflow Foundation řadu funkcí.</span><span class="sxs-lookup"><span data-stu-id="6bab3-103">.NET Framework 4 adds a number of features to Windows Workflow Foundation.</span></span> <span data-ttu-id="6bab3-104">Tento dokument popisuje řadu nových funkcí a poskytuje podrobnosti o scénářích, ve kterých mohou být užitečné.</span><span class="sxs-lookup"><span data-stu-id="6bab3-104">This document describes a number of the new features, and gives details about scenarios in which they may be useful.</span></span>

## <a name="messaging-activities"></a><span data-ttu-id="6bab3-105">Aktivity zasílání zpráv</span><span class="sxs-lookup"><span data-stu-id="6bab3-105">Messaging Activities</span></span>

<span data-ttu-id="6bab3-106">Aktivity zasílání<xref:System.ServiceModel.Activities.Receive>zpráv <xref:System.ServiceModel.Activities.SendReply> <xref:System.ServiceModel.Activities.Send>( <xref:System.ServiceModel.Activities.ReceiveReply>, , , ) se používají k odesílání a přijímání zpráv WCF z pracovního postupu.</span><span class="sxs-lookup"><span data-stu-id="6bab3-106">The messaging activities (<xref:System.ServiceModel.Activities.Receive>, <xref:System.ServiceModel.Activities.SendReply>, <xref:System.ServiceModel.Activities.Send>, <xref:System.ServiceModel.Activities.ReceiveReply>) are used to send and receive WCF messages from your workflow.</span></span> <span data-ttu-id="6bab3-107"><xref:System.ServiceModel.Activities.Receive>a <xref:System.ServiceModel.Activities.SendReply> aktivity se používají k vytvoření operace služby WCF (Windows Communication Foundation), která je vystavena prostřednictvím WSDL stejně jako standardní webové služby WCF.</span><span class="sxs-lookup"><span data-stu-id="6bab3-107"><xref:System.ServiceModel.Activities.Receive> and <xref:System.ServiceModel.Activities.SendReply> activities are used to form a Windows Communication Foundation (WCF) service operation that is exposed via WSDL just like standard WCF web services.</span></span> <span data-ttu-id="6bab3-108"><xref:System.ServiceModel.Activities.Send>a <xref:System.ServiceModel.Activities.ReceiveReply> používají se ke spotřebovávat <xref:System.ServiceModel.ChannelFactory>webové služby podobné WCF ; **prostředí Add Service Reference** existuje také pro Workflow Foundation, který generuje předem nakonfigurované aktivity.</span><span class="sxs-lookup"><span data-stu-id="6bab3-108"><xref:System.ServiceModel.Activities.Send> and <xref:System.ServiceModel.Activities.ReceiveReply> are used to consume a web service similar to a WCF <xref:System.ServiceModel.ChannelFactory>; an **Add Service Reference** experience also exists for Workflow Foundation that generates pre-configured activities.</span></span>

### <a name="getting-started-with-messaging-activities"></a><span data-ttu-id="6bab3-109">Začínáme s aktivitami zasílání zpráv</span><span class="sxs-lookup"><span data-stu-id="6bab3-109">Getting Started with Messaging Activities</span></span>

- <span data-ttu-id="6bab3-110">V sadě Visual Studio 2012 vytvořte projekt aplikace služby WCF Workflow Service.</span><span class="sxs-lookup"><span data-stu-id="6bab3-110">In Visual Studio 2012, create a WCF Workflow Service Application project.</span></span> <span data-ttu-id="6bab3-111">A <xref:System.ServiceModel.Activities.Receive> <xref:System.ServiceModel.Activities.SendReply> a pár budou umístěny na plátně.</span><span class="sxs-lookup"><span data-stu-id="6bab3-111">A <xref:System.ServiceModel.Activities.Receive> and <xref:System.ServiceModel.Activities.SendReply> pair will be placed on your canvas.</span></span>

- <span data-ttu-id="6bab3-112">Klikněte pravým tlačítkem myši na projekt a vyberte **přidat odkaz na službu**.</span><span class="sxs-lookup"><span data-stu-id="6bab3-112">Right-click on the project and select **Add Service Reference**.</span></span> <span data-ttu-id="6bab3-113">Přejděte na existující webovou službu WSDL a klepněte na tlačítko **OK**.</span><span class="sxs-lookup"><span data-stu-id="6bab3-113">Point to an existing web service WSDL and click **OK**.</span></span> <span data-ttu-id="6bab3-114">Sestavte si svůj projekt zobrazit <xref:System.ServiceModel.Activities.Send> generované <xref:System.ServiceModel.Activities.ReceiveReply>aktivity (implementované pomocí a ) v panelu nástrojů.</span><span class="sxs-lookup"><span data-stu-id="6bab3-114">Build your project to show the generated activities (implemented using <xref:System.ServiceModel.Activities.Send> and <xref:System.ServiceModel.Activities.ReceiveReply>) in your toolbox.</span></span>

- [<span data-ttu-id="6bab3-115">Dokumentace služeb pracovního postupu</span><span class="sxs-lookup"><span data-stu-id="6bab3-115">Workflow services documentation</span></span>](../wcf/feature-details/workflow-services.md)

### <a name="messaging-activities-example-scenario"></a><span data-ttu-id="6bab3-116">Scénář příklad aktivit zasílání zpráv</span><span class="sxs-lookup"><span data-stu-id="6bab3-116">Messaging Activities Example Scenario</span></span>

<span data-ttu-id="6bab3-117">Služba `BestPriceFinder` volá na více leteckých služeb najít nejlepší cenu letenky pro konkrétní trasu.</span><span class="sxs-lookup"><span data-stu-id="6bab3-117">A `BestPriceFinder` service calls out to multiple airline services to find the best ticket price for a particular route.</span></span> <span data-ttu-id="6bab3-118">Implementace tohoto scénáře by vyžadovala použití aktivitzprávy k přijetí požadavku na cenu, načtení cen ze služeb back-end a odpovědi na požadavek na cenu s nejlepší cenou.</span><span class="sxs-lookup"><span data-stu-id="6bab3-118">Implementing this scenario would require you to use the message activities to receive the price request, retrieve the prices from the back-end services, and reply to the price request with the best price.</span></span> <span data-ttu-id="6bab3-119">To by také vyžadovat, abyste použít jiné out-of-box aktivity k vytvoření obchodní logiky pro výpočet nejlepší ceny.</span><span class="sxs-lookup"><span data-stu-id="6bab3-119">It would also require you to use other out-of-box activities to create the business logic for calculating the best price.</span></span>

## <a name="workflowservicehost"></a><span data-ttu-id="6bab3-120">Workflowservicehost</span><span class="sxs-lookup"><span data-stu-id="6bab3-120">WorkflowServiceHost</span></span>

<span data-ttu-id="6bab3-121">Jedná <xref:System.ServiceModel.WorkflowServiceHost> se o out-of-box workflow hostitele, který podporuje více instancí, konfigurace a WCF zasílání zpráv (i když pracovní postupy nejsou nutné používat zasílání zpráv, aby byly hostovány).</span><span class="sxs-lookup"><span data-stu-id="6bab3-121">The <xref:System.ServiceModel.WorkflowServiceHost> is the out-of-box workflow host that supports multiple instances, configuration, and WCF messaging (although the workflows aren't required to use messaging in order to be hosted).</span></span> <span data-ttu-id="6bab3-122">Také integruje s trvalost, sledování a řízení instancí prostřednictvím sady chování služby.</span><span class="sxs-lookup"><span data-stu-id="6bab3-122">It also integrates with persistence, tracking, and instance control through a set of service behaviors.</span></span> <span data-ttu-id="6bab3-123">Stejně jako WCF <xref:System.ServiceModel.ServiceHost> <xref:System.ServiceModel.WorkflowServiceHost> , může být vlastní hostované v konzoli / WinForms / WPF aplikace nebo služby Systému Windows, nebo web-hostované (jako soubor Xamlx) ve službě IIS nebo WAS.</span><span class="sxs-lookup"><span data-stu-id="6bab3-123">Just like WCF's <xref:System.ServiceModel.ServiceHost>, the <xref:System.ServiceModel.WorkflowServiceHost> can be self-hosted in a console/WinForms/WPF application or Windows service, or web-hosted (as a .xamlx file) in IIS or WAS.</span></span>

### <a name="getting-started-with-workflow-service-host"></a><span data-ttu-id="6bab3-124">Začínáme s hostitelem služby pracovního postupu</span><span class="sxs-lookup"><span data-stu-id="6bab3-124">Getting Started with Workflow Service Host</span></span>

- <span data-ttu-id="6bab3-125">V sadě Visual Studio 2010 vytvořte projekt aplikace služby WCF <xref:System.ServiceModel.WorkflowServiceHost> Workflow Service: tento projekt bude nastaven pro použití v prostředí webhostingu.</span><span class="sxs-lookup"><span data-stu-id="6bab3-125">In Visual Studio 2010, create a WCF Workflow Service Application project: this project will be set up to use <xref:System.ServiceModel.WorkflowServiceHost> in a web-host environment.</span></span>

- <span data-ttu-id="6bab3-126">Chcete-li být hostitelem pracovního postupu <xref:System.ServiceModel.Activities.WorkflowHostingEndpoint> bez zasílání zpráv, přidejte vlastní, která vytvoří instanci na základě zprávy.</span><span class="sxs-lookup"><span data-stu-id="6bab3-126">In order to host a non-messaging workflow, add a custom <xref:System.ServiceModel.Activities.WorkflowHostingEndpoint> that will create the instance based on a message.</span></span>

- <span data-ttu-id="6bab3-127">Instance pracovního postupu lze ovládat (např. pozastaveno nebo <xref:System.ServiceModel.Activities.WorkflowControlEndpoint> ukončeno) přidáním a a <xref:System.ServiceModel.WorkflowServiceHost> potom pomocí <xref:System.ServiceModel.Activities.WorkflowControlClient>.</span><span class="sxs-lookup"><span data-stu-id="6bab3-127">Workflow instances can be controlled (e.g. suspended or terminated) by adding a <xref:System.ServiceModel.Activities.WorkflowControlEndpoint> to the <xref:System.ServiceModel.WorkflowServiceHost> and then using a <xref:System.ServiceModel.Activities.WorkflowControlClient>.</span></span>

- <span data-ttu-id="6bab3-128">Vzorky <xref:System.ServiceModel.WorkflowServiceHost> pro tyto vzorky naleznete v následujících oddílech:</span><span class="sxs-lookup"><span data-stu-id="6bab3-128">Samples for the <xref:System.ServiceModel.WorkflowServiceHost> can be found in the following sections:</span></span>

  - [<span data-ttu-id="6bab3-129">Spouštěcí</span><span class="sxs-lookup"><span data-stu-id="6bab3-129">Execution</span></span>](./samples/execution.md)

  - <span data-ttu-id="6bab3-130">Aplikace: [Správa pozastavených instancí](./samples/suspended-instance-management.md)</span><span class="sxs-lookup"><span data-stu-id="6bab3-130">Application: [Suspended Instance Management](./samples/suspended-instance-management.md)</span></span>

- [<span data-ttu-id="6bab3-131">Přehled služeb hostování pracovního postupu</span><span class="sxs-lookup"><span data-stu-id="6bab3-131">Hosting Workflow services overview</span></span>](../wcf/feature-details/hosting-workflow-services-overview.md)

### <a name="workflowservicehost-scenario"></a><span data-ttu-id="6bab3-132">Scénář WorkflowServiceHost</span><span class="sxs-lookup"><span data-stu-id="6bab3-132">WorkflowServiceHost Scenario</span></span>

<span data-ttu-id="6bab3-133">Služba BestPriceFinder volá na více leteckých služeb najít nejlepší cenu letenky pro konkrétní trasu.</span><span class="sxs-lookup"><span data-stu-id="6bab3-133">A BestPriceFinder service calls out to multiple airline services to find the best ticket price for a particular route.</span></span> <span data-ttu-id="6bab3-134">Implementace tohoto scénáře by vyžadovala hostování <xref:System.ServiceModel.WorkflowServiceHost>pracovního postupu v aplikaci .</span><span class="sxs-lookup"><span data-stu-id="6bab3-134">Implementing this scenario would require you to host the workflow in <xref:System.ServiceModel.WorkflowServiceHost>.</span></span> <span data-ttu-id="6bab3-135">To by také použít zprávy aktivity přijímat žádost o cenu, načíst ceny z back-end služby a odpověď na žádost o cenu s nejlepší cenou.</span><span class="sxs-lookup"><span data-stu-id="6bab3-135">It would also use the message activities to receive the price request, retrieve the prices from the back-end services, and reply to the price request with the best price.</span></span>

## <a name="correlation"></a><span data-ttu-id="6bab3-136">Korelace</span><span class="sxs-lookup"><span data-stu-id="6bab3-136">Correlation</span></span>

<span data-ttu-id="6bab3-137">Korelace je jedna ze dvou věcí:</span><span class="sxs-lookup"><span data-stu-id="6bab3-137">A correlation is one of two things:</span></span>

- <span data-ttu-id="6bab3-138">Způsob seskupení zpráv dohromady; to znamená vztah mezi zprávou požadavku a její odpovědí.</span><span class="sxs-lookup"><span data-stu-id="6bab3-138">A way of grouping messages together; that is, the relationship between a request message and its reply.</span></span>

- <span data-ttu-id="6bab3-139">Způsob mapování části dat na instanci služby</span><span class="sxs-lookup"><span data-stu-id="6bab3-139">A way of mapping a piece of data to a service instance</span></span>

### <a name="getting-started"></a><span data-ttu-id="6bab3-140">Začínáme</span><span class="sxs-lookup"><span data-stu-id="6bab3-140">Getting Started</span></span>

- <span data-ttu-id="6bab3-141">Chcete-li začít s korelací, vytvořte nový projekt v sadě Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="6bab3-141">To get started with correlation, create a new project in Visual Studio.</span></span> <span data-ttu-id="6bab3-142">Vytvořte proměnnou <xref:System.ServiceModel.Activities.CorrelationHandle>typu .</span><span class="sxs-lookup"><span data-stu-id="6bab3-142">Create a variable of type <xref:System.ServiceModel.Activities.CorrelationHandle>.</span></span>

- <span data-ttu-id="6bab3-143">Příkladem korelace používané ke skupině zpráv dohromady je požadavek odpověď korelace, která seskupuje zprávy dohromady.</span><span class="sxs-lookup"><span data-stu-id="6bab3-143">An example of correlation used to group messages together is a Request-Reply correlation that groups messages together.</span></span>

  - <span data-ttu-id="6bab3-144">Na <xref:System.ServiceModel.Activities.Receive> aktivitu klikněte <xref:System.ServiceModel.Activities.Receive.CorrelationInitializers%2A> na vlastnost <xref:System.ServiceModel.Activities.RequestReplyCorrelationInitializer> a přidejte pomocí CorrelationHandle vytvořené v prvním kroku výše.</span><span class="sxs-lookup"><span data-stu-id="6bab3-144">On a <xref:System.ServiceModel.Activities.Receive> activity, click on the <xref:System.ServiceModel.Activities.Receive.CorrelationInitializers%2A> property and add a <xref:System.ServiceModel.Activities.RequestReplyCorrelationInitializer> using the CorrelationHandle created in the first step above.</span></span>

  - <span data-ttu-id="6bab3-145">Vytvořte <xref:System.ServiceModel.Activities.SendReply> aktivitu kliknutím pravým <xref:System.ServiceModel.Activities.Receive> tlačítkem myši na tlačítko "Vytvořit sendreply".</span><span class="sxs-lookup"><span data-stu-id="6bab3-145">Create a <xref:System.ServiceModel.Activities.SendReply> activity by right-clicking on the <xref:System.ServiceModel.Activities.Receive> and clicking "Create SendReply".</span></span> <span data-ttu-id="6bab3-146">Po aktivitě jej <xref:System.ServiceModel.Activities.Receive> vložte do pracovního postupu.</span><span class="sxs-lookup"><span data-stu-id="6bab3-146">Paste it into your workflow after the <xref:System.ServiceModel.Activities.Receive> activity.</span></span>

- <span data-ttu-id="6bab3-147">Příkladem mapování části dat na instanci služby je korelace založená na obsahu, která mapuje část dat (například ID objednávky) na konkrétní instanci pracovního postupu.</span><span class="sxs-lookup"><span data-stu-id="6bab3-147">An example of mapping a piece of data to a service instance is content-based correlation which maps a piece of data (for example, an order ID) to a particular workflow instance.</span></span>

  - <span data-ttu-id="6bab3-148">Při jakékoli aktivitě zasílání `CorrelationInitializers` zpráv klikněte <xref:System.ServiceModel.Activities.QueryCorrelationInitializer> na <xref:System.ServiceModel.Activities.CorrelationHandle> vlastnost a přidejte pomocí výše vytvořené proměnné.</span><span class="sxs-lookup"><span data-stu-id="6bab3-148">On any messaging activity, click on the `CorrelationInitializers` property and add a <xref:System.ServiceModel.Activities.QueryCorrelationInitializer> using the <xref:System.ServiceModel.Activities.CorrelationHandle> variable created above.</span></span> <span data-ttu-id="6bab3-149">Poklepejte na požadovanou vlastnost na zprávě (např.</span><span class="sxs-lookup"><span data-stu-id="6bab3-149">Double-click on the desired property on the message (e.g. OrderID) from the drop-down menu.</span></span> <span data-ttu-id="6bab3-150">Nastavte `CorrelatesWith` vlastnost na <xref:System.ServiceModel.Activities.CorrelationHandle> proměnnou použitou výše.</span><span class="sxs-lookup"><span data-stu-id="6bab3-150">Set the `CorrelatesWith` property to the <xref:System.ServiceModel.Activities.CorrelationHandle> variable used above.</span></span>

- [<span data-ttu-id="6bab3-151">Koncepční dokumentace korelace</span><span class="sxs-lookup"><span data-stu-id="6bab3-151">Correlation Conceptual Documentation</span></span>](../wcf/feature-details/correlation.md)

### <a name="correlation-scenario"></a><span data-ttu-id="6bab3-152">Scénář korelace</span><span class="sxs-lookup"><span data-stu-id="6bab3-152">Correlation Scenario</span></span>

<span data-ttu-id="6bab3-153">Pracovní postup zpracování objednávek se používá ke zpracování nového vytváření objednávek a aktualizaci existujících objednávek, které jsou v procesu.</span><span class="sxs-lookup"><span data-stu-id="6bab3-153">An order-processing workflow is used to handle new order creation and updating existing orders that are in process.</span></span> <span data-ttu-id="6bab3-154">Implementace tohoto scénáře by vyžadovala hostování <xref:System.ServiceModel.WorkflowServiceHost> pracovního postupu v aktivitách zasílání zpráv a jejich použití.</span><span class="sxs-lookup"><span data-stu-id="6bab3-154">Implementing this scenario would require you to host the workflow in <xref:System.ServiceModel.WorkflowServiceHost> and use the messaging activities.</span></span> <span data-ttu-id="6bab3-155">To by také vyžadovat `orderId` korelace na základě zajistit, že aktualizace jsou prováděny na správný pracovní postup.</span><span class="sxs-lookup"><span data-stu-id="6bab3-155">It would also require correlation based on the `orderId` to ensure that updates are made to the correct workflow.</span></span>

## <a name="simplified-configuration"></a><span data-ttu-id="6bab3-156">Zjednodušená konfigurace</span><span class="sxs-lookup"><span data-stu-id="6bab3-156">Simplified Configuration</span></span>

<span data-ttu-id="6bab3-157">Schéma konfigurace WCF je složité a poskytuje uživatelům mnoho funkcí, které se těžko nacházejí.</span><span class="sxs-lookup"><span data-stu-id="6bab3-157">The WCF configuration schema is complex and provides users with many hard to find features.</span></span> <span data-ttu-id="6bab3-158">V [!INCLUDE[netfx_current_short](../../../includes/netfx-current-short-md.md)]aplikaci jsme se zaměřili na pomoc uživatelům WCF při konfiguraci jejich služeb s následujícími funkcemi:</span><span class="sxs-lookup"><span data-stu-id="6bab3-158">In [!INCLUDE[netfx_current_short](../../../includes/netfx-current-short-md.md)], we have focused on helping WCF users configure their services with the following features:</span></span>

- <span data-ttu-id="6bab3-159">Odstranění potřeby explicitní konfigurace pro službu.</span><span class="sxs-lookup"><span data-stu-id="6bab3-159">Removing the need for explicit per-service configuration.</span></span> <span data-ttu-id="6bab3-160">Pokud nenakonfigurujete žádné \<prvky služby> pro vaši službu a vaše služba nedefinuje programově žádný koncový bod, bude automaticky přidána sada koncových bodů do vaší služby, jedna na adresu základny služby a na smlouvu implementovanou vaší službou.</span><span class="sxs-lookup"><span data-stu-id="6bab3-160">If you do not configure any \<service> elements for your service, and your service does not define programmatically any endpoint, then a set of endpoints will be automatically added to your service, one per service base address and per contract implemented by your service.</span></span>

- <span data-ttu-id="6bab3-161">Umožňuje uživateli definovat výchozí hodnoty pro vazby WCF a chování, které budou použity pro služby bez explicitní konfigurace.</span><span class="sxs-lookup"><span data-stu-id="6bab3-161">Enables the user to define default values for WCF bindings and behaviors, which will be applied to services with no explicit configuration.</span></span>

- <span data-ttu-id="6bab3-162">Standardní koncové body definují opakovaně použitelné předkonfigurované koncové body, které mají pevné hodnoty pro jednu nebo více vlastností koncového bodu (adresa, vazba a smlouva) a umožňují definování vlastních vlastností.</span><span class="sxs-lookup"><span data-stu-id="6bab3-162">Standard endpoints define reusable preconfigured endpoints, which have fixed values for one or more of the endpoint properties (address, binding and contract), and allow defining custom properties.</span></span>

- <span data-ttu-id="6bab3-163">Nakonec <xref:System.ServiceModel.Configuration.ConfigurationChannelFactory%601> umožňuje provést centrální správu konfigurace klienta WCF, užitečné ve scénářích, ve kterých je konfigurace vybrána nebo změněna po době načítání domény aplikace.</span><span class="sxs-lookup"><span data-stu-id="6bab3-163">Finally, the <xref:System.ServiceModel.Configuration.ConfigurationChannelFactory%601> allows you to do central management of WCF client configuration, useful in scenarios in which configuration is selected or changed after the application domain load time.</span></span>

### <a name="getting-started"></a><span data-ttu-id="6bab3-164">Začínáme</span><span class="sxs-lookup"><span data-stu-id="6bab3-164">Getting Started</span></span>

- <span data-ttu-id="6bab3-165">[Průvodce vývojářem wcf 4.0](https://docs.microsoft.com/previous-versions/dotnet/articles/ee354381(v=msdn.10))</span><span class="sxs-lookup"><span data-stu-id="6bab3-165">[A Developer's Guide to WCF 4.0](https://docs.microsoft.com/previous-versions/dotnet/articles/ee354381(v=msdn.10))</span></span>

- [<span data-ttu-id="6bab3-166">Objekt pro vytváření kanálů konfigurace</span><span class="sxs-lookup"><span data-stu-id="6bab3-166">Configuration Channel Factory</span></span>](xref:System.ServiceModel.Configuration.ConfigurationChannelFactory%601)

- [<span data-ttu-id="6bab3-167">Standardní prvek koncového bodu</span><span class="sxs-lookup"><span data-stu-id="6bab3-167">Standard Endpoint Element</span></span>](xref:System.ServiceModel.Configuration.StandardEndpointElement)

- [<span data-ttu-id="6bab3-168">Vylepšení konfigurace služby v rozhraní .NET Framework 4</span><span class="sxs-lookup"><span data-stu-id="6bab3-168">Service configuration improvements in .NET Framework 4</span></span>](https://docs.microsoft.com/archive/blogs/endpoint/service-configuration-improvements-in-net-4)

- [<span data-ttu-id="6bab3-169">Běžná chyba uživatele v rozhraní .NET 4: Chybné zadání názvu konfigurace služby WF/WCF</span><span class="sxs-lookup"><span data-stu-id="6bab3-169">Common User Mistake in .NET 4: Mistyping the WF/WCF Service Configuration Name</span></span>](https://docs.microsoft.com/archive/blogs/endpoint/common-user-mistake-in-net-4-mistyping-the-wfwcf-service-configuration-name)

### <a name="simplified-configuration-scenarios"></a><span data-ttu-id="6bab3-170">Zjednodušené scénáře konfigurace</span><span class="sxs-lookup"><span data-stu-id="6bab3-170">Simplified Configuration Scenarios</span></span>

- <span data-ttu-id="6bab3-171">Zkušený vývojář ASMX chce začít používat WCF.</span><span class="sxs-lookup"><span data-stu-id="6bab3-171">An experienced ASMX developer wants to start using WCF.</span></span> <span data-ttu-id="6bab3-172">Nicméně, WCF se zdá příliš složité!</span><span class="sxs-lookup"><span data-stu-id="6bab3-172">However, WCF seems way too complicated!</span></span> <span data-ttu-id="6bab3-173">Jaké jsou všechny tyto informace, které potřebuji k zápisu do konfiguračního souboru?</span><span class="sxs-lookup"><span data-stu-id="6bab3-173">What is all that information that I need to write in a configuration file?</span></span> <span data-ttu-id="6bab3-174">V rozhraní .NET 4 se dokonce můžete rozhodnout, že konfigurační soubor vůbec nebudete mít.</span><span class="sxs-lookup"><span data-stu-id="6bab3-174">In .NET 4, you can even decide to not have a configuration file at all.</span></span>

- <span data-ttu-id="6bab3-175">Existující sadu služeb WCF je velmi obtížné konfigurovat a udržovat.</span><span class="sxs-lookup"><span data-stu-id="6bab3-175">An existing set of WCF services are very difficult to configure and maintain.</span></span> <span data-ttu-id="6bab3-176">Konfigurační soubor má tisíce řádků kódu XML, které jsou velmi nebezpečné na dotek.</span><span class="sxs-lookup"><span data-stu-id="6bab3-176">The configuration file has thousands of lines of XML code that are extremely dangerous to touch.</span></span> <span data-ttu-id="6bab3-177">Nápověda je potřeba snížit toto množství kódu na něco lépe spravovatelné.</span><span class="sxs-lookup"><span data-stu-id="6bab3-177">Help is needed to reduce that amount of code to something more manageable.</span></span>

## <a name="data-contract-resolver"></a><span data-ttu-id="6bab3-178">Překladač kontraktů dat</span><span class="sxs-lookup"><span data-stu-id="6bab3-178">Data Contract Resolver</span></span>

<span data-ttu-id="6bab3-179">V rozhraní .NET 3.5 existovalo několik omezení v návrhu známých typů:</span><span class="sxs-lookup"><span data-stu-id="6bab3-179">In .NET 3.5, there were a few limitations in the design of known types:</span></span>

- <span data-ttu-id="6bab3-180">Dynamické přidání známých typů během serializace nebo deserializace nebylo možné.</span><span class="sxs-lookup"><span data-stu-id="6bab3-180">Adding known types dynamically, during serialization or deserialization, was not possible.</span></span>

- <span data-ttu-id="6bab3-181">Serializátory nemohly řešit neznámé informace typu xsi:type.</span><span class="sxs-lookup"><span data-stu-id="6bab3-181">Serializers could not deal with unknown xsi:type information.</span></span>

- <span data-ttu-id="6bab3-182">Nebylo možné, aby uživatelé specifikovali, jaký typ xsi:by chtěli mít v drátě, například zmenšit velikost instance serializace v drátu.</span><span class="sxs-lookup"><span data-stu-id="6bab3-182">It was not possible for users to specify what xsi:type they would like to have appear on the wire to, for instance, make the size of a serialization instance on the wire smaller.</span></span>

<span data-ttu-id="6bab3-183">[DataContractResolver](../wcf/samples/datacontractresolver.md) řeší tyto problémy v .NET 4.5.</span><span class="sxs-lookup"><span data-stu-id="6bab3-183">The [DataContractResolver](../wcf/samples/datacontractresolver.md) solves these issues in .NET 4.5.</span></span>

### <a name="getting-started"></a><span data-ttu-id="6bab3-184">Začínáme</span><span class="sxs-lookup"><span data-stu-id="6bab3-184">Getting Started</span></span>

- [<span data-ttu-id="6bab3-185">Dokumentace rozhraní API překladače kontraktů dat</span><span class="sxs-lookup"><span data-stu-id="6bab3-185">Data Contract Resolver API documentation</span></span>](xref:System.Runtime.Serialization.DataContractResolver)

- [<span data-ttu-id="6bab3-186">Představujeme překladač kontraktů dat</span><span class="sxs-lookup"><span data-stu-id="6bab3-186">Introducing the Data Contract Resolver</span></span>](https://docs.microsoft.com/archive/blogs/youssefm/configuring-known-types-dynamically-introducing-the-datacontractresolver)

- <span data-ttu-id="6bab3-187">Vzorky:</span><span class="sxs-lookup"><span data-stu-id="6bab3-187">Samples:</span></span>

  - [<span data-ttu-id="6bab3-188">DataContractResolver</span><span class="sxs-lookup"><span data-stu-id="6bab3-188">DataContractResolver</span></span>](../wcf/samples/datacontractresolver.md)

  - [<span data-ttu-id="6bab3-189">KnownAssemblyAttribute</span><span class="sxs-lookup"><span data-stu-id="6bab3-189">KnownAssemblyAttribute</span></span>](../wcf/samples/knownassemblyattribute.md)

### <a name="data-contract-resolver-scenarios"></a><span data-ttu-id="6bab3-190">Scénáře překladače kontraktu dat</span><span class="sxs-lookup"><span data-stu-id="6bab3-190">Data Contract Resolver Scenarios</span></span>

- <span data-ttu-id="6bab3-191">Vyhněte se nutnosti deklarovat desítky <xref:System.Runtime.Serialization.KnownTypeAttribute> objektů ve službě.</span><span class="sxs-lookup"><span data-stu-id="6bab3-191">Avoiding having to declare tens of <xref:System.Runtime.Serialization.KnownTypeAttribute> objects in a service.</span></span>

- <span data-ttu-id="6bab3-192">Zmenšení velikosti objektu blob XML.</span><span class="sxs-lookup"><span data-stu-id="6bab3-192">Reducing the size of the XML blob.</span></span>

## <a name="flowchart"></a><span data-ttu-id="6bab3-193">Vývojový diagram</span><span class="sxs-lookup"><span data-stu-id="6bab3-193">Flowchart</span></span>

<span data-ttu-id="6bab3-194">Vývojový diagram je dobře známé paradigma vizuálně představují problémy domény.</span><span class="sxs-lookup"><span data-stu-id="6bab3-194">Flowchart is a well-known paradigm to visually represent domain problems.</span></span> <span data-ttu-id="6bab3-195">Jedná se o nový styl toku řízení, který zavádíme v rozhraní .NET 4.</span><span class="sxs-lookup"><span data-stu-id="6bab3-195">It is a new control flow style we're introducing in .NET 4.</span></span> <span data-ttu-id="6bab3-196">Základní charakteristikou vývojového diagramu je, že v daném okamžiku je spuštěna pouze jedna aktivita.</span><span class="sxs-lookup"><span data-stu-id="6bab3-196">A core characteristic of Flowchart is that only one activity is executed at any given time.</span></span> <span data-ttu-id="6bab3-197">Vývojové diagramy mohou vyjadřovat smyčky a alternativní výsledky, ale nemohou nativně vyjádřit souběžné provádění více uzlů.</span><span class="sxs-lookup"><span data-stu-id="6bab3-197">Flowcharts can express loops and alternative outcomes, but cannot natively express concurrent execution of multiple nodes.</span></span>

### <a name="getting-started"></a><span data-ttu-id="6bab3-198">Začínáme</span><span class="sxs-lookup"><span data-stu-id="6bab3-198">Getting Started</span></span>

- <span data-ttu-id="6bab3-199">V sadě Visual Studio 2012 vytvořte konzolovou aplikaci pracovního postupu.</span><span class="sxs-lookup"><span data-stu-id="6bab3-199">In Visual Studio 2012, create a workflow console application.</span></span> <span data-ttu-id="6bab3-200">Přidejte vývojový diagram do návrháře pracovního postupu.</span><span class="sxs-lookup"><span data-stu-id="6bab3-200">Add a Flowchart in the workflow designer.</span></span>

- <span data-ttu-id="6bab3-201">Funkce vývojového diagramu používá následující třídy:</span><span class="sxs-lookup"><span data-stu-id="6bab3-201">The flowchart feature uses the following classes:</span></span>

  - <xref:System.Activities.Statements.Flowchart>

  - <xref:System.Activities.Statements.FlowNode>

  - <xref:System.Activities.Statements.FlowDecision>

  - <xref:System.Activities.Statements.FlowStep>

  - <xref:System.Activities.Statements.FlowSwitch%601>

- <span data-ttu-id="6bab3-202">Vzorky:</span><span class="sxs-lookup"><span data-stu-id="6bab3-202">Samples:</span></span>

  - [<span data-ttu-id="6bab3-203">Zpracování chyb v aktivitě FlowChart pomocí TryCatch</span><span class="sxs-lookup"><span data-stu-id="6bab3-203">Fault Handling in a Flowchart Activity Using TryCatch</span></span>](./samples/fault-handling-in-a-flowchart-activity-using-trycatch.md)

  - [<span data-ttu-id="6bab3-204">Proces náboru</span><span class="sxs-lookup"><span data-stu-id="6bab3-204">Hiring Process</span></span>](./samples/hiring-process.md)

- <span data-ttu-id="6bab3-205">Dokumentace návrháře:</span><span class="sxs-lookup"><span data-stu-id="6bab3-205">Designer Documentation:</span></span>

  - [<span data-ttu-id="6bab3-206">Návrháři aktivit vývojového diagramu</span><span class="sxs-lookup"><span data-stu-id="6bab3-206">Flowchart Activity Designers</span></span>](/visualstudio/workflow-designer/flowchart-activity-designers)

### <a name="flowchart-scenarios"></a><span data-ttu-id="6bab3-207">Scénáře vývojového diagramu</span><span class="sxs-lookup"><span data-stu-id="6bab3-207">Flowchart Scenarios</span></span>

<span data-ttu-id="6bab3-208">Vývojový diagram aktivity lze použít k implementaci hádání hry.</span><span class="sxs-lookup"><span data-stu-id="6bab3-208">A flowchart activity can be used to implement a guessing game.</span></span> <span data-ttu-id="6bab3-209">Hádání hra je velmi jednoduchá: počítač vybere náhodné číslo a hráč musí uhodnout, že číslo.</span><span class="sxs-lookup"><span data-stu-id="6bab3-209">The guessing game is very simple: the computer selects a random number and the player has to guess that number.</span></span> <span data-ttu-id="6bab3-210">Když hráč odešle každý odhad, počítač jim ukáže nápovědu (tj. "zkuste nižší číslo").</span><span class="sxs-lookup"><span data-stu-id="6bab3-210">When the player submits each guess, the computer shows them a hint (i.e. "try a lower number").</span></span> <span data-ttu-id="6bab3-211">Pokud hráč najde číslo v méně než 7 pokusech, obdrží speciální gratulaci z počítače.</span><span class="sxs-lookup"><span data-stu-id="6bab3-211">If the player finds the number in less than 7 attempts, they receive a special congratulation from the computer.</span></span> <span data-ttu-id="6bab3-212">Tato hra může být realizován s kombinací následujících procedurálních činností:</span><span class="sxs-lookup"><span data-stu-id="6bab3-212">This game can be implemented with a combination of the following procedural activities:</span></span>

- <xref:System.Activities.Statements.Sequence>

- <xref:System.Activities.Statements.While>

- <xref:System.Activities.Statements.Switch%601>

- <xref:System.Activities.Statements.TryCatch>

- <xref:System.Activities.Statements.Assign%601>

- <xref:System.Activities.Statements.If>

## <a name="procedural-activities-sequence-if-foreach-switch-assign-dowhile-while"></a><span data-ttu-id="6bab3-213">Procedurální činnosti (Sekvence, If, ForEach, Switch, Assign, DoWhile, While)</span><span class="sxs-lookup"><span data-stu-id="6bab3-213">Procedural activities (Sequence, If, ForEach, Switch, Assign, DoWhile, While)</span></span>

<span data-ttu-id="6bab3-214">Procedurální aktivity poskytují mechanismus pro modelování sekvenčního toku řízení pomocí konceptů, které jsou programátorům známé.</span><span class="sxs-lookup"><span data-stu-id="6bab3-214">Procedural activities provide a mechanism to model sequential control flow using concepts that are familiar to programmers.</span></span> <span data-ttu-id="6bab3-215">Tyto aktivity umožňují tradičně strukturované konstrukce programovacích jazyků a v případě potřeby poskytují paritu jazyka s běžnými procedurálními jazyky, jako je c# a visual basic.</span><span class="sxs-lookup"><span data-stu-id="6bab3-215">These activities enable traditionally structured programming language constructs and, when appropriate, provide language parity with common procedural languages such as C# and Visual Basic.</span></span>

### <a name="getting-started"></a><span data-ttu-id="6bab3-216">Začínáme</span><span class="sxs-lookup"><span data-stu-id="6bab3-216">Getting Started</span></span>

- <span data-ttu-id="6bab3-217">V sadě Visual Studio 2012 vytvořte konzolovou aplikaci pracovního postupu.</span><span class="sxs-lookup"><span data-stu-id="6bab3-217">In Visual Studio 2012, create a workflow console application.</span></span> <span data-ttu-id="6bab3-218">Přidejte procedurální aktivity do návrháře pracovního postupu.</span><span class="sxs-lookup"><span data-stu-id="6bab3-218">Add procedural activities in the workflow designer.</span></span>

- <span data-ttu-id="6bab3-219">Vzorky:</span><span class="sxs-lookup"><span data-stu-id="6bab3-219">Samples:</span></span>

  - [<span data-ttu-id="6bab3-220">Proces náboru</span><span class="sxs-lookup"><span data-stu-id="6bab3-220">Hiring Process</span></span>](./samples/hiring-process.md)

  - [<span data-ttu-id="6bab3-221">Proces nákupu v podniku</span><span class="sxs-lookup"><span data-stu-id="6bab3-221">Corporate Purchase Process</span></span>](./samples/corporate-purchase-process.md)

- <span data-ttu-id="6bab3-222">Dokumentace návrháře:</span><span class="sxs-lookup"><span data-stu-id="6bab3-222">Designer Documentation:</span></span>

  - [<span data-ttu-id="6bab3-223">Návrhář aktivity Parallel</span><span class="sxs-lookup"><span data-stu-id="6bab3-223">Parallel Activity Designer</span></span>](/visualstudio/workflow-designer/parallel-activity-designer)

  - [<span data-ttu-id="6bab3-224">ParallelForEach\<T> Návrhář aktivity</span><span class="sxs-lookup"><span data-stu-id="6bab3-224">ParallelForEach\<T> Activity Designer</span></span>](/visualstudio/workflow-designer/parallelforeach-t-activity-designer)

### <a name="procedural-activity-scenarios"></a><span data-ttu-id="6bab3-225">Scénáře procedurální aktivity</span><span class="sxs-lookup"><span data-stu-id="6bab3-225">Procedural Activity Scenarios</span></span>

- <span data-ttu-id="6bab3-226"><xref:System.Activities.Statements.Parallel>: Systém správy dokumentů v intranetu má pracovní postup schvalování dokumentů.</span><span class="sxs-lookup"><span data-stu-id="6bab3-226"><xref:System.Activities.Statements.Parallel>: An intranet document management system has a document approval workflow.</span></span> <span data-ttu-id="6bab3-227">Dokumenty musí být schváleny lidmi v několika odděleních, než mohou být publikovány do intranetu.</span><span class="sxs-lookup"><span data-stu-id="6bab3-227">Documents need to be approved by people in several departments before they can be published to the intranet.</span></span> <span data-ttu-id="6bab3-228">Neexistuje zavedený příkaz pro schválení; mohou nastat kdykoli, zatímco dokument je ve fázi "schválení čeká" .</span><span class="sxs-lookup"><span data-stu-id="6bab3-228">There isn't an established order for the approvals; they can occur at any time while the document is in the "approval pending" phase.</span></span> <span data-ttu-id="6bab3-229">Když uživatel odešle dokument ke kontrole, musí být schválen jejich přímým správcem, správcem sítě intranet a interním správcem komunikace.</span><span class="sxs-lookup"><span data-stu-id="6bab3-229">When a user submits a document for review, it must be approved by their direct manager, the intranet administrator, and the internal communications manager.</span></span>

- <span data-ttu-id="6bab3-230"><xref:System.Activities.Statements.ParallelForEach%601>: Aplikace WF spravuje firemní nákupy v rámci velké společnosti.</span><span class="sxs-lookup"><span data-stu-id="6bab3-230"><xref:System.Activities.Statements.ParallelForEach%601>: A WF application manages corporate buys within a large company.</span></span> <span data-ttu-id="6bab3-231">Podniková pravidla určují, že před plánováním jakékoli nákupní operace je vyžadováno ocenění tří různých dodavatelů.</span><span class="sxs-lookup"><span data-stu-id="6bab3-231">The corporate rules dictate that before planning any purchase operation, the valuations of three different vendors is required.</span></span> <span data-ttu-id="6bab3-232">Zaměstnanec nákupního oddělení vybere ze seznamu dodavatelů společnosti tři dodavatele.</span><span class="sxs-lookup"><span data-stu-id="6bab3-232">An employee from the buying department selects three vendors from the company's vendor list.</span></span> <span data-ttu-id="6bab3-233">Poté, co tito dodavatelé byli vybráni a oznámeno, bude společnost čekat na své ekonomické návrhy.</span><span class="sxs-lookup"><span data-stu-id="6bab3-233">After these vendors have been selected and notified, the company will wait for their economic proposals.</span></span> <span data-ttu-id="6bab3-234">Návrhy mohou být v libovolném pořadí.</span><span class="sxs-lookup"><span data-stu-id="6bab3-234">The proposals can come in any order.</span></span> <span data-ttu-id="6bab3-235">Chcete-li implementovat tento scénář <xref:System.Activities.Statements.ParallelForEach%601> v WF, použijeme, který bude iterate prostřednictvím naší kolekce dodavatelů a požádat o jejich ekonomické návrhy.</span><span class="sxs-lookup"><span data-stu-id="6bab3-235">To implement this scenario in WF, we use a <xref:System.Activities.Statements.ParallelForEach%601> that will iterate through our collection of vendors and ask for their economic proposals.</span></span> <span data-ttu-id="6bab3-236">Po shromáždění všech nabídek je vybrána a zobrazena nejlepší nabídka.</span><span class="sxs-lookup"><span data-stu-id="6bab3-236">After all offers are gathered, the best one is selected and displayed.</span></span>

## <a name="invokemethod"></a><span data-ttu-id="6bab3-237">InvokeMethod</span><span class="sxs-lookup"><span data-stu-id="6bab3-237">InvokeMethod</span></span>

<span data-ttu-id="6bab3-238">Aktivita <xref:System.Activities.Statements.InvokeMethod> umožňuje vyvolání veřejných metod v objektech nebo typech v oboru.</span><span class="sxs-lookup"><span data-stu-id="6bab3-238">The <xref:System.Activities.Statements.InvokeMethod> activity allows invoking public methods in objects or types in scope.</span></span> <span data-ttu-id="6bab3-239">Podporuje vyvolání instance a statické metody s nebo bez parametrů (včetně pole parametrů) a obecné metody.</span><span class="sxs-lookup"><span data-stu-id="6bab3-239">It supports invoking instance and static methods with or without parameters (including parameter arrays), and generic methods.</span></span> <span data-ttu-id="6bab3-240">Umožňuje také provádění metody synchronně a asynchronně.</span><span class="sxs-lookup"><span data-stu-id="6bab3-240">It also allows executing method synchronously and asynchronously.</span></span>

### <a name="getting-started"></a><span data-ttu-id="6bab3-241">Začínáme</span><span class="sxs-lookup"><span data-stu-id="6bab3-241">Getting Started</span></span>

- <span data-ttu-id="6bab3-242">V sadě Visual Studio 2012 vytvořte konzolovou aplikaci pracovního postupu.</span><span class="sxs-lookup"><span data-stu-id="6bab3-242">In Visual Studio 2012, create a workflow console application.</span></span> <span data-ttu-id="6bab3-243">Přidejte <xref:System.Activities.Statements.InvokeMethod> aktivitu v návrháři pracovního postupu a nakonfigurujte na ní statické metody a metody instancí.</span><span class="sxs-lookup"><span data-stu-id="6bab3-243">Add an <xref:System.Activities.Statements.InvokeMethod> activity in the workflow designer, and configure static and instance methods on it.</span></span>

- <span data-ttu-id="6bab3-244">Dokumentace návrháře: [InvokeMethod Návrhář aktivity](/visualstudio/workflow-designer/invokemethod-activity-designer)</span><span class="sxs-lookup"><span data-stu-id="6bab3-244">Designer Documentation: [InvokeMethod Activity Designer](/visualstudio/workflow-designer/invokemethod-activity-designer)</span></span>

### <a name="invokemethod-scenarios"></a><span data-ttu-id="6bab3-245">Scénáře invokemethod</span><span class="sxs-lookup"><span data-stu-id="6bab3-245">InvokeMethod Scenarios</span></span>

- <span data-ttu-id="6bab3-246">Metoda v objektu v oboru musí být vyvolána.</span><span class="sxs-lookup"><span data-stu-id="6bab3-246">A method in an object in scope needs to be invoked.</span></span> <span data-ttu-id="6bab3-247">Například je třeba přidat hodnotu do slovníku.</span><span class="sxs-lookup"><span data-stu-id="6bab3-247">For example, a value needs to be added to a dictionary.</span></span> <span data-ttu-id="6bab3-248">Add Metoda instance slovníku je vyvolána a klíč a hodnota jsou k dispozici.</span><span class="sxs-lookup"><span data-stu-id="6bab3-248">The Add method of the instance of the dictionary is invoked, and the key and value are provided.</span></span>

- <span data-ttu-id="6bab3-249">Metoda musí být vyvolána na starší objekt CLR.</span><span class="sxs-lookup"><span data-stu-id="6bab3-249">A method needs to be invoked on a legacy CLR object.</span></span> <span data-ttu-id="6bab3-250">Místo vytváření vlastní aktivity zabalit volání této starší třídy, pokud je <xref:System.Activities.Statements.InvokeMethod> v oboru během provádění pracovního postupu, lze použít.</span><span class="sxs-lookup"><span data-stu-id="6bab3-250">Instead of creating a custom activity to wrap the call to that legacy class, if it is in scope during the workflow execution, <xref:System.Activities.Statements.InvokeMethod> can be used.</span></span>

## <a name="error-handling-activities"></a><span data-ttu-id="6bab3-251">Činnosti zpracování chyb</span><span class="sxs-lookup"><span data-stu-id="6bab3-251">Error handling activities</span></span>

<span data-ttu-id="6bab3-252">Aktivita <xref:System.Activities.Statements.TryCatch> poskytuje mechanismus pro zachycení výjimky, ke kterým dochází při provádění sadu obsažené aktivity (podobně jako Try/Catch konstrukce v jazyce C# a Visual Basic).</span><span class="sxs-lookup"><span data-stu-id="6bab3-252">The <xref:System.Activities.Statements.TryCatch> activity provides a mechanism for catching exceptions that occur during the execution of a set of contained activities (similar to the Try/Catch construct in C# and Visual Basic).</span></span> <span data-ttu-id="6bab3-253"><xref:System.Activities.Statements.TryCatch>poskytuje zpracování výjimek na úrovni pracovního postupu.</span><span class="sxs-lookup"><span data-stu-id="6bab3-253"><xref:System.Activities.Statements.TryCatch> provides exception handling at the workflow level.</span></span> <span data-ttu-id="6bab3-254">Při vyvolání neošetřené výjimky je přerušeno pracovní ho sazí a finally blok nebude proveden.</span><span class="sxs-lookup"><span data-stu-id="6bab3-254">When an unhandled exception is thrown, the workflow is aborted and the Finally block won't be executed.</span></span> <span data-ttu-id="6bab3-255">Toto chování je konzistentní s C#.</span><span class="sxs-lookup"><span data-stu-id="6bab3-255">This behavior is consistent with C#.</span></span>

### <a name="getting-started"></a><span data-ttu-id="6bab3-256">Začínáme</span><span class="sxs-lookup"><span data-stu-id="6bab3-256">Getting Started</span></span>

- <span data-ttu-id="6bab3-257">V sadě Visual Studio 2012 vytvořte konzolovou aplikaci pracovního postupu.</span><span class="sxs-lookup"><span data-stu-id="6bab3-257">In Visual Studio 2012, create a workflow console application.</span></span> <span data-ttu-id="6bab3-258">Přidejte <xref:System.Activities.Statements.TryCatch> aktivitu do návrháře pracovního postupu.</span><span class="sxs-lookup"><span data-stu-id="6bab3-258">Add a <xref:System.Activities.Statements.TryCatch> activity in the workflow designer.</span></span>

- <span data-ttu-id="6bab3-259">Ukázka: [Zpracování chyb v aktivitě vývojového diagramu pomocí trycatch](./samples/fault-handling-in-a-flowchart-activity-using-trycatch.md)</span><span class="sxs-lookup"><span data-stu-id="6bab3-259">Sample: [Fault Handling in a Flowchart Activity Using TryCatch](./samples/fault-handling-in-a-flowchart-activity-using-trycatch.md)</span></span>

- <span data-ttu-id="6bab3-260">Dokumentace návrháře: [Návrháři aktivit zpracování chyb](/visualstudio/workflow-designer/error-handling-activity-designers)</span><span class="sxs-lookup"><span data-stu-id="6bab3-260">Designer Documentation: [Error Handling Activity Designers](/visualstudio/workflow-designer/error-handling-activity-designers)</span></span>

### <a name="error-handling-scenarios"></a><span data-ttu-id="6bab3-261">Při zpracování scénářů došlo k chybě.</span><span class="sxs-lookup"><span data-stu-id="6bab3-261">Error handling scenarios</span></span>

<span data-ttu-id="6bab3-262">Sada aktivit musí být provedena a konkrétní logiku je třeba provést, když dojde k chybě.</span><span class="sxs-lookup"><span data-stu-id="6bab3-262">A set of activities needs to be executed, and specific logic needs to be executed when an error occurs.</span></span> <span data-ttu-id="6bab3-263">Pokud během této logiky zpracování chyb je zjištěno, že chyba není obnovitelná, výjimka bude znovu vyvolána a nadřazená aktivita (nebo hostitel) bude problém řešit.</span><span class="sxs-lookup"><span data-stu-id="6bab3-263">If during that error handling logic it is found that the error is not recoverable, the exception will be rethrown, and the parent activity (or the host) will deal with the problem.</span></span>

## <a name="pick-activity"></a><span data-ttu-id="6bab3-264">Aktivita vyskladnění</span><span class="sxs-lookup"><span data-stu-id="6bab3-264">Pick activity</span></span>

<span data-ttu-id="6bab3-265">Aktivita <xref:System.Activities.Statements.Pick> poskytuje modelování toku řízení založené na událostech v wf.</span><span class="sxs-lookup"><span data-stu-id="6bab3-265">The <xref:System.Activities.Statements.Pick> Activity provides event-based control flow modeling in WF.</span></span> <span data-ttu-id="6bab3-266"><xref:System.Activities.Statements.Pick>obsahuje mnoho větví, kde každá větev čeká na konkrétní událost dojít před spuštěním.</span><span class="sxs-lookup"><span data-stu-id="6bab3-266"><xref:System.Activities.Statements.Pick> contains many branches where each branch waits for a particular event to occur before running.</span></span> <span data-ttu-id="6bab3-267">V tomto nastavení <xref:System.Activities.Statements.Pick> se chová podobně <xref:System.Activities.Statements.Switch%601> jako a, které aktivita spustí pouze jednu sadu událostí, které naslouchá.</span><span class="sxs-lookup"><span data-stu-id="6bab3-267">In this setup, a <xref:System.Activities.Statements.Pick> behaves similar to a <xref:System.Activities.Statements.Switch%601> to which the Activity will execute only one of the set of events it is listening.</span></span> <span data-ttu-id="6bab3-268">Každá větev je řízena událostmi a událost, ke které dojde, nejprve spustí odpovídající větev.</span><span class="sxs-lookup"><span data-stu-id="6bab3-268">Each branch is event driven and the event that occurs runs the corresponding branch first.</span></span> <span data-ttu-id="6bab3-269">Všechny ostatní větve zrušit a přestat naslouchat události.</span><span class="sxs-lookup"><span data-stu-id="6bab3-269">All other branches cancel and stop listening for events.</span></span>

### <a name="getting-started"></a><span data-ttu-id="6bab3-270">Začínáme</span><span class="sxs-lookup"><span data-stu-id="6bab3-270">Getting Started</span></span>

- <span data-ttu-id="6bab3-271">V sadě Visual Studio 2012 vytvořte konzolovou aplikaci pracovního postupu.</span><span class="sxs-lookup"><span data-stu-id="6bab3-271">In Visual Studio 2012, create a workflow console application.</span></span> <span data-ttu-id="6bab3-272">Přidejte <xref:System.Activities.Statements.Pick> aktivitu do návrháře pracovního postupu.</span><span class="sxs-lookup"><span data-stu-id="6bab3-272">Add a <xref:System.Activities.Statements.Pick> activity in the workflow designer.</span></span>

- <span data-ttu-id="6bab3-273">Ukázka: [Použití aktivity vyskladnění](./samples/using-the-pick-activity.md)</span><span class="sxs-lookup"><span data-stu-id="6bab3-273">Sample: [Using the Pick Activity](./samples/using-the-pick-activity.md)</span></span>

- <span data-ttu-id="6bab3-274">Dokumentace návrháře: [Návrhář aktivit výběru](/visualstudio/workflow-designer/pick-activity-designer)</span><span class="sxs-lookup"><span data-stu-id="6bab3-274">Designer documentation: [Pick Activity Designer](/visualstudio/workflow-designer/pick-activity-designer)</span></span>

### <a name="pick-scenario"></a><span data-ttu-id="6bab3-275">Scénář výběru</span><span class="sxs-lookup"><span data-stu-id="6bab3-275">Pick Scenario</span></span>

<span data-ttu-id="6bab3-276">Uživatel musí být vyzván k zadání vstupu.</span><span class="sxs-lookup"><span data-stu-id="6bab3-276">A user needs to be prompted for input.</span></span> <span data-ttu-id="6bab3-277">Za normálních okolností by vývojář použít <xref:System.Console.ReadLine%2A> volání metody jako výzvu k zadání vstupu uživatele.</span><span class="sxs-lookup"><span data-stu-id="6bab3-277">Under normal circumstances, the developer would use a method call like <xref:System.Console.ReadLine%2A> to prompt for a user's input.</span></span> <span data-ttu-id="6bab3-278">Problém s tímto nastavením je, že program čeká, dokud uživatel zadá něco.</span><span class="sxs-lookup"><span data-stu-id="6bab3-278">The problem with this setup is that the program waits until the user enters something.</span></span> <span data-ttu-id="6bab3-279">V tomto scénáři je zapotřebí časový limit k odblokování blokování aktivity.</span><span class="sxs-lookup"><span data-stu-id="6bab3-279">In this scenario, a time-out is needed to unblock a blocking activity.</span></span> <span data-ttu-id="6bab3-280">Běžný scénář je takový, který vyžaduje dokončení úkolu v daném časovém období.</span><span class="sxs-lookup"><span data-stu-id="6bab3-280">A common scenario is one that requires a task to be completed within a given time duration.</span></span> <span data-ttu-id="6bab3-281">Vypršení časového nastavení blokování aktivity je scénář, kde Pick přidá velké množství hodnoty.</span><span class="sxs-lookup"><span data-stu-id="6bab3-281">Timing out a blocking activity is a scenario where Pick adds a lot of value.</span></span>

## <a name="wcf-routing-service"></a><span data-ttu-id="6bab3-282">Služba směrování WCF</span><span class="sxs-lookup"><span data-stu-id="6bab3-282">WCF Routing Service</span></span>

<span data-ttu-id="6bab3-283">Služba směrování je navržena jako obecný softwarový směrovač, který umožňuje řídit, jak zprávy WCF proudí mezi klienty a službami.</span><span class="sxs-lookup"><span data-stu-id="6bab3-283">The Routing Service is designed to be a generic software Router that allows you to control how WCF messages flow in between your clients and services.</span></span> <span data-ttu-id="6bab3-284">Služba směrování umožňuje oddělit klienty od vašich služeb, což vám dává mnohem větší svobodu, pokud jde o konfigurace, které můžete podporovat, a flexibilitu, kterou máte při zvažování, jak hostovat své služby.</span><span class="sxs-lookup"><span data-stu-id="6bab3-284">The Routing Service allows you to decouple your clients from your services, which gives you much more freedom in terms of the configurations that you can support and the flexibility you have when considering how to host your services.</span></span> <span data-ttu-id="6bab3-285">V rozhraní .NET 3.5 byli klienti a služby úzce spojeni; klient musel vědět o všech službách, se kterými potřeboval mluvit a kde se nacházeli.</span><span class="sxs-lookup"><span data-stu-id="6bab3-285">In .NET 3.5, clients and services were tightly coupled; a client had to know about all of the services it needed to talk to and where they were located.</span></span> <span data-ttu-id="6bab3-286">Kromě toho WCF v rozhraní .NET Framework 3.5 měl následující omezení:</span><span class="sxs-lookup"><span data-stu-id="6bab3-286">In addition, WCF in .NET Framework 3.5 had the following limitations:</span></span>

- <span data-ttu-id="6bab3-287">Zpracování chyb bylo složité, protože tato logika musela být pevně zakódována do klienta.</span><span class="sxs-lookup"><span data-stu-id="6bab3-287">Error handling was complex, as this logic had to be hard-coded into the client.</span></span>

- <span data-ttu-id="6bab3-288">Klienti a služby museli vždy používat stejné vazby.</span><span class="sxs-lookup"><span data-stu-id="6bab3-288">Clients and services had to always use the same bindings.</span></span>

- <span data-ttu-id="6bab3-289">Služby byly zřídka dobře zohledněny: je snazší mít klienta mluvit s jednou službou, která implementuje vše, spíše než muset vybrat mezi více službami.</span><span class="sxs-lookup"><span data-stu-id="6bab3-289">Services were rarely well factored: it is easier to have the client talk to one service which implements everything, rather than needing to choose between multiple services.</span></span>

<span data-ttu-id="6bab3-290">Služba směrování v rozhraní .NET 4 je navržena tak, aby tyto problémy snadněji řešit.</span><span class="sxs-lookup"><span data-stu-id="6bab3-290">The routing service in .NET 4 is designed to make these problems easier to solve.</span></span> <span data-ttu-id="6bab3-291">Nová služba směrování má následující funkce:</span><span class="sxs-lookup"><span data-stu-id="6bab3-291">The new routing service has the following features:</span></span>

1. <span data-ttu-id="6bab3-292">Směrování založené<xref:System.ServiceModel.Dispatcher.MessageFilter> na obsahu ( objekty prověří zprávu a určí, kam má být odeslána.)</span><span class="sxs-lookup"><span data-stu-id="6bab3-292">Content based routing (<xref:System.ServiceModel.Dispatcher.MessageFilter> objects examine a message to determine where it should be sent.)</span></span>

2. <span data-ttu-id="6bab3-293">Přemostění protokolu (přenos & zprávy)</span><span class="sxs-lookup"><span data-stu-id="6bab3-293">Protocol bridging (transport & message)</span></span>

3. <span data-ttu-id="6bab3-294">Zpracování chyb (směrovač zachytí výjimky komunikace a převezme služby při selhání do záložních koncových bodů)</span><span class="sxs-lookup"><span data-stu-id="6bab3-294">Error handling (the router catches communication exceptions and fails over to backup endpoints)</span></span>

4. <span data-ttu-id="6bab3-295">Dynamická (v paměti) aktualizace <xref:System.ServiceModel.Dispatcher.MessageFilterTable%601> a konfigurace směrování.</span><span class="sxs-lookup"><span data-stu-id="6bab3-295">Dynamic (in memory) update of <xref:System.ServiceModel.Dispatcher.MessageFilterTable%601> and Routing Configuration.</span></span>

### <a name="getting-started"></a><span data-ttu-id="6bab3-296">Začínáme</span><span class="sxs-lookup"><span data-stu-id="6bab3-296">Getting Started</span></span>

1. <span data-ttu-id="6bab3-297">Dokumentace: [Směrování](../wcf/feature-details/routing.md)</span><span class="sxs-lookup"><span data-stu-id="6bab3-297">Documentation: [Routing](../wcf/feature-details/routing.md)</span></span>

2. <span data-ttu-id="6bab3-298">Ukázky: [Služby směrování &#91;ukázky WCF&#93;](../wcf/samples/routing-services.md)</span><span class="sxs-lookup"><span data-stu-id="6bab3-298">Samples: [Routing Services &#91;WCF Samples&#93;](../wcf/samples/routing-services.md)</span></span>

3. <span data-ttu-id="6bab3-299">Blog: [Pravidla směrování!](https://docs.microsoft.com/archive/blogs/RoutingRules/)</span><span class="sxs-lookup"><span data-stu-id="6bab3-299">Blog: [Routing Rules!](https://docs.microsoft.com/archive/blogs/RoutingRules/)</span></span>

### <a name="routing-scenarios"></a><span data-ttu-id="6bab3-300">Scénáře směrování</span><span class="sxs-lookup"><span data-stu-id="6bab3-300">Routing Scenarios</span></span>

<span data-ttu-id="6bab3-301">Služba směrování je užitečná v následujících scénářích:</span><span class="sxs-lookup"><span data-stu-id="6bab3-301">The routing service is useful in the following scenarios:</span></span>

- <span data-ttu-id="6bab3-302">Klienti mohou mluvit s více službami, aniž by je museli řešit všechny přímo.</span><span class="sxs-lookup"><span data-stu-id="6bab3-302">Clients can talk to multiple services without having to address them all directly.</span></span>

- <span data-ttu-id="6bab3-303">Klienti mohou provádět další logiku na požadavek klienta k určení, kam směrovat</span><span class="sxs-lookup"><span data-stu-id="6bab3-303">Clients can perform additional logic on a client request to determine where to route it</span></span>

- <span data-ttu-id="6bab3-304">Rozkládají operace klientprovádí do více implementací služby bez refaktoringu klienta.</span><span class="sxs-lookup"><span data-stu-id="6bab3-304">Decompose the operations a client performs into multiple service implementations without refactoring the client.</span></span>

- <span data-ttu-id="6bab3-305">Klienti a služby mohou mluvit různými vazbami s různým nastavením zabezpečení.</span><span class="sxs-lookup"><span data-stu-id="6bab3-305">Clients and services can speak different bindings with different security settings.</span></span>

- <span data-ttu-id="6bab3-306">Klienti mohou být povoleny být robustnější proti selhání nebo nedostupnosti služeb.</span><span class="sxs-lookup"><span data-stu-id="6bab3-306">Clients can be enabled to be more robust against failure or the unavailability of services.</span></span>

## <a name="wcf-discovery"></a><span data-ttu-id="6bab3-307">Zjišťování WCF</span><span class="sxs-lookup"><span data-stu-id="6bab3-307">WCF Discovery</span></span>

<span data-ttu-id="6bab3-308">WCF Discovery je technologie architektury, která umožňuje začlenit mechanismus zjišťování do infrastruktury aplikací.</span><span class="sxs-lookup"><span data-stu-id="6bab3-308">WCF Discovery is a framework technology that allows you to incorporate a discovery mechanism to your application infrastructure.</span></span> <span data-ttu-id="6bab3-309">Můžete použít k tomu, aby vaše služba zjistitelné a nakonfigurovat své klienty pro vyhledávání služeb.</span><span class="sxs-lookup"><span data-stu-id="6bab3-309">You can use this to make your service discoverable, and configure your clients to search for services.</span></span> <span data-ttu-id="6bab3-310">Klienti již nemusí být pevně zakódováni s koncovým bodem, takže vaše aplikace robustnější a odolné proti chybám.</span><span class="sxs-lookup"><span data-stu-id="6bab3-310">Clients no longer need to be hard coded with endpoint, making your application more robust and fault tolerant.</span></span> <span data-ttu-id="6bab3-311">Discovery je perfektní platforma pro vytváření možností automatické konfigurace do vaší aplikace.</span><span class="sxs-lookup"><span data-stu-id="6bab3-311">Discovery is the perfect platform to build auto-configuration capabilities into your application.</span></span>

<span data-ttu-id="6bab3-312">Produkt je postaven na standardu WS-Discovery.</span><span class="sxs-lookup"><span data-stu-id="6bab3-312">The product is built on top of the WS-Discovery standard.</span></span> <span data-ttu-id="6bab3-313">Je navržen tak, aby byl interoperabilní, rozšiřitelný a obecný.</span><span class="sxs-lookup"><span data-stu-id="6bab3-313">It's designed to be interoperable, extensible, and generic.</span></span> <span data-ttu-id="6bab3-314">Výrobek podporuje dva režimy provozu:</span><span class="sxs-lookup"><span data-stu-id="6bab3-314">The product supports two modes of operation:</span></span>

1. <span data-ttu-id="6bab3-315">Spravováno: pokud je v síti entita s vědomím existujících služeb, klienti se o to přímo dotazují na informace.</span><span class="sxs-lookup"><span data-stu-id="6bab3-315">Managed: where there is an entity on the network knowledgeable about existing services, clients query it directly for information.</span></span> <span data-ttu-id="6bab3-316">To je obdobou služby Active Directory.</span><span class="sxs-lookup"><span data-stu-id="6bab3-316">This is analogous to Active Directory.</span></span>

2. <span data-ttu-id="6bab3-317">Ad-hoc: kde klienti používají zprávy vícesměrového vysílání k vyhledání služeb.</span><span class="sxs-lookup"><span data-stu-id="6bab3-317">Ad-hoc: where clients use multicast messages to locate services.</span></span>

<span data-ttu-id="6bab3-318">Zprávy zjišťování jsou navíc agnostik síťového protokolu; můžete je použít na vrcholu libovolný protokol, který podporuje požadavky na režim.</span><span class="sxs-lookup"><span data-stu-id="6bab3-318">Furthermore, discovery messages are network protocol agnostic; you can use them on top any protocol that supports the mode requirements.</span></span> <span data-ttu-id="6bab3-319">Zprávy o zjišťování vícesměrového vysílání lze například odesílat prostřednictvím kanálu UDP nebo jiné sítě, která podporuje zasílání zpráv vícesměrového vysílání.</span><span class="sxs-lookup"><span data-stu-id="6bab3-319">For example, discovery multicast messages can be sent over the UDP channel or any other network that supports multicast messaging.</span></span> <span data-ttu-id="6bab3-320">Tyto body návrhu v kombinaci s flexibilitou funkcí umožňují přizpůsobit zjišťování konkrétně vašemu řešení.</span><span class="sxs-lookup"><span data-stu-id="6bab3-320">These design points, combined with feature flexibility, allow you to adapt the discovery specifically to your solution.</span></span>

### <a name="getting-started"></a><span data-ttu-id="6bab3-321">Začínáme</span><span class="sxs-lookup"><span data-stu-id="6bab3-321">Getting Started</span></span>

- <span data-ttu-id="6bab3-322">Dokumentace: [Zjišťování WCF](../wcf/feature-details/wcf-discovery.md)</span><span class="sxs-lookup"><span data-stu-id="6bab3-322">Documentation: [WCF Discovery](../wcf/feature-details/wcf-discovery.md)</span></span>

- <span data-ttu-id="6bab3-323">Ukázky: [Zjišťování (ukázky)](../wcf/samples/discovery-samples.md)</span><span class="sxs-lookup"><span data-stu-id="6bab3-323">Samples: [Discovery (Samples)](../wcf/samples/discovery-samples.md)</span></span>

### <a name="discovery-scenarios"></a><span data-ttu-id="6bab3-324">Scénáře zjišťování</span><span class="sxs-lookup"><span data-stu-id="6bab3-324">Discovery Scenarios</span></span>

<span data-ttu-id="6bab3-325">Vývojář nechce pevné koncové body kódu, protože není známo, kdy bude moje služba k dispozici.</span><span class="sxs-lookup"><span data-stu-id="6bab3-325">A developer doesn't want to hard code endpoints, since it is unknown when my service will be available.</span></span> <span data-ttu-id="6bab3-326">Místo toho vývojář chce zvolit službu za běhu.</span><span class="sxs-lookup"><span data-stu-id="6bab3-326">Instead, the developer wants to choose a service at runtime.</span></span> <span data-ttu-id="6bab3-327">Mezi součástmi v aplikaci je zapotřebí více oddělení, robustnosti a automatické konfigurace.</span><span class="sxs-lookup"><span data-stu-id="6bab3-327">More decoupling, robustness, and auto-configuration is needed between the components in the application.</span></span>

## <a name="tracking"></a><span data-ttu-id="6bab3-328">Sledování</span><span class="sxs-lookup"><span data-stu-id="6bab3-328">Tracking</span></span>

<span data-ttu-id="6bab3-329">Sledování pracovního postupu poskytuje přehled o provádění instance pracovního postupu.</span><span class="sxs-lookup"><span data-stu-id="6bab3-329">Workflow tracking provides insight into the execution of a workflow instance.</span></span> <span data-ttu-id="6bab3-330">Události sledování jsou vydávány z pracovního postupu na úrovni instance pracovního postupu a při spuštění aktivit v rámci pracovního postupu.</span><span class="sxs-lookup"><span data-stu-id="6bab3-330">The tracking events are emitted from a workflow at the workflow instance level and when activities within the workflow execute.</span></span> <span data-ttu-id="6bab3-331">Účastník sledování pracovního postupu musí být přidán do hostitele pracovního postupu, aby se přihlásil ke sledování záznamů.</span><span class="sxs-lookup"><span data-stu-id="6bab3-331">A workflow tracking participant needs to be added to the workflow host to subscribe to tracking records.</span></span> <span data-ttu-id="6bab3-332">Záznamy sledování jsou filtrovány pomocí profilu sledování.</span><span class="sxs-lookup"><span data-stu-id="6bab3-332">The tracking records are filtered using a tracking profile.</span></span> <span data-ttu-id="6bab3-333">Rozhraní .NET Framework poskytuje účastníka sledování ETW (Event Tracing for Windows) a v souboru machine.config je nainstalován základní profil.</span><span class="sxs-lookup"><span data-stu-id="6bab3-333">The .NET Framework provides an ETW (Event Tracing for Windows) tracking participant, and a basic profile is installed in the machine.config file.</span></span>

### <a name="getting-started"></a><span data-ttu-id="6bab3-334">Začínáme</span><span class="sxs-lookup"><span data-stu-id="6bab3-334">Getting Started</span></span>

1. <span data-ttu-id="6bab3-335">V sadě Visual Studio 2010 vytvořte projekt aplikace služby WCF Workflow Service.</span><span class="sxs-lookup"><span data-stu-id="6bab3-335">In Visual Studio 2010, create a WCF Workflow Service Application project.</span></span> <span data-ttu-id="6bab3-336">A <xref:System.ServiceModel.Activities.Receive> <xref:System.ServiceModel.Activities.SendReply> a pár budou umístěny na plátně začít.</span><span class="sxs-lookup"><span data-stu-id="6bab3-336">A <xref:System.ServiceModel.Activities.Receive> and <xref:System.ServiceModel.Activities.SendReply> pair will be placed on your canvas to start.</span></span>

2. <span data-ttu-id="6bab3-337">Otevřete web.config a přidejte chování sledování ETW bez profilu.</span><span class="sxs-lookup"><span data-stu-id="6bab3-337">Open the web.config and add an ETW tracking behavior with no profile.</span></span>

    1. <span data-ttu-id="6bab3-338">Používá se výchozí profil.</span><span class="sxs-lookup"><span data-stu-id="6bab3-338">The default profile is used.</span></span>

    2. <span data-ttu-id="6bab3-339">Otevřete prohlížeč událostí a povolte analytický kanál v následujícím uzlu: **Prohlížeč událostí**, **Protokoly aplikací a služeb**, **Microsoft**, **Windows**, **Application Server-Applications .**</span><span class="sxs-lookup"><span data-stu-id="6bab3-339">Open event viewer and enable the analytic channel in the following node: **Event Viewer**, **Applications and Services Logs**, **Microsoft**, **Windows**, **Application Server-Applications**.</span></span> <span data-ttu-id="6bab3-340">Klepněte pravým tlačítkem myši na **službu Analytick** a vyberte **příkaz Povolit protokol**.</span><span class="sxs-lookup"><span data-stu-id="6bab3-340">Right-click **Analytic** and select **Enable Log**.</span></span>

    3. <span data-ttu-id="6bab3-341">Spusťte službu pracovního postupu.</span><span class="sxs-lookup"><span data-stu-id="6bab3-341">Run the workflow service.</span></span>

    4. <span data-ttu-id="6bab3-342">Sledujte události sledování pracovního postupu v prohlížeči událostí.</span><span class="sxs-lookup"><span data-stu-id="6bab3-342">Observe the workflow tracking events in event viewer.</span></span>

3. <span data-ttu-id="6bab3-343">Ukázky: [Sledování](./samples/tracking.md)</span><span class="sxs-lookup"><span data-stu-id="6bab3-343">Samples: [Tracking](./samples/tracking.md)</span></span>

4. <span data-ttu-id="6bab3-344">Koncepční dokumentace: [Sledování a trasování pracovního postupu](workflow-tracking-and-tracing.md)</span><span class="sxs-lookup"><span data-stu-id="6bab3-344">Conceptual documentation: [Workflow Tracking and Tracing](workflow-tracking-and-tracing.md)</span></span>

## <a name="sql-workflow-instance-store"></a><span data-ttu-id="6bab3-345">Úložiště instancí pracovních postupů SQL</span><span class="sxs-lookup"><span data-stu-id="6bab3-345">SQL Workflow Instance Store</span></span>

<span data-ttu-id="6bab3-346">Jedná <xref:System.Activities.DurableInstancing.SqlWorkflowInstanceStore> se o implementaci úložiště instancí založenou na serveru SQL Server.</span><span class="sxs-lookup"><span data-stu-id="6bab3-346">The <xref:System.Activities.DurableInstancing.SqlWorkflowInstanceStore> is a SQL Server-based implementation of an instance store.</span></span> <span data-ttu-id="6bab3-347">Úložiště instance ukládá stav spuštěné instance spolu se všemi daty potřebnými k načtení a obnovení této instance.</span><span class="sxs-lookup"><span data-stu-id="6bab3-347">An instance store stores the state of a running instance together with all data necessary to load and resume that instance.</span></span> <span data-ttu-id="6bab3-348">Hostitel služby dá pokyn úložišti instance, aby uložilo stav instance, pokud pracovní postup přetrvává, a instruuje úložiště instancí, aby načetlo stav instance, když pro tuto instanci dorazí zpráva nebo vyprší platnost aktivity zpoždění.</span><span class="sxs-lookup"><span data-stu-id="6bab3-348">The service host instructs the instance store to save the instance state if the workflow persists, and it instructs the instance store to load the instance state when a message arrives for that instance or a delay activity expires.</span></span>

### <a name="getting-started"></a><span data-ttu-id="6bab3-349">Začínáme</span><span class="sxs-lookup"><span data-stu-id="6bab3-349">Getting Started</span></span>

1. <span data-ttu-id="6bab3-350">V Sadě Visual Studio 2012 vytvořte pracovní <xref:System.Activities.Statements.Persist> postup, který obsahuje implicitní nebo explicitní aktivitu.</span><span class="sxs-lookup"><span data-stu-id="6bab3-350">In Visual Studio 2012, create a Workflow that contains an implicit or explicit <xref:System.Activities.Statements.Persist> activity.</span></span> <span data-ttu-id="6bab3-351">Přidejte <xref:System.Activities.DurableInstancing.SqlWorkflowInstanceStore> chování do hostitele služby pracovního postupu.</span><span class="sxs-lookup"><span data-stu-id="6bab3-351">Add the <xref:System.Activities.DurableInstancing.SqlWorkflowInstanceStore> behavior to your workflow service host.</span></span> <span data-ttu-id="6bab3-352">To lze provést v kódu nebo v konfiguračním souboru aplikace.</span><span class="sxs-lookup"><span data-stu-id="6bab3-352">This can be done in code or in the application configuration file.</span></span>

2. <span data-ttu-id="6bab3-353">Ukázky: [Perzistence](/previous-versions/dotnet/netframework-4.0/dd699769(v%3dvs.100))</span><span class="sxs-lookup"><span data-stu-id="6bab3-353">Samples: [Persistence](/previous-versions/dotnet/netframework-4.0/dd699769(v%3dvs.100))</span></span>

3. <span data-ttu-id="6bab3-354">Koncepční dokumentace: [Úložiště instancí pracovního postupu SQL](sql-workflow-instance-store.md).</span><span class="sxs-lookup"><span data-stu-id="6bab3-354">Conceptual documentation: [SQL Workflow Instance Store](sql-workflow-instance-store.md).</span></span>
