---
title: Kompatibilita verzí v .NET Framework
ms.custom: updateeachrelease
ms.date: 04/02/2019
helpviewer_keywords:
- .NET Framework, version compatibility
- .NET Framework, compatibility with earlier versions
- .NET Framework versions, compatibility
ms.assetid: 2f25e522-456a-48c3-8a53-e5f39275649f
ms.openlocfilehash: c3bc92b89a46fc947b4d7e67644930374eeab2e4
ms.sourcegitcommit: de7f589de07a9979b6ac28f54c3e534a617d9425
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 05/05/2020
ms.locfileid: "82795999"
---
# <a name="version-compatibility"></a><span data-ttu-id="8dda5-102">Kompatibilita verzí</span><span class="sxs-lookup"><span data-stu-id="8dda5-102">Version compatibility</span></span>

<span data-ttu-id="8dda5-103">Zpětná kompatibilita znamená, že aplikace vyvinutá pro konkrétní verzi platformy se spustí v novějších verzích této platformy.</span><span class="sxs-lookup"><span data-stu-id="8dda5-103">Backward compatibility means that an app that was developed for a particular version of a platform will run on later versions of that platform.</span></span> <span data-ttu-id="8dda5-104">.NET Framework se snaží maximalizovat zpětnou kompatibilitu: zdrojový kód napsaný pro jednu verzi .NET Framework by měl kompilovat v novějších verzích .NET Framework a binární soubory, které běží v jedné verzi .NET Framework, by se měly chovat stejně jako v novějších verzích .NET Framework.</span><span class="sxs-lookup"><span data-stu-id="8dda5-104">.NET Framework tries to maximize backward compatibility: Source code written for one version of .NET Framework should compile on later versions of .NET Framework, and binaries that run on one version of .NET Framework should behave identically on later versions of .NET Framework.</span></span>

## <a name="version-compatibility-for-apps"></a><a name="Apps"></a><span data-ttu-id="8dda5-105">Kompatibilita verzí pro aplikace</span><span class="sxs-lookup"><span data-stu-id="8dda5-105">Version compatibility for apps</span></span>

<span data-ttu-id="8dda5-106">Ve výchozím nastavení je aplikace spuštěna ve verzi .NET Framework, pro kterou byla vytvořena.</span><span class="sxs-lookup"><span data-stu-id="8dda5-106">By default, an app runs on the version of .NET Framework that it was built for.</span></span> <span data-ttu-id="8dda5-107">Pokud tato verze není k dispozici a konfigurační soubor aplikace nedefinuje podporované verze, může dojít k chybě inicializace .NET Framework.</span><span class="sxs-lookup"><span data-stu-id="8dda5-107">If that version isn't present and the app configuration file doesn't define supported versions, a .NET Framework initialization error may occur.</span></span> <span data-ttu-id="8dda5-108">V takovém případě se pokus o spuštění aplikace nezdaří.</span><span class="sxs-lookup"><span data-stu-id="8dda5-108">In this case, the attempt to run the app will fail.</span></span>

<span data-ttu-id="8dda5-109">Chcete-li definovat konkrétní verze, na kterých aplikace běží, přidejte do konfiguračního souboru aplikace jeden nebo více [ \<supportedRuntime>](../configure-apps/file-schema/startup/supportedruntime-element.md) prvků.</span><span class="sxs-lookup"><span data-stu-id="8dda5-109">To define the specific versions on which your app runs, add one or more [\<supportedRuntime>](../configure-apps/file-schema/startup/supportedruntime-element.md) elements to your app's configuration file.</span></span> <span data-ttu-id="8dda5-110">Každý `<supportedRuntime>` prvek uvádí podporovanou verzi modulu runtime s prvním zadáním preferované verze a poslední určující nejnižší upřednostňovanou verzi.</span><span class="sxs-lookup"><span data-stu-id="8dda5-110">Each `<supportedRuntime>` element lists a supported version of the runtime, with the first specifying the most preferred version and the last specifying the least preferred version.</span></span>

```xml
<configuration>
   <startup>
      <supportedRuntime version="v2.0.50727" />
      <supportedRuntime version="v4.0" />
   </startup>
</configuration>
```

<span data-ttu-id="8dda5-111">Další informace najdete v tématu [Postup: Konfigurace aplikace pro podporu .NET Framework 4 nebo 4. x](how-to-configure-an-app-to-support-net-framework-4-or-4-5.md).</span><span class="sxs-lookup"><span data-stu-id="8dda5-111">For more information, see [How to: Configure an App to Support .NET Framework 4 or 4.x](how-to-configure-an-app-to-support-net-framework-4-or-4-5.md).</span></span>

## <a name="version-compatibility-for-components"></a><span data-ttu-id="8dda5-112">Kompatibilita verzí pro součásti</span><span class="sxs-lookup"><span data-stu-id="8dda5-112">Version compatibility for components</span></span>

<span data-ttu-id="8dda5-113">Aplikace může řídit verzi .NET Framework, na které běží, ale součást nemůže.</span><span class="sxs-lookup"><span data-stu-id="8dda5-113">An app can control the version of the .NET Framework on which it runs, but a component can't.</span></span> <span data-ttu-id="8dda5-114">Komponenty a knihovny tříd jsou načteny v kontextu konkrétní aplikace a jsou proto automaticky spouštěny ve verzi .NET Framework, na které aplikace běží.</span><span class="sxs-lookup"><span data-stu-id="8dda5-114">Components and class libraries are loaded in the context of a particular app, and that's why they automatically run on the version of the .NET Framework that the app runs on.</span></span>

<span data-ttu-id="8dda5-115">Z důvodu tohoto omezení jsou pro komponenty obzvláště důležité záruky kompatibility.</span><span class="sxs-lookup"><span data-stu-id="8dda5-115">Because of this restriction, compatibility guarantees are especially important for components.</span></span> <span data-ttu-id="8dda5-116">Počínaje .NET Framework 4 můžete určit míru, na kterou se očekává, že bude součást kompatibilní napříč více verzemi, a to použitím <xref:System.Runtime.Versioning.ComponentGuaranteesAttribute?displayProperty=nameWithType> atributu pro tuto součást.</span><span class="sxs-lookup"><span data-stu-id="8dda5-116">Starting with the .NET Framework 4, you can specify the degree to which a component is expected to remain compatible across multiple versions by applying the <xref:System.Runtime.Versioning.ComponentGuaranteesAttribute?displayProperty=nameWithType> attribute to that component.</span></span> <span data-ttu-id="8dda5-117">Nástroje mohou tento atribut použít k detekci potenciálního porušení záruky kompatibility v budoucích verzích součásti.</span><span class="sxs-lookup"><span data-stu-id="8dda5-117">Tools can use this attribute to detect potential violations of the compatibility guarantee in future versions of a component.</span></span>

## <a name="backward-compatibility"></a><span data-ttu-id="8dda5-118">Zpětná kompatibilita</span><span class="sxs-lookup"><span data-stu-id="8dda5-118">Backward compatibility</span></span>

<span data-ttu-id="8dda5-119">.NET Framework 4,5 a novější verze jsou zpětně kompatibilní s aplikacemi, které byly vytvořeny v dřívějších verzích .NET Framework.</span><span class="sxs-lookup"><span data-stu-id="8dda5-119">The .NET Framework 4.5 and later versions are backward-compatible with apps that were built with earlier versions of the .NET Framework.</span></span> <span data-ttu-id="8dda5-120">Jinými slovy, aplikace a komponenty sestavené s předchozími verzemi budou fungovat beze změny .NET Framework 4,5 a novějších verzích.</span><span class="sxs-lookup"><span data-stu-id="8dda5-120">In other words, apps and components built with previous versions will work without modification on the .NET Framework 4.5 and later versions.</span></span> <span data-ttu-id="8dda5-121">Ve výchozím nastavení jsou však aplikace spuštěny ve verzi modulu CLR (Common Language Runtime), pro kterou byly vyvinuty, takže možná budete muset zadat konfigurační soubor, který umožní vaší aplikaci běžet na .NET Framework 4,5 nebo novějších verzích.</span><span class="sxs-lookup"><span data-stu-id="8dda5-121">However, by default, apps run on the version of the common language runtime for which they were developed, so you may have to provide a configuration file to enable your app to run on the .NET Framework 4.5 or later versions.</span></span> <span data-ttu-id="8dda5-122">Další informace najdete v části [Kompatibilita verzí pro aplikace](#Apps) výše v tomto článku.</span><span class="sxs-lookup"><span data-stu-id="8dda5-122">For more information, see the [Version compatibility for apps](#Apps) section earlier in this article.</span></span>

<span data-ttu-id="8dda5-123">V praxi může být tato kompatibilita porušena zdánlivě bezvýznamnými změnami v .NET Framework a změnami v programovacích postupech.</span><span class="sxs-lookup"><span data-stu-id="8dda5-123">In practice, this compatibility can be broken by seemingly inconsequential changes in the .NET Framework and changes in programming techniques.</span></span> <span data-ttu-id="8dda5-124">Například zvýšení výkonu v .NET Framework 4,5 může vystavit konflikt časování, ke kterému nedošlo v dřívějších verzích.</span><span class="sxs-lookup"><span data-stu-id="8dda5-124">For example, performance improvements in the .NET Framework 4.5 can expose a race condition that did not occur on earlier versions.</span></span> <span data-ttu-id="8dda5-125">Podobně použití pevně zakódované cesty pro .NET Framework sestavení, provádění porovnání rovnosti s konkrétní verzí .NET Framework a získání hodnoty soukromého pole pomocí reflexe nejsou zpětně kompatibilní postupy.</span><span class="sxs-lookup"><span data-stu-id="8dda5-125">Similarly, using a hard-coded path to .NET Framework assemblies, performing an equality comparison with a particular version of the .NET Framework, and getting the value of a private field by using reflection are not backward-compatible practices.</span></span> <span data-ttu-id="8dda5-126">Kromě toho každá verze .NET Framework zahrnuje opravy chyb a změny související se zabezpečením, které mohou ovlivnit kompatibilitu některých aplikací a součástí.</span><span class="sxs-lookup"><span data-stu-id="8dda5-126">In addition, each version of the .NET Framework includes bug fixes and security-related changes that can affect the compatibility of some apps and components.</span></span>

<span data-ttu-id="8dda5-127">Pokud vaše aplikace nebo komponenta nefunguje podle očekávání na .NET Framework 4,5 (včetně jejich vydaných verzí, .NET Framework 4.5.1, 4.5.2, 4,6, 4.6.1, 4.6.2, 4,7, 4.7.1, 4.7.2 nebo 4,8), použijte následující kontrolní seznamy:</span><span class="sxs-lookup"><span data-stu-id="8dda5-127">If your app or component doesn't work as expected on the .NET Framework 4.5 (including its point releases, the .NET Framework 4.5.1, 4.5.2, 4.6, 4.6.1, 4.6.2, 4.7, 4.7.1, 4.7.2, or 4.8), use the following checklists:</span></span>

- <span data-ttu-id="8dda5-128">Pokud se vaše aplikace vyvinula pro běh v jakékoli verzi .NET Framework počínaje .NET Framework 4,0, přečtěte si téma [Kompatibilita aplikací](application-compatibility.md) a vygenerujte seznamy změn mezi cílovou .NET Framework verzí a verzí, na které vaše aplikace běží.</span><span class="sxs-lookup"><span data-stu-id="8dda5-128">If your app was developed to run on any version of the .NET Framework starting with the .NET Framework 4.0, see [Application compatibility](application-compatibility.md) to generate lists of changes between your targeted .NET Framework version and the version on which your app is running.</span></span>

- <span data-ttu-id="8dda5-129">Pokud máte aplikaci .NET Framework 3,5, přečtěte si také [.NET Framework 4 problémy s migrací](net-framework-4-migration-issues.md).</span><span class="sxs-lookup"><span data-stu-id="8dda5-129">If you have a .NET Framework 3.5 app, also see [.NET Framework 4 Migration Issues](net-framework-4-migration-issues.md).</span></span>

- <span data-ttu-id="8dda5-130">Pokud máte aplikaci .NET Framework 2,0, přečtěte si také [změny v .NET Framework 3,5 SP1](https://docs.microsoft.com/previous-versions/dotnet/articles/dd310284(v=msdn.10)).</span><span class="sxs-lookup"><span data-stu-id="8dda5-130">If you have a .NET Framework 2.0 app, also see [Changes in .NET Framework 3.5 SP1](https://docs.microsoft.com/previous-versions/dotnet/articles/dd310284(v=msdn.10)).</span></span>

- <span data-ttu-id="8dda5-131">Pokud máte aplikaci .NET Framework 1,1, podívejte se také [na změny v .NET Framework 2,0](https://docs.microsoft.com/previous-versions/aa570326(v=msdn.10)).</span><span class="sxs-lookup"><span data-stu-id="8dda5-131">If you have a .NET Framework 1.1 app, also see [Changes in .NET Framework 2.0](https://docs.microsoft.com/previous-versions/aa570326(v=msdn.10)).</span></span>

- <span data-ttu-id="8dda5-132">Pokud znovu kompilujete existující zdrojový kód pro spuštění v .NET Framework 4,5 nebo jeho vydáních, nebo pokud vyvíjíte novou verzi aplikace nebo komponenty, která cílí na .NET Framework 4,5 nebo jeho vydání z existujícího základu zdrojového kódu, vyhledejte [v knihovně tříd, která je zastaralá](../whats-new/whats-obsolete.md) pro zastaralé typy a členy a použijte popsanou alternativní řešení.</span><span class="sxs-lookup"><span data-stu-id="8dda5-132">If you're recompiling existing source code to run on the .NET Framework 4.5 or its point releases, or if you're developing a new version of an app or component that targets the .NET Framework 4.5 or its point releases from an existing source code base, check [What's Obsolete in the Class Library](../whats-new/whats-obsolete.md) for obsolete types and members, and apply the workaround described.</span></span> <span data-ttu-id="8dda5-133">(Dříve zkompilovaný kód bude i nadále spuštěn proti typům a členům, které byly označeny jako zastaralé.)</span><span class="sxs-lookup"><span data-stu-id="8dda5-133">(Previously compiled code will continue to run against types and members that have been marked as obsolete.)</span></span>

- <span data-ttu-id="8dda5-134">Pokud zjistíte, že změna v .NET Framework 4,5 přerušila vaši aplikaci, zkontrolujte [schéma nastavení modulu runtime](../configure-apps/file-schema/runtime/index.md)a zejména [ \<prvek AppContextSwitchOverrides>](../configure-apps/file-schema/runtime/appcontextswitchoverrides-element.md), abyste zjistili, zda můžete použít nastavení modulu runtime v konfiguračním souboru aplikace k obnovení předchozího chování.</span><span class="sxs-lookup"><span data-stu-id="8dda5-134">If you determine that a change in the .NET Framework 4.5 has broken your app, check the [Runtime Settings Schema](../configure-apps/file-schema/runtime/index.md), and particularly the [\<AppContextSwitchOverrides> Element](../configure-apps/file-schema/runtime/appcontextswitchoverrides-element.md), to determine whether you can use a runtime setting in your app's configuration file to restore the previous behavior.</span></span>

- <span data-ttu-id="8dda5-135">Pokud jste popsali problém, který není dokumentován, otevřete problém na [webu komunity vývojářů pro .NET](https://developercommunity.visualstudio.com/spaces/61/index.html) nebo otevřete problém v [úložišti Microsoft/dotNET GitHub](https://github.com/microsoft/dotnet/issues).</span><span class="sxs-lookup"><span data-stu-id="8dda5-135">If you come across an issue that isn't documented, open a problem on the [Developer Community site for .NET](https://developercommunity.visualstudio.com/spaces/61/index.html) or open an issue in the [Microsoft/dotnet GitHub repo](https://github.com/microsoft/dotnet/issues).</span></span>

## <a name="side-by-side-execution"></a><span data-ttu-id="8dda5-136">Souběžné spouštění</span><span class="sxs-lookup"><span data-stu-id="8dda5-136">Side-by-side execution</span></span>

<span data-ttu-id="8dda5-137">Pokud nemůžete najít vhodné řešení problému, nezapomeňte, že .NET Framework 4,5 (nebo některá z jeho vydání) se spouští souběžně s verzemi 1,1, 2,0 a 3,5 a jedná se o místní aktualizaci, která nahrazuje verzi 4.</span><span class="sxs-lookup"><span data-stu-id="8dda5-137">If you can't find a suitable workaround for your issue, remember that .NET Framework 4.5 (or one of its point releases) runs side by side with versions 1.1, 2.0, and 3.5, and is an in-place update that replaces version 4.</span></span> <span data-ttu-id="8dda5-138">Pro aplikace, které cílí na verze 1,1, 2,0 a 3,5, můžete na cílový počítač nainstalovat příslušnou verzi .NET Framework, aby se aplikace spouštěla ve vhodném prostředí.</span><span class="sxs-lookup"><span data-stu-id="8dda5-138">For apps that target versions 1.1, 2.0, and 3.5, you can install the appropriate version of .NET Framework on the target machine to run the app in its best environment.</span></span> <span data-ttu-id="8dda5-139">Další informace o souběžném spouštění najdete v tématu [Souběžné spouštění](../deployment/side-by-side-execution.md).</span><span class="sxs-lookup"><span data-stu-id="8dda5-139">For more information about side-by-side execution, see [Side-by-Side Execution](../deployment/side-by-side-execution.md).</span></span>

## <a name="see-also"></a><span data-ttu-id="8dda5-140">Viz také</span><span class="sxs-lookup"><span data-stu-id="8dda5-140">See also</span></span>

- [<span data-ttu-id="8dda5-141">Co je nového</span><span class="sxs-lookup"><span data-stu-id="8dda5-141">What's New</span></span>](../whats-new/index.md)
- [<span data-ttu-id="8dda5-142">Zastaralé položky v knihovně tříd</span><span class="sxs-lookup"><span data-stu-id="8dda5-142">What's Obsolete in the Class Library</span></span>](../whats-new/whats-obsolete.md)
- [<span data-ttu-id="8dda5-143">Kompatibilita aplikací</span><span class="sxs-lookup"><span data-stu-id="8dda5-143">Application Compatibility</span></span>](application-compatibility.md)
- [<span data-ttu-id="8dda5-144">.NET Framework oficiálních zásad podpory</span><span class="sxs-lookup"><span data-stu-id="8dda5-144">.NET Framework official support policy</span></span>](https://dotnet.microsoft.com/platform/support/policy/dotnet-framework)
- [<span data-ttu-id="8dda5-145">Problémy s migrací .NET Framework 4</span><span class="sxs-lookup"><span data-stu-id="8dda5-145">.NET Framework 4 Migration Issues</span></span>](net-framework-4-migration-issues.md)
