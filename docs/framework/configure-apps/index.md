---
title: Konfigurace aplikací pomocí konfiguračních souborů
description: Nakonfigurujte aplikace pomocí konfiguračních souborů v .NET. Konfigurační soubory jsou soubory XML, které lze změnit podle potřeby.
ms.date: 03/30/2017
f1_keywords:
- AutoGeneratedOrientationPage
helpviewer_keywords:
- security configuration files
- end tags
- configuration files [.NET Framework], application
- machine configuration files
- .NET Framework application configuration, configuration files
- applications [.NET Framework], configuration files
- application configuration files, security
- application configuration files, format
- configuration files [.NET Framework]
- hosts, application
- application configuration files, machine
- ASP.NET, configuring
- configuration files [.NET Framework], security
- application configuration files, about
- application configuration files
- <runtime> element
- start tags
- configuration files [.NET Framework], machine
- configuration files [.NET Framework], format
ms.assetid: 86bd26d3-737e-4484-9782-19b17f34cd1f
ms.openlocfilehash: 444d3700f36a2928b79f40dd5265d6166de762da
ms.sourcegitcommit: 1c37a894c923bea021a3cc38ce7cba946357bbe1
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 06/19/2020
ms.locfileid: "85105365"
---
# <a name="configuring-apps-by-using-configuration-files"></a>Konfigurace aplikací pomocí konfiguračních souborů
.NET Framework, prostřednictvím konfiguračních souborů, poskytují vývojářům a správcům kontrolu a flexibilitu nad tím, jak aplikace běží. Konfigurační soubory jsou soubory XML, které lze změnit podle potřeby. Správce může řídit, ke kterým chráněným prostředkům má aplikace přístup, které verze sestavení aplikace budou používat a kde se nacházejí vzdálené aplikace a objekty. Vývojáři mohou umístit nastavení do konfiguračních souborů a eliminují tak nutnost nové kompilace aplikace při každém změně nastavení. Tato část popisuje, co je možné nakonfigurovat a proč může být konfigurace aplikace užitečná.  
  
> [!NOTE]
> Spravovaný kód může použít třídy v <xref:System.Configuration> oboru názvů ke čtení nastavení z konfiguračních souborů, ale ne k zápisu nastavení do těchto souborů.  
  
 Toto téma popisuje syntaxi konfiguračních souborů a obsahuje informace o třech typech konfiguračních souborů: souborů počítače, aplikací a zabezpečení.  
  
## <a name="configuration-file-format"></a>Formát konfiguračního souboru  
 Konfigurační soubory obsahují prvky, které představují logické datové struktury, jež nastavují informace o konfiguraci. V konfiguračním souboru je možné použít značky pro označení začátku a konce prvku. Například `<runtime>` element se skládá z `<runtime>` *podřízených elementů* `</runtime>` . Prázdný element by byl napsán jako `<runtime/>` nebo `<runtime></runtime>` .  
  
 Stejně jako u všech souborů XML rozlišuje syntaxe v konfiguračních souborech velká a malá písmena.  
  
 Je možné určit nastavení konfigurace pomocí předdefinovaných atributů, kterými jsou páry název/hodnota uvnitř počáteční značky prvku. Následující příklad určuje dva atributy ( `version` a `href` ) pro `<codeBase>` prvek, který určuje, kde může modul runtime najít sestavení (Další informace naleznete v tématu [určení umístění sestavení](specify-assembly-location.md)).  
  
```xml  
<codeBase version="2.0.0.0"  
          href="http://www.litwareinc.com/myAssembly.dll"/>  
```  
  
## <a name="machine-configuration-files"></a>Konfigurační soubory počítače  
 Konfigurační soubor počítače Machine.config obsahuje nastavení, které platí pro celý počítač. Tento soubor se nachází v adresáři%*běhové instalační cesta*% \ config. Machine.config obsahuje konfigurační nastavení pro vazby sestavení v úrovni počítače, integrované [kanály vzdálené komunikace](https://docs.microsoft.com/previous-versions/dotnet/netframework-4.0/dkfd3wha(v=vs.100))a ASP.NET.  
  
 Konfigurační systém nejprve vyhledá v konfiguračním souboru počítače pro [ **\<appSettings>** element](./file-schema/appsettings/index.md) a další konfigurační oddíly, které může vývojář definovat. Poté hledá v konfiguračním souboru aplikace. Pro zachování udržovatelnosti souboru konfigurace počítače je vhodné umístit tato nastavení do konfiguračního souboru aplikace. Avšak díky vložení nastavení do konfiguračního souboru počítače lze provádět jednodušší údržbu vašeho systému. Například při použití komponenty třetí strany, kterou používá aplikace klienta i serveru, je jednodušší umístit nastavení této komponenty do jednoho místa. V tomto případě je konfigurační soubor počítače vhodným místem pro umístění nastavení, jelikož nebudete mít stejné nastavení ve dvou různých souborech.  
  
> [!NOTE]
> Nasazení aplikace pomocí příkazu XCOPY nezkopíruje nastavení z konfiguračního souboru počítače.  
  
 Další informace o tom, jak modul CLR (Common Language Runtime) používá konfigurační soubor počítače pro vazbu sestavení, naleznete v tématu [jak modul runtime vyhledává sestavení](../deployment/how-the-runtime-locates-assemblies.md).  
  
## <a name="application-configuration-files"></a>Konfigurační soubory aplikace  
 Konfigurační soubor aplikace obsahuje nastavení specifické pro aplikaci. Tento soubor obsahuje nastavení konfigurace, které čte modul CLR (Common Language Runtime) (například zásady vazeb sestavení, objekty vzdálené komunikace a tak dále) a nastavení, které může číst aplikace.  
  
 Název a umístění konfiguračního souboru aplikace závisí na hostiteli aplikace, což může být jeden z následujících:  
  
- Spustitelná-hostovaná aplikace.  
  
     Tyto aplikace mají dva konfigurační soubory: zdrojový konfigurační soubor, který je upraven vývojářem během vývoje, a výstupní soubor, který je distribuován spolu s aplikací.  
  
     Při vývoji v sadě Visual Studio umístěte zdrojový konfigurační soubor pro vaši aplikaci do adresáře projektu a nastavte jeho vlastnost **Kopírovat do výstupního adresáře** na **Kopírovat vždy** nebo kopírovat, **Pokud je novější**. Název konfiguračního souboru je název aplikace s příponou .config. Například aplikace s názvem myApp.exe by měla mít zdrojový konfigurační soubor s názvem myApp.exe.config.  
  
     Sada Visual Studio automaticky zkopíruje zdrojový konfigurační soubor do adresáře, kde je zkompilováno sestavení, a vytvoří výstupní konfigurační soubor, který je nasazen spolu s aplikací. V některých případech může Visual Studio změnit výstupní konfigurační soubor; Další informace naleznete v tématu [Přesměrování verzí sestavení v části úroveň aplikace](redirect-assembly-versions.md#BKMK_Redirectingassemblyversionsattheapplevel) článku o [verzích sestavení přesměrování](redirect-assembly-versions.md) .  
  
- Aplikace hostovaná technologií ASP.NET.  
  
     Další informace o konfiguračních souborech ASP.NET najdete v tématu [nastavení konfigurace ASP.NET](https://docs.microsoft.com/previous-versions/dotnet/netframework-4.0/b5ysx397(v=vs.100)).
  
- Aplikace hostovaná pomocí prohlížeče Internet Explorer.  
  
     Pokud má aplikace hostovaná v aplikaci Internet Explorer konfigurační soubor, umístění tohoto souboru je zadáno ve `<link>` značce s následující syntaxí:  
  
     \<link rel="*ConfigurationFileName*" href="*location*">  
  
     V této značce `location` je adresa URL konfiguračního souboru. Tím dojde k nastavení základní cesty aplikace. Konfigurační soubor musí být umístěn na stejné webové stránce jako aplikace.  
  
## <a name="security-configuration-files"></a>Konfigurační soubory zabezpečení  
 Konfigurační soubory zabezpečení obsahují informace o hierarchii skupiny kódu a sady oprávnění přidružené k úrovním zásad. Důrazně doporučujeme použít [Nástroj zásady zabezpečení přístupu kódu (Caspol.exe)](../tools/caspol-exe-code-access-security-policy-tool.md) pro úpravu zásad zabezpečení, aby se zajistilo, že změny zásad nebudou poškodit soubory konfigurace zabezpečení.  
  
> [!NOTE]
> Od .NET Framework 4 jsou konfigurační soubory zabezpečení přítomné, jenom když se změnily zásady zabezpečení.  
  
 Konfigurační soubory zabezpečení jsou umístěny zde:  
  
- Konfigurační soubor podnikových zásad:%*runtime-Install-Path*% \Config\Enterprisesec.config  
  
- Konfigurační soubor zásad počítače:%*runtime-Install-Path*% \Config\Security.config  
  
- Konfigurační soubor zásad uživatele:%USERPROFILE%\Application data\Microsoft\CLR Security config\v*xx. xx*\Security.config  
  
## <a name="in-this-section"></a>V tomto oddílu  
 [Postupy: Vyhledání sestavení pomocí mechanismu DEVPATH](how-to-locate-assemblies-by-using-devpath.md)  
 Popisuje, jak nasměrovat modul runtime, aby při hledání sestavení používal proměnnou prostředí mechanismu DEVPATH.  
  
 [Přesměrování verzí sestavení](redirect-assembly-versions.md)  
 Popisuje, jak zadat umístění sestavení a kterou verzi sestavení použít.  
  
 [Určení umístění sestavení](specify-assembly-location.md)  
 Popisuje, jak určit, kde má modul runtime vyhledat sestavení.  
  
 [Konfigurace šifrovacích tříd](configure-cryptography-classes.md)  
 Popisuje, jak namapovat název algoritmu na kryptografickou třídu a identifikátor objektu na kryptografický algoritmus.  
  
 [Postupy: Vytváření zásad vydavatele](how-to-create-a-publisher-policy.md)  
 Popisuje, kdy a jak byste měli přidat soubor zásad vydavatele pro určení přesměrování sestavení a základní nastavení kódu.  
  
 [Schéma konfiguračního souboru](./file-schema/index.md)  
 Popisuje hierarchii schématu pro spuštění, modul runtime, síť a další typy nastavení konfigurace.  
  
## <a name="see-also"></a>Viz také

- [Schéma konfiguračního souboru](./file-schema/index.md)
- [Určení umístění sestavení](specify-assembly-location.md)
- [Přesměrování verzí sestavení](redirect-assembly-versions.md)
- [Správa webu ASP.NET](https://docs.microsoft.com/previous-versions/visualstudio/visual-studio-2008/6hy1xzbw(v=vs.90))
- [Správa zásad zabezpečení](https://docs.microsoft.com/previous-versions/dotnet/netframework-4.0/c1k0eed6(v=vs.100))
- [Caspol.exe (nástroj zásady zabezpečení přístupu kódu)](../tools/caspol-exe-code-access-security-policy-tool.md)
- [Sestavení v .NET](../../standard/assembly/index.md)
