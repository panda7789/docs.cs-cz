---
title: Konfigurace datové služby (WCF Data Services)
ms.date: 03/30/2017
dev_langs:
- csharp
- vb
helpviewer_keywords:
- WCF Data Services, configuring
ms.assetid: 59efd4c8-cc7a-4800-a0a4-d3f8abe6c55c
ms.openlocfilehash: 6f73fa43bcb99e53adabe8b49ffee75c65802eca
ms.sourcegitcommit: 7588136e355e10cbc2582f389c90c127363c02a5
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 03/14/2020
ms.locfileid: "79399887"
---
# <a name="configuring-the-data-service-wcf-data-services"></a>Konfigurace datové služby (WCF Data Services)
Pomocí služby WCF Data Services můžete vytvořit datové služby, které zveřejňují kanály Protokolu OData (Open Data Protocol). Data v těchto informačních kanálech mohou pocházet z různých zdrojů dat. WCF Data Services používá zprostředkovatele dat k vystavení těchto dat jako datového kanálu OData. Mezi tyto zprostředkovatele patří zprostředkovatel entity framework, zprostředkovatel evidenční a sada vlastních rozhraní poskytovatele datových služeb. Implementace zprostředkovatele definuje datový model pro službu. Další informace naleznete v tématu [Poskytovatelé datových služeb](data-services-providers-wcf-data-services.md).  
  
 V WCF Data Services je datová služba třída, která dědí z <xref:System.Data.Services.DataService%601> třídy, kde typ datové služby je kontejner entity datového modelu. Tento kontejner entity má jednu <xref:System.Linq.IQueryable%601>nebo více vlastností, které vracejí , které se používají pro přístup k množině entit v datovém modelu.  
  
 Chování datové služby jsou definovány členy <xref:System.Data.Services.DataServiceConfiguration> třídy a členy <xref:System.Data.Services.DataServiceBehavior> třídy, která je <xref:System.Data.Services.DataServiceConfiguration.DataServiceBehavior%2A> přístupná <xref:System.Data.Services.DataServiceConfiguration> z vlastnosti třídy. Třída <xref:System.Data.Services.DataServiceConfiguration> je dodávána `InitializeService` metodě, která je implementována datovou službou, jako v následující implementaci datové služby Northwind:  
  
[!code-csharp[Astoria Northwind Service#DataServiceConfigComplete](../../../../samples/snippets/csharp/VS_Snippets_Misc/astoria_northwind_service/cs/northwind.svc.cs#dataserviceconfigcomplete)]  
[!code-vb[Astoria Northwind Service#DataServiceConfigComplete](../../../../samples/snippets/visualbasic/VS_Snippets_Misc/astoria_northwind_service/vb/northwind.svc.vb#dataserviceconfigcomplete)]  
  
## <a name="data-service-configuration-settings"></a>Nastavení konfigurace datové služby  
 Třída <xref:System.Data.Services.DataServiceConfiguration> umožňuje zadat následující chování datové služby:  
  
|Člen|Chování|  
|------------|--------------|  
|<xref:System.Data.Services.DataServiceBehavior.AcceptCountRequests%2A>|Umožňuje zakázat počet požadavků, které jsou odeslány `$count` do datové `$inlinecount` služby pomocí segmentu cesty a možnost i možnost dotazu. Další informace naleznete v tématu [OData: URI Conventions](https://www.odata.org/documentation/odata-version-2-0/uri-conventions/).|  
|<xref:System.Data.Services.DataServiceBehavior.AcceptProjectionRequests%2A>|Umožňuje zakázat podporu pro projekci dat v požadavcích, `$select` které jsou odeslány do datové služby pomocí možnosti dotazu. Další informace naleznete v tématu [OData: URI Conventions](https://www.odata.org/documentation/odata-version-2-0/uri-conventions/).|  
|<xref:System.Data.Services.DataServiceConfiguration.EnableTypeAccess%2A>|Umožňuje, aby byl datový typ vystaven v metadatech pro zprostředkovatele dynamických metadat definovaného <xref:System.Data.Services.Providers.IDataServiceMetadataProvider> pomocí rozhraní.|  
|<xref:System.Data.Services.DataServiceConfiguration.EnableTypeConversion%2A>|Umožňuje určit, zda má za běhu datové služby převést typ, který je obsažen v datové části, na skutečný typ vlastnosti, který je zadán v požadavku.|  
|<xref:System.Data.Services.DataServiceBehavior.InvokeInterceptorsOnLinkDelete%2A>|Umožňuje určit, zda jsou registrované zachycovače změn vyvolány u souvisejících entit při odstranění propojení vztahů mezi dvěma entitami.|  
|<xref:System.Data.Services.DataServiceConfiguration.MaxBatchCount%2A>|Umožňuje omezit počet sad změn a operací dotazů, které jsou povoleny v jedné dávce. Další informace naleznete v tématu [OData: Batch and](https://www.odata.org/documentation/odata-version-2-0/batch-processing/) [Batching Operations](batching-operations-wcf-data-services.md).|  
|<xref:System.Data.Services.DataServiceConfiguration.MaxChangesetCount%2A>|Umožňuje omezit počet změn, které mohou být zahrnuty do jedné sady změn. Další informace naleznete v [tématu How to: Enable Paging of Data Service Results](how-to-enable-paging-of-data-service-results-wcf-data-services.md).|  
|<xref:System.Data.Services.DataServiceConfiguration.MaxExpandCount%2A>|Umožňuje omezit velikost odpovědi omezením počtu souvisejících entit, které mohou být zahrnuty `$expand` do jednoho požadavku pomocí operátoru dotazu. Další informace naleznete [v tématu OData: URI Conventions](https://www.odata.org/documentation/odata-version-2-0/uri-conventions/) and [Loading Odložená obsah](loading-deferred-content-wcf-data-services.md).|  
|<xref:System.Data.Services.DataServiceConfiguration.MaxExpandDepth%2A>|Umožňuje omezit velikost odpovědi omezením hloubky grafu souvisejících entit, které mohou být zahrnuty `$expand` do jednoho požadavku pomocí operátoru dotazu. Další informace naleznete [v tématu OData: URI Conventions](https://www.odata.org/documentation/odata-version-2-0/uri-conventions/) and [Loading Odložená obsah](loading-deferred-content-wcf-data-services.md).|  
|<xref:System.Data.Services.DataServiceConfiguration.MaxObjectCountOnInsert%2A>|Umožňuje omezit počet entit, které mají být vloženy, které mohou být obsaženy v jednom požadavku POST.|  
|<xref:System.Data.Services.DataServiceBehavior.MaxProtocolVersion%2A>|Definuje verzi protokolu Atom, kterou používá datová služba. Pokud je hodnota <xref:System.Data.Services.DataServiceBehavior.MaxProtocolVersion%2A> nastavena na hodnotu menší <xref:System.Data.Services.Common.DataServiceProtocolVersion>než maximální hodnota , nejnovější funkce wcf datové služby není k dispozici klientům, kteří přistupují k datové službě. Další informace naleznete v [tématu Data Service Versioning](data-service-versioning-wcf-data-services.md).|  
|<xref:System.Data.Services.DataServiceConfiguration.MaxResultsPerCollection%2A>|Umožňuje omezit velikost odpovědi omezením počtu entit v každé sadě entit, která je vrácena jako zdroj dat.|  
|<xref:System.Data.Services.DataServiceConfiguration.RegisterKnownType%2A>|Přidá datový typ do seznamu typů, které jsou rozpoznány datovou službou.|  
|<xref:System.Data.Services.DataServiceConfiguration.SetEntitySetAccessRule%2A>|Nastaví přístupová práva pro prostředky sady entit, které jsou k dispozici v datové službě. Pro parametr name`*`lze zadat hodnotu hvězdička ( ) pro nastavení přístupu pro všechny zbývající sady entit na stejnou úroveň. Doporučujeme nastavit přístup k sady entit poskytovat nejnižší oprávnění přístup k prostředkům datové služby, které jsou vyžadovány klientských aplikací. Další informace naleznete [v tématu Zabezpečení služby WCF Data Services](securing-wcf-data-services.md). Příklady minimálních přístupových práv požadovaných pro danou akci URI a HTTP naleznete v tabulce v části [Minimální požadavky na přístup k prostředkům.](configuring-the-data-service-wcf-data-services.md#accessRequirements)|  
|<xref:System.Data.Services.DataServiceConfiguration.SetEntitySetPageSize%2A>|Nastaví maximální velikost stránky pro prostředek sady entit. Další informace naleznete v [tématu How to: Enable Paging of Data Service Results](how-to-enable-paging-of-data-service-results-wcf-data-services.md).|  
|<xref:System.Data.Services.DataServiceConfiguration.SetServiceOperationAccessRule%2A>|Nastaví přístupová práva pro operace služby, které jsou definovány v datové službě. Další informace naleznete v tématu [Service Operations](service-operations-wcf-data-services.md). Pro parametr name`*`lze zadat hodnotu hvězdička ( ) pro nastavení přístupu pro všechny operace služby na stejnou úroveň. Doporučujeme nastavit přístup k operacím služby tak, aby poskytovaly co nejmenší oprávnění k prostředkům datové služby, které jsou vyžadovány klientskými aplikacemi. Další informace naleznete [v tématu Zabezpečení služby WCF Data Services](securing-wcf-data-services.md).|  
|<xref:System.Data.Services.DataServiceConfiguration.UseVerboseErrors%2A>|Tato vlastnost konfigurace umožňuje snadněji řešit problémy s datovou službou vrácením dalších informací ve zprávě s chybovou odezvou. Tato možnost není určena pro použití v produkčním prostředí. Další informace naleznete v [tématu Vývoj a nasazení datové služby WCF](developing-and-deploying-wcf-data-services.md).|  
  
<a name="accessRequirements"></a>
## <a name="minimum-resource-access-requirements"></a>Minimální požadavky na přístup ke zdrojům  
 V následující tabulce jsou podrobně uvedeny minimální práva na sadu entit, která musí být udělena k provedení určité operace. Příklady cest jsou založeny na datové službě Northwind, která je vytvořena po dokončení [rychlého startu](quickstart-wcf-data-services.md). Vzhledem <xref:System.Data.Services.EntitySetRights> k tomu, <xref:System.Data.Services.ServiceOperationRights> že výčet i výčet jsou definovány pomocí <xref:System.FlagsAttribute>aplikace , můžete použít logický operátor OR k určení více oprávnění pro jednu sadu entit nebo operaci. Další informace naleznete v [tématu How to: Enable Access to the Data Service](how-to-enable-access-to-the-data-service-wcf-data-services.md).  
  
|Cesta/akce|`GET`|`DELETE`|`MERGE`|`POST`|`PUT`|  
|------------------|-----------|--------------|-------------|------------|-----------|  
|`/Customers`|<xref:System.Data.Services.EntitySetRights.ReadMultiple>|Nepodporuje se|Nepodporuje se|<xref:System.Data.Services.EntitySetRights.WriteAppend>|Nepodporuje se|  
|`/Customers('ALFKI')`|<xref:System.Data.Services.EntitySetRights.ReadSingle>|<xref:System.Data.Services.EntitySetRights.ReadSingle> a <xref:System.Data.Services.EntitySetRights.WriteDelete>|<xref:System.Data.Services.EntitySetRights.ReadSingle> a <xref:System.Data.Services.EntitySetRights.WriteMerge>|neuvedeno|<xref:System.Data.Services.EntitySetRights.ReadSingle> a <xref:System.Data.Services.EntitySetRights.WriteReplace>|  
|`/Customers('ALFKI')/Orders`|`Customers`: <xref:System.Data.Services.EntitySetRights.ReadSingle><br /><br /> -a-<br /><br /> `Orders`: <xref:System.Data.Services.EntitySetRights.ReadMultiple>|Nepodporuje se|Nepodporuje se|`Customers`: <xref:System.Data.Services.EntitySetRights.ReadSingle> <xref:System.Data.Services.EntitySetRights.WriteMerge> a nebo<xref:System.Data.Services.EntitySetRights.WriteReplace><br /><br /> -a-<br /><br /> `Orders``:` a<xref:System.Data.Services.EntitySetRights.WriteAppend>|Nepodporuje se|  
|`/Customers('ALFKI')/Orders(10643)`|`Customers`: <xref:System.Data.Services.EntitySetRights.ReadSingle><br /><br /> -a-<br /><br /> `Orders`: <xref:System.Data.Services.EntitySetRights.ReadSingle>|`Customers`: <xref:System.Data.Services.EntitySetRights.ReadSingle><br /><br /> -a-<br /><br /> `Orders`: <xref:System.Data.Services.EntitySetRights.ReadSingle> a<xref:System.Data.Services.EntitySetRights.WriteDelete>|`Customers`: <xref:System.Data.Services.EntitySetRights.ReadSingle><br /><br /> -a-<br /><br /> `Orders`: <xref:System.Data.Services.EntitySetRights.ReadSingle> a<xref:System.Data.Services.EntitySetRights.WriteMerge>|Nepodporuje se|`Customers`: <xref:System.Data.Services.EntitySetRights.ReadSingle><br /><br /> -a-<br /><br /> `Orders`: <xref:System.Data.Services.EntitySetRights.ReadSingle> a<xref:System.Data.Services.EntitySetRights.WriteReplace>|  
|`/Orders(10643)/Customer`|`Customers`: <xref:System.Data.Services.EntitySetRights.ReadSingle><br /><br /> -a-<br /><br /> `Orders`: <xref:System.Data.Services.EntitySetRights.ReadSingle>|`Customers`: <xref:System.Data.Services.EntitySetRights.ReadSingle> a<xref:System.Data.Services.EntitySetRights.WriteDelete><br /><br /> -a-<br /><br /> `Orders`: <xref:System.Data.Services.EntitySetRights.ReadSingle>|`Customers`: <xref:System.Data.Services.EntitySetRights.ReadSingle> <xref:System.Data.Services.EntitySetRights.WriteMerge>a ;<br /><br /> -a-<br /><br /> `Orders`: <xref:System.Data.Services.EntitySetRights.ReadSingle>|`Customers`: <xref:System.Data.Services.EntitySetRights.WriteAppend><br /><br /> -a-<br /><br /> `Orders`: <xref:System.Data.Services.EntitySetRights.WriteAppend> a<xref:System.Data.Services.EntitySetRights.ReadSingle>|Nepodporuje se|  
|`/Customers('ALFKI')/$links/Orders`|`Customers`: <xref:System.Data.Services.EntitySetRights.ReadSingle><br /><br /> -a-<br /><br /> `Orders`: <xref:System.Data.Services.EntitySetRights.ReadMultiple>|Nepodporuje se|Nepodporuje se|`Customers`: <xref:System.Data.Services.EntitySetRights.ReadSingle> <xref:System.Data.Services.EntitySetRights.WriteMerge> a nebo<xref:System.Data.Services.EntitySetRights.WriteReplace><br /><br /> -a-<br /><br /> `Orders`: <xref:System.Data.Services.EntitySetRights.ReadSingle>|Nepodporuje se|  
|`/Customers('ALFKI')/$links/Orders(10643)`|`Customers`: <xref:System.Data.Services.EntitySetRights.ReadSingle><br /><br /> -a-<br /><br /> `Orders`: <xref:System.Data.Services.EntitySetRights.ReadSingle>|`Customers`: <xref:System.Data.Services.EntitySetRights.ReadSingle> <xref:System.Data.Services.EntitySetRights.WriteMerge> a nebo<xref:System.Data.Services.EntitySetRights.WriteReplace><br /><br /> -a-<br /><br /> `Orders`: <xref:System.Data.Services.EntitySetRights.ReadSingle>|Nepodporuje se|Nepodporuje se|Nepodporuje se|  
|`/Orders(10643)/$links/Customer`|`Customers`: <xref:System.Data.Services.EntitySetRights.ReadSingle><br /><br /> -a-<br /><br /> `Orders`: <xref:System.Data.Services.EntitySetRights.ReadSingle>|`Orders`: <xref:System.Data.Services.EntitySetRights.ReadSingle> <xref:System.Data.Services.EntitySetRights.WriteMerge> a nebo<xref:System.Data.Services.EntitySetRights.WriteReplace>|`Customers`: <xref:System.Data.Services.EntitySetRights.ReadSingle><br /><br /> -a-<br /><br /> `Orders`: <xref:System.Data.Services.EntitySetRights.ReadSingle> a<xref:System.Data.Services.EntitySetRights.WriteMerge>|Nepodporuje se|`Customers`: <xref:System.Data.Services.EntitySetRights.ReadSingle>;<br /><br /> -a-<br /><br /> `Orders`: <xref:System.Data.Services.EntitySetRights.ReadSingle> a<xref:System.Data.Services.EntitySetRights.WriteReplace>|  
|`/Customers/$count`|<xref:System.Data.Services.EntitySetRights.ReadMultiple>|Nepodporuje se|Nepodporuje se|Nepodporuje se|Nepodporuje se|  
|`/Customers('ALFKI')/ContactName`|<xref:System.Data.Services.EntitySetRights.ReadSingle>|Nepodporuje se|<xref:System.Data.Services.EntitySetRights.WriteMerge>|Nepodporuje se|<xref:System.Data.Services.EntitySetRights.WriteReplace>|  
|`/Customers('ALFKI')/Address/StreetAddress/$value`<sup>1.</sup>|<xref:System.Data.Services.EntitySetRights.ReadSingle>|<xref:System.Data.Services.EntitySetRights.WriteDelete>|Nepodporuje se|Nepodporuje se|Nepodporuje se|  
|`/Customers('ALFKI')/ContactName/$value`|<xref:System.Data.Services.EntitySetRights.ReadSingle>|<xref:System.Data.Services.EntitySetRights.ReadSingle> a <xref:System.Data.Services.EntitySetRights.WriteDelete>|<xref:System.Data.Services.EntitySetRights.WriteMerge>|Nepodporuje se|<xref:System.Data.Services.EntitySetRights.WriteReplace>|  
|`/Customers('ALFKI')/$value`<sup>2.</sup>|<xref:System.Data.Services.EntitySetRights.ReadSingle>|Nepodporuje se|Nepodporuje se|Nepodporuje se|<xref:System.Data.Services.EntitySetRights.WriteReplace>|  
|`/Customers?$select=Orders/*&$expand=Orders`|`Customers`: <xref:System.Data.Services.EntitySetRights.ReadSingle><br /><br /> -a-<br /><br /> `Orders`: <xref:System.Data.Services.EntitySetRights.ReadMultiple>|Nepodporuje se|Nepodporuje se|`Customers`: <xref:System.Data.Services.EntitySetRights.WriteAppend>|Nepodporuje se|  
|`/Customers('ALFKI')?$select=Orders/*&$expand=Orders`|`Customers`: <xref:System.Data.Services.EntitySetRights.ReadSingle><br /><br /> -a-<br /><br /> `Orders`: <xref:System.Data.Services.EntitySetRights.ReadMultiple>|Nepodporuje se|Nepodporuje se|Nepodporuje se|Nepodporuje se|  
  
 <sup>1</sup> V tomto `Address` příkladu představuje vlastnost `Customers` komplexnítyp entity, `StreetAddress`která má vlastnost s názvem . Model používaný datovými službami Northwind explicitně nedefinuje tento komplexní typ. Když je datový model definován pomocí zprostředkovatele Entity Framework, můžete použít nástroje datového modelu entity k definování takového složitého typu. Další informace naleznete v [tématu How to: Create and Modify Complex Types](https://docs.microsoft.com/previous-versions/dotnet/netframework-4.0/dd456820(v=vs.100)).  
  
 <sup>2</sup> Tento identifikátor URI je podporován, pokud je vlastnost, která vrací binární velký objekt (BLOB), definována jako prostředek `Customers`média, který patří k entitě, která je položkou propojení médií, která je v tomto případě . Další informace naleznete v tématu [Streaming Provider](streaming-provider-wcf-data-services.md).  
  
<a name="versioning"></a>
## <a name="versioning-requirements"></a>Požadavky na správu verzí  
 Následující chování konfigurace datové služby vyžadují verzi 2 protokolu OData nebo novější verze:  
  
- Podpora pro požadavky na počítání.  
  
- Podpora pro možnost dotazu $select pro projekci.  
  
 Další informace naleznete v [tématu Data Service Versioning](data-service-versioning-wcf-data-services.md).  
  
## <a name="see-also"></a>Viz také

- [Definování datových služeb WCF Data Services](defining-wcf-data-services.md)
- [Hostování datové služby](hosting-the-data-service-wcf-data-services.md)
