---
title: Správa verzí datových služeb (WCF Data Services)
ms.date: 03/30/2017
helpviewer_keywords:
- versioning, WCF Data Services
- versioning [WCF Data Services]
- WCF Data Services, versioning
ms.assetid: e3e899cc-7f25-4f67-958f-063f01f79766
ms.openlocfilehash: 730a7e4b58d544af9ebc58317cda336be8e946e2
ms.sourcegitcommit: 17ee6605e01ef32506f8fdc686954244ba6911de
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 11/21/2019
ms.locfileid: "74283039"
---
# <a name="data-service-versioning-wcf-data-services"></a><span data-ttu-id="f3707-102">Správa verzí datových služeb (WCF Data Services)</span><span class="sxs-lookup"><span data-stu-id="f3707-102">Data Service Versioning (WCF Data Services)</span></span>
<span data-ttu-id="f3707-103">Protokol OData (Open Data Protocol) umožňuje vytvářet datové služby, aby klienti měli přístup k datům jako prostředky pomocí identifikátorů URI, které jsou založené na datovém modelu.</span><span class="sxs-lookup"><span data-stu-id="f3707-103">The Open Data Protocol (OData) enables you to create data services so that clients can access data as resources using URIs that are based on a data model.</span></span> <span data-ttu-id="f3707-104">OData podporuje taky definici operací služby.</span><span class="sxs-lookup"><span data-stu-id="f3707-104">OData also supports the definition of service operations.</span></span> <span data-ttu-id="f3707-105">Po počátečním nasazení a potenciálně během své životnosti může být potřeba tyto datové služby změnit z nejrůznějších důvodů, jako jsou třeba změny obchodních potřeb, požadavky na informace o technologii nebo řešení dalších problémů.</span><span class="sxs-lookup"><span data-stu-id="f3707-105">After initial deployment, and potentially several times during their lifetime, these data services may need to be changed for a variety of reasons, such as changing business needs, information technology requirements, or to address other issues.</span></span> <span data-ttu-id="f3707-106">Pokud provedete změny v existující datové službě, je nutné zvážit, zda chcete definovat novou verzi datové služby a jak nejlépe minimalizovat dopad na existující klientské aplikace.</span><span class="sxs-lookup"><span data-stu-id="f3707-106">When you make changes to an existing data service, you must consider whether to define a new version of your data service and how best to minimize the impact on existing client applications.</span></span> <span data-ttu-id="f3707-107">V tomto tématu najdete pokyny, kdy a jak vytvořit novou verzi datové služby.</span><span class="sxs-lookup"><span data-stu-id="f3707-107">This topic provides guidance on when and how to create a new version of a data service.</span></span> <span data-ttu-id="f3707-108">Popisuje také, jak WCF Data Services zpracovává výměnu mezi klienty a datovými službami, které podporují různé verze protokolu OData.</span><span class="sxs-lookup"><span data-stu-id="f3707-108">It also describes how WCF Data Services handles an exchange between clients and data services that support different versions of the OData protocol.</span></span>

## <a name="versioning-a-wcf-data-service"></a><span data-ttu-id="f3707-109">Správa verzí datové služby WCF</span><span class="sxs-lookup"><span data-stu-id="f3707-109">Versioning a WCF Data Service</span></span>
 <span data-ttu-id="f3707-110">Jakmile je datová služba nasazená a data se spotřebovávají, můžou změny v datové službě způsobovat problémy s kompatibilitou se stávajícími klientskými aplikacemi.</span><span class="sxs-lookup"><span data-stu-id="f3707-110">Once a data service is deployed and the data is being consumed, changes to the data service have the potential to cause compatibility issues with existing client applications.</span></span> <span data-ttu-id="f3707-111">Vzhledem k tomu, že změny jsou často vyžadovány celkovými obchodními požadavky služby, je nutné vzít v úvahu, kdy a jak vytvořit novou verzi datové služby s nejmenším dopadem na klientské aplikace.</span><span class="sxs-lookup"><span data-stu-id="f3707-111">However, because changes are often required by the overall business needs of the service, you must consider when and how to create a new version of your data service with the least impact on client applications.</span></span>

### <a name="data-model-changes-that-recommend-a-new-data-service-version"></a><span data-ttu-id="f3707-112">Změny datového modelu, které doporučují novou verzi datové služby</span><span class="sxs-lookup"><span data-stu-id="f3707-112">Data Model Changes that Recommend a New Data Service Version</span></span>
 <span data-ttu-id="f3707-113">Při zvažování, zda publikovat novou verzi datové služby, je důležité pochopit, jakým způsobem mohou mít různé druhy změn vliv na klientské aplikace.</span><span class="sxs-lookup"><span data-stu-id="f3707-113">When considering whether to publish a new version of a data service, it is important to understand how the different kinds of changes may affect client applications.</span></span> <span data-ttu-id="f3707-114">Změny datové služby, které mohou vyžadovat vytvoření nové verze datové služby, lze rozdělit do následujících dvou kategorií:</span><span class="sxs-lookup"><span data-stu-id="f3707-114">Changes to a data service that might require you to create a new version of a data service can be divided into the following two categories:</span></span>

- <span data-ttu-id="f3707-115">Změny kontraktu služby – což zahrnuje aktualizace operací služby, změny dostupnosti sad entit (informační kanály), změny verzí a další změny chování služby.</span><span class="sxs-lookup"><span data-stu-id="f3707-115">Changes to the service contract—which include updates to service operations, changes to the accessibility of entity sets (feeds), version changes, and other changes to service behaviors.</span></span>

- <span data-ttu-id="f3707-116">Změny kontraktu dat, které zahrnují změny v datovém modelu, formátech informačního kanálu nebo přizpůsobení informačního kanálu.</span><span class="sxs-lookup"><span data-stu-id="f3707-116">Changes to the data contract—which include changes to the data model, feed formats, or feed customizations.</span></span>

 <span data-ttu-id="f3707-117">V následující tabulce najdete podrobné informace o tom, jaké druhy změn byste měli zvážit při publikování nové verze datové služby:</span><span class="sxs-lookup"><span data-stu-id="f3707-117">The following table details for which kinds of changes you should consider publishing a new version of the data service:</span></span>

|<span data-ttu-id="f3707-118">Typ změny</span><span class="sxs-lookup"><span data-stu-id="f3707-118">Type of Change</span></span>|<span data-ttu-id="f3707-119">Vyžaduje novou verzi.</span><span class="sxs-lookup"><span data-stu-id="f3707-119">Requires a new version</span></span>|<span data-ttu-id="f3707-120">Nová verze není nutná.</span><span class="sxs-lookup"><span data-stu-id="f3707-120">New version not needed</span></span>|
|--------------------|----------------------------|----------------------------|
|<span data-ttu-id="f3707-121">Operace služby</span><span class="sxs-lookup"><span data-stu-id="f3707-121">Service operations</span></span>|<span data-ttu-id="f3707-122">-Přidat nový parametr</span><span class="sxs-lookup"><span data-stu-id="f3707-122">-   Add new parameter</span></span><br /><span data-ttu-id="f3707-123">-Změnit návratový typ</span><span class="sxs-lookup"><span data-stu-id="f3707-123">-   Change return type</span></span><br /><span data-ttu-id="f3707-124">-Odebrat operaci služby</span><span class="sxs-lookup"><span data-stu-id="f3707-124">-   Remove service operation</span></span>|<span data-ttu-id="f3707-125">-Odstranit existující parametr</span><span class="sxs-lookup"><span data-stu-id="f3707-125">-   Delete existing parameter</span></span><br /><span data-ttu-id="f3707-126">-Přidat novou operaci služby</span><span class="sxs-lookup"><span data-stu-id="f3707-126">-   Add new service operation</span></span>|
|<span data-ttu-id="f3707-127">Chování služby</span><span class="sxs-lookup"><span data-stu-id="f3707-127">Service behaviors</span></span>|<span data-ttu-id="f3707-128">-Zakázat požadavky na počet</span><span class="sxs-lookup"><span data-stu-id="f3707-128">-   Disable count requests</span></span><br /><span data-ttu-id="f3707-129">-Zakázat podporu projekce</span><span class="sxs-lookup"><span data-stu-id="f3707-129">-   Disable projection support</span></span><br /><span data-ttu-id="f3707-130">-Zvětšit požadovanou verzi datové služby</span><span class="sxs-lookup"><span data-stu-id="f3707-130">-   Increase the required data service version</span></span>|<span data-ttu-id="f3707-131">-Povolit požadavky na počet</span><span class="sxs-lookup"><span data-stu-id="f3707-131">-   Enable count requests</span></span><br /><span data-ttu-id="f3707-132">-Povolit podporu projekce</span><span class="sxs-lookup"><span data-stu-id="f3707-132">-   Enable projection support</span></span><br /><span data-ttu-id="f3707-133">-Snížit požadovanou verzi datové služby</span><span class="sxs-lookup"><span data-stu-id="f3707-133">-   Decrease the required data service version</span></span>|
|<span data-ttu-id="f3707-134">Oprávnění sady entit</span><span class="sxs-lookup"><span data-stu-id="f3707-134">Entity set permissions</span></span>|<span data-ttu-id="f3707-135">– Omezit oprávnění sady entit</span><span class="sxs-lookup"><span data-stu-id="f3707-135">-   Restrict entity set permissions</span></span><br /><span data-ttu-id="f3707-136">-Změnit kód odpovědi (nová první hodnota číslice) <sup>1</sup></span><span class="sxs-lookup"><span data-stu-id="f3707-136">-   Change response code (new first digit value) <sup>1</sup></span></span>|<span data-ttu-id="f3707-137">– Zmírnit oprávnění sady entit</span><span class="sxs-lookup"><span data-stu-id="f3707-137">-   Relax entity set permissions</span></span><br /><span data-ttu-id="f3707-138">-Změnit kód odpovědi (stejná první hodnota číslice)</span><span class="sxs-lookup"><span data-stu-id="f3707-138">-   Change response code (same first digit value)</span></span>|
|<span data-ttu-id="f3707-139">Vlastnosti entity</span><span class="sxs-lookup"><span data-stu-id="f3707-139">Entity properties</span></span>|<span data-ttu-id="f3707-140">-Odebrat existující vlastnost nebo relaci</span><span class="sxs-lookup"><span data-stu-id="f3707-140">-   Remove existing property or relationship</span></span><br /><span data-ttu-id="f3707-141">-Přidat vlastnost, která není null</span><span class="sxs-lookup"><span data-stu-id="f3707-141">-   Add non-nullable property</span></span><br /><span data-ttu-id="f3707-142">-Změnit existující vlastnost</span><span class="sxs-lookup"><span data-stu-id="f3707-142">-   Change existing property</span></span>|<span data-ttu-id="f3707-143">-Přidat vlastnost Nullable<sup>2</sup></span><span class="sxs-lookup"><span data-stu-id="f3707-143">-   Add nullable property<sup>2</sup></span></span>|
|<span data-ttu-id="f3707-144">Sady entit</span><span class="sxs-lookup"><span data-stu-id="f3707-144">Entity sets</span></span>|<span data-ttu-id="f3707-145">-Odebrat sadu entit</span><span class="sxs-lookup"><span data-stu-id="f3707-145">-   Remove entity set</span></span>|<span data-ttu-id="f3707-146">-Přidat odvozený typ</span><span class="sxs-lookup"><span data-stu-id="f3707-146">-   Add derived type</span></span><br /><span data-ttu-id="f3707-147">-Změnit základní typ</span><span class="sxs-lookup"><span data-stu-id="f3707-147">-   Change base type</span></span><br /><span data-ttu-id="f3707-148">-Přidat sadu entit</span><span class="sxs-lookup"><span data-stu-id="f3707-148">-   Add entity set</span></span>|
|<span data-ttu-id="f3707-149">Přizpůsobení informačního kanálu</span><span class="sxs-lookup"><span data-stu-id="f3707-149">Feed customization</span></span>|<span data-ttu-id="f3707-150">-Změnit mapování vlastností entity</span><span class="sxs-lookup"><span data-stu-id="f3707-150">-   Change entity-property mapping</span></span>||

 <span data-ttu-id="f3707-151"><sup>1</sup> Tato funkce může záviset na tom, jak čistě klientská aplikace spoléhá na přijetí konkrétního kódu chyby.</span><span class="sxs-lookup"><span data-stu-id="f3707-151"><sup>1</sup> This may depend on how strictly a client application relies on receiving a specific error code.</span></span>

 <span data-ttu-id="f3707-152"><sup>2</sup> vlastnost <xref:System.Data.Services.Client.DataServiceContext.IgnoreMissingProperties%2A> můžete nastavit tak, aby `true`, aby klient ignoroval všechny nové vlastnosti odesílané datovou službou, které nejsou definované v klientovi.</span><span class="sxs-lookup"><span data-stu-id="f3707-152"><sup>2</sup> You can set the <xref:System.Data.Services.Client.DataServiceContext.IgnoreMissingProperties%2A> property to `true` to have the client ignore any new properties sent by the data service that are not defined on the client.</span></span> <span data-ttu-id="f3707-153">Pokud jsou však vložena vložení, vlastnosti nezahrnuté klientem v požadavku POST jsou nastaveny na výchozí hodnoty.</span><span class="sxs-lookup"><span data-stu-id="f3707-153">However, when inserts are made, the properties not included by the client in the POST request are set to their default values.</span></span> <span data-ttu-id="f3707-154">U aktualizací se můžou všechna existující data ve vlastnosti, která je pro klienta neznámá, přepsat výchozími hodnotami.</span><span class="sxs-lookup"><span data-stu-id="f3707-154">For updates, any existing data in a property unknown to the client might be overwritten with default values.</span></span> <span data-ttu-id="f3707-155">V takovém případě byste měli aktualizaci odeslat jako požadavek sloučení, což je výchozí nastavení.</span><span class="sxs-lookup"><span data-stu-id="f3707-155">In this case, you should send the update as a MERGE request, which is the default.</span></span> <span data-ttu-id="f3707-156">Další informace najdete v tématu [Správa kontextu datové služby](managing-the-data-service-context-wcf-data-services.md).</span><span class="sxs-lookup"><span data-stu-id="f3707-156">For more information, see [Managing the Data Service Context](managing-the-data-service-context-wcf-data-services.md).</span></span>

### <a name="how-to-version-a-data-service"></a><span data-ttu-id="f3707-157">Postup verze datové služby</span><span class="sxs-lookup"><span data-stu-id="f3707-157">How to Version a Data Service</span></span>
 <span data-ttu-id="f3707-158">V případě potřeby je nová verze datové služby definovaná vytvořením nové instance služby s aktualizovaným servisním kontraktem nebo datovým modelem.</span><span class="sxs-lookup"><span data-stu-id="f3707-158">When required, a new data service version is defined by creating a new instance of the service with an updated service contract or data model.</span></span> <span data-ttu-id="f3707-159">Tato nová služba se pak zveřejní pomocí nového koncového bodu URI, který ho odlišuje od předchozí verze.</span><span class="sxs-lookup"><span data-stu-id="f3707-159">This new service is then exposed by using a new URI endpoint, which differentiates it from the previous version.</span></span> <span data-ttu-id="f3707-160">Příklad:</span><span class="sxs-lookup"><span data-stu-id="f3707-160">For example:</span></span>

- <span data-ttu-id="f3707-161">Stará verze: `http://services.odata.org/Northwind/v1/Northwind.svc/`</span><span class="sxs-lookup"><span data-stu-id="f3707-161">Old version: `http://services.odata.org/Northwind/v1/Northwind.svc/`</span></span>

- <span data-ttu-id="f3707-162">Nová verze: `http://services.odata.org/Northwind/v2/Northwind.svc/`</span><span class="sxs-lookup"><span data-stu-id="f3707-162">New version: `http://services.odata.org/Northwind/v2/Northwind.svc/`</span></span>

 <span data-ttu-id="f3707-163">Při upgradu datové služby bude potřeba, aby se klienti aktualizovali taky na základě nových metadat datové služby a nového kořenového identifikátoru URI.</span><span class="sxs-lookup"><span data-stu-id="f3707-163">When upgrading a data service, clients will need to also be updated based on the new data service metadata and to use the new root URI.</span></span> <span data-ttu-id="f3707-164">Pokud je to možné, měli byste zachovat předchozí verzi datové služby, aby podporovala klienty, kteří se ještě neupgradovali na použití nové verze.</span><span class="sxs-lookup"><span data-stu-id="f3707-164">When possible, you should maintain the previous version of the data service to support clients that have not yet been upgraded to use the new version.</span></span> <span data-ttu-id="f3707-165">Starší verze datové služby se dají odebrat, když už je nepotřebujete.</span><span class="sxs-lookup"><span data-stu-id="f3707-165">Older versions of a data service can be removed when they are no longer needed.</span></span> <span data-ttu-id="f3707-166">Měli byste zvážit zachování identifikátoru URI koncového bodu datové služby v externím konfiguračním souboru.</span><span class="sxs-lookup"><span data-stu-id="f3707-166">You should consider maintaining the data service endpoint URI in an external configuration file.</span></span>

## <a name="odata-protocol-versions"></a><span data-ttu-id="f3707-167">Verze protokolu OData</span><span class="sxs-lookup"><span data-stu-id="f3707-167">OData Protocol Versions</span></span>
 <span data-ttu-id="f3707-168">Při vydání nových verzí OData nemusí klientské aplikace používat stejnou verzi protokolu OData, jakou podporuje datová služba.</span><span class="sxs-lookup"><span data-stu-id="f3707-168">As new versions of OData are released, client applications may not be using the same version of the OData protocol that is supported by the data service.</span></span> <span data-ttu-id="f3707-169">Starší klientská aplikace může získat přístup k datové službě, která podporuje novější verzi OData.</span><span class="sxs-lookup"><span data-stu-id="f3707-169">An older client application may access a data service that supports a newer version of OData.</span></span> <span data-ttu-id="f3707-170">Klientská aplikace může také používat novější verzi knihovny WCF Data Services klienta, která podporuje novější verzi OData, než je služba, ke které se přistupovalo.</span><span class="sxs-lookup"><span data-stu-id="f3707-170">A client application may also be using a newer version of the WCF Data Services client library, which supports a newer version of OData than does the data service that is being accessed.</span></span>

 <span data-ttu-id="f3707-171">WCF Data Services využívá podporu poskytovanou službou OData ke zpracování takových scénářů správy verzí.</span><span class="sxs-lookup"><span data-stu-id="f3707-171">WCF Data Services leverages the support provided by OData to handle such versioning scenarios.</span></span> <span data-ttu-id="f3707-172">Existuje také podpora pro generování a používání metadat datového modelu k vytváření tříd klientských datových služeb, když klient používá jinou verzi OData než datová služba používá.</span><span class="sxs-lookup"><span data-stu-id="f3707-172">There is also support for generating and using data model metadata to create client data service classes when the client uses a different version of OData than the data service uses.</span></span> <span data-ttu-id="f3707-173">Další informace najdete v tématu [OData: Správa verzí protokolů](https://go.microsoft.com/fwlink/?LinkId=186071).</span><span class="sxs-lookup"><span data-stu-id="f3707-173">For more information, see [OData: Protocol Versioning](https://go.microsoft.com/fwlink/?LinkId=186071).</span></span>

### <a name="version-negotiation"></a><span data-ttu-id="f3707-174">Vyjednávání verze</span><span class="sxs-lookup"><span data-stu-id="f3707-174">Version Negotiation</span></span>
 <span data-ttu-id="f3707-175">Datovou službu lze nakonfigurovat tak, aby definovala nejvyšší verzi protokolu OData, kterou bude služba používat, bez ohledu na verzi, kterou klient požaduje.</span><span class="sxs-lookup"><span data-stu-id="f3707-175">The data service can be configured to define the highest version of the OData protocol that will be used by the service, regardless of the version requested by the client.</span></span> <span data-ttu-id="f3707-176">To lze provést zadáním <xref:System.Data.Services.Common.DataServiceProtocolVersion> hodnoty pro vlastnost <xref:System.Data.Services.DataServiceBehavior.MaxProtocolVersion%2A> <xref:System.Data.Services.DataServiceBehavior> používané datovou službou.</span><span class="sxs-lookup"><span data-stu-id="f3707-176">You can do this by specifying a <xref:System.Data.Services.Common.DataServiceProtocolVersion> value for the <xref:System.Data.Services.DataServiceBehavior.MaxProtocolVersion%2A> property of the <xref:System.Data.Services.DataServiceBehavior> used by the data service.</span></span> <span data-ttu-id="f3707-177">Další informace najdete v tématu [konfigurace datové služby](configuring-the-data-service-wcf-data-services.md).</span><span class="sxs-lookup"><span data-stu-id="f3707-177">For more information, see [Configuring the Data Service](configuring-the-data-service-wcf-data-services.md).</span></span>

 <span data-ttu-id="f3707-178">Když aplikace používá klientské knihovny WCF Data Services pro přístup k datové službě, knihovny automaticky nastaví tyto hlavičky na správné hodnoty v závislosti na verzi OData a funkcích, které jsou používány ve vaší aplikaci.</span><span class="sxs-lookup"><span data-stu-id="f3707-178">When an application uses the WCF Data Services client libraries to access a data service, the libraries automatically set these headers to the correct values, depending on the version of OData and the features that are used in your application.</span></span> <span data-ttu-id="f3707-179">Ve výchozím nastavení používá WCF Data Services nejnižší verzi protokolu, která podporuje požadovanou operaci.</span><span class="sxs-lookup"><span data-stu-id="f3707-179">By default, WCF Data Services uses the lowest protocol version that supports the requested operation.</span></span>

 <span data-ttu-id="f3707-180">Následující tabulka obsahuje podrobnosti o verzích .NET Framework a Silverlightu, které zahrnují podporu WCF Data Services pro konkrétní verze protokolu OData.</span><span class="sxs-lookup"><span data-stu-id="f3707-180">The following table details the versions of .NET Framework and Silverlight that include WCF Data Services support for specific versions of the OData protocol.</span></span>

|<span data-ttu-id="f3707-181">Verze protokolu OData</span><span class="sxs-lookup"><span data-stu-id="f3707-181">OData Protocol Version</span></span>|<span data-ttu-id="f3707-182">Podpora zavedená v...</span><span class="sxs-lookup"><span data-stu-id="f3707-182">Support introduced in…</span></span>|
|-----------------------------------------------------------------------------------|----------------------------|
|<span data-ttu-id="f3707-183">Verze 1</span><span class="sxs-lookup"><span data-stu-id="f3707-183">Version 1</span></span>|<span data-ttu-id="f3707-184">-.NET Framework 3,5 Service Pack 1 (SP1)</span><span class="sxs-lookup"><span data-stu-id="f3707-184">-   .NET Framework 3.5 Service Pack 1 (SP1)</span></span><br /><span data-ttu-id="f3707-185">– Silverlight verze 3</span><span class="sxs-lookup"><span data-stu-id="f3707-185">-   Silverlight version 3</span></span>|
|<span data-ttu-id="f3707-186">Verze 2</span><span class="sxs-lookup"><span data-stu-id="f3707-186">Version 2</span></span>|<span data-ttu-id="f3707-187">-.NET Framework 4</span><span class="sxs-lookup"><span data-stu-id="f3707-187">-   .NET Framework 4</span></span><br /><span data-ttu-id="f3707-188">– Aktualizace .NET Framework 3,5 SP1.</span><span class="sxs-lookup"><span data-stu-id="f3707-188">-   An update to .NET Framework 3.5 SP1.</span></span> <span data-ttu-id="f3707-189">Aktualizaci můžete stáhnout a nainstalovat z webu [Microsoft Download Center](https://go.microsoft.com/fwlink/?LinkId=158125).</span><span class="sxs-lookup"><span data-stu-id="f3707-189">You can download and install the update from the [Microsoft Download Center](https://go.microsoft.com/fwlink/?LinkId=158125).</span></span><br /><span data-ttu-id="f3707-190">– Silverlight verze 4</span><span class="sxs-lookup"><span data-stu-id="f3707-190">-   Silverlight version 4</span></span>|
|<span data-ttu-id="f3707-191">Verze 3</span><span class="sxs-lookup"><span data-stu-id="f3707-191">Version 3</span></span>|<span data-ttu-id="f3707-192">– Můžete si stáhnout a nainstalovat předběžnou verzi, která podporuje OData verze 3 z webu [Microsoft Download Center](https://go.microsoft.com/fwlink/?LinkId=203885).</span><span class="sxs-lookup"><span data-stu-id="f3707-192">-   You can download and install a pre-release version that supports OData version 3 from the [Microsoft Download Center](https://go.microsoft.com/fwlink/?LinkId=203885).</span></span>|

### <a name="metadata-versions"></a><span data-ttu-id="f3707-193">Verze metadat</span><span class="sxs-lookup"><span data-stu-id="f3707-193">Metadata Versions</span></span>
 <span data-ttu-id="f3707-194">Ve výchozím nastavení WCF Data Services používá ke znázornění datového modelu verzi 1,1 CSDL.</span><span class="sxs-lookup"><span data-stu-id="f3707-194">By default, WCF Data Services uses version 1.1 of CSDL to represent a data model.</span></span> <span data-ttu-id="f3707-195">To je vždy případ datových modelů, které jsou založeny na poskytovateli reflexe nebo vlastním poskytovateli datových služeb.</span><span class="sxs-lookup"><span data-stu-id="f3707-195">This is always the case for data models that are based on either a reflection provider or a custom data service provider.</span></span> <span data-ttu-id="f3707-196">Pokud je však datový model definován pomocí Entity Framework, bude verze CSDL vrácena stejná jako verze, kterou používá Entity Framework.</span><span class="sxs-lookup"><span data-stu-id="f3707-196">However, when the data model is defined by using the Entity Framework, the version of CSDL returned is the same as the version that is used by the Entity Framework.</span></span> <span data-ttu-id="f3707-197">Verze CSDL je určena oborem názvů [elementu Schema (CSDL)](/ef/ef6/modeling/designer/advanced/edmx/csdl-spec#schema-element-csdl).</span><span class="sxs-lookup"><span data-stu-id="f3707-197">The version of the CSDL is determined by the namespace of the [Schema element (CSDL)](/ef/ef6/modeling/designer/advanced/edmx/csdl-spec#schema-element-csdl).</span></span>

 <span data-ttu-id="f3707-198">Prvek `DataServices` vrácených metadat obsahuje také atribut `DataServiceVersion`, což je stejná hodnota jako hlavička `DataServiceVersion` ve zprávě odpovědi.</span><span class="sxs-lookup"><span data-stu-id="f3707-198">The `DataServices` element of the returned metadata also contains a `DataServiceVersion` attribute, which is the same value as the `DataServiceVersion` header in the response message.</span></span> <span data-ttu-id="f3707-199">Klientské aplikace, jako je například dialogové okno **Přidat odkaz na službu** v aplikaci Visual Studio, používají tyto informace k vygenerování tříd klientských datových služeb, které fungují správně s verzí WCF Data Services, která je hostitelem datové služby.</span><span class="sxs-lookup"><span data-stu-id="f3707-199">Client applications, such as the **Add Service Reference** dialog box in Visual Studio, use this information to generate client data service classes that work correctly with the version of WCF Data Services that host the data service.</span></span> <span data-ttu-id="f3707-200">Další informace najdete v tématu [OData: Správa verzí protokolů](https://go.microsoft.com/fwlink/?LinkId=186071).</span><span class="sxs-lookup"><span data-stu-id="f3707-200">For more information, see [OData: Protocol Versioning](https://go.microsoft.com/fwlink/?LinkId=186071).</span></span>

## <a name="see-also"></a><span data-ttu-id="f3707-201">Viz také:</span><span class="sxs-lookup"><span data-stu-id="f3707-201">See also</span></span>

- [<span data-ttu-id="f3707-202">Zprostředkovatelé datových služeb</span><span class="sxs-lookup"><span data-stu-id="f3707-202">Data Services Providers</span></span>](data-services-providers-wcf-data-services.md)
- [<span data-ttu-id="f3707-203">Definování datových služeb WCF Data Services</span><span class="sxs-lookup"><span data-stu-id="f3707-203">Defining WCF Data Services</span></span>](defining-wcf-data-services.md)
