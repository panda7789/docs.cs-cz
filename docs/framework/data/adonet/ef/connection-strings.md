---
title: Připojovací řetězce v Entity Framework ADO.NET
description: Přečtěte si o připojovacích řetězcích v Entity Framework, které obsahují informace pro připojení k poskytovateli dat ADO.NET a o modelech a mapování souborů.
ms.date: 10/15/2018
ms.assetid: 78d516bc-c99f-4865-8ff1-d856bc1a01c0
ms.openlocfilehash: 2ae25f5881c033a84d65f5b0b4ed14b4866dbcb3
ms.sourcegitcommit: 33deec3e814238fb18a49b2a7e89278e27888291
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 06/02/2020
ms.locfileid: "84286867"
---
# <a name="connection-strings-in-the-adonet-entity-framework"></a><span data-ttu-id="838d0-103">Připojovací řetězce v Entity Framework ADO.NET</span><span class="sxs-lookup"><span data-stu-id="838d0-103">Connection Strings in the ADO.NET Entity Framework</span></span>

<span data-ttu-id="838d0-104">Připojovací řetězec obsahuje inicializační informace, které jsou předány jako parametr od poskytovatele dat ke zdroji dat.</span><span class="sxs-lookup"><span data-stu-id="838d0-104">A connection string contains initialization information that is passed as a parameter from a data provider to a data source.</span></span> <span data-ttu-id="838d0-105">Syntaxe závisí na poskytovateli dat a připojovací řetězec se analyzuje během pokusu o otevření připojení.</span><span class="sxs-lookup"><span data-stu-id="838d0-105">The syntax depends on the data provider, and the connection string is parsed during the attempt to open a connection.</span></span> <span data-ttu-id="838d0-106">Připojovací řetězce, které používá Entity Framework, obsahují informace, které slouží k připojení k základnímu poskytovateli dat ADO.NET, který podporuje Entity Framework.</span><span class="sxs-lookup"><span data-stu-id="838d0-106">Connection strings used by the Entity Framework contain information used to connect to the underlying ADO.NET data provider that supports the Entity Framework.</span></span> <span data-ttu-id="838d0-107">Obsahují také informace o požadovaném modelu a mapování souborů.</span><span class="sxs-lookup"><span data-stu-id="838d0-107">They also contain information about the required model and mapping files.</span></span>

<span data-ttu-id="838d0-108">Připojovací řetězec je používán poskytovatelem EntityClient při přístupu k modelu a mapování metadat a připojení ke zdroji dat.</span><span class="sxs-lookup"><span data-stu-id="838d0-108">The connection string is used by the EntityClient provider when accessing model and mapping metadata and connecting to the data source.</span></span> <span data-ttu-id="838d0-109">K připojovacímu řetězci lze přejít nebo nastavit <xref:System.Data.EntityClient.EntityConnection.ConnectionString%2A> vlastnost <xref:System.Data.EntityClient.EntityConnection> .</span><span class="sxs-lookup"><span data-stu-id="838d0-109">The connection string can be accessed or set through the <xref:System.Data.EntityClient.EntityConnection.ConnectionString%2A> property of <xref:System.Data.EntityClient.EntityConnection>.</span></span> <span data-ttu-id="838d0-110"><xref:System.Data.EntityClient.EntityConnectionStringBuilder>Třída se dá použít k programovému vytváření nebo přístupu k parametrům v připojovacím řetězci.</span><span class="sxs-lookup"><span data-stu-id="838d0-110">The <xref:System.Data.EntityClient.EntityConnectionStringBuilder> class can be used to programmatically construct or access parameters in the connection string.</span></span> <span data-ttu-id="838d0-111">Další informace naleznete v tématu [How to: Build a EntityConnection Connection String](how-to-build-an-entityconnection-connection-string.md).</span><span class="sxs-lookup"><span data-stu-id="838d0-111">For more information, see [How to: Build an EntityConnection Connection String](how-to-build-an-entityconnection-connection-string.md).</span></span>

<span data-ttu-id="838d0-112">[Nástroje model EDM (Entity Data Model)](https://docs.microsoft.com/previous-versions/dotnet/netframework-4.0/bb399249(v=vs.100)) generují připojovací řetězec, který je uložen v konfiguračním souboru aplikace.</span><span class="sxs-lookup"><span data-stu-id="838d0-112">The [Entity Data Model tools](https://docs.microsoft.com/previous-versions/dotnet/netframework-4.0/bb399249(v=vs.100)) generate a connection string that is stored in the application's configuration file.</span></span> <span data-ttu-id="838d0-113"><xref:System.Data.Objects.ObjectContext>Tyto informace o připojení načítají automaticky při vytváření dotazů na objekty.</span><span class="sxs-lookup"><span data-stu-id="838d0-113"><xref:System.Data.Objects.ObjectContext> retrieves this connection information automatically when creating object queries.</span></span> <span data-ttu-id="838d0-114"><xref:System.Data.EntityClient.EntityConnection>Z vlastnosti, kterou používá instance, se <xref:System.Data.Objects.ObjectContext> dá dostat <xref:System.Data.Objects.ObjectContext.Connection%2A> .</span><span class="sxs-lookup"><span data-stu-id="838d0-114">The <xref:System.Data.EntityClient.EntityConnection> used by an <xref:System.Data.Objects.ObjectContext> instance can be accessed from the <xref:System.Data.Objects.ObjectContext.Connection%2A> property.</span></span> <span data-ttu-id="838d0-115">Další informace najdete v tématu [Správa připojení a transakcí](https://docs.microsoft.com/previous-versions/dotnet/netframework-4.0/bb896325(v=vs.100)).</span><span class="sxs-lookup"><span data-stu-id="838d0-115">For more information, see [Managing Connections and Transactions](https://docs.microsoft.com/previous-versions/dotnet/netframework-4.0/bb896325(v=vs.100)).</span></span>

## <a name="connection-string-syntax"></a><span data-ttu-id="838d0-116">Syntaxe připojovacího řetězce</span><span class="sxs-lookup"><span data-stu-id="838d0-116">Connection String Syntax</span></span>

<span data-ttu-id="838d0-117">Další informace o obecné syntaxi připojovacích řetězců najdete v tématu [syntaxe připojovacího řetězce | Připojovací řetězce v ADO.NET](../connection-strings.md#connection-string-syntax).</span><span class="sxs-lookup"><span data-stu-id="838d0-117">To learn about the general syntax for connection strings, see [Connection string syntax | Connection Strings in ADO.NET](../connection-strings.md#connection-string-syntax).</span></span>

## <a name="connection-string-parameters"></a><span data-ttu-id="838d0-118">Parametry připojovacího řetězce</span><span class="sxs-lookup"><span data-stu-id="838d0-118">Connection String Parameters</span></span>

<span data-ttu-id="838d0-119">V následující tabulce jsou uvedeny platné názvy pro hodnoty klíčového slova v <xref:System.Data.EntityClient.EntityConnection.ConnectionString%2A> .</span><span class="sxs-lookup"><span data-stu-id="838d0-119">The following table lists the valid names for keyword values in the <xref:System.Data.EntityClient.EntityConnection.ConnectionString%2A>.</span></span>

|<span data-ttu-id="838d0-120">Klíčové slovo</span><span class="sxs-lookup"><span data-stu-id="838d0-120">Keyword</span></span>|<span data-ttu-id="838d0-121">Popis</span><span class="sxs-lookup"><span data-stu-id="838d0-121">Description</span></span>|
|-------------|-----------------|
|`Provider`|<span data-ttu-id="838d0-122">Povinné, pokud `Name` klíčové slovo není zadáno.</span><span class="sxs-lookup"><span data-stu-id="838d0-122">Required if the `Name` keyword is not specified.</span></span> <span data-ttu-id="838d0-123">Název zprostředkovatele, který se používá k načtení <xref:System.Data.Common.DbProviderFactory> objektu pro základního poskytovatele.</span><span class="sxs-lookup"><span data-stu-id="838d0-123">The provider name, which is used to retrieve the <xref:System.Data.Common.DbProviderFactory> object for the underlying provider.</span></span> <span data-ttu-id="838d0-124">Tato hodnota je konstantní.</span><span class="sxs-lookup"><span data-stu-id="838d0-124">This value is constant.</span></span><br /><br /> <span data-ttu-id="838d0-125">Pokud `Name` klíčové slovo není zahrnuto v připojovacím řetězci entity, je vyžadována neprázdná hodnota pro `Provider` klíčové slovo.</span><span class="sxs-lookup"><span data-stu-id="838d0-125">When the `Name` keyword is not included in an entity connection string, a non-empty value for the `Provider` keyword is required.</span></span> <span data-ttu-id="838d0-126">Toto klíčové slovo se vzájemně vylučuje pomocí `Name` klíčového slova.</span><span class="sxs-lookup"><span data-stu-id="838d0-126">This keyword is mutually exclusive with the `Name` keyword.</span></span>|
|`Provider Connection String`|<span data-ttu-id="838d0-127">Nepovinný parametr.</span><span class="sxs-lookup"><span data-stu-id="838d0-127">Optional.</span></span> <span data-ttu-id="838d0-128">Určuje připojovací řetězec specifický pro konkrétního zprostředkovatele, který se předává základnímu zdroji dat.</span><span class="sxs-lookup"><span data-stu-id="838d0-128">Specifies the provider-specific connection string that is passed to the underlying data source.</span></span> <span data-ttu-id="838d0-129">Tento připojovací řetězec obsahuje platné páry klíč-hodnota pro poskytovatele dat.</span><span class="sxs-lookup"><span data-stu-id="838d0-129">This connection string contains valid keyword/value pairs for the data provider.</span></span> <span data-ttu-id="838d0-130">Neplatný způsobí `Provider Connection String` chybu za běhu, když je vyhodnocen zdrojem dat.</span><span class="sxs-lookup"><span data-stu-id="838d0-130">An invalid `Provider Connection String` will cause a run-time error when it is evaluated by the data source.</span></span><br /><br /> <span data-ttu-id="838d0-131">Toto klíčové slovo se vzájemně vylučuje pomocí `Name` klíčového slova.</span><span class="sxs-lookup"><span data-stu-id="838d0-131">This keyword is mutually exclusive with the `Name` keyword.</span></span><br /><br /> <span data-ttu-id="838d0-132">Zajistěte, aby se hodnota vyhnula v souladu s obecnou syntaxí [připojovacích řetězců ADO.NET](../connection-strings.md).</span><span class="sxs-lookup"><span data-stu-id="838d0-132">Make sure to escape the value according to the general syntax of [ADO.NET connection strings](../connection-strings.md).</span></span> <span data-ttu-id="838d0-133">Zvažte například následující připojovací řetězec: `Server=serverName; User ID = userID` .</span><span class="sxs-lookup"><span data-stu-id="838d0-133">Consider for example the following connection string: `Server=serverName; User ID = userID`.</span></span> <span data-ttu-id="838d0-134">Musí být uvozena řídicím znakem, protože obsahuje středník.</span><span class="sxs-lookup"><span data-stu-id="838d0-134">It must be escaped because it contains a semicolon.</span></span> <span data-ttu-id="838d0-135">Vzhledem k tomu, že neobsahuje dvojité uvozovky, mohou být použity pro uvozovací znaky:</span><span class="sxs-lookup"><span data-stu-id="838d0-135">Since it does not contain double quotation marks, they may be used for escaping:</span></span><br /><br /> `Provider Connection String ="Server=serverName; User ID = userID";`|
|`Metadata`|<span data-ttu-id="838d0-136">Povinné, pokud `Name` klíčové slovo není zadáno.</span><span class="sxs-lookup"><span data-stu-id="838d0-136">Required if the `Name` keyword is not specified.</span></span> <span data-ttu-id="838d0-137">Seznam adresářů, souborů a umístění prostředků oddělených kanálem, v nichž budou hledány metadata a informace o mapování.</span><span class="sxs-lookup"><span data-stu-id="838d0-137">A pipe-delimited list of directories, files, and resource locations in which to look for metadata and mapping information.</span></span> <span data-ttu-id="838d0-138">Například:</span><span class="sxs-lookup"><span data-stu-id="838d0-138">The following is an example:</span></span><br /><br /> `Metadata=`<br /><br /> `c:\model &#124; c:\model\sql\mapping.msl;`<br /><br /> <span data-ttu-id="838d0-139">Prázdné mezery na každé straně oddělovače kanálu jsou ignorovány.</span><span class="sxs-lookup"><span data-stu-id="838d0-139">Blank spaces on each side of the pipe separator are ignored.</span></span><br /><br /> <span data-ttu-id="838d0-140">Toto klíčové slovo se vzájemně vylučuje pomocí `Name` klíčového slova.</span><span class="sxs-lookup"><span data-stu-id="838d0-140">This keyword is mutually exclusive with the `Name` keyword.</span></span>|
|`Name`|<span data-ttu-id="838d0-141">Aplikace může volitelně zadat název připojení v konfiguračním souboru aplikace, který poskytuje požadované hodnoty připojovacího řetězce klíč/hodnota.</span><span class="sxs-lookup"><span data-stu-id="838d0-141">The application can optionally specify the connection name in an application configuration file that provides the required keyword/value connection string values.</span></span> <span data-ttu-id="838d0-142">V takovém případě je nemůžete přímo do připojovacího řetězce zadávat.</span><span class="sxs-lookup"><span data-stu-id="838d0-142">In this case, you cannot supply them directly in the connection string.</span></span> <span data-ttu-id="838d0-143">`Name`Klíčové slovo není v konfiguračním souboru povoleno.</span><span class="sxs-lookup"><span data-stu-id="838d0-143">The `Name` keyword is not allowed in a configuration file.</span></span><br /><br /> <span data-ttu-id="838d0-144">Pokud `Name` klíčové slovo není zahrnuto v připojovacím řetězci, je požadováno neprázdné hodnoty pro klíčové slovo Provider.</span><span class="sxs-lookup"><span data-stu-id="838d0-144">When the `Name` keyword is not included in the connection string, a non-empty values for Provider keyword is required.</span></span><br /><br /> <span data-ttu-id="838d0-145">Toto klíčové slovo se vzájemně vylučuje se všemi ostatními klíčovými slovy připojovacího řetězce.</span><span class="sxs-lookup"><span data-stu-id="838d0-145">This keyword is mutually exclusive with all the other connection string keywords.</span></span>|

<span data-ttu-id="838d0-146">Následuje příklad připojovacího řetězce pro [model AdventureWorks Sales](https://github.com/Microsoft/sql-server-samples/releases/tag/adventureworks) uložený v konfiguračním souboru aplikace:</span><span class="sxs-lookup"><span data-stu-id="838d0-146">The following is an example of a connection string for the [AdventureWorks Sales Model](https://github.com/Microsoft/sql-server-samples/releases/tag/adventureworks) stored in the application configuration file:</span></span>

## <a name="model-and-mapping-file-locations"></a><span data-ttu-id="838d0-147">Umístění souborů modelů a mapování</span><span class="sxs-lookup"><span data-stu-id="838d0-147">Model and Mapping File Locations</span></span>

<span data-ttu-id="838d0-148">`Metadata`Parametr obsahuje seznam umístění pro `EntityClient` poskytovatele vyhledávání modelů a mapování souborů.</span><span class="sxs-lookup"><span data-stu-id="838d0-148">The `Metadata` parameter contains a list of locations for the `EntityClient` provider to search for model and mapping files.</span></span> <span data-ttu-id="838d0-149">Soubory modelů a mapování jsou často nasazeny ve stejném adresáři jako spustitelný soubor aplikace.</span><span class="sxs-lookup"><span data-stu-id="838d0-149">Model and mapping files are often deployed in the same directory as the application executable file.</span></span> <span data-ttu-id="838d0-150">Tyto soubory lze také nasadit do konkrétního umístění nebo zahrnout jako vložený prostředek do aplikace.</span><span class="sxs-lookup"><span data-stu-id="838d0-150">These files can also be deployed in a specific location or included as an embedded resource in the application.</span></span>

<span data-ttu-id="838d0-151">Vložené prostředky jsou zadány takto:</span><span class="sxs-lookup"><span data-stu-id="838d0-151">Embedded resources are specified as follows:</span></span>

`Metadata=res://<assemblyFullName>/<resourceName>`

<span data-ttu-id="838d0-152">Pro definování umístění vloženého prostředku jsou k dispozici následující možnosti:</span><span class="sxs-lookup"><span data-stu-id="838d0-152">The following options are available for defining the location of an embedded resource:</span></span>

|<span data-ttu-id="838d0-153">Možnost</span><span class="sxs-lookup"><span data-stu-id="838d0-153">Option</span></span>|<span data-ttu-id="838d0-154">Popis</span><span class="sxs-lookup"><span data-stu-id="838d0-154">Description</span></span>|
|-|-|
|`assemblyFullName`|<span data-ttu-id="838d0-155">Úplný název sestavení s vloženým prostředkem.</span><span class="sxs-lookup"><span data-stu-id="838d0-155">The full name of an assembly with the embedded resource.</span></span> <span data-ttu-id="838d0-156">Název obsahuje jednoduchý název, název verze, podporovanou jazykovou verzi a veřejný klíč, a to následujícím způsobem:</span><span class="sxs-lookup"><span data-stu-id="838d0-156">The name includes the simple name, version name, supported culture, and public key, as follows:</span></span><br /><br /> `ResourceLib, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null`<br /><br /> <span data-ttu-id="838d0-157">Prostředky je možné vložit do libovolného sestavení, které je přístupné pro aplikaci.</span><span class="sxs-lookup"><span data-stu-id="838d0-157">Resources can be embedded in any assembly that is accessible by the application.</span></span><br /><br /> <span data-ttu-id="838d0-158">Pokud zadáte zástupný znak ( \* ) pro `assemblyFullName` , Entity Framework runtime vyhledá prostředky v následujících umístěních, v tomto pořadí:</span><span class="sxs-lookup"><span data-stu-id="838d0-158">If you specify a wildcard (\*) for `assemblyFullName`, the Entity Framework runtime will search for resources in the following locations, in this order:</span></span><br /><br /> <span data-ttu-id="838d0-159">1. volající sestavení.</span><span class="sxs-lookup"><span data-stu-id="838d0-159">1.  The calling assembly.</span></span><br /><span data-ttu-id="838d0-160">2. odkazovaná sestavení.</span><span class="sxs-lookup"><span data-stu-id="838d0-160">2.  The referenced assemblies.</span></span><br /><span data-ttu-id="838d0-161">3. sestavení v adresáři bin aplikace.</span><span class="sxs-lookup"><span data-stu-id="838d0-161">3.  The assemblies in the bin directory of an application.</span></span><br /><br /> <span data-ttu-id="838d0-162">Pokud soubory nejsou v jednom z těchto umístění, bude vyvolána výjimka.</span><span class="sxs-lookup"><span data-stu-id="838d0-162">If the files are not in one of these locations, an exception will be thrown.</span></span> <span data-ttu-id="838d0-163">**Poznámka:**  Použijete-li zástupný znak (\*), Entity Framework musí vyhledat všechna sestavení pro prostředky se správným názvem.</span><span class="sxs-lookup"><span data-stu-id="838d0-163">**Note:**  When you use wildcard (\*), the Entity Framework has to look through all the assemblies for resources with the correct name.</span></span> <span data-ttu-id="838d0-164">Chcete-li zvýšit výkon, zadejte název sestavení místo zástupného znaku.</span><span class="sxs-lookup"><span data-stu-id="838d0-164">To improve performance, specify the assembly name instead of the wildcard.</span></span>|
|`resourceName`|<span data-ttu-id="838d0-165">Název zahrnutého prostředku, například AdventureWorksModel. csdl.</span><span class="sxs-lookup"><span data-stu-id="838d0-165">The name of the included resource, such as AdventureWorksModel.csdl.</span></span> <span data-ttu-id="838d0-166">Služby metadat budou hledat pouze soubory nebo prostředky s jedním z následujících přípon: CSDL,. ssdl nebo. MSL.</span><span class="sxs-lookup"><span data-stu-id="838d0-166">The metadata services will only look for files or resources with one of the following extensions: .csdl, .ssdl, or .msl.</span></span> <span data-ttu-id="838d0-167">Pokud `resourceName` parametr není zadán, budou načteny všechny prostředky metadat.</span><span class="sxs-lookup"><span data-stu-id="838d0-167">If `resourceName` is not specified, all metadata resources will be loaded.</span></span> <span data-ttu-id="838d0-168">Prostředky by měly mít jedinečné názvy v rámci sestavení.</span><span class="sxs-lookup"><span data-stu-id="838d0-168">The resources should have unique names within an assembly.</span></span> <span data-ttu-id="838d0-169">Je-li v různých adresářích sestavení definováno více souborů se stejným názvem, `resourceName` musí obsahovat strukturu složky před názvem prostředku, například název_složky. FileName. csdl.</span><span class="sxs-lookup"><span data-stu-id="838d0-169">If multiple files with the same name are defined in different directories in the assembly, the `resourceName` must include the folder structure before the name of the resource, for example FolderName.FileName.csdl.</span></span><br /><br /> <span data-ttu-id="838d0-170">`resourceName`není vyžadováno, pokud zadáte zástupný znak (\*) pro `assemblyFullName` .</span><span class="sxs-lookup"><span data-stu-id="838d0-170">`resourceName` is not required when you specify a wildcard (\*) for `assemblyFullName`.</span></span>|

> [!NOTE]
> <span data-ttu-id="838d0-171">Chcete-li zvýšit výkon, zahrňte prostředky do volajícího sestavení s výjimkou newebových scénářů, kde není odkaz na základní mapování a soubory metadat v volajícím sestavení.</span><span class="sxs-lookup"><span data-stu-id="838d0-171">To improve performance, embed resources in the calling assembly, except in non-Web scenarios where there is no reference to underlying mapping and metadata files in the calling assembly.</span></span>

<span data-ttu-id="838d0-172">Následující příklad načte všechny soubory modelu a mapování v volajícím sestavení, odkazovaných sestaveních a dalších sestaveních v adresáři bin aplikace.</span><span class="sxs-lookup"><span data-stu-id="838d0-172">The following example loads all the model and mapping files in the calling assembly, referenced assemblies, and other assemblies in the bin directory of an application.</span></span>

```csharp
Metadata=res://*/
```

<span data-ttu-id="838d0-173">Následující příklad načte soubor model. csdl ze sestavení AdventureWorks a načte model. ssdl a model. MSL soubory z výchozího adresáře běžící aplikace.</span><span class="sxs-lookup"><span data-stu-id="838d0-173">The following example loads the model.csdl file from the AdventureWorks assembly, and loads the model.ssdl and model.msl files from the default directory of the running application.</span></span>

```csharp
Metadata=res://AdventureWorks, 1.0.0.0, neutral, a14f3033def15840/model.csdl|model.ssdl|model.msl
```

<span data-ttu-id="838d0-174">Následující příklad načte tři zadané prostředky z konkrétního sestavení.</span><span class="sxs-lookup"><span data-stu-id="838d0-174">The following example loads the three specified resources from the specific assembly.</span></span>

```csharp
Metadata=res://AdventureWorks, 1.0.0.0, neutral, a14f3033def15840/model.csdl|
res://AdventureWorks, 1.0.0.0, neutral, a14f3033def15840/model.ssdl|
res://AdventureWorks, 1.0.0.0, neutral, a14f3033def15840/model.msl
```

<span data-ttu-id="838d0-175">Následující příklad načte všechny vložené prostředky s příponami. csdl,. MSL a. ssdl ze sestavení.</span><span class="sxs-lookup"><span data-stu-id="838d0-175">The following example loads all the embedded resources with the extensions .csdl, .msl, and .ssdl from the assembly.</span></span>

```csharp
Metadata=res://AdventureWorks, 1.0.0.0, neutral, a14f3033def15840/
```

<span data-ttu-id="838d0-176">V následujícím příkladu jsou načteny všechny prostředky v relativní cestě k souboru a "datadir\metadata \\ " z načteného umístění sestavení.</span><span class="sxs-lookup"><span data-stu-id="838d0-176">The following example loads all the resources in the relative file path plus "datadir\metadata\\" from the loaded assembly location.</span></span>

```csharp
Metadata=datadir\metadata\
```

<span data-ttu-id="838d0-177">V následujícím příkladu jsou načteny všechny prostředky v relativní cestě k souboru z načteného umístění sestavení.</span><span class="sxs-lookup"><span data-stu-id="838d0-177">The following example loads all the resources in the relative file path from the loaded assembly location.</span></span>

```csharp
Metadata=.\
```

## <a name="support-for-the-124datadirectory124-substitution-string-and-the-web-application-root-operator-"></a><span data-ttu-id="838d0-178">Podpora pro &#124;DataDirectory&#124; náhradní řetězec a kořenový operátor webové aplikace (~)</span><span class="sxs-lookup"><span data-stu-id="838d0-178">Support for the &#124;DataDirectory&#124; Substitution String and the Web Application Root Operator (~)</span></span>

<span data-ttu-id="838d0-179">`DataDirectory`a operátor ~ se používá v rámci <xref:System.Data.EntityClient.EntityConnection.ConnectionString%2A> `Metadata` `Provider Connection String` klíčových slov a.</span><span class="sxs-lookup"><span data-stu-id="838d0-179">`DataDirectory` and the ~ operator are used in the <xref:System.Data.EntityClient.EntityConnection.ConnectionString%2A> as part of the `Metadata` and `Provider Connection String` keywords.</span></span> <span data-ttu-id="838d0-180"><xref:System.Data.EntityClient.EntityConnection>Posune `DataDirectory` operátor a ~ do <xref:System.Data.Metadata.Edm.MetadataWorkspace> a poskytovatele úložiště, v uvedeném pořadí.</span><span class="sxs-lookup"><span data-stu-id="838d0-180">The <xref:System.Data.EntityClient.EntityConnection> forwards the `DataDirectory` and the ~ operator to <xref:System.Data.Metadata.Edm.MetadataWorkspace> and the store provider, respectively.</span></span>

|<span data-ttu-id="838d0-181">Pojem</span><span class="sxs-lookup"><span data-stu-id="838d0-181">Term</span></span>|<span data-ttu-id="838d0-182">Popis</span><span class="sxs-lookup"><span data-stu-id="838d0-182">Description</span></span>|
|----------|-----------------|
|`&#124;DataDirectory&#124;`|<span data-ttu-id="838d0-183">Přeloží na relativní cestu k mapování a souborům metadat.</span><span class="sxs-lookup"><span data-stu-id="838d0-183">Resolves to a relative path to a mapping and metadata files.</span></span> <span data-ttu-id="838d0-184">Toto je hodnota, která je nastavena `AppDomain.SetData("DataDirectory", objValue)` metodou.</span><span class="sxs-lookup"><span data-stu-id="838d0-184">This is the value that is set through the `AppDomain.SetData("DataDirectory", objValue)` method.</span></span> <span data-ttu-id="838d0-185">`DataDirectory`Náhradní řetězec musí být ohraničen znaky kanálu a nesmí obsahovat žádné mezery mezi jeho názvem a znaky kanálu.</span><span class="sxs-lookup"><span data-stu-id="838d0-185">The `DataDirectory` substitution string must be surrounded by the pipe characters and there cannot be any white space between its name and the pipe characters.</span></span> <span data-ttu-id="838d0-186">V `DataDirectory` názvu se nerozlišují velká a malá písmena.</span><span class="sxs-lookup"><span data-stu-id="838d0-186">The `DataDirectory` name is not case-sensitive.</span></span><br /><br /> <span data-ttu-id="838d0-187">Pokud je třeba předat fyzický adresář s názvem "DataDirectory" jako člen seznamu cest metadat, přidejte prázdné znaky do buď nebo do obou stran názvu.</span><span class="sxs-lookup"><span data-stu-id="838d0-187">If a physical directory named "DataDirectory" has to be passed as a member of the list of metadata paths, add white space to either or both sides of the name.</span></span> <span data-ttu-id="838d0-188">Příklad: `Metadata="DataDirectory1 &#124; DataDirectory &#124; DataDirectory2"`.</span><span class="sxs-lookup"><span data-stu-id="838d0-188">For example: `Metadata="DataDirectory1 &#124; DataDirectory &#124; DataDirectory2"`.</span></span> <span data-ttu-id="838d0-189">Aplikace ASP.NET překládá &#124;&#124; DataDirectory do \<application root> složky/App_Data.</span><span class="sxs-lookup"><span data-stu-id="838d0-189">An ASP.NET application resolves &#124;DataDirectory&#124; to the "\<application root>/app_data" folder.</span></span>|
|~|<span data-ttu-id="838d0-190">Přeloží se na kořenový adresář webové aplikace.</span><span class="sxs-lookup"><span data-stu-id="838d0-190">Resolves to the Web application root.</span></span> <span data-ttu-id="838d0-191">Znak ~ na úvodní pozici je vždy interpretován jako kořenový operátor webové aplikace (~), i když může představovat platný místní podadresář.</span><span class="sxs-lookup"><span data-stu-id="838d0-191">The ~ character at a leading position is always interpreted as the Web application root operator (~), although it might represent a valid local subdirectory.</span></span> <span data-ttu-id="838d0-192">Chcete-li odkazovat na takový místní podadresář, měl by uživatel explicitně předat `./~` .</span><span class="sxs-lookup"><span data-stu-id="838d0-192">To refer to such a local subdirectory, the user should explicitly pass `./~`.</span></span>|

<span data-ttu-id="838d0-193">`DataDirectory`a operátor ~ by měl být zadán pouze na začátku cesty, nebudou přeloženy na žádné jiné pozici.</span><span class="sxs-lookup"><span data-stu-id="838d0-193">`DataDirectory` and the ~ operator should be specified only at the beginning of a path, they are not resolved at any other position.</span></span> <span data-ttu-id="838d0-194">Entity Framework se pokusí řešení vyřešit `~/data` , ale bude považován `/data/~` za fyzickou cestu.</span><span class="sxs-lookup"><span data-stu-id="838d0-194">The Entity Framework will try to resolve `~/data`, but it will treat `/data/~` as a physical path.</span></span>

<span data-ttu-id="838d0-195">Cesta začínající `DataDirectory` operátorem nebo ~ nemůže překládat na fyzickou cestu mimo větev `DataDirectory` a operátoru ~.</span><span class="sxs-lookup"><span data-stu-id="838d0-195">A path that starts with the `DataDirectory` or the ~ operator cannot resolve to a physical path outside the branch of the `DataDirectory` and the ~ operator.</span></span> <span data-ttu-id="838d0-196">Například následující cesty budou přeloženy: `~` , `~/data` , `~/bin/Model/SqlServer` .</span><span class="sxs-lookup"><span data-stu-id="838d0-196">For example, the following paths will resolve: `~` , `~/data` , `~/bin/Model/SqlServer`.</span></span> <span data-ttu-id="838d0-197">Následující cesty se nedaří vyřešit: `~/..` , `~/../other` .</span><span class="sxs-lookup"><span data-stu-id="838d0-197">The following paths will fail to resolve: `~/..`, `~/../other`.</span></span>

<span data-ttu-id="838d0-198">`DataDirectory`a operátor ~ lze rozšířit tak, aby zahrnoval podadresáře následujícím způsobem: `|DataDirectory|\Model` ,`~/bin/Model`</span><span class="sxs-lookup"><span data-stu-id="838d0-198">`DataDirectory` and the ~ operator can be extended to include sub-directories, as follows: `|DataDirectory|\Model`, `~/bin/Model`</span></span>

<span data-ttu-id="838d0-199">Rozlišení `DataDirectory` náhradního řetězce a operátor ~ nejsou rekurzivní.</span><span class="sxs-lookup"><span data-stu-id="838d0-199">The resolution of the `DataDirectory` substitution string and the ~ operator is non-recursive.</span></span> <span data-ttu-id="838d0-200">Například pokud `DataDirectory` obsahuje `~` znak, dojde k výjimce.</span><span class="sxs-lookup"><span data-stu-id="838d0-200">For example, when `DataDirectory` includes the `~` character, an exception will occur.</span></span> <span data-ttu-id="838d0-201">Tím zabráníte nekonečné rekurzi.</span><span class="sxs-lookup"><span data-stu-id="838d0-201">This prevents an infinite recursion.</span></span>

## <a name="see-also"></a><span data-ttu-id="838d0-202">Viz také</span><span class="sxs-lookup"><span data-stu-id="838d0-202">See also</span></span>

- [<span data-ttu-id="838d0-203">Práce se zprostředkovateli dat</span><span class="sxs-lookup"><span data-stu-id="838d0-203">Working with Data Providers</span></span>](working-with-data-providers.md)
- [<span data-ttu-id="838d0-204">Požadavky na nasazení</span><span class="sxs-lookup"><span data-stu-id="838d0-204">Deployment Considerations</span></span>](deployment-considerations.md)
- <span data-ttu-id="838d0-205">[Správa připojení a transakcí](https://docs.microsoft.com/previous-versions/dotnet/netframework-4.0/bb896325(v=vs.100))</span><span class="sxs-lookup"><span data-stu-id="838d0-205">[Managing Connections and Transactions](https://docs.microsoft.com/previous-versions/dotnet/netframework-4.0/bb896325(v=vs.100))</span></span>
- [<span data-ttu-id="838d0-206">Připojovací řetězce</span><span class="sxs-lookup"><span data-stu-id="838d0-206">Connection Strings</span></span>](../connection-strings.md)
