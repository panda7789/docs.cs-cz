---
title: Vlastnictví a oddělení uživatelských schémat na SQL Serveru
description: Přečtěte si, jak oddělení uživatelských schémat umožňuje flexibilitu při správě SQL Server oprávnění databázových objektů. Schémata seskupují objekty do samostatných oborů názvů.
ms.date: 03/30/2017
ms.assetid: 242830c1-31b5-4427-828c-cc22ff339f30
ms.openlocfilehash: 97e742979785fedd922dc887295b63e2d93bd147
ms.sourcegitcommit: 33deec3e814238fb18a49b2a7e89278e27888291
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 06/02/2020
ms.locfileid: "84286259"
---
# <a name="ownership-and-user-schema-separation-in-sql-server"></a><span data-ttu-id="d1890-104">Vlastnictví a oddělení uživatelských schémat na SQL Serveru</span><span class="sxs-lookup"><span data-stu-id="d1890-104">Ownership and User-Schema Separation in SQL Server</span></span>
<span data-ttu-id="d1890-105">Základní pojem zabezpečení SQL Server je, že vlastníci objektů mají neodvolatelná oprávnění ke správě.</span><span class="sxs-lookup"><span data-stu-id="d1890-105">A core concept of SQL Server security is that owners of objects have irrevocable permissions to administer them.</span></span> <span data-ttu-id="d1890-106">Nemůžete odebrat oprávnění vlastníka objektu a nemůžete vyřadit uživatele z databáze, pokud v ní vlastní objekty.</span><span class="sxs-lookup"><span data-stu-id="d1890-106">You cannot remove privileges from an object owner, and you cannot drop users from a database if they own objects in it.</span></span>  
  
## <a name="user-schema-separation"></a><span data-ttu-id="d1890-107">Oddělení schématu uživatele</span><span class="sxs-lookup"><span data-stu-id="d1890-107">User-Schema Separation</span></span>  
 <span data-ttu-id="d1890-108">Oddělení uživatelsky definovaných schémat zajišťuje větší flexibilitu při správě oprávnění databázových objektů.</span><span class="sxs-lookup"><span data-stu-id="d1890-108">User-schema separation allows for more flexibility in managing database object permissions.</span></span> <span data-ttu-id="d1890-109">*Schéma* je pojmenovaný kontejner pro databázové objekty, který umožňuje seskupení objektů do samostatných oborů názvů.</span><span class="sxs-lookup"><span data-stu-id="d1890-109">A *schema* is a named container for database objects, which allows you to group objects into separate namespaces.</span></span> <span data-ttu-id="d1890-110">Například ukázková databáze AdventureWorks obsahuje schémata pro produkci, prodej a Lidskézdroje.</span><span class="sxs-lookup"><span data-stu-id="d1890-110">For example, the AdventureWorks sample database contains schemas for Production, Sales, and HumanResources.</span></span>  
  
 <span data-ttu-id="d1890-111">Syntaxe názvů čtyř částí pro odkazování na objekty určuje název schématu.</span><span class="sxs-lookup"><span data-stu-id="d1890-111">The four-part naming syntax for referring to objects specifies the schema name.</span></span>  
  
```text
Server.Database.DatabaseSchema.DatabaseObject  
```  
  
### <a name="schema-owners-and-permissions"></a><span data-ttu-id="d1890-112">Vlastníci a oprávnění schématu</span><span class="sxs-lookup"><span data-stu-id="d1890-112">Schema Owners and Permissions</span></span>  
 <span data-ttu-id="d1890-113">Schémata může vlastnit libovolný objekt zabezpečení databáze a jeden instanční objekt může mít několik schémat.</span><span class="sxs-lookup"><span data-stu-id="d1890-113">Schemas can be owned by any database principal, and a single principal can own multiple schemas.</span></span> <span data-ttu-id="d1890-114">Můžete použít pravidla zabezpečení pro schéma, které jsou zděděné všemi objekty ve schématu.</span><span class="sxs-lookup"><span data-stu-id="d1890-114">You can apply security rules to a schema, which are inherited by all objects in the schema.</span></span> <span data-ttu-id="d1890-115">Po nastavení oprávnění k přístupu pro schéma se tato oprávnění automaticky uplatní, protože do schématu se přidají nové objekty.</span><span class="sxs-lookup"><span data-stu-id="d1890-115">Once you set up access permissions for a schema, those permissions are automatically applied as new objects are added to the schema.</span></span> <span data-ttu-id="d1890-116">Uživatelům může být přiřazeno výchozí schéma a více uživatelů databáze může sdílet stejné schéma.</span><span class="sxs-lookup"><span data-stu-id="d1890-116">Users can be assigned a default schema, and multiple database users can share the same schema.</span></span>  
  
 <span data-ttu-id="d1890-117">Ve výchozím nastavení, když vývojáři vytvářejí objekty ve schématu, objekty vlastní objekt zabezpečení, který vlastní schéma, nikoli vývojář.</span><span class="sxs-lookup"><span data-stu-id="d1890-117">By default, when developers create objects in a schema, the objects are owned by the security principal that owns the schema, not the developer.</span></span> <span data-ttu-id="d1890-118">Vlastnictví objektu lze přenést pomocí příkazu ALTER-SQL příkazu ALTER AUTHORIZATION.</span><span class="sxs-lookup"><span data-stu-id="d1890-118">Object ownership can be transferred with ALTER AUTHORIZATION Transact-SQL statement.</span></span> <span data-ttu-id="d1890-119">Schéma může obsahovat také objekty, které jsou vlastněny různými uživateli a mají podrobnější oprávnění než přiřazení ke schématu, i když to nedoporučujeme, protože zvyšuje složitost správy oprávnění.</span><span class="sxs-lookup"><span data-stu-id="d1890-119">A schema can also contain objects that are owned by different users and have more granular permissions than those assigned to the schema, although this is not recommended because it adds complexity to managing permissions.</span></span> <span data-ttu-id="d1890-120">Objekty lze přesouvat mezi schématy a vlastnictví schématu lze přenášet mezi objekty zabezpečení.</span><span class="sxs-lookup"><span data-stu-id="d1890-120">Objects can be moved between schemas, and schema ownership can be transferred between principals.</span></span> <span data-ttu-id="d1890-121">Uživatele databáze je možné vyřadit, aniž by to ovlivnilo schémata.</span><span class="sxs-lookup"><span data-stu-id="d1890-121">Database users can be dropped without affecting schemas.</span></span>  
  
### <a name="built-in-schemas"></a><span data-ttu-id="d1890-122">Vestavěná schémata</span><span class="sxs-lookup"><span data-stu-id="d1890-122">Built-In Schemas</span></span>  
 <span data-ttu-id="d1890-123">SQL Server se dodává s deseti předem definovanými schématy, které mají stejné názvy jako předdefinované uživatele a role databáze.</span><span class="sxs-lookup"><span data-stu-id="d1890-123">SQL Server ships with ten pre-defined schemas that have the same names as the built-in database users and roles.</span></span> <span data-ttu-id="d1890-124">Existují hlavně pro zpětnou kompatibilitu.</span><span class="sxs-lookup"><span data-stu-id="d1890-124">These exist mainly for backward compatibility.</span></span> <span data-ttu-id="d1890-125">Schémata, která mají stejné názvy jako pevné databázové role, můžete odstranit, pokud je nepotřebujete.</span><span class="sxs-lookup"><span data-stu-id="d1890-125">You can drop the schemas that have the same names as the fixed database roles if you do not need them.</span></span> <span data-ttu-id="d1890-126">Nemůžete vyřadit následující schémata:</span><span class="sxs-lookup"><span data-stu-id="d1890-126">You cannot drop the following schemas:</span></span>  
  
- `dbo`  
  
- `guest`  
  
- `sys`  
  
- `INFORMATION_SCHEMA`  
  
 <span data-ttu-id="d1890-127">Pokud je z databáze modelů vyřadíte, nebudou se zobrazovat v nových databázích.</span><span class="sxs-lookup"><span data-stu-id="d1890-127">If you drop them from the model database, they will not appear in new databases.</span></span>  
  
> [!NOTE]
> <span data-ttu-id="d1890-128">`sys`Schémata a `INFORMATION_SCHEMA` jsou vyhrazena pro systémové objekty.</span><span class="sxs-lookup"><span data-stu-id="d1890-128">The `sys` and `INFORMATION_SCHEMA` schemas are reserved for system objects.</span></span> <span data-ttu-id="d1890-129">V těchto schématech nemůžete vytvářet objekty a nemůžete je vyřadit.</span><span class="sxs-lookup"><span data-stu-id="d1890-129">You cannot create objects in these schemas and you cannot drop them.</span></span>  
  
#### <a name="the-dbo-schema"></a><span data-ttu-id="d1890-130">Schéma dbo</span><span class="sxs-lookup"><span data-stu-id="d1890-130">The dbo Schema</span></span>  
 <span data-ttu-id="d1890-131">`dbo`Schéma je výchozí schéma pro nově vytvořenou databázi.</span><span class="sxs-lookup"><span data-stu-id="d1890-131">The `dbo` schema is the default schema for a newly created database.</span></span> <span data-ttu-id="d1890-132">`dbo`Schéma vlastní tento `dbo` uživatelský účet.</span><span class="sxs-lookup"><span data-stu-id="d1890-132">The `dbo` schema is owned by the `dbo` user account.</span></span> <span data-ttu-id="d1890-133">Ve výchozím nastavení mají uživatelé vytvořeni pomocí příkazu Transact-SQL CREATE USER `dbo` jako výchozí schéma.</span><span class="sxs-lookup"><span data-stu-id="d1890-133">By default, users created with the CREATE USER Transact-SQL command have `dbo` as their default schema.</span></span>  
  
 <span data-ttu-id="d1890-134">Uživatelé, kteří jsou přiřazeni `dbo` schématu, nedědí oprávnění k `dbo` uživatelskému účtu.</span><span class="sxs-lookup"><span data-stu-id="d1890-134">Users who are assigned the `dbo` schema do not inherit the permissions of the `dbo` user account.</span></span> <span data-ttu-id="d1890-135">Pro uživatele nejsou děděna žádná oprávnění od schématu. objektům databáze obsaženým ve schématu jsou zděděna oprávnění schématu.</span><span class="sxs-lookup"><span data-stu-id="d1890-135">No permissions are inherited from a schema by users; schema permissions are inherited by the database objects contained in the schema.</span></span>  
  
> [!NOTE]
> <span data-ttu-id="d1890-136">Pokud jsou objekty databáze odkazovány pomocí názvu jedné součásti, SQL Server nejprve vyhledá ve výchozím schématu uživatele.</span><span class="sxs-lookup"><span data-stu-id="d1890-136">When database objects are referenced by using a one-part name, SQL Server first looks in the user's default schema.</span></span> <span data-ttu-id="d1890-137">Pokud se objekt nenalezne, SQL Server ve `dbo` schématu dál.</span><span class="sxs-lookup"><span data-stu-id="d1890-137">If the object is not found there, SQL Server looks next in the `dbo` schema.</span></span> <span data-ttu-id="d1890-138">Pokud objekt není ve `dbo` schématu, je vrácena chyba.</span><span class="sxs-lookup"><span data-stu-id="d1890-138">If the object is not in the `dbo` schema, an error is returned.</span></span>  
  
## <a name="external-resources"></a><span data-ttu-id="d1890-139">Externí zdroje</span><span class="sxs-lookup"><span data-stu-id="d1890-139">External Resources</span></span>  
 <span data-ttu-id="d1890-140">Další informace o vlastnictví objektů a schématech naleznete v následujících zdrojích informací.</span><span class="sxs-lookup"><span data-stu-id="d1890-140">For more information on object ownership and schemas, see the following resources.</span></span>  
  
|<span data-ttu-id="d1890-141">Prostředek</span><span class="sxs-lookup"><span data-stu-id="d1890-141">Resource</span></span>|<span data-ttu-id="d1890-142">Popis</span><span class="sxs-lookup"><span data-stu-id="d1890-142">Description</span></span>|  
|--------------|-----------------|  
|<span data-ttu-id="d1890-143">[Oddělení schématu uživatele](https://docs.microsoft.com/previous-versions/sql/sql-server-2008-r2/ms190387(v=sql.105))</span><span class="sxs-lookup"><span data-stu-id="d1890-143">[User-Schema Separation](https://docs.microsoft.com/previous-versions/sql/sql-server-2008-r2/ms190387(v=sql.105))</span></span>|<span data-ttu-id="d1890-144">Popisuje změny zavedené oddělením schématu uživatele.</span><span class="sxs-lookup"><span data-stu-id="d1890-144">Describes the changes introduced by user-schema separation.</span></span> <span data-ttu-id="d1890-145">Zahrnuje nové chování, jeho dopad na vlastnictví, zobrazení katalogu a oprávnění.</span><span class="sxs-lookup"><span data-stu-id="d1890-145">Includes new behavior, its impact on ownership, catalog views, and permissions.</span></span>|  
  
## <a name="see-also"></a><span data-ttu-id="d1890-146">Viz také</span><span class="sxs-lookup"><span data-stu-id="d1890-146">See also</span></span>

- [<span data-ttu-id="d1890-147">Zabezpečení aplikací ADO.NET</span><span class="sxs-lookup"><span data-stu-id="d1890-147">Securing ADO.NET Applications</span></span>](../securing-ado-net-applications.md)
- [<span data-ttu-id="d1890-148">Scénáře zabezpečení aplikací na SQL Serveru</span><span class="sxs-lookup"><span data-stu-id="d1890-148">Application Security Scenarios in SQL Server</span></span>](application-security-scenarios-in-sql-server.md)
- [<span data-ttu-id="d1890-149">Ověřování v SQL Serveru</span><span class="sxs-lookup"><span data-stu-id="d1890-149">Authentication in SQL Server</span></span>](authentication-in-sql-server.md)
- [<span data-ttu-id="d1890-150">Serverové a databázové role na SQL Serveru</span><span class="sxs-lookup"><span data-stu-id="d1890-150">Server and Database Roles in SQL Server</span></span>](server-and-database-roles-in-sql-server.md)
- [<span data-ttu-id="d1890-151">Autorizace a oprávnění na SQL Serveru</span><span class="sxs-lookup"><span data-stu-id="d1890-151">Authorization and Permissions in SQL Server</span></span>](authorization-and-permissions-in-sql-server.md)
- [<span data-ttu-id="d1890-152">Přehled ADO.NET</span><span class="sxs-lookup"><span data-stu-id="d1890-152">ADO.NET Overview</span></span>](../ado-net-overview.md)
