---
title: Poradce při potížích
ms.date: 03/30/2017
ms.assetid: 8cd4401c-b12c-4116-a421-f3dcffa65670
ms.openlocfilehash: 6fe4f789ca64c0646b77fdb66b0c6e2b73763293
ms.sourcegitcommit: 76a304c79a32aa13889ebcf4b9789a4542b48e3e
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 09/13/2018
ms.locfileid: "45509971"
---
# <a name="troubleshooting"></a><span data-ttu-id="95e63-102">Poradce při potížích</span><span class="sxs-lookup"><span data-stu-id="95e63-102">Troubleshooting</span></span>
<span data-ttu-id="95e63-103">Následující informace uvádí některé problémy, může dojít v vaše [!INCLUDE[vbtecdlinq](../../../../../../includes/vbtecdlinq-md.md)] aplikací a nabízí návrhy k zamezení nebo jinak snižují dopad těchto problémů.</span><span class="sxs-lookup"><span data-stu-id="95e63-103">The following information exposes some issues you might encounter in your [!INCLUDE[vbtecdlinq](../../../../../../includes/vbtecdlinq-md.md)] applications, and provides suggestions to avoid or otherwise reduce the effect of these issues.</span></span>  
  
 <span data-ttu-id="95e63-104">Další problémy jsou řešeny v [– nejčastější dotazy](../../../../../../docs/framework/data/adonet/sql/linq/frequently-asked-questions.md).</span><span class="sxs-lookup"><span data-stu-id="95e63-104">Additional issues are addressed in [Frequently Asked Questions](../../../../../../docs/framework/data/adonet/sql/linq/frequently-asked-questions.md).</span></span>  
  
## <a name="unsupported-standard-query-operators"></a><span data-ttu-id="95e63-105">Nepodporovaná standardních operátorů dotazu</span><span class="sxs-lookup"><span data-stu-id="95e63-105">Unsupported Standard Query Operators</span></span>  
 [!INCLUDE[vbtecdlinq](../../../../../../includes/vbtecdlinq-md.md)]<span data-ttu-id="95e63-106"> nepodporuje všechny standardní metody operátoru dotazu (například <xref:System.Linq.Enumerable.ElementAt%2A>).</span><span class="sxs-lookup"><span data-stu-id="95e63-106"> does not support all standard query operator methods (for example, <xref:System.Linq.Enumerable.ElementAt%2A>).</span></span> <span data-ttu-id="95e63-107">V důsledku toho projekty, které se kompilují stále způsobit chyby za běhu.</span><span class="sxs-lookup"><span data-stu-id="95e63-107">As a result, projects that compile can still produce run-time errors.</span></span> <span data-ttu-id="95e63-108">Další informace najdete v tématu [standardní překladu – operátor dotazu](../../../../../../docs/framework/data/adonet/sql/linq/standard-query-operator-translation.md).</span><span class="sxs-lookup"><span data-stu-id="95e63-108">For more information, see [Standard Query Operator Translation](../../../../../../docs/framework/data/adonet/sql/linq/standard-query-operator-translation.md).</span></span>  
  
## <a name="memory-issues"></a><span data-ttu-id="95e63-109">Problémy s pamětí</span><span class="sxs-lookup"><span data-stu-id="95e63-109">Memory Issues</span></span>  
 <span data-ttu-id="95e63-110">Pokud se dotaz týká kolekci v paměti a [!INCLUDE[vbtecdlinq](../../../../../../includes/vbtecdlinq-md.md)] <xref:System.Data.Linq.Table%601>, mohou být prováděny dotaz v paměti, v závislosti na pořadí, ve kterém jsou uvedeny dvě kolekce.</span><span class="sxs-lookup"><span data-stu-id="95e63-110">If a query involves an in-memory collection and [!INCLUDE[vbtecdlinq](../../../../../../includes/vbtecdlinq-md.md)] <xref:System.Data.Linq.Table%601>, the query might be executed in memory, depending on the order in which the two collections are specified.</span></span> <span data-ttu-id="95e63-111">Pokud dotaz musí být spuštěn v paměti, data z tabulky databáze bude muset načíst.</span><span class="sxs-lookup"><span data-stu-id="95e63-111">If the query must be executed in memory, then the data from the database table will need to be retrieved.</span></span>  
  
 <span data-ttu-id="95e63-112">Tento přístup je neefektivní a může mít za následek výrazné využití paměti a procesoru.</span><span class="sxs-lookup"><span data-stu-id="95e63-112">This approach is inefficient and could result in significant memory and processor usage.</span></span> <span data-ttu-id="95e63-113">Snažte se vyhnout takové dotazy víc domén.</span><span class="sxs-lookup"><span data-stu-id="95e63-113">Try to avoid such multi-domain queries.</span></span>  
  
## <a name="file-names-and-sqlmetal"></a><span data-ttu-id="95e63-114">Názvy souborů a SQLMetal</span><span class="sxs-lookup"><span data-stu-id="95e63-114">File Names and SQLMetal</span></span>  
 <span data-ttu-id="95e63-115">Chcete-li zadat název vstupního souboru, přidejte název souboru do příkazového řádku jako vstupní soubor.</span><span class="sxs-lookup"><span data-stu-id="95e63-115">To specify an input file name, add the name to the command line as the input file.</span></span> <span data-ttu-id="95e63-116">Včetně názvu souboru do připojovacího řetězce (pomocí **/conn** možnost) se nepodporuje.</span><span class="sxs-lookup"><span data-stu-id="95e63-116">Including the file name in the connection string (using the **/conn** option) is not supported.</span></span> <span data-ttu-id="95e63-117">Další informace najdete v tématu [SqlMetal.exe (nástroj pro generování kódu)](../../../../../../docs/framework/tools/sqlmetal-exe-code-generation-tool.md).</span><span class="sxs-lookup"><span data-stu-id="95e63-117">For more information, see [SqlMetal.exe (Code Generation Tool)](../../../../../../docs/framework/tools/sqlmetal-exe-code-generation-tool.md).</span></span>  
  
## <a name="class-library-projects"></a><span data-ttu-id="95e63-118">Projekty knihovny tříd</span><span class="sxs-lookup"><span data-stu-id="95e63-118">Class Library Projects</span></span>  
 <span data-ttu-id="95e63-119">[!INCLUDE[vs_ordesigner_long](../../../../../../includes/vs-ordesigner-long-md.md)] Vytvoří připojovací řetězec v `app.config` souboru projektu.</span><span class="sxs-lookup"><span data-stu-id="95e63-119">The [!INCLUDE[vs_ordesigner_long](../../../../../../includes/vs-ordesigner-long-md.md)] creates a connection string in the `app.config` file of the project.</span></span> <span data-ttu-id="95e63-120">V projektech knihoven tříd `app.config` soubor nepoužívá.</span><span class="sxs-lookup"><span data-stu-id="95e63-120">In class library projects, the `app.config` file is not used.</span></span> [!INCLUDE[vbtecdlinq](../../../../../../includes/vbtecdlinq-md.md)]<span data-ttu-id="95e63-121"> používá připojovací řetězec k dispozici v souborech návrhu.</span><span class="sxs-lookup"><span data-stu-id="95e63-121"> uses the Connection String provided in the design-time files.</span></span> <span data-ttu-id="95e63-122">Změna hodnoty v `app.config` nezmění databázi, do kterého vaše aplikace připojuje.</span><span class="sxs-lookup"><span data-stu-id="95e63-122">Changing the value in `app.config` does not change the database to which your application connects.</span></span>  
  
## <a name="cascade-delete"></a><span data-ttu-id="95e63-123">Kaskádové odstranění</span><span class="sxs-lookup"><span data-stu-id="95e63-123">Cascade Delete</span></span>  
 [!INCLUDE[vbtecdlinq](../../../../../../includes/vbtecdlinq-md.md)]<span data-ttu-id="95e63-124"> nepodporuje ani rozpoznat kaskádové odstranění operace.</span><span class="sxs-lookup"><span data-stu-id="95e63-124"> does not support or recognize cascade-delete operations.</span></span> <span data-ttu-id="95e63-125">Pokud chcete odstranit řádek v tabulce, která má omezení u ní, musíte udělat jednu z následujících akcí:</span><span class="sxs-lookup"><span data-stu-id="95e63-125">If you want to delete a row in a table that has constraints against it, you must do either of the following:</span></span>  
  
-   <span data-ttu-id="95e63-126">Nastavte `ON DELETE CASCADE` pravidlo v omezení cizího klíče v databázi.</span><span class="sxs-lookup"><span data-stu-id="95e63-126">Set the `ON DELETE CASCADE` rule in the foreign-key constraint in the database.</span></span>  
  
-   <span data-ttu-id="95e63-127">Pomocí vlastního kódu nejprve odstranit podřízené objekty, které brání nadřazený objekt odstranit.</span><span class="sxs-lookup"><span data-stu-id="95e63-127">Use your own code to first delete the child objects that prevent the parent object from being deleted.</span></span>  
  
 <span data-ttu-id="95e63-128">V opačném případě <xref:System.Data.SqlClient.SqlException> je vyvolána výjimka.</span><span class="sxs-lookup"><span data-stu-id="95e63-128">Otherwise, a <xref:System.Data.SqlClient.SqlException> exception is thrown.</span></span>  
  
 <span data-ttu-id="95e63-129">Další informace najdete v tématu [postupy: odstranění řádků z the Database](../../../../../../docs/framework/data/adonet/sql/linq/how-to-delete-rows-from-the-database.md).</span><span class="sxs-lookup"><span data-stu-id="95e63-129">For more information, see [How to: Delete Rows From the Database](../../../../../../docs/framework/data/adonet/sql/linq/how-to-delete-rows-from-the-database.md).</span></span>  
  
## <a name="expression-not-queryable"></a><span data-ttu-id="95e63-130">Výraz není dotazovatelné</span><span class="sxs-lookup"><span data-stu-id="95e63-130">Expression Not Queryable</span></span>  
 <span data-ttu-id="95e63-131">Pokud se zobrazí "výraz [výrazu] není dotazovatelné; chybí vám odkaz na sestavení?"</span><span class="sxs-lookup"><span data-stu-id="95e63-131">If you get the "Expression [expression] is not queryable; are you missing an assembly reference?"</span></span> <span data-ttu-id="95e63-132">Chyba, ujistěte se, že z následujících akcí:</span><span class="sxs-lookup"><span data-stu-id="95e63-132">error, make sure of the following:</span></span>  
  
-   <span data-ttu-id="95e63-133">Vaše aplikace cílí [!INCLUDE[compact_v35_short](../../../../../../includes/compact-v35-short-md.md)].</span><span class="sxs-lookup"><span data-stu-id="95e63-133">Your application is targeting [!INCLUDE[compact_v35_short](../../../../../../includes/compact-v35-short-md.md)].</span></span>  
  
-   <span data-ttu-id="95e63-134">Budete mít odkaz na `System.Core.dll` a `System.Data.Linq.dll`.</span><span class="sxs-lookup"><span data-stu-id="95e63-134">You have a reference to `System.Core.dll` and `System.Data.Linq.dll`.</span></span>  
  
-   <span data-ttu-id="95e63-135">Máte `Imports` (Visual Basic) nebo `using` – direktiva (C#) pro <xref:System.Linq> a <xref:System.Data.Linq>.</span><span class="sxs-lookup"><span data-stu-id="95e63-135">You have an `Imports` (Visual Basic) or `using` (C#) directive for <xref:System.Linq> and <xref:System.Data.Linq>.</span></span>  
  
## <a name="duplicatekeyexception"></a><span data-ttu-id="95e63-136">DuplicateKeyException</span><span class="sxs-lookup"><span data-stu-id="95e63-136">DuplicateKeyException</span></span>  
 <span data-ttu-id="95e63-137">Při ladění [!INCLUDE[vbtecdlinq](../../../../../../includes/vbtecdlinq-md.md)] projektu, může procházet vztahy entity.</span><span class="sxs-lookup"><span data-stu-id="95e63-137">In the course of debugging a [!INCLUDE[vbtecdlinq](../../../../../../includes/vbtecdlinq-md.md)] project, you might traverse an entity's relations.</span></span> <span data-ttu-id="95e63-138">To přináší tyto položky do mezipaměti, a [!INCLUDE[vbtecdlinq](../../../../../../includes/vbtecdlinq-md.md)] se dozví o jejich výskytu.</span><span class="sxs-lookup"><span data-stu-id="95e63-138">Doing so brings these items into the cache, and [!INCLUDE[vbtecdlinq](../../../../../../includes/vbtecdlinq-md.md)] becomes aware of their presence.</span></span> <span data-ttu-id="95e63-139">Pokud se potom pokusíte o provedení <xref:System.Data.Linq.Table%601.Attach%2A> nebo <xref:System.Data.Linq.Table%601.InsertOnSubmit%2A> nebo podobné metody, která vytváří více řádků, které mají stejný klíč <xref:System.Data.Linq.DuplicateKeyException> je vyvolána výjimka.</span><span class="sxs-lookup"><span data-stu-id="95e63-139">If you then try to execute <xref:System.Data.Linq.Table%601.Attach%2A> or <xref:System.Data.Linq.Table%601.InsertOnSubmit%2A> or a similar method that produces multiple rows that have the same key, a <xref:System.Data.Linq.DuplicateKeyException> is thrown.</span></span>  
  
## <a name="string-concatenation-exceptions"></a><span data-ttu-id="95e63-140">Řetězec výjimky zřetězení</span><span class="sxs-lookup"><span data-stu-id="95e63-140">String Concatenation Exceptions</span></span>  
 <span data-ttu-id="95e63-141">Zřetězení na operandech namapované na `[n]text` a dalších `[n][var]char` se nepodporuje.</span><span class="sxs-lookup"><span data-stu-id="95e63-141">Concatenation on operands mapped to `[n]text` and other `[n][var]char` is not supported.</span></span> <span data-ttu-id="95e63-142">Pro zřetězení řetězců, které jsou namapovány na dvě různé sady typů je vyvolána výjimka.</span><span class="sxs-lookup"><span data-stu-id="95e63-142">An exception is thrown for concatenation of strings mapped to the two different sets of types.</span></span> <span data-ttu-id="95e63-143">Další informace najdete v tématu [metody System.String](../../../../../../docs/framework/data/adonet/sql/linq/system-string-methods.md).</span><span class="sxs-lookup"><span data-stu-id="95e63-143">For more information, see [System.String Methods](../../../../../../docs/framework/data/adonet/sql/linq/system-string-methods.md).</span></span>  
  
## <a name="skip-and-take-exceptions-in-sql-server-2000"></a><span data-ttu-id="95e63-144">Přeskočit a převzít výjimky v systému SQL Server 2000</span><span class="sxs-lookup"><span data-stu-id="95e63-144">Skip and Take Exceptions in SQL Server 2000</span></span>  
 <span data-ttu-id="95e63-145">Je nutné použít identity členy (<xref:System.Data.Linq.Mapping.ColumnAttribute.IsPrimaryKey%2A>) při použití <xref:System.Linq.Queryable.Take%2A> nebo <xref:System.Linq.Queryable.Skip%2A> databázi systému SQL Server 2000.</span><span class="sxs-lookup"><span data-stu-id="95e63-145">You must use identity members (<xref:System.Data.Linq.Mapping.ColumnAttribute.IsPrimaryKey%2A>) when you use <xref:System.Linq.Queryable.Take%2A> or <xref:System.Linq.Queryable.Skip%2A> against a SQL Server 2000 database.</span></span> <span data-ttu-id="95e63-146">Dotaz musí být před jedné tabulky (to znamená, nikoli spojení) nebo <xref:System.Linq.Queryable.Distinct%2A>, <xref:System.Linq.Queryable.Except%2A>, <xref:System.Linq.Queryable.Intersect%2A>, nebo <xref:System.Linq.Queryable.Union%2A> operace a nesmějí obsahovat <xref:System.Linq.Queryable.Concat%2A> operace.</span><span class="sxs-lookup"><span data-stu-id="95e63-146">The query must be against a single table (that is, not a join), or be a <xref:System.Linq.Queryable.Distinct%2A>, <xref:System.Linq.Queryable.Except%2A>, <xref:System.Linq.Queryable.Intersect%2A>, or <xref:System.Linq.Queryable.Union%2A> operation, and must not include a <xref:System.Linq.Queryable.Concat%2A> operation.</span></span> <span data-ttu-id="95e63-147">Další informace najdete v části "Podpora serveru SQL Server 2000" v [standardní překladu – operátor dotazu](../../../../../../docs/framework/data/adonet/sql/linq/standard-query-operator-translation.md).</span><span class="sxs-lookup"><span data-stu-id="95e63-147">For more information, see the "SQL Server 2000 Support" section in [Standard Query Operator Translation](../../../../../../docs/framework/data/adonet/sql/linq/standard-query-operator-translation.md).</span></span>  
  
 <span data-ttu-id="95e63-148">Tento požadavek se nedá použít u [!INCLUDE[sqprsqlong](../../../../../../includes/sqprsqlong-md.md)].</span><span class="sxs-lookup"><span data-stu-id="95e63-148">This requirement does not apply to [!INCLUDE[sqprsqlong](../../../../../../includes/sqprsqlong-md.md)].</span></span>  
  
## <a name="groupby-invalidoperationexception"></a><span data-ttu-id="95e63-149">GroupBy InvalidOperationException</span><span class="sxs-lookup"><span data-stu-id="95e63-149">GroupBy InvalidOperationException</span></span>  
 <span data-ttu-id="95e63-150">Tato výjimka se vyvolá, když má hodnotu null ve sloupci Hodnota <xref:System.Linq.Enumerable.GroupBy%2A> dotaz, který se seskupí podle `boolean` výraz, například `group x by (Phone==@phone)`.</span><span class="sxs-lookup"><span data-stu-id="95e63-150">This exception is thrown when a column value is null in a <xref:System.Linq.Enumerable.GroupBy%2A> query that groups by a `boolean` expression, such as `group x by (Phone==@phone)`.</span></span> <span data-ttu-id="95e63-151">Protože je výraz `boolean`, klíč odvozena jako `boolean`, nikoli `nullable` `boolean`.</span><span class="sxs-lookup"><span data-stu-id="95e63-151">Because the expression is a `boolean`, the key is inferred to be `boolean`, not `nullable` `boolean`.</span></span> <span data-ttu-id="95e63-152">Pokud přeloženou porovnání vytvoří s hodnotou null, je proveden pokus o přiřazení `nullable` `boolean` k `boolean`, a je vyvolána výjimka.</span><span class="sxs-lookup"><span data-stu-id="95e63-152">When the translated comparison produces a null, an attempt is made to assign a `nullable` `boolean` to a `boolean`, and the exception is thrown.</span></span>  
  
 <span data-ttu-id="95e63-153">Abyste předešli této situaci (za předpokladu, že chcete zpracovávat hodnoty null jako hodnotu false), použijte přístup například následující:</span><span class="sxs-lookup"><span data-stu-id="95e63-153">To avoid this situation (assuming you want to treat nulls as false), use an approach such as the following:</span></span>  
  
 `GroupBy="(Phone != null) && (Phone=@Phone)"`  
  
## <a name="oncreated-partial-method"></a><span data-ttu-id="95e63-154">Částečná metoda OnCreated()</span><span class="sxs-lookup"><span data-stu-id="95e63-154">OnCreated() Partial Method</span></span>  
 <span data-ttu-id="95e63-155">Vytvořena metoda `OnCreated()` je volána pokaždé, když je volána konstruktor objektu, včetně scénář, ve kterém [!INCLUDE[vbtecdlinq](../../../../../../includes/vbtecdlinq-md.md)] volá konstruktor k vytvoření kopie pro původní hodnoty.</span><span class="sxs-lookup"><span data-stu-id="95e63-155">The generated method `OnCreated()` is called each time the object constructor is called, including the scenario in which [!INCLUDE[vbtecdlinq](../../../../../../includes/vbtecdlinq-md.md)] calls the constructor to make a copy for original values.</span></span> <span data-ttu-id="95e63-156">Toto chování vzít v úvahu, pokud se rozhodnete implementovat `OnCreated()` metoda ve vlastním částečné třídy.</span><span class="sxs-lookup"><span data-stu-id="95e63-156">Take this behavior into account if you implement the `OnCreated()` method in your own partial class.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="95e63-157">Viz také</span><span class="sxs-lookup"><span data-stu-id="95e63-157">See Also</span></span>  
 [<span data-ttu-id="95e63-158">Podpora ladění</span><span class="sxs-lookup"><span data-stu-id="95e63-158">Debugging Support</span></span>](../../../../../../docs/framework/data/adonet/sql/linq/debugging-support.md)  
 [<span data-ttu-id="95e63-159">Nejčastější dotazy</span><span class="sxs-lookup"><span data-stu-id="95e63-159">Frequently Asked Questions</span></span>](../../../../../../docs/framework/data/adonet/sql/linq/frequently-asked-questions.md)
