---
title: Funkce poskytované přes System.Transactions
description: Přečtěte si o funkcích, které jsou k dispozici v oboru názvů System. Transactions v rozhraní .NET pro zápis vlastní transakční aplikace a Resource Manageru.
ms.date: 03/30/2017
ms.assetid: e458cef9-63b5-4401-b448-1536dcd9d9e5
ms.openlocfilehash: 0278e9248305572c6156c6500f1fe51a8b3f3338
ms.sourcegitcommit: 6219b1e1feccb16d88656444210fed3297f5611e
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 06/22/2020
ms.locfileid: "85141859"
---
# <a name="features-provided-by-systemtransactions"></a><span data-ttu-id="7ed53-103">Funkce poskytované přes System.Transactions</span><span class="sxs-lookup"><span data-stu-id="7ed53-103">Features Provided by System.Transactions</span></span>
<span data-ttu-id="7ed53-104">Tato část popisuje, jak lze pomocí funkce poskytované <xref:System.Transactions> obor názvů pro zápis vlastní transakční aplikace a zdroj správce.</span><span class="sxs-lookup"><span data-stu-id="7ed53-104">This section describes how you can use the features provided by the <xref:System.Transactions> namespace to write your own transactional application and resource manager.</span></span> <span data-ttu-id="7ed53-105">Konkrétně v této části zahrnuje jak vytvořit a účast v transakci (místní nebo distribuované) s jedním nebo více účastníky.</span><span class="sxs-lookup"><span data-stu-id="7ed53-105">Specifically, this section covers how to create and participate in a transaction (local or distributed) with one or multiple participants.</span></span>  
  
## <a name="overview-of-systemtransactions"></a><span data-ttu-id="7ed53-106">Přehled System.Transactions</span><span class="sxs-lookup"><span data-stu-id="7ed53-106">Overview of System.Transactions</span></span>  
 <span data-ttu-id="7ed53-107">Třídy v infrastrukturu <xref:System.Transactions> obor názvů umožňuje transakční programování jednoduchý a efektivní podporou transakcí vyvolaných v systému SQL Server, ADO.NET, Message Queuing (MSMQ) a společnosti Microsoft distribuované transakce koordinátor MSDTC ().</span><span class="sxs-lookup"><span data-stu-id="7ed53-107">The infrastructure provided by the classes in the <xref:System.Transactions> namespace makes transactional programming simple and efficient by supporting transactions initiated in SQL Server, ADO.NET, Message Queuing (MSMQ), and the Microsoft Distributed Transaction Coordinator (MSDTC).</span></span> <span data-ttu-id="7ed53-108"><xref:System.Transactions> Obor názvů obsahuje oba explicitní programovací model založený na <xref:System.Transactions.Transaction> třídy, jakož i jazyka implicitní programování pomocí modelu <xref:System.Transactions.TransactionScope> třídy, ve kterém jsou transakce automaticky spravuje infrastruktury.</span><span class="sxs-lookup"><span data-stu-id="7ed53-108">The <xref:System.Transactions> namespace provides both an explicit programming model based on the <xref:System.Transactions.Transaction> class, as well as an implicit programming model using the <xref:System.Transactions.TransactionScope> class, in which transactions are automatically managed by the infrastructure.</span></span> <span data-ttu-id="7ed53-109">Další informace o tom, jak vytvořit transakční aplikaci pomocí těchto dvou modelů, najdete v tématu [zápis transakční aplikace](writing-a-transactional-application.md).</span><span class="sxs-lookup"><span data-stu-id="7ed53-109">For more information on how to create a transactional application using these two models, see [Writing a Transactional Application](writing-a-transactional-application.md).</span></span>  
  
 <span data-ttu-id="7ed53-110"><xref:System.Transactions> Názvů také obsahuje typy pro vás k implementaci správce prostředků.</span><span class="sxs-lookup"><span data-stu-id="7ed53-110">The <xref:System.Transactions> namespace also provides types for you to implement a resource manager.</span></span> <span data-ttu-id="7ed53-111">Správce prostředků spravuje trvalé nebo přechodné dat použitý v transakci a funkcí ve spolupráci se správcem transakcí pro aplikace s zárukou atomicitu a izolaci.</span><span class="sxs-lookup"><span data-stu-id="7ed53-111">A resource manager manages durable or volatile data used in a transaction, and work in cooperation with the transaction manager to provide the application with a guarantee of atomicity and isolation.</span></span> <span data-ttu-id="7ed53-112">Správce transakcí, která je poskytována <xref:System.Transactions> infrastruktura podporuje transakce zahrnující více těkavých prostředků nebo jeden prostředek trvalý.</span><span class="sxs-lookup"><span data-stu-id="7ed53-112">The transaction manager that is provided by the <xref:System.Transactions> infrastructure supports transactions involving multiple volatile resources or a single durable resource.</span></span> <span data-ttu-id="7ed53-113">Další informace o implementaci správce prostředků naleznete v tématu [implementace správce prostředků](implementing-a-resource-manager.md).</span><span class="sxs-lookup"><span data-stu-id="7ed53-113">For more information on implementing a resource manager, see [Implementing a Resource Manager](implementing-a-resource-manager.md).</span></span>  
  
 <span data-ttu-id="7ed53-114">Správce transakcí také transparentně eskaluje místní transakce na distribuované transakce podle koordinaci se správcem transakcí založené na disku jako ovládacího prvku návrhu, pokud správce další trvalý prostředků zapsán, samotné se transakce.</span><span class="sxs-lookup"><span data-stu-id="7ed53-114">The transaction manager also transparently escalates local transactions to distributed transactions by coordinating with a disk-based transaction manager like the DTC, when an additional durable resource manager enlists itself with a transaction.</span></span> <span data-ttu-id="7ed53-115">Existují dva způsoby klíče, <xref:System.Transactions> infrastruktury nabízí lepší výkon.</span><span class="sxs-lookup"><span data-stu-id="7ed53-115">There are two key ways that the <xref:System.Transactions> infrastructure provides enhanced performance.</span></span>  
  
- <span data-ttu-id="7ed53-116">Dynamické eskalace, který zajišťuje, že <xref:System.Transactions> infrastruktury provede příkaz MSDTC pouze, když transakce zabírá více distribuovaných zdrojů.</span><span class="sxs-lookup"><span data-stu-id="7ed53-116">Dynamic Escalation, which ensures that the <xref:System.Transactions> infrastructure only engages the MSDTC when a transaction spans across multiple distributed resources.</span></span> <span data-ttu-id="7ed53-117">Další informace o dynamické eskalace.</span><span class="sxs-lookup"><span data-stu-id="7ed53-117">For more information about dynamic escalation.</span></span> <span data-ttu-id="7ed53-118">Viz téma [Eskalace správy transakcí](transaction-management-escalation.md) .</span><span class="sxs-lookup"><span data-stu-id="7ed53-118">see [Transaction Management Escalation](transaction-management-escalation.md) topic.</span></span>  
  
- <span data-ttu-id="7ed53-119">Možné zařazení, což umožňuje prostředků, jako je například databáze, převzít vlastnictví transakce, pokud je pouze entity účastnící se transakce.</span><span class="sxs-lookup"><span data-stu-id="7ed53-119">Promotable Enlistments, which allows a resource, such as a database, to take ownership of the transaction if it is the only entity participating in the transaction.</span></span> <span data-ttu-id="7ed53-120">Později, v případě potřeby <xref:System.Transactions> infrastruktury mohou i nadále eskalovat transakce na příkaz MSDTC pro správu.</span><span class="sxs-lookup"><span data-stu-id="7ed53-120">Later, if needed, the <xref:System.Transactions> infrastructure can still escalate the management of the transaction to the MSDTC.</span></span> <span data-ttu-id="7ed53-121">Tím omezíte další možnost používání příkaz MSDTC.</span><span class="sxs-lookup"><span data-stu-id="7ed53-121">This further reduces the chance of using the MSDTC.</span></span> <span data-ttu-id="7ed53-122">K propagačnímu zařazení jsou v rámci optimalizace tématu popsána hloubková oznámení s jednou[fází potvrzení a s jednou fází](optimization-spc-and-promotable-spn.md).</span><span class="sxs-lookup"><span data-stu-id="7ed53-122">Promotable Enlistments are covered in depth in the topic[Optimization using Single Phase Commit and Promotable Single Phase Notification](optimization-spc-and-promotable-spn.md).</span></span>  
  
 <span data-ttu-id="7ed53-123"><xref:System.Transactions> Obor názvů definuje tři úrovně důvěryhodnosti – AllowPartiallyTrustedCallers (APTCA), DistributedTransactionPermission(DTP) a úplný vztah důvěryhodnosti - omezit přístup pro typy prostředků zpřístupňuje.</span><span class="sxs-lookup"><span data-stu-id="7ed53-123">The <xref:System.Transactions> namespace defines three levels of trust - AllowPartiallyTrustedCallers (APTCA), DistributedTransactionPermission(DTP) and full trust - that restrict access to the types of resources it exposes.</span></span> <span data-ttu-id="7ed53-124">Další informace o různých úrovních důvěryhodnosti najdete [v tématu úrovně důvěryhodnosti zabezpečení v tématu přístup k prostředkům](security-trust-levels-in-accessing-resources.md).</span><span class="sxs-lookup"><span data-stu-id="7ed53-124">For more information on the various trust levels, see [Security Trust Levels in Accessing Resources](security-trust-levels-in-accessing-resources.md).</span></span>  
  
## <a name="in-this-section"></a><span data-ttu-id="7ed53-125">V této části</span><span class="sxs-lookup"><span data-stu-id="7ed53-125">In this section</span></span>  
  
### <a name="writing-a-transactional-application"></a><span data-ttu-id="7ed53-126">Zápis transakční aplikace</span><span class="sxs-lookup"><span data-stu-id="7ed53-126">Writing A Transactional Application</span></span>  
 <span data-ttu-id="7ed53-127"><xref:System.Transactions> Obor názvů poskytuje dva modely pro vytváření transakční aplikací.</span><span class="sxs-lookup"><span data-stu-id="7ed53-127">The <xref:System.Transactions> namespace provides two models for creating transactional applications.</span></span> <span data-ttu-id="7ed53-128">[Implementace implicitní transakce pomocí oboru transakce](implementing-an-implicit-transaction-using-transaction-scope.md) popisuje, jak <xref:System.Transactions> obor názvů podporuje vytváření implicitních transakcí pomocí <xref:System.Transactions.TransactionScope> třídy.</span><span class="sxs-lookup"><span data-stu-id="7ed53-128">[Implementing an Implicit Transaction using Transaction Scope](implementing-an-implicit-transaction-using-transaction-scope.md) describes how the <xref:System.Transactions> namespace supports creating implicit transactions using the <xref:System.Transactions.TransactionScope> class.</span></span>  
  
 <span data-ttu-id="7ed53-129">[Implementace explicitní transakce pomocí CommittableTransaction](implementing-an-explicit-transaction-using-committabletransaction.md) popisuje, jak <xref:System.Transactions> obor názvů podporuje vytváření explicitních transakcí pomocí <xref:System.Transactions.CommittableTransaction> třídy.</span><span class="sxs-lookup"><span data-stu-id="7ed53-129">[Implementing an Explicit Transaction using CommittableTransaction](implementing-an-explicit-transaction-using-committabletransaction.md) describes how the <xref:System.Transactions> namespace supports creating explicit transactions using the <xref:System.Transactions.CommittableTransaction> class.</span></span>  
  
 <span data-ttu-id="7ed53-130">Další témata týkající se psaní transakční aplikace najdete v tématu [zápis transakční aplikace](writing-a-transactional-application.md).</span><span class="sxs-lookup"><span data-stu-id="7ed53-130">For additional topics covering writing a transactional application, see [Writing a Transactional Application](writing-a-transactional-application.md).</span></span>  
  
### <a name="implementing-a-resource-manager"></a><span data-ttu-id="7ed53-131">Implementace správce prostředků</span><span class="sxs-lookup"><span data-stu-id="7ed53-131">Implementing A Resource Manager</span></span>  
 <span data-ttu-id="7ed53-132">Chcete-li implementovat správce prostředků, který se může účastnit transakce, přečtěte si téma [implementace správce prostředků](implementing-a-resource-manager.md).</span><span class="sxs-lookup"><span data-stu-id="7ed53-132">To implement a resource manager that can participate in a transaction, see [Implementing a Resource Manager](implementing-a-resource-manager.md).</span></span> <span data-ttu-id="7ed53-133">Tato část zahrnuje zařazení materiálu, potvrzení transakcí, obnovení po selhání a osvědčené postupy pro optimalizaci.</span><span class="sxs-lookup"><span data-stu-id="7ed53-133">This section covers the enlistment of a resource, committing a transaction, recovery after failure, and optimization best practices.</span></span>
