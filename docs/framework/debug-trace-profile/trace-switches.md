---
title: Přepínače trasování
ms.date: 03/30/2017
dev_langs:
- csharp
- vb
helpviewer_keywords:
- tracing [.NET Framework], trace switches
- trace switches, about trace switches
- tracing [.NET Framework], level of detail
- switches, trace
- trace switches
- trace switches, creating custom
ms.assetid: 8ab913aa-f400-4406-9436-f45bc6e54fbe
ms.openlocfilehash: c164e26c6757094b9820af14a098229ab11eb137
ms.sourcegitcommit: 9c54866bcbdc49dbb981dd55be9bbd0443837aa2
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 02/14/2020
ms.locfileid: "77217209"
---
# <a name="trace-switches"></a><span data-ttu-id="f02cf-102">Přepínače trasování</span><span class="sxs-lookup"><span data-stu-id="f02cf-102">Trace Switches</span></span>
<span data-ttu-id="f02cf-103">Přepínače trasování umožňují povolit, zakázat a filtrovat výstup trasování.</span><span class="sxs-lookup"><span data-stu-id="f02cf-103">Trace switches enable you to enable, disable, and filter tracing output.</span></span> <span data-ttu-id="f02cf-104">Jsou to objekty, které existují ve vašem kódu a lze je nakonfigurovat externě prostřednictvím souboru. config.</span><span class="sxs-lookup"><span data-stu-id="f02cf-104">They are objects that exist in your code and can be configured externally through the .config file.</span></span> <span data-ttu-id="f02cf-105">Existují tři typy přepínačů trasování, které jsou k dispozici v .NET Framework: <xref:System.Diagnostics.BooleanSwitch> třídě, třídě <xref:System.Diagnostics.TraceSwitch> a třídě <xref:System.Diagnostics.SourceSwitch>.</span><span class="sxs-lookup"><span data-stu-id="f02cf-105">There are three types of trace switches provided in the .NET Framework: the <xref:System.Diagnostics.BooleanSwitch> class, the <xref:System.Diagnostics.TraceSwitch> class, and the <xref:System.Diagnostics.SourceSwitch> class.</span></span> <span data-ttu-id="f02cf-106"><xref:System.Diagnostics.BooleanSwitch> třída funguje jako přepínač Switch, buď povolení nebo zákaz řady příkazů trasování.</span><span class="sxs-lookup"><span data-stu-id="f02cf-106">The <xref:System.Diagnostics.BooleanSwitch> class acts as a toggle switch, either enabling or disabling a variety of trace statements.</span></span> <span data-ttu-id="f02cf-107">Třídy <xref:System.Diagnostics.TraceSwitch> a <xref:System.Diagnostics.SourceSwitch> umožňují povolit přepínač trasování pro konkrétní úroveň trasování tak, aby se zprávy <xref:System.Diagnostics.Trace> nebo <xref:System.Diagnostics.TraceSource> zadané pro tuto úroveň a všechny úrovně pod ní zobrazovaly.</span><span class="sxs-lookup"><span data-stu-id="f02cf-107">The <xref:System.Diagnostics.TraceSwitch> and <xref:System.Diagnostics.SourceSwitch> classes allow you to enable a trace switch for a particular tracing level so that the <xref:System.Diagnostics.Trace> or <xref:System.Diagnostics.TraceSource> messages specified for that level and all levels below it appear.</span></span> <span data-ttu-id="f02cf-108">Pokud přepínač zakážete, zprávy trasování se nezobrazí.</span><span class="sxs-lookup"><span data-stu-id="f02cf-108">If you disable the switch, the trace messages will not appear.</span></span> <span data-ttu-id="f02cf-109">Všechny tyto třídy jsou odvozeny z **přepínače**třídy abstract (**MustInherit**), stejně jako všechny uživatelsky vyvíjené přepínače.</span><span class="sxs-lookup"><span data-stu-id="f02cf-109">All these classes derive from the abstract (**MustInherit**) class **Switch**, as should any user-developed switches.</span></span>  
  
 <span data-ttu-id="f02cf-110">Přepínače trasování mohou být užitečné pro filtrování informací.</span><span class="sxs-lookup"><span data-stu-id="f02cf-110">Trace switches can be useful for filtering information.</span></span> <span data-ttu-id="f02cf-111">Můžete například chtít zobrazit každou zprávu trasování v modulu Data Access, ale pouze chybové zprávy ve zbývající části aplikace.</span><span class="sxs-lookup"><span data-stu-id="f02cf-111">For example, you might want to see every tracing message in a data access module, but only error messages in the rest of the application.</span></span> <span data-ttu-id="f02cf-112">V takovém případě byste použili jeden přepínač trasování pro modul Data Access a jeden přepínač pro zbytek aplikace.</span><span class="sxs-lookup"><span data-stu-id="f02cf-112">In that case, you would use one trace switch for the data access module and one switch for the rest of the application.</span></span> <span data-ttu-id="f02cf-113">Když použijete soubor. config ke konfiguraci přepínačů na příslušná nastavení, můžete určit, jaké typy trasovacích zpráv jste dostali.</span><span class="sxs-lookup"><span data-stu-id="f02cf-113">By using the .config file to configure the switches to the appropriate settings, you could control what types of trace message you received.</span></span> <span data-ttu-id="f02cf-114">Další informace najdete v tématu [Postupy: vytváření, inicializace a konfigurace přepínačů trasování](how-to-create-initialize-and-configure-trace-switches.md).</span><span class="sxs-lookup"><span data-stu-id="f02cf-114">For more information, see [How to: Create, Initialize and Configure Trace Switches](how-to-create-initialize-and-configure-trace-switches.md).</span></span>  
  
 <span data-ttu-id="f02cf-115">Obvykle je nasazená aplikace spouštěna s vypnutými přepínači, aby uživatelé nemuseli sledovat spoustu nepodstatných trasovacích zpráv, které se zobrazují na obrazovce, nebo naplňovat soubor protokolu při spuštění aplikace.</span><span class="sxs-lookup"><span data-stu-id="f02cf-115">Typically, a deployed application is executed with its switches disabled, so that users need not observe a lot of irrelevant trace messages appearing on a screen or filling up a log file as the application runs.</span></span> <span data-ttu-id="f02cf-116">Pokud při provádění aplikace dojde k problému, můžete aplikaci zastavit, povolit přepínače a restartovat aplikaci.</span><span class="sxs-lookup"><span data-stu-id="f02cf-116">If a problem arises during application execution, you can stop the application, enable the switches, and restart the application.</span></span> <span data-ttu-id="f02cf-117">Pak se zobrazí trasovací zprávy.</span><span class="sxs-lookup"><span data-stu-id="f02cf-117">Then the tracing messages will be displayed.</span></span>  
  
 <span data-ttu-id="f02cf-118">Chcete-li použít přepínač, musíte nejprve vytvořit objekt Switch z třídy **BooleanSwitch** , třídy **TraceSwitch** nebo třídy přepínače definované vývojářem.</span><span class="sxs-lookup"><span data-stu-id="f02cf-118">To use a switch you must first create a switch object from a **BooleanSwitch** class, a **TraceSwitch** class, or a developer-defined switch class.</span></span> <span data-ttu-id="f02cf-119">Další informace o vytváření přepínačů definovaných pro vývojáře naleznete v tématu <xref:System.Diagnostics.Switch> třídy v odkazu .NET Framework.</span><span class="sxs-lookup"><span data-stu-id="f02cf-119">For more information about creating developer-defined switches, see the <xref:System.Diagnostics.Switch> class in the .NET Framework reference.</span></span> <span data-ttu-id="f02cf-120">Pak nastavíte hodnotu konfigurace, která určuje, kdy má být objekt Switch použit.</span><span class="sxs-lookup"><span data-stu-id="f02cf-120">Then you set a configuration value that specifies when the switch object is to be used.</span></span> <span data-ttu-id="f02cf-121">Pak otestujete nastavení objektu Switch v různých metodách trasování (nebo **ladění** **) trasování.**</span><span class="sxs-lookup"><span data-stu-id="f02cf-121">You then test the setting of the switch object in various **Trace** (or **Debug**) tracing methods.</span></span>  
  
## <a name="trace-levels"></a><span data-ttu-id="f02cf-122">Úrovně trasování</span><span class="sxs-lookup"><span data-stu-id="f02cf-122">Trace Levels</span></span>  
 <span data-ttu-id="f02cf-123">Při použití **TraceSwitch**existují další okolnosti.</span><span class="sxs-lookup"><span data-stu-id="f02cf-123">When you use **TraceSwitch**, there are additional considerations.</span></span> <span data-ttu-id="f02cf-124">Objekt **TraceSwitch** má čtyři vlastnosti, které vracejí **logické** hodnoty, což znamená, zda je přepínač nastaven alespoň na konkrétní úroveň:</span><span class="sxs-lookup"><span data-stu-id="f02cf-124">A **TraceSwitch** object has four properties that return **Boolean** values indicating whether the switch is set to at least a particular level:</span></span>  
  
- <xref:System.Diagnostics.TraceSwitch.TraceError%2A?displayProperty=nameWithType>  
  
- <xref:System.Diagnostics.TraceSwitch.TraceWarning%2A?displayProperty=nameWithType>  
  
- <xref:System.Diagnostics.TraceSwitch.TraceInfo%2A?displayProperty=nameWithType>  
  
- <xref:System.Diagnostics.TraceSwitch.TraceVerbose%2A?displayProperty=nameWithType>  
  
 <span data-ttu-id="f02cf-125">Úrovně vám umožňují omezit množství trasovacích informací, které obdržíte, jenom k informacím potřebným k vyřešení problému.</span><span class="sxs-lookup"><span data-stu-id="f02cf-125">Levels allow you to limit the amount of tracing information you receive to only that information needed to solve a problem.</span></span> <span data-ttu-id="f02cf-126">Úroveň podrobností, kterou požadujete ve výstupu trasování, určíte nastavením a konfigurací přepínačů trasování na příslušnou úroveň trasování.</span><span class="sxs-lookup"><span data-stu-id="f02cf-126">You specify the level of detail you want in your tracing output by setting and configuring trace switches to the appropriate trace level.</span></span> <span data-ttu-id="f02cf-127">Můžete dostávat chybové zprávy, varovné zprávy, informativní zprávy, podrobné trasovací zprávy nebo žádná zpráva vůbec.</span><span class="sxs-lookup"><span data-stu-id="f02cf-127">You can receive error messages, warning messages, informational messages, verbose tracing messages, or no message at all.</span></span>  
  
 <span data-ttu-id="f02cf-128">Je zcela na vás, abyste se rozhodli, jaký druh zprávy přidružit k jednotlivým úrovním.</span><span class="sxs-lookup"><span data-stu-id="f02cf-128">It is entirely up to you to decide what kind of message to associate with each level.</span></span> <span data-ttu-id="f02cf-129">Obsah trasovacích zpráv obvykle závisí na tom, co přiřadíte k jednotlivým úrovním, ale určíte rozdíly mezi úrovněmi.</span><span class="sxs-lookup"><span data-stu-id="f02cf-129">Typically, the content of tracing messages depends on what you associate with each level, but you determine the differences between levels.</span></span> <span data-ttu-id="f02cf-130">Je možné, že budete chtít poskytnout podrobné popisy problému na úrovni 3 (**informace**), například poskytnout pouze referenční číslo chyby na úrovni 1 (**Chyba**).</span><span class="sxs-lookup"><span data-stu-id="f02cf-130">You might want to provide detailed descriptions of a problem at level 3 (**Info**), for example, but provide only an error reference number at level 1 (**Error**).</span></span> <span data-ttu-id="f02cf-131">Je zcela na vás, abyste se rozhodli, jaké schéma funguje nejlépe ve vaší aplikaci.</span><span class="sxs-lookup"><span data-stu-id="f02cf-131">It is entirely up to you to decide what scheme works best in your application.</span></span>  
  
 <span data-ttu-id="f02cf-132">Tyto vlastnosti odpovídají hodnotám 1 až 4 výčtu **TraceLevel** .</span><span class="sxs-lookup"><span data-stu-id="f02cf-132">These properties correspond to the values 1 through 4 of the **TraceLevel** enumeration.</span></span> <span data-ttu-id="f02cf-133">Následující tabulka uvádí úrovně výčtu **TraceLevel** a jejich hodnoty.</span><span class="sxs-lookup"><span data-stu-id="f02cf-133">The following table lists the levels of the **TraceLevel** enumeration and their values.</span></span>  
  
|<span data-ttu-id="f02cf-134">Výčtová hodnota</span><span class="sxs-lookup"><span data-stu-id="f02cf-134">Enumerated value</span></span>|<span data-ttu-id="f02cf-135">Celočíselná hodnota</span><span class="sxs-lookup"><span data-stu-id="f02cf-135">Integer value</span></span>|<span data-ttu-id="f02cf-136">Typ zobrazené zprávy (nebo zápis do zadaného cíle výstupu)</span><span class="sxs-lookup"><span data-stu-id="f02cf-136">Type of message displayed (or written to a specified output target)</span></span>|  
|----------------------|-------------------|---------------------------------------------------------------------------|  
|<span data-ttu-id="f02cf-137">Vypnuto</span><span class="sxs-lookup"><span data-stu-id="f02cf-137">Off</span></span>|<span data-ttu-id="f02cf-138">0</span><span class="sxs-lookup"><span data-stu-id="f02cf-138">0</span></span>|<span data-ttu-id="f02cf-139">Žádná</span><span class="sxs-lookup"><span data-stu-id="f02cf-139">None</span></span>|  
|<span data-ttu-id="f02cf-140">Chyba</span><span class="sxs-lookup"><span data-stu-id="f02cf-140">Error</span></span>|<span data-ttu-id="f02cf-141">1</span><span class="sxs-lookup"><span data-stu-id="f02cf-141">1</span></span>|<span data-ttu-id="f02cf-142">Pouze chybové zprávy</span><span class="sxs-lookup"><span data-stu-id="f02cf-142">Only error messages</span></span>|  
|<span data-ttu-id="f02cf-143">Upozornění</span><span class="sxs-lookup"><span data-stu-id="f02cf-143">Warning</span></span>|<span data-ttu-id="f02cf-144">2</span><span class="sxs-lookup"><span data-stu-id="f02cf-144">2</span></span>|<span data-ttu-id="f02cf-145">Varovné zprávy a chybové zprávy</span><span class="sxs-lookup"><span data-stu-id="f02cf-145">Warning messages and error messages</span></span>|  
|<span data-ttu-id="f02cf-146">Informace</span><span class="sxs-lookup"><span data-stu-id="f02cf-146">Info</span></span>|<span data-ttu-id="f02cf-147">3</span><span class="sxs-lookup"><span data-stu-id="f02cf-147">3</span></span>|<span data-ttu-id="f02cf-148">Informační zprávy, varovné zprávy a chybové zprávy</span><span class="sxs-lookup"><span data-stu-id="f02cf-148">Informational messages, warning messages, and error messages</span></span>|  
|<span data-ttu-id="f02cf-149">Podrobnosti</span><span class="sxs-lookup"><span data-stu-id="f02cf-149">Verbose</span></span>|<span data-ttu-id="f02cf-150">4</span><span class="sxs-lookup"><span data-stu-id="f02cf-150">4</span></span>|<span data-ttu-id="f02cf-151">Podrobné zprávy, informativní zprávy, varovné zprávy a chybové zprávy</span><span class="sxs-lookup"><span data-stu-id="f02cf-151">Verbose messages, informational messages, warning messages, and error messages</span></span>|  
  
 <span data-ttu-id="f02cf-152">Vlastnosti **TraceSwitch** označují maximální úroveň trasování pro přepínač.</span><span class="sxs-lookup"><span data-stu-id="f02cf-152">The **TraceSwitch** properties indicate the maximum trace level for the switch.</span></span> <span data-ttu-id="f02cf-153">To znamená, že trasovací informace jsou zapsány pro zadanou úroveň i pro všechny nižší úrovně.</span><span class="sxs-lookup"><span data-stu-id="f02cf-153">That is, tracing information is written for the level specified as well as for all lower levels.</span></span> <span data-ttu-id="f02cf-154">Například pokud má **TraceInfo** **hodnotu true**, pak **zaznamenáno: TraceError** a **zaznamenáno: TraceWarning** jsou také **true** , ale **TraceVerbose** může být **nepravdivá**.</span><span class="sxs-lookup"><span data-stu-id="f02cf-154">For example, if **TraceInfo** is **true**, then **TraceError** and **TraceWarning** are also **true** but **TraceVerbose** might well be **false**.</span></span>  
  
 <span data-ttu-id="f02cf-155">Tyto vlastnosti jsou jen pro čtení.</span><span class="sxs-lookup"><span data-stu-id="f02cf-155">These properties are read-only.</span></span> <span data-ttu-id="f02cf-156">Objekt **TraceSwitch** je automaticky nastaví, když je nastavena vlastnost **TraceLevel** .</span><span class="sxs-lookup"><span data-stu-id="f02cf-156">The **TraceSwitch** object automatically sets them when the **TraceLevel** property is set.</span></span> <span data-ttu-id="f02cf-157">Například:</span><span class="sxs-lookup"><span data-stu-id="f02cf-157">For example:</span></span>  
  
```vb  
Dim myTraceSwitch As New TraceSwitch("SwitchOne", "The first switch")  
myTraceSwitch.Level = TraceLevel.Info  
' This message box displays true, because setting the level to  
' TraceLevel.Info sets all lower levels to true as well.  
MessageBox.Show(myTraceSwitch.TraceWarning.ToString())  
' This messagebox displays false.  
MessageBox.Show(myTraceSwitch.TraceVerbose.ToString())  
```  
  
```csharp  
System.Diagnostics.TraceSwitch myTraceSwitch =   
   new System.Diagnostics.TraceSwitch("SwitchOne", "The first switch");  
myTraceSwitch.Level = System.Diagnostics.TraceLevel.Info;  
// This message box displays true, because setting the level to   
// TraceLevel.Info sets all lower levels to true as well.  
MessageBox.Show(myTraceSwitch.TraceWarning.ToString());  
// This message box displays false.  
MessageBox.Show(myTraceSwitch.TraceVerbose.ToString());  
```  
  
## <a name="developer-defined-switches"></a><span data-ttu-id="f02cf-158">Přepínače definované vývojářem</span><span class="sxs-lookup"><span data-stu-id="f02cf-158">Developer-Defined Switches</span></span>  
 <span data-ttu-id="f02cf-159">Kromě poskytování **BooleanSwitch** a **TraceSwitch**můžete definovat vlastní přepínače děděním z třídy **Switch** a přepsáním metod základní třídy pomocí přizpůsobených metod.</span><span class="sxs-lookup"><span data-stu-id="f02cf-159">In addition to providing **BooleanSwitch** and **TraceSwitch**, you can define your own switches by inheriting from the **Switch** class and overriding the base class methods with customized methods.</span></span> <span data-ttu-id="f02cf-160">Další informace o vytváření přepínačů definovaných pro vývojáře naleznete v tématu <xref:System.Diagnostics.Switch> třídy v odkazu .NET Framework.</span><span class="sxs-lookup"><span data-stu-id="f02cf-160">For more information about creating developer-defined switches, see the <xref:System.Diagnostics.Switch> class in the .NET Framework reference.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="f02cf-161">Viz také</span><span class="sxs-lookup"><span data-stu-id="f02cf-161">See also</span></span>

- [<span data-ttu-id="f02cf-162">Moduly naslouchání trasování</span><span class="sxs-lookup"><span data-stu-id="f02cf-162">Trace Listeners</span></span>](trace-listeners.md)
- [<span data-ttu-id="f02cf-163">Postupy: Přidání příkazů trasování do kódu aplikace</span><span class="sxs-lookup"><span data-stu-id="f02cf-163">How to: Add Trace Statements to Application Code</span></span>](how-to-add-trace-statements-to-application-code.md)
- [<span data-ttu-id="f02cf-164">Trasování a instrumentace aplikací</span><span class="sxs-lookup"><span data-stu-id="f02cf-164">Tracing and Instrumenting Applications</span></span>](tracing-and-instrumenting-applications.md)
