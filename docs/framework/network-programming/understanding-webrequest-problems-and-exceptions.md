---
title: Principy problémů a výjimek WebRequest
ms.date: 03/30/2017
ms.assetid: 74a361a5-e912-42d3-8f2e-8e9a96880a2b
ms.openlocfilehash: 172ad7508bdcac94cc278faab65a2e265b3c6a65
ms.sourcegitcommit: 7588136e355e10cbc2582f389c90c127363c02a5
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 03/15/2020
ms.locfileid: "76743900"
---
# <a name="understanding-webrequest-problems-and-exceptions"></a>Principy problémů a výjimek WebRequest
<xref:System.Net.WebRequest>a jeho odvozené<xref:System.Net.HttpWebRequest> <xref:System.Net.FtpWebRequest>třídy <xref:System.Net.FileWebRequest>( , , a ) vyvolat výjimky signál abnormální stav. Někdy řešení těchto problémů není zřejmé.  
  
## <a name="solutions"></a>Řešení  
 Zkontrolujte <xref:System.Net.WebException.Status%2A> vlastnost <xref:System.Net.WebException> problém k určení problému. V následující tabulce je uvedeno několik hodnot stavu a některá možná řešení.  
  
|Status|Podrobnosti|Řešení|  
|------------|-------------|--------------|  
|<xref:System.Net.WebExceptionStatus.SendFailure><br /><br /> -nebo-<br /><br /> <xref:System.Net.WebExceptionStatus.ReceiveFailure>|Došlo k potížím se základním soketem. Připojení bylo pravděpodobně resetováno.|Znovu se připojte a odešlete požadavek.<br /><br /> Zkontrolujte, zda je nainstalována nejnovější aktualizace Service Pack.<br /><br /> Zvyšte hodnotu <xref:System.Net.ServicePointManager.MaxServicePointIdleTime%2A?displayProperty=nameWithType> vlastnosti.<br /><br /> <xref:System.Net.HttpWebRequest.KeepAlive%2A?displayProperty=nameWithType> Nastaveno `false`na .<br /><br /> Zvyšte počet maximálních <xref:System.Net.ServicePointManager.DefaultConnectionLimit%2A> připojení s vlastností.<br /><br /> Zkontrolujte konfiguraci proxy serveru.<br /><br /> Pokud používáte SSL, ujistěte se, že proces serveru má oprávnění pro přístup k úložišti certifikátů.<br /><br /> Pokud odesíláte velké množství <xref:System.Net.HttpWebRequest.AllowWriteStreamBuffering%2A> `false`dat, nastavte na .|  
|<xref:System.Net.WebExceptionStatus.TrustFailure>|Certifikát serveru nelze ověřit.|Zkuste identifikátor URI otevřít pomocí aplikace Internet Explorer. Vyřešte všechny výstrahy zabezpečení zobrazené společností IE. Pokud výstrahu zabezpečení nelze vyřešit, můžete vytvořit třídu <xref:System.Net.ICertificatePolicy> zásad `true`certifikátu, <xref:System.Net.ServicePointManager.CertificatePolicy%2A>která implementuje tuto hodnotu , a předat ji aplikaci .<br /><br /> Viz <https://support.microsoft.com/?id=823177>.<br /><br /> Zkontrolujte, zda je certifikát certifikační autority, která podepsala certifikát serveru, přidán do seznamu Důvěryhodná certifikační autorita v aplikaci Internet Explorer.<br /><br /> Ujistěte se, že název hostitele v adrese URL odpovídá běžnému názvu na certifikátu serveru.|  
|<xref:System.Net.WebExceptionStatus.SecureChannelFailure>|Při transakci SSL došlo k chybě nebo došlo k potížím s certifikátem.|Rozhraní .NET Framework verze 1.1 podporuje pouze ssl verze 3.0. Pokud server používá pouze TLS verze 1.0 nebo SSL verze 2.0, je vyvolána výjimka. Upgradujte na rozhraní .NET Framework <xref:System.Net.ServicePointManager.SecurityProtocol%2A> verze 2.0 a nastavte tak, aby odpovídalserveru.<br /><br /> Klientský certifikát byl podepsán certifikační autoritou (CA), které server nedůvěřuje. Nainstalujte certifikát certifikační autority na server. Viz třída <https://support.microsoft.com/?id=332077>.<br /><br /> Zkontrolujte, zda je nainstalována nejnovější aktualizace Service Pack.|  
|<xref:System.Net.WebExceptionStatus.ConnectFailure>|Spojení bylo přerušeno.|Připojení blokuje brána firewall nebo proxy server. Chcete-li připojení povolit, upravte bránu firewall nebo proxy server.<br /><br /> Explicitně <xref:System.Net.WebProxy> určit v klientské <xref:System.Net.WebProxy> aplikaci`WebServiceProxyClass.Proxy = new WebProxy("http://server:80", true)`voláním konstruktoru ( ).<br /><br /> Spusťte soubor Filemon nebo Regmon, abyste zajistili, že identita pracovního procesu má potřebná oprávnění pro přístup k souborům WSPWSP.dll, HKLM\System\CurrentControlSet\Services\DnsCache nebo HKLM\System\CurrentControlSet\Services\WinSock2.|  
|<xref:System.Net.WebExceptionStatus.NameResolutionFailure>|Služba DNS nemohla přeložit název hostitele.|Nakonfigurujte proxy server správně. Viz třída <https://support.microsoft.com/?id=318140>.<br /><br /> Ujistěte se, že připojení neblokuje žádný nainstalovaný antivirový software nebo brána firewall.|  
|<xref:System.Net.WebExceptionStatus.RequestCanceled>|<xref:System.Net.WebRequest.Abort%2A>byla volána nebo došlo k chybě.|Tento problém může být způsoben velkým zatížením klienta nebo serveru. Snižte zatížení.<br /><br /> Zvyšte <xref:System.Net.ServicePointManager.DefaultConnectionLimit%2A> nastavení.<br /><br /> Nastavení <https://support.microsoft.com/?id=821268> výkonu webové služby naleznete v tématu.|  
|<xref:System.Net.WebExceptionStatus.ConnectionClosed>|Aplikace se pokusila zapsat do soketu, který již byl uzavřen.|Klient nebo server je přetížený. Snižte zatížení.<br /><br /> Zvyšte <xref:System.Net.ServicePointManager.DefaultConnectionLimit%2A> nastavení.<br /><br /> Nastavení <https://support.microsoft.com/?id=821268> výkonu webové služby naleznete v tématu.|  
|<xref:System.Net.WebExceptionStatus.MessageLengthLimitExceeded>|Byla překročena<xref:System.Net.HttpWebRequest.MaximumResponseHeadersLength%2A>sada limitů ( ) na délce zprávy.|Zvyšte hodnotu <xref:System.Net.HttpWebRequest.MaximumResponseHeadersLength%2A> vlastnosti.|  
|<xref:System.Net.WebExceptionStatus.ProxyNameResolutionFailure>|Služba DNS nemohla přeložit název hostitele proxy serveru.|Nakonfigurujte proxy server správně. Viz třída <https://support.microsoft.com/?id=318140>.<br /><br /> Vynutit <xref:System.Net.HttpWebRequest> použití žádného <xref:System.Net.HttpWebRequest.Proxy%2A> proxy `null`nastavenívlastnosti na .|  
|<xref:System.Net.WebExceptionStatus.ServerProtocolViolation>|Odpověď ze serveru není platnou odpovědí HTTP. K tomuto problému dochází, když rozhraní .NET Framework zjistí, že odpověď serveru není v souladu s HTTP 1.1 RFC. K tomuto problému může dojít, pokud odpověď obsahuje nesprávné záhlaví nebo nesprávné oddělovače záhlaví. RFC 2616 definuje protokol HTTP 1.1 a platný formát odpovědi ze serveru. Další informace naleznete v tématu [RFC 2616 – Hypertext Transfer Protocol -- HTTP/1.1](https://tools.ietf.org/html/rfc2616) na webu [IETF (Internet Engineering Task Force).](https://www.ietf.org/)|Získejte trasování sítě transakce a zkontrolujte záhlaví v odpovědi.<br /><br /> Pokud vaše aplikace vyžaduje odpověď serveru bez analýzy (může `useUnsafeHeaderParsing` se `true` jedná o problém se zabezpečením), nastavte na v konfiguračním souboru. Viz [ \<httpWebRequest> Element (Nastavení sítě)](../configure-apps/file-schema/network/httpwebrequest-element-network-settings.md).|  
  
## <a name="see-also"></a>Viz také

- <xref:System.Net.HttpWebRequest>
- <xref:System.Net.HttpWebResponse>
- <xref:System.Net.Dns>
