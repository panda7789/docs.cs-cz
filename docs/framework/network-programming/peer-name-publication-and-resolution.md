---
title: Publikace Peer Name a řešení
ms.date: 03/30/2017
ms.assetid: f0370e08-9fa6-4ee5-ab78-9a58a20a7da2
ms.openlocfilehash: 98ccfc79a25d547c751d8153d0f290860e5eb743
ms.sourcegitcommit: ccd8c36b0d74d99291d41aceb14cf98d74dc9d2b
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 12/10/2018
ms.locfileid: "53143724"
---
# <a name="peer-name-publication-and-resolution"></a><span data-ttu-id="a397a-102">Publikace Peer Name a řešení</span><span class="sxs-lookup"><span data-stu-id="a397a-102">Peer Name Publication and Resolution</span></span>

## <a name="publishing-a-peer-name"></a><span data-ttu-id="a397a-103">Publikování název partnerského zařízení</span><span class="sxs-lookup"><span data-stu-id="a397a-103">Publishing a peer name</span></span>  

 <span data-ttu-id="a397a-104">Chcete-li publikovat nové ID PNRP, partnerské zařízení provede následující akce:</span><span class="sxs-lookup"><span data-stu-id="a397a-104">To publish a new PNRP ID, a peer performs the following:</span></span>  
  
-   <span data-ttu-id="a397a-105">Odešle zprávy publikace PNRP k jejím sousedům mezipaměti (partnerské uzly, které jste zaregistrovali ID PNRP na nejnižší úrovni mezipaměti) naplnit jejich mezipamětí.</span><span class="sxs-lookup"><span data-stu-id="a397a-105">Sends PNRP publication messages to its cache neighbors (the peers that have registered PNRP IDs in the lowest level of the cache) to seed their caches.</span></span>  
  
-   <span data-ttu-id="a397a-106">Zvolí náhodné uzly v cloudu, které nejsou jeho okolím a odesílá požadavky na řešení PNRP název pro vlastní ID P2P.</span><span class="sxs-lookup"><span data-stu-id="a397a-106">Chooses random nodes in the cloud that are not its neighbors and sends them PNRP name resolution requests for its own P2P ID.</span></span> <span data-ttu-id="a397a-107">Výsledný procesu určení koncový bod nasazení nasazuje mezipamětí náhodné uzly v cloudu s ID PNRP publikování partnerského uzlu.</span><span class="sxs-lookup"><span data-stu-id="a397a-107">The resulting endpoint determination process seeds the caches of random nodes in the cloud with the PNRP ID of the publishing peer.</span></span>  
  
<span data-ttu-id="a397a-108">PNRP verze 2 uzly nepublikujte ID PNRP, pokud jsou pouze řeší jiné ID P2P.</span><span class="sxs-lookup"><span data-stu-id="a397a-108">PNRP version 2 nodes do not publish PNRP IDs if they are only resolving other P2P IDs.</span></span> <span data-ttu-id="a397a-109">HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\Windows NT\CurrentVersion\PeerNet\PNRP\IPV6-Global\SearchOnly = 1 hodnotu registru (typ REG_DWORD) určuje, zda partnerské uzly protokolu PNRP pouze používat pro překlad názvů, nikdy pro název publikace.</span><span class="sxs-lookup"><span data-stu-id="a397a-109">The HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\Windows NT\CurrentVersion\PeerNet\PNRP\IPV6-Global\SearchOnly=1 registry value (REG_DWORD type) specifies that peers only use PNRP for name resolution, never for name publication.</span></span> <span data-ttu-id="a397a-110">Tato hodnota registru je také možné nakonfigurovat pomocí zásad skupiny.</span><span class="sxs-lookup"><span data-stu-id="a397a-110">This registry value can also be configured through Group Policy.</span></span>  
  
## <a name="resolving-a-peer-name"></a><span data-ttu-id="a397a-111">Název partnera řešení</span><span class="sxs-lookup"><span data-stu-id="a397a-111">Resolving a peer name</span></span>

 <span data-ttu-id="a397a-112">Vyhledání dalších partnerských uzlů v PNRP sítě nebo cloudové je proces se skládá ze dvou fází:</span><span class="sxs-lookup"><span data-stu-id="a397a-112">Locating other peers in a PNRP network or cloud is a process comprised of two phases:</span></span>  
  
1.  <span data-ttu-id="a397a-113">Určení koncového bodu</span><span class="sxs-lookup"><span data-stu-id="a397a-113">Endpoint Determination</span></span>  
  
2.  <span data-ttu-id="a397a-114">ID řešení PNRP</span><span class="sxs-lookup"><span data-stu-id="a397a-114">PNRP ID Resolution</span></span>  
  
 <span data-ttu-id="a397a-115">Ve fázi stanovení koncový bod partnerského uzlu, který se pokouší se přeložit ID PNRP služby na jiném počítači určuje adresu protokolu IPv6 tohoto vzdáleného partnerského uzlu.</span><span class="sxs-lookup"><span data-stu-id="a397a-115">In the endpoint determination phase, a peer that is attempting to resolve the PNRP ID of a service on another computer determines the IPv6 address of that remote peer.</span></span>  <span data-ttu-id="a397a-116">Vzdáleném partnerském je ta, kterou publikována nebo je přidružen ID PNRP počítače nebo služby.</span><span class="sxs-lookup"><span data-stu-id="a397a-116">The remote peer is the one that published, or is associated with, the PNRP ID of the computer or service.</span></span>  
  
 <span data-ttu-id="a397a-117">Po potvrzení, že vzdálený koncový bod byl zaregistrován do cloudu PNRP, žádost o partnerským zařízením ve fázi překladu PNRP ID odešle žádost do tohoto koncového bodu partnera pro ID PNRP požadované služby.</span><span class="sxs-lookup"><span data-stu-id="a397a-117">After confirming that the remote endpoint has been registered into the PNRP cloud, the requesting peer in the PNRP ID resolution phase sends a request to that peer endpoint for the PNRP ID of the desired service.</span></span> <span data-ttu-id="a397a-118">Koncový bod pošle odpověď. potvrzení ID PNRP služby komentář, a až 4 kB dalších informací, že žádosti o vytvoření partnerského vztahu můžete použít pro budoucí komunikaci.</span><span class="sxs-lookup"><span data-stu-id="a397a-118">The endpoint sends a reply confirming the PNRP ID of the service, a comment, and up to 4 kilobytes of additional information that the requesting peer can use for future communication.</span></span> <span data-ttu-id="a397a-119">Například pokud požadovaný koncový bod serveru hry, data další peer název záznamu může obsahovat informace o hry, úroveň play a aktuální počet hráčů.</span><span class="sxs-lookup"><span data-stu-id="a397a-119">For example, if the desired endpoint is a gaming server, the additional peer name record data can contain information about the game, the level of play, and the current number of players.</span></span>  
  
 <span data-ttu-id="a397a-120">PNRP ve fázi stanovení koncový bod používá iterativní proces pro vyhledání uzlu, která publikuje ID PNRP, ve které je zodpovědný za kontaktování uzly, které jsou postupně blíž k cílové ID PNRP. uzel vyřešení</span><span class="sxs-lookup"><span data-stu-id="a397a-120">In the endpoint determination phase, PNRP uses an iterative process for locating the node that published the PNRP ID, in which the node performing the resolution is responsible for contacting nodes that are successively closer to the target PNRP ID.</span></span>  
  
 <span data-ttu-id="a397a-121">Provádět překlad adres v PNRP byly partnerské prozkoumá položky vlastní mezipaměti pro položku, která odpovídá cílové ID PNRP.</span><span class="sxs-lookup"><span data-stu-id="a397a-121">To perform name resolution in PNRP, the peer examines the entries in its own cache for an entry that matches the target PNRP ID.</span></span> <span data-ttu-id="a397a-122">Pokud najde, partnerský uzel odešle zprávu požadavku PNRP partnerským zařízením a čeká na odpověď.</span><span class="sxs-lookup"><span data-stu-id="a397a-122">If found, the peer sends a PNRP Request message to the peer and waits for a response.</span></span> <span data-ttu-id="a397a-123">Pokud není nalezen záznam pro PNRP ID, partnerský uzel odešle zprávu požadavku protokolu PNRP na partnera, který odpovídá položce, která má ID PNRP, který nejlépe odpovídá cílové ID PNRP.</span><span class="sxs-lookup"><span data-stu-id="a397a-123">If an entry for the PNRP ID is not found, the peer sends a PNRP Request message to the peer that corresponds to the entry that has a PNRP ID that most closely matches the target PNRP ID.</span></span> <span data-ttu-id="a397a-124">Uzel, který obdrží zprávu požadavku PNRP prozkoumá svoji vlastní mezipaměti a provede následující akce:</span><span class="sxs-lookup"><span data-stu-id="a397a-124">The node that receives the PNRP Request message examines its own cache and does the following:</span></span>  
  
-   <span data-ttu-id="a397a-125">Pokud je nalezeno PNRP ID, požadovaný koncový bod partnera odpovědi přímo na vyžádání partnera.</span><span class="sxs-lookup"><span data-stu-id="a397a-125">If the PNRP ID is found, the requested endpoint peer replies directly to the requesting peer.</span></span>  
  
-   <span data-ttu-id="a397a-126">Pokud nebylo nalezeno PNRP ID a ID PNRP v mezipaměti je blíž ke cílové PNRP ID, požadované sdílené odešle odpověď na žádost o partnera obsahující IPv6 adresu partnerského uzlu, který představuje položku s ID PNRP, která lépe odpovídá cílovému ID PNRP.</span><span class="sxs-lookup"><span data-stu-id="a397a-126">If the PNRP ID is not found and a PNRP ID in the cache is closer to the target PNRP ID, the requested peer sends a response to the requesting peer containing the IPv6 address of the peer that represents the entry with a PNRP ID that more closely matches the target PNRP ID.</span></span> <span data-ttu-id="a397a-127">Pomocí IP adresy v odpovědi, odešle žádost o uzlu další zprávu požadavku protokolu PNRP na adresu IPv6 a odpověď nebo zkontrolovat uloženou v mezipaměti.</span><span class="sxs-lookup"><span data-stu-id="a397a-127">Using the IP address in the response, the requesting node sends another PNRP Request message to the IPv6 address to respond or examine its cache.</span></span>  
  
-   <span data-ttu-id="a397a-128">Pokud nebylo nalezeno PNRP ID a neexistuje žádné ID PNRP v mezipaměti, který je blíž k cíli PNRP ID, požadované sdílené odešle žádost o peer odpověď, která upozorňuje na tento stav.</span><span class="sxs-lookup"><span data-stu-id="a397a-128">If the PNRP ID is not found and there is no PNRP ID in its cache that is closer to the target PNRP ID, the requested peer sends the requesting peer a response that indicates this condition.</span></span> <span data-ttu-id="a397a-129">Žádost o peer potom Vybere nejbližší ID PNRP.</span><span class="sxs-lookup"><span data-stu-id="a397a-129">The requesting peer then chooses the next-closest PNRP ID.</span></span>  
  
<span data-ttu-id="a397a-130">Žádost o peer tento proces pokračuje s každou následnou iterací, nakonec vyhledání uzel, který zaregistrované ID protokolu PNRP.</span><span class="sxs-lookup"><span data-stu-id="a397a-130">The requesting peer continues this process with successive iterations, eventually locating the node that registered the PNRP ID.</span></span>  
  
 <span data-ttu-id="a397a-131">V rámci <xref:System.Net.PeerToPeer> obor názvů, existuje vztah n: n mezi <xref:System.Net.PeerToPeer.PeerName> záznamy, které obsahují koncové body a cloudy PNRP nebo OK, ve kterých komunikovat.</span><span class="sxs-lookup"><span data-stu-id="a397a-131">Within the <xref:System.Net.PeerToPeer> namespace, there is a many-to-many relationship between the <xref:System.Net.PeerToPeer.PeerName> records that contain endpoints and PNRP clouds or meshes in which they communicate.</span></span> <span data-ttu-id="a397a-132">Pokud existují duplicitní nebo zastaralý položky nebo více uzlů se stejným názvem sdílené, PNRP uzly můžete získat pomocí aktuální informace <xref:System.Net.PeerToPeer.PeerNameResolver> třídy.</span><span class="sxs-lookup"><span data-stu-id="a397a-132">When there are duplicate or stale entries, or multiple nodes with the same peer name, PNRP nodes can obtain current information using the <xref:System.Net.PeerToPeer.PeerNameResolver> class.</span></span> <span data-ttu-id="a397a-133"><xref:System.Net.PeerToPeer.PeerNameResolver> Metody používají název jednoho partnerského zařízení ke zjednodušení perspektivu pro záznamy názvového jedné sdílené peer m a témuž jeden na mnoho cloudů.</span><span class="sxs-lookup"><span data-stu-id="a397a-133">The <xref:System.Net.PeerToPeer.PeerNameResolver> methods use a single peer name to simplify the perspective to one peer-to-many peer name records and the same one peer to many clouds.</span></span> <span data-ttu-id="a397a-134">Toto je podobný dotaz provádí spojení relační tabulky.</span><span class="sxs-lookup"><span data-stu-id="a397a-134">This is similar to a query performed using a relational-table join.</span></span> <span data-ttu-id="a397a-135">Po úspěšném dokončení vrátí objekt překladače <xref:System.Net.PeerToPeer.PeerNameRecordCollection> pro název zadaného partnera.</span><span class="sxs-lookup"><span data-stu-id="a397a-135">Upon successful completion, the Resolver object returns a <xref:System.Net.PeerToPeer.PeerNameRecordCollection> for the specified peer name.</span></span>  <span data-ttu-id="a397a-136">Název partnerského zařízení by tomu bylo ve všech záznamech název partnera v kolekci, například seřazené podle cloudu.</span><span class="sxs-lookup"><span data-stu-id="a397a-136">For example, a peer name would occur in all the peer name records in the collection, ordered by cloud.</span></span> <span data-ttu-id="a397a-137">Toto jsou instance název partnerského zařízení, jehož podpůrné data mohou být vyžádány aplikací založené na protokolu PNRP.</span><span class="sxs-lookup"><span data-stu-id="a397a-137">These are the instances of the peer name whose supporting data may be requested by a PNRP-based application.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="a397a-138">Viz také:</span><span class="sxs-lookup"><span data-stu-id="a397a-138">See also</span></span>  
- <xref:System.Net.PeerToPeer>
