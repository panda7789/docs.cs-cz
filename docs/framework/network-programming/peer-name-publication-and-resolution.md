---
title: Publikování a řešení názvů partnerských uzlů
ms.date: 03/30/2017
ms.assetid: f0370e08-9fa6-4ee5-ab78-9a58a20a7da2
ms.openlocfilehash: 4a0787972a61f5700d1e8728be96db8ef9ee749e
ms.sourcegitcommit: 7588136e355e10cbc2582f389c90c127363c02a5
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 03/15/2020
ms.locfileid: "64623204"
---
# <a name="peer-name-publication-and-resolution"></a><span data-ttu-id="f0a32-102">Publikování a řešení názvů partnerských uzlů</span><span class="sxs-lookup"><span data-stu-id="f0a32-102">Peer Name Publication and Resolution</span></span>

## <a name="publishing-a-peer-name"></a><span data-ttu-id="f0a32-103">Publikování názvu partnera</span><span class="sxs-lookup"><span data-stu-id="f0a32-103">Publishing a peer name</span></span>  

 <span data-ttu-id="f0a32-104">Chcete-li publikovat nové ID PNRP, partner provede následující:</span><span class="sxs-lookup"><span data-stu-id="f0a32-104">To publish a new PNRP ID, a peer performs the following:</span></span>  
  
- <span data-ttu-id="f0a32-105">Odešle zprávy publikace PNRP svým sousedům mezipaměti (protějškům, kteří zaregistrovali ID PNRP v nejnižší úrovni mezipaměti) do osiva jejich mezipamětí.</span><span class="sxs-lookup"><span data-stu-id="f0a32-105">Sends PNRP publication messages to its cache neighbors (the peers that have registered PNRP IDs in the lowest level of the cache) to seed their caches.</span></span>  
  
- <span data-ttu-id="f0a32-106">Vybere náhodné uzly v cloudu, které nejsou jeho sousedy a odešle jim PNRP požadavky na překlad názvů pro své vlastní ID P2P.</span><span class="sxs-lookup"><span data-stu-id="f0a32-106">Chooses random nodes in the cloud that are not its neighbors and sends them PNRP name resolution requests for its own P2P ID.</span></span> <span data-ttu-id="f0a32-107">Výsledný proces určení koncového bodu zasílá mezipaměti náhodných uzlů v cloudu s ID PNRP publikujícího partnera.</span><span class="sxs-lookup"><span data-stu-id="f0a32-107">The resulting endpoint determination process seeds the caches of random nodes in the cloud with the PNRP ID of the publishing peer.</span></span>  
  
<span data-ttu-id="f0a32-108">Uzly PNRP verze 2 nepublikují ID PNRP, pokud řeší pouze jiná ID P2P.</span><span class="sxs-lookup"><span data-stu-id="f0a32-108">PNRP version 2 nodes do not publish PNRP IDs if they are only resolving other P2P IDs.</span></span> <span data-ttu-id="f0a32-109">Hodnota registru HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\Windows NT\CurrentVersion\PeerNet\PNRP\IPV6-Global\SearchOnly=1 (typ REG_DWORD) určuje, že partneři používají pnrp pouze pro překlad názvů, nikdy pro publikování názvů.</span><span class="sxs-lookup"><span data-stu-id="f0a32-109">The HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\Windows NT\CurrentVersion\PeerNet\PNRP\IPV6-Global\SearchOnly=1 registry value (REG_DWORD type) specifies that peers only use PNRP for name resolution, never for name publication.</span></span> <span data-ttu-id="f0a32-110">Tuto hodnotu registru lze také nakonfigurovat prostřednictvím zásad skupiny.</span><span class="sxs-lookup"><span data-stu-id="f0a32-110">This registry value can also be configured through Group Policy.</span></span>  
  
## <a name="resolving-a-peer-name"></a><span data-ttu-id="f0a32-111">Řešení názvu partnera</span><span class="sxs-lookup"><span data-stu-id="f0a32-111">Resolving a peer name</span></span>

 <span data-ttu-id="f0a32-112">Vyhledání dalších partnerů v síti nebo cloudu PNRP je proces složený ze dvou fází:</span><span class="sxs-lookup"><span data-stu-id="f0a32-112">Locating other peers in a PNRP network or cloud is a process comprised of two phases:</span></span>  
  
1. <span data-ttu-id="f0a32-113">Stanovení koncového bodu</span><span class="sxs-lookup"><span data-stu-id="f0a32-113">Endpoint Determination</span></span>  
  
2. <span data-ttu-id="f0a32-114">ID PNRP rozlišení</span><span class="sxs-lookup"><span data-stu-id="f0a32-114">PNRP ID Resolution</span></span>  
  
 <span data-ttu-id="f0a32-115">Ve fázi určení koncového bodu druhá strana, která se pokouší vyřešit ID PNRP služby v jiném počítači, určuje adresu IPv6 tohoto vzdáleného partnera.</span><span class="sxs-lookup"><span data-stu-id="f0a32-115">In the endpoint determination phase, a peer that is attempting to resolve the PNRP ID of a service on another computer determines the IPv6 address of that remote peer.</span></span>  <span data-ttu-id="f0a32-116">Vzdálený partner je ten, který publikoval nebo je přidružen k ID PNRP počítače nebo služby.</span><span class="sxs-lookup"><span data-stu-id="f0a32-116">The remote peer is the one that published, or is associated with, the PNRP ID of the computer or service.</span></span>  
  
 <span data-ttu-id="f0a32-117">Po potvrzení, že vzdálený koncový bod byl zaregistrován do cloudu PNRP, žádající partner ve fázi rozlišení PNRP ID odešle požadavek na tento koncový bod partnera pro ID PNRP požadované služby.</span><span class="sxs-lookup"><span data-stu-id="f0a32-117">After confirming that the remote endpoint has been registered into the PNRP cloud, the requesting peer in the PNRP ID resolution phase sends a request to that peer endpoint for the PNRP ID of the desired service.</span></span> <span data-ttu-id="f0a32-118">Koncový bod odešle odpověď potvrzující ID PNRP služby, komentář a až 4 kilobajty další informace, které může žádající partner použít pro budoucí komunikaci.</span><span class="sxs-lookup"><span data-stu-id="f0a32-118">The endpoint sends a reply confirming the PNRP ID of the service, a comment, and up to 4 kilobytes of additional information that the requesting peer can use for future communication.</span></span> <span data-ttu-id="f0a32-119">Pokud je například požadovaným koncovým bodem herní server, mohou další data záznamu jmen partnera obsahovat informace o hře, úrovni hry a aktuálním počtu hráčů.</span><span class="sxs-lookup"><span data-stu-id="f0a32-119">For example, if the desired endpoint is a gaming server, the additional peer name record data can contain information about the game, the level of play, and the current number of players.</span></span>  
  
 <span data-ttu-id="f0a32-120">Ve fázi stanovení koncového bodu Používá PNRP iterativní proces pro vyhledání uzlu, který publikoval ID PNRP, ve kterém uzel provádějící rozlišení je zodpovědný za kontaktování uzlů, které jsou postupně blíže k cílovéi ID PNRP.</span><span class="sxs-lookup"><span data-stu-id="f0a32-120">In the endpoint determination phase, PNRP uses an iterative process for locating the node that published the PNRP ID, in which the node performing the resolution is responsible for contacting nodes that are successively closer to the target PNRP ID.</span></span>  
  
 <span data-ttu-id="f0a32-121">Chcete-li provést překlad názvů v PNRP, partner zkontroluje položky ve své vlastní mezipaměti pro položku, která odpovídá cílovému ID PNRP.</span><span class="sxs-lookup"><span data-stu-id="f0a32-121">To perform name resolution in PNRP, the peer examines the entries in its own cache for an entry that matches the target PNRP ID.</span></span> <span data-ttu-id="f0a32-122">Pokud je nalezen, peer odešle zprávu žádosti PNRP peer a čeká na odpověď.</span><span class="sxs-lookup"><span data-stu-id="f0a32-122">If found, the peer sends a PNRP Request message to the peer and waits for a response.</span></span> <span data-ttu-id="f0a32-123">Pokud není nalezena položka pro ID PNRP, druhá strana odešle zprávu požadavku PNRP druhé straně, která odpovídá položce, která má ID PNRP, které nejvíce odpovídá cílovému ID PNRP.</span><span class="sxs-lookup"><span data-stu-id="f0a32-123">If an entry for the PNRP ID is not found, the peer sends a PNRP Request message to the peer that corresponds to the entry that has a PNRP ID that most closely matches the target PNRP ID.</span></span> <span data-ttu-id="f0a32-124">Uzel, který obdrží zprávu požadavku PNRP, zkontroluje vlastní mezipaměť a provádí následující akce:</span><span class="sxs-lookup"><span data-stu-id="f0a32-124">The node that receives the PNRP Request message examines its own cache and does the following:</span></span>  
  
- <span data-ttu-id="f0a32-125">Pokud je nalezeno ID PNRP, požadovaný koncový bod peer odpovědi přímo na žádající peer.</span><span class="sxs-lookup"><span data-stu-id="f0a32-125">If the PNRP ID is found, the requested endpoint peer replies directly to the requesting peer.</span></span>  
  
- <span data-ttu-id="f0a32-126">Pokud ID PNRP není nalezen a ID PNRP v mezipaměti je blíže k cílové ID PNRP, požadovaný partner odešle odpověď na žádající partner obsahující adresu IPv6 partnera, který představuje položku s ID PNRP, který více odpovídá cílové ID PNRP.</span><span class="sxs-lookup"><span data-stu-id="f0a32-126">If the PNRP ID is not found and a PNRP ID in the cache is closer to the target PNRP ID, the requested peer sends a response to the requesting peer containing the IPv6 address of the peer that represents the entry with a PNRP ID that more closely matches the target PNRP ID.</span></span> <span data-ttu-id="f0a32-127">Pomocí adresy IP v odpovědi odešle žádající uzel na adresu IPv6 další zprávu požadavku PNRP, aby odpověděl nebo prozkoumal její mezipaměť.</span><span class="sxs-lookup"><span data-stu-id="f0a32-127">Using the IP address in the response, the requesting node sends another PNRP Request message to the IPv6 address to respond or examine its cache.</span></span>  
  
- <span data-ttu-id="f0a32-128">Pokud ID PNRP není nalezen a není žádné PNRP ID v mezipaměti, která je blíže k cílové ID PNRP, požadovaný partner odešle žádající peer odpověď, která označuje tuto podmínku.</span><span class="sxs-lookup"><span data-stu-id="f0a32-128">If the PNRP ID is not found and there is no PNRP ID in its cache that is closer to the target PNRP ID, the requested peer sends the requesting peer a response that indicates this condition.</span></span> <span data-ttu-id="f0a32-129">Žádající partner pak zvolí nejbližší ID PNRP.</span><span class="sxs-lookup"><span data-stu-id="f0a32-129">The requesting peer then chooses the next-closest PNRP ID.</span></span>  
  
<span data-ttu-id="f0a32-130">Žádající partner pokračuje v tomto procesu s po sobě jdoucími iterací, případně lokalizovat uzel, který zaregistroval ID PNRP.</span><span class="sxs-lookup"><span data-stu-id="f0a32-130">The requesting peer continues this process with successive iterations, eventually locating the node that registered the PNRP ID.</span></span>  
  
 <span data-ttu-id="f0a32-131">V <xref:System.Net.PeerToPeer> rámci oboru názvů existuje vztah N:N <xref:System.Net.PeerToPeer.PeerName> mezi záznamy, které obsahují koncové body a cloudy PNRP nebo sítě, ve kterých komunikují.</span><span class="sxs-lookup"><span data-stu-id="f0a32-131">Within the <xref:System.Net.PeerToPeer> namespace, there is a many-to-many relationship between the <xref:System.Net.PeerToPeer.PeerName> records that contain endpoints and PNRP clouds or meshes in which they communicate.</span></span> <span data-ttu-id="f0a32-132">Pokud existují duplicitní nebo zastaralé položky nebo více uzlů se stejným názvem partnera, mohou <xref:System.Net.PeerToPeer.PeerNameResolver> uzly PNRP získat aktuální informace pomocí třídy.</span><span class="sxs-lookup"><span data-stu-id="f0a32-132">When there are duplicate or stale entries, or multiple nodes with the same peer name, PNRP nodes can obtain current information using the <xref:System.Net.PeerToPeer.PeerNameResolver> class.</span></span> <span data-ttu-id="f0a32-133">Metody <xref:System.Net.PeerToPeer.PeerNameResolver> používají jeden název partnera pro zjednodušení perspektivy na jeden peer-to-many peer name records a stejný jeden peer to many cloud.</span><span class="sxs-lookup"><span data-stu-id="f0a32-133">The <xref:System.Net.PeerToPeer.PeerNameResolver> methods use a single peer name to simplify the perspective to one peer-to-many peer name records and the same one peer to many clouds.</span></span> <span data-ttu-id="f0a32-134">To je podobné dotazu prováděnému pomocí spojení relační tabulky.</span><span class="sxs-lookup"><span data-stu-id="f0a32-134">This is similar to a query performed using a relational-table join.</span></span> <span data-ttu-id="f0a32-135">Po úspěšném dokončení resolver <xref:System.Net.PeerToPeer.PeerNameRecordCollection> objekt vrátí pro zadaný název partnera.</span><span class="sxs-lookup"><span data-stu-id="f0a32-135">Upon successful completion, the Resolver object returns a <xref:System.Net.PeerToPeer.PeerNameRecordCollection> for the specified peer name.</span></span>  <span data-ttu-id="f0a32-136">Například název partnera by dojít ve všech záznamů názvu partnera v kolekci, seřazené podle cloudu.</span><span class="sxs-lookup"><span data-stu-id="f0a32-136">For example, a peer name would occur in all the peer name records in the collection, ordered by cloud.</span></span> <span data-ttu-id="f0a32-137">Jedná se o instance názvu partnera, jehož podpůrná data mohou být požadována aplikací založenou na PNRP.</span><span class="sxs-lookup"><span data-stu-id="f0a32-137">These are the instances of the peer name whose supporting data may be requested by a PNRP-based application.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="f0a32-138">Viz také</span><span class="sxs-lookup"><span data-stu-id="f0a32-138">See also</span></span>

- <xref:System.Net.PeerToPeer>
