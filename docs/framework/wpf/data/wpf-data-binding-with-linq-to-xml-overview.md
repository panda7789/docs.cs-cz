---
title: Datová vazba WPF s LINQ to XML
ms.date: 10/22/2019
ms.topic: conceptual
ms.openlocfilehash: c423ad9c8069b78b2e69a88d25d8e12bd3a3a1b7
ms.sourcegitcommit: 82f94a44ad5c64a399df2a03fa842db308185a76
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 10/25/2019
ms.locfileid: "72920704"
---
# <a name="overview-of-wpf-data-binding-with-linq-to-xml"></a><span data-ttu-id="ccc30-102">Přehled datové vazby WPF pomocí LINQ to XML</span><span class="sxs-lookup"><span data-stu-id="ccc30-102">Overview of WPF data binding with LINQ to XML</span></span>

<span data-ttu-id="ccc30-103">V tomto článku se seznámíte s funkcemi dynamické vazby dat v oboru názvů <xref:System.Xml.Linq>.</span><span class="sxs-lookup"><span data-stu-id="ccc30-103">This article introduces the dynamic data binding features in the <xref:System.Xml.Linq> namespace.</span></span> <span data-ttu-id="ccc30-104">Tyto funkce lze použít jako zdroj dat pro prvky uživatelského rozhraní (UI) v aplikacích Windows Presentation Foundation (WPF).</span><span class="sxs-lookup"><span data-stu-id="ccc30-104">These features can be used as a data source for user interface (UI) elements in Windows Presentation Foundation (WPF) apps.</span></span> <span data-ttu-id="ccc30-105">Tento scénář spoléhá na speciální *dynamické vlastnosti* <xref:System.Xml.Linq.XAttribute?displayProperty=fullName> a <xref:System.Xml.Linq.XElement?displayProperty=fullName>.</span><span class="sxs-lookup"><span data-stu-id="ccc30-105">This scenario relies upon special *dynamic properties* of <xref:System.Xml.Linq.XAttribute?displayProperty=fullName> and <xref:System.Xml.Linq.XElement?displayProperty=fullName>.</span></span>

## <a name="xaml-and-linq-to-xml"></a><span data-ttu-id="ccc30-106">XAML a LINQ to XML</span><span class="sxs-lookup"><span data-stu-id="ccc30-106">XAML and LINQ to XML</span></span>

<span data-ttu-id="ccc30-107">Jazyk Extensible Application Markup Language (XAML) (XAML) je dialekt XML vytvořený Microsoftem za účelem podpory technologií .NET.</span><span class="sxs-lookup"><span data-stu-id="ccc30-107">The Extensible Application Markup Language (XAML) is an XML dialect created by Microsoft to support .NET technologies.</span></span> <span data-ttu-id="ccc30-108">Používá se v WPF k vyjádření prvků uživatelského rozhraní a souvisejících funkcí, jako jsou události a datové vazby.</span><span class="sxs-lookup"><span data-stu-id="ccc30-108">It is used in WPF to represent user interface elements and related features, such as events and data binding.</span></span> <span data-ttu-id="ccc30-109">V programovací model Windows Workflow Foundation se XAML používá pro reprezentaci struktury programu, například řízení programu (*pracovní postupy*).</span><span class="sxs-lookup"><span data-stu-id="ccc30-109">In Windows Workflow Foundation, XAML is used to represent program structure, such as program control (*workflows*).</span></span> <span data-ttu-id="ccc30-110">XAML umožňuje, aby byly deklarativní aspekty technologie odděleny od souvisejícího procedurálního kódu, který definuje více individuální chování programu.</span><span class="sxs-lookup"><span data-stu-id="ccc30-110">XAML enables the declarative aspects of a technology to be separated from the related procedural code that defines the more individualized behavior of a program.</span></span>

<span data-ttu-id="ccc30-111">Existují dva široké způsoby, kterými může XAML a LINQ to XML interagovat:</span><span class="sxs-lookup"><span data-stu-id="ccc30-111">There are two broad ways that XAML and LINQ to XML can interact:</span></span>

- <span data-ttu-id="ccc30-112">Vzhledem k tomu, že soubory XAML jsou ve správném formátu XML, mohou být dotazovány a manipulovány prostřednictvím technologií XML, jako je LINQ to XML.</span><span class="sxs-lookup"><span data-stu-id="ccc30-112">Because XAML files are well-formed XML, they can be queried and manipulated through XML technologies such as LINQ to XML.</span></span>

- <span data-ttu-id="ccc30-113">Vzhledem k tomu, že LINQ to XML dotazy reprezentují zdroj dat, lze tyto dotazy použít jako zdroj dat pro datovou vazbu pro prvky uživatelského rozhraní WPF.</span><span class="sxs-lookup"><span data-stu-id="ccc30-113">Because LINQ to XML queries represent a source of data, these queries can be used as a data source for data binding for WPF UI elements.</span></span>

<span data-ttu-id="ccc30-114">Tato dokumentace popisuje druhý scénář.</span><span class="sxs-lookup"><span data-stu-id="ccc30-114">This documentation describes the second scenario.</span></span>

## <a name="data-binding-in-the-windows-presentation-foundation"></a><span data-ttu-id="ccc30-115">Datová vazba v Windows Presentation Foundation</span><span class="sxs-lookup"><span data-stu-id="ccc30-115">Data binding in the Windows Presentation Foundation</span></span>

<span data-ttu-id="ccc30-116">Datová vazba WPF umožňuje prvku uživatelského rozhraní přidružit jednu z jejích vlastností ke zdroji dat.</span><span class="sxs-lookup"><span data-stu-id="ccc30-116">WPF data binding enables a UI element to associate one of its properties with a data source.</span></span> <span data-ttu-id="ccc30-117">Jednoduchým příkladem je <xref:System.Windows.Controls.Label>, jehož text prezentuje hodnotu veřejné vlastnosti v uživatelsky definovaném objektu.</span><span class="sxs-lookup"><span data-stu-id="ccc30-117">A simple example of this is a <xref:System.Windows.Controls.Label> whose text presents the value of a public property in a user-defined object.</span></span> <span data-ttu-id="ccc30-118">Datová vazba WPF spoléhá na následující komponenty:</span><span class="sxs-lookup"><span data-stu-id="ccc30-118">WPF data binding relies on the following components:</span></span>

|<span data-ttu-id="ccc30-119">Součást</span><span class="sxs-lookup"><span data-stu-id="ccc30-119">Component</span></span>|<span data-ttu-id="ccc30-120">Popis</span><span class="sxs-lookup"><span data-stu-id="ccc30-120">Description</span></span>|
|---------------|-----------------|
|<span data-ttu-id="ccc30-121">Cíl vazby</span><span class="sxs-lookup"><span data-stu-id="ccc30-121">Binding target</span></span>|<span data-ttu-id="ccc30-122">Prvek uživatelského rozhraní, který má být přidružen ke zdroji dat.</span><span class="sxs-lookup"><span data-stu-id="ccc30-122">The UI element to be associated with the data source.</span></span> <span data-ttu-id="ccc30-123">Vizuální prvky v subsystému WPF jsou odvozeny z třídy <xref:System.Windows.UIElement>.</span><span class="sxs-lookup"><span data-stu-id="ccc30-123">Visual elements in WPF are derived from the <xref:System.Windows.UIElement> class.</span></span>|
|<span data-ttu-id="ccc30-124">Cílová vlastnost</span><span class="sxs-lookup"><span data-stu-id="ccc30-124">Target property</span></span>|<span data-ttu-id="ccc30-125">*Vlastnost závislosti* cíle vazby, která odráží hodnotu zdroje vazby dat.</span><span class="sxs-lookup"><span data-stu-id="ccc30-125">The *dependency property* of the binding target that reflects the value of the data-binding source.</span></span> <span data-ttu-id="ccc30-126">Vlastnosti závislosti jsou přímo podporovány třídou <xref:System.Windows.DependencyObject>, která <xref:System.Windows.UIElement> je odvozena z.</span><span class="sxs-lookup"><span data-stu-id="ccc30-126">Dependency properties are directly supported by the <xref:System.Windows.DependencyObject> class, which <xref:System.Windows.UIElement> derives from.</span></span>|
|<span data-ttu-id="ccc30-127">Zdroj vazby</span><span class="sxs-lookup"><span data-stu-id="ccc30-127">Binding source</span></span>|<span data-ttu-id="ccc30-128">Zdrojový objekt pro jednu nebo více hodnot, které jsou zadány do prvku uživatelského rozhraní pro prezentaci.</span><span class="sxs-lookup"><span data-stu-id="ccc30-128">The source object for one or more values that are supplied to the UI element for presentation.</span></span> <span data-ttu-id="ccc30-129">WPF automaticky podporuje následující typy jako vazby zdrojů: objekty CLR, ADO.NET datové objekty, data XML (z XPath nebo LINQ to XML dotazů) nebo jiný <xref:System.Windows.DependencyObject>.</span><span class="sxs-lookup"><span data-stu-id="ccc30-129">WPF automatically supports the following types as binding sources: CLR objects, ADO.NET data objects, XML data (from XPath or LINQ to XML queries), or another <xref:System.Windows.DependencyObject>.</span></span>|
|<span data-ttu-id="ccc30-130">Zdrojová cesta</span><span class="sxs-lookup"><span data-stu-id="ccc30-130">Source path</span></span>|<span data-ttu-id="ccc30-131">Vlastnost zdroje vazby, která se překládá na hodnotu nebo sadu hodnot, které mají být vázány.</span><span class="sxs-lookup"><span data-stu-id="ccc30-131">The property of the binding source that resolves to the value or set of values that is to be bound.</span></span>|

<span data-ttu-id="ccc30-132">Vlastnost závislosti je koncept specifický pro WPF, který představuje dynamicky vypočítanou vlastnost prvku uživatelského rozhraní.</span><span class="sxs-lookup"><span data-stu-id="ccc30-132">A dependency property is a concept specific to WPF that represent a dynamically computed property of a UI element.</span></span> <span data-ttu-id="ccc30-133">Například vlastnosti závislosti mají často výchozí hodnoty nebo hodnoty, které jsou poskytovány nadřazeným prvkem.</span><span class="sxs-lookup"><span data-stu-id="ccc30-133">For example, dependency properties often have default values or values that are provided by a parent element.</span></span> <span data-ttu-id="ccc30-134">Tyto speciální vlastnosti jsou zajištěny instancemi třídy <xref:System.Windows.DependencyProperty> (a nikoli polí jako se standardními vlastnostmi).</span><span class="sxs-lookup"><span data-stu-id="ccc30-134">These special properties are backed by instances of the <xref:System.Windows.DependencyProperty> class (and not fields as with standard properties).</span></span> <span data-ttu-id="ccc30-135">Další informace najdete v tématu [Přehled vlastností závislosti](/dotnet/framework/wpf/advanced/dependency-properties-overview).</span><span class="sxs-lookup"><span data-stu-id="ccc30-135">For more information, see [Dependency Properties Overview](/dotnet/framework/wpf/advanced/dependency-properties-overview).</span></span>

### <a name="dynamic-data-binding-in-wpf"></a><span data-ttu-id="ccc30-136">Dynamická datová vazba v subsystému WPF</span><span class="sxs-lookup"><span data-stu-id="ccc30-136">Dynamic data binding in WPF</span></span>

<span data-ttu-id="ccc30-137">Ve výchozím nastavení se datové vazby projeví pouze v případě, že je inicializován cílový prvek uživatelského rozhraní.</span><span class="sxs-lookup"><span data-stu-id="ccc30-137">By default, data binding occurs only when the target UI element is initialized.</span></span> <span data-ttu-id="ccc30-138">Tato metoda se nazývá *jednorázová* vazba.</span><span class="sxs-lookup"><span data-stu-id="ccc30-138">This is called *one-time* binding.</span></span> <span data-ttu-id="ccc30-139">Pro většinu účelů to není dostačující. řešení vázání dat obvykle vyžaduje, aby se změny dynamicky rozšířily v době běhu pomocí jednoho z následujících postupů:</span><span class="sxs-lookup"><span data-stu-id="ccc30-139">For most purposes, this is insufficient; typically, a data-binding solution requires that the changes be dynamically propagated at run time using one of the following:</span></span>

- <span data-ttu-id="ccc30-140">*Jednosměrná* vazba způsobí, že se změny na jedné straně šíří automaticky.</span><span class="sxs-lookup"><span data-stu-id="ccc30-140">*One-way* binding causes the changes to one side to be propagated automatically.</span></span> <span data-ttu-id="ccc30-141">Nejčastěji se změny zdroje projeví v cíli, ale v některých případech může být tato změna užitečná.</span><span class="sxs-lookup"><span data-stu-id="ccc30-141">Most commonly, changes to the source are reflected in the target, but the reverse can sometimes be useful.</span></span>

- <span data-ttu-id="ccc30-142">V *obousměrné* vazbě se změny zdroje automaticky rozšíří do cíle a změny cíle se automaticky rozšíří do zdroje.</span><span class="sxs-lookup"><span data-stu-id="ccc30-142">In *two-way* binding, changes to the source are automatically propagated to the target, and changes to the target are automatically propagated to the source.</span></span>

<span data-ttu-id="ccc30-143">Aby mohlo dojít k jednosměrné nebo obousměrné vazbě, musí zdroj implementovat mechanismus pro oznamování změn, například implementací rozhraní <xref:System.ComponentModel.INotifyPropertyChanged> nebo pomocí vzoru *PropertyNameChanged* pro každou podporovanou vlastnost.</span><span class="sxs-lookup"><span data-stu-id="ccc30-143">For one-way or two-way binding to occur, the source must implement a change notification mechanism, for example by implementing the <xref:System.ComponentModel.INotifyPropertyChanged> interface or by using a *PropertyNameChanged* pattern for each property supported.</span></span>

<span data-ttu-id="ccc30-144">Další informace o datové vazbě v subsystému WPF naleznete v tématu [datová vazba (WPF)](/dotnet/framework/wpf/data/data-binding-wpf).</span><span class="sxs-lookup"><span data-stu-id="ccc30-144">For more information about data binding in WPF, see [Data Binding (WPF)](/dotnet/framework/wpf/data/data-binding-wpf).</span></span>

## <a name="dynamic-properties-in-linq-to-xml-classes"></a><span data-ttu-id="ccc30-145">Dynamické vlastnosti v třídách LINQ to XML</span><span class="sxs-lookup"><span data-stu-id="ccc30-145">Dynamic properties in LINQ to XML classes</span></span>

<span data-ttu-id="ccc30-146">Většina tříd LINQ to XML nesplňuje správné dynamické zdroje dat WPF.</span><span class="sxs-lookup"><span data-stu-id="ccc30-146">Most LINQ to XML classes do not qualify as proper WPF dynamic data sources.</span></span> <span data-ttu-id="ccc30-147">Některé z nejužitečnějších informací jsou k dispozici pouze prostřednictvím metod, nikoli vlastností a vlastnosti v těchto třídách neimplementují upozornění na změny.</span><span class="sxs-lookup"><span data-stu-id="ccc30-147">Some of the most useful information is available only through methods, not properties, and properties in these classes do not implement change notifications.</span></span> <span data-ttu-id="ccc30-148">Aby bylo možné podporovat datovou vazbu WPF, LINQ to XML zpřístupňuje sadu *dynamických vlastností*.</span><span class="sxs-lookup"><span data-stu-id="ccc30-148">To support WPF data binding, LINQ to XML exposes a set of *dynamic properties*.</span></span>

<span data-ttu-id="ccc30-149">Tyto dynamické vlastnosti jsou speciální vlastnosti za běhu, které duplikují funkce existujících metod a vlastností v třídách <xref:System.Xml.Linq.XAttribute> a <xref:System.Xml.Linq.XElement>.</span><span class="sxs-lookup"><span data-stu-id="ccc30-149">These dynamic properties are special run-time properties that duplicate the functionality of existing methods and properties in the <xref:System.Xml.Linq.XAttribute> and <xref:System.Xml.Linq.XElement> classes.</span></span> <span data-ttu-id="ccc30-150">Byly přidány do těchto tříd pouze v případě, že jim umožní působit jako dynamické zdroje dat pro WPF.</span><span class="sxs-lookup"><span data-stu-id="ccc30-150">They were added to these classes solely to enable them to act as dynamic data sources for WPF.</span></span> <span data-ttu-id="ccc30-151">Aby bylo možné splnit tuto potřebu, všechny tyto dynamické vlastnosti implementují oznámení o změnách.</span><span class="sxs-lookup"><span data-stu-id="ccc30-151">To meet this need, all these dynamic properties implement change notifications.</span></span> <span data-ttu-id="ccc30-152">Podrobný odkaz na tyto dynamické vlastnosti je k dispozici v další části [LINQ to XML dynamické vlastnosti](linq-to-xml-dynamic-properties.md).</span><span class="sxs-lookup"><span data-stu-id="ccc30-152">A detailed reference for these dynamic properties is provided in the next section, [LINQ to XML Dynamic Properties](linq-to-xml-dynamic-properties.md).</span></span>

> [!NOTE]
> <span data-ttu-id="ccc30-153">Mnohé ze standardních veřejných vlastností, které se nacházejí v různých třídách v oboru názvů <xref:System.Xml.Linq>, lze použít pro jednorázovou datovou vazbu.</span><span class="sxs-lookup"><span data-stu-id="ccc30-153">Many of the standard public properties, found in the various classes in the <xref:System.Xml.Linq> namespace, can be used for one-time data binding.</span></span> <span data-ttu-id="ccc30-154">Mějte ale na paměti, že ani zdroj ani cíl se v rámci tohoto schématu dynamicky neaktualizuje.</span><span class="sxs-lookup"><span data-stu-id="ccc30-154">However, remember that neither the source nor the target will be dynamically updated under this scheme.</span></span>

### <a name="access-dynamic-properties"></a><span data-ttu-id="ccc30-155">Přístup k dynamickým vlastnostem</span><span class="sxs-lookup"><span data-stu-id="ccc30-155">Access dynamic properties</span></span>

<span data-ttu-id="ccc30-156">Dynamické vlastnosti v třídách <xref:System.Xml.Linq.XAttribute> a <xref:System.Xml.Linq.XElement> nemůžou být dostupné jako standardní vlastnosti.</span><span class="sxs-lookup"><span data-stu-id="ccc30-156">The dynamic properties in the <xref:System.Xml.Linq.XAttribute> and <xref:System.Xml.Linq.XElement> classes cannot be accessed like standard properties.</span></span> <span data-ttu-id="ccc30-157">Například v jazycích odpovídajících modulu CLR C#, jako například, nemohou být:</span><span class="sxs-lookup"><span data-stu-id="ccc30-157">For example, in CLR-compliant languages such as C#, they cannot be:</span></span>

- <span data-ttu-id="ccc30-158">Přistupujte přímo v době kompilace.</span><span class="sxs-lookup"><span data-stu-id="ccc30-158">Accessed directly at compile time.</span></span> <span data-ttu-id="ccc30-159">Dynamické vlastnosti jsou pro kompilátor a Visual Studio IntelliSense neviditelné.</span><span class="sxs-lookup"><span data-stu-id="ccc30-159">Dynamic properties are invisible to the compiler and to Visual Studio IntelliSense.</span></span>

- <span data-ttu-id="ccc30-160">Zjištěné nebo dostupné v době běhu pomocí reflexe .NET</span><span class="sxs-lookup"><span data-stu-id="ccc30-160">Discovered or accessed at run time using .NET reflection.</span></span> <span data-ttu-id="ccc30-161">Dokonce i v době běhu nejsou ve smyslu základního CLR k dispozici žádné vlastnosti.</span><span class="sxs-lookup"><span data-stu-id="ccc30-161">Even at run time, they are not properties in the basic CLR sense.</span></span>

<span data-ttu-id="ccc30-162">V C#nástroji mohou být dynamické vlastnosti k dispozici pouze v době běhu prostřednictvím možností poskytovaných oborem názvů <xref:System.ComponentModel>.</span><span class="sxs-lookup"><span data-stu-id="ccc30-162">In C#, dynamic properties can only be accessed at run time through facilities provided by the <xref:System.ComponentModel> namespace.</span></span>

<span data-ttu-id="ccc30-163">Na rozdíl od dynamických vlastností zdroje XML je však k dispozici prostřednictvím jednoduchého zápisu v následujícím tvaru:</span><span class="sxs-lookup"><span data-stu-id="ccc30-163">In contrast, however, in an XML source dynamic properties can be accessed through a straightforward notation in the following form:</span></span>

```xml
<object>.<dynamic-property>
```

<span data-ttu-id="ccc30-164">Dynamické vlastnosti těchto dvou tříd buď přeložit na hodnotu, kterou lze použít přímo, nebo na indexer, který musí být dodán s indexem pro získání výsledné hodnoty nebo kolekce hodnot.</span><span class="sxs-lookup"><span data-stu-id="ccc30-164">The dynamic properties for these two classes either resolve to a value that can be used directly, or to an indexer that must be supplied with an index to obtain the resulting value or collection of values.</span></span> <span data-ttu-id="ccc30-165">Druhá syntaxe má podobu:</span><span class="sxs-lookup"><span data-stu-id="ccc30-165">The latter syntax takes the form:</span></span>

```xml
<object>.<dynamic-property>[<index-value>]
```

<span data-ttu-id="ccc30-166">Další informace najdete v tématu [LINQ to XML dynamické vlastnosti](linq-to-xml-dynamic-properties.md).</span><span class="sxs-lookup"><span data-stu-id="ccc30-166">For more information, see [LINQ to XML Dynamic Properties](linq-to-xml-dynamic-properties.md).</span></span>

<span data-ttu-id="ccc30-167">Chcete-li implementovat dynamickou vazbu WPF, budou dynamické vlastnosti použity v zařízeních poskytovaných oborem názvů <xref:System.Windows.Data>, zejména v <xref:System.Windows.Data.Binding> třídě.</span><span class="sxs-lookup"><span data-stu-id="ccc30-167">To implement WPF dynamic binding, dynamic properties will be used with facilities provided by the <xref:System.Windows.Data> namespace, most notably the <xref:System.Windows.Data.Binding> class.</span></span>

## <a name="see-also"></a><span data-ttu-id="ccc30-168">Viz také:</span><span class="sxs-lookup"><span data-stu-id="ccc30-168">See also</span></span>

- [<span data-ttu-id="ccc30-169">Datová vazba WPF s LINQ to XML</span><span class="sxs-lookup"><span data-stu-id="ccc30-169">WPF Data Binding with LINQ to XML</span></span>](wpf-data-binding-with-linq-to-xml-overview.md)
- [<span data-ttu-id="ccc30-170">Dynamické vlastnosti LINQ to XML</span><span class="sxs-lookup"><span data-stu-id="ccc30-170">LINQ to XML Dynamic Properties</span></span>](linq-to-xml-dynamic-properties.md)
- [<span data-ttu-id="ccc30-171">XAML ve WPF</span><span class="sxs-lookup"><span data-stu-id="ccc30-171">XAML in WPF</span></span>](/dotnet/framework/wpf/advanced/xaml-in-wpf)
- [<span data-ttu-id="ccc30-172">Datová vazba (WPF)</span><span class="sxs-lookup"><span data-stu-id="ccc30-172">Data Binding (WPF)</span></span>](/dotnet/framework/wpf/data/data-binding-wpf)
- [<span data-ttu-id="ccc30-173">Použití značek pracovního postupu</span><span class="sxs-lookup"><span data-stu-id="ccc30-173">Using Workflow Markup</span></span>](http://go.microsoft.com/fwlink/?LinkId=98685)
