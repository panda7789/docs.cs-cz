---
title: Označení směrovaných událostí jako zpracovaných a zpracování tříd
ms.date: 03/30/2017
helpviewer_keywords:
- tunneling events [WPF]
- class listeners [WPF]
- listeners [WPF]
- Preview routed events [WPF]
- instance listeners [WPF]
- events [WPF], bubbling
- suppressing events [WPF]
- routed events [WPF], Preview
- composited controls [WPF]
- events [WPF], tunneling
- routed events [WPF], marking as handled
- controls [WPF], compositing
- events [WPF], suppressing
- bubbling events [WPF]
ms.assetid: 5e745508-4861-4b48-b5f6-5fc7ce5289d2
ms.openlocfilehash: 55ed91a848ce69fa6ce3e69a654a56d7875912b5
ms.sourcegitcommit: 7588136e355e10cbc2582f389c90c127363c02a5
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 03/14/2020
ms.locfileid: "79400167"
---
# <a name="marking-routed-events-as-handled-and-class-handling"></a>Označení směrovaných událostí jako zpracovaných a zpracování tříd
Obslužné rutiny směrované události mohou označit událost zkoumanou v rámci dat události. Zpracování události účinně zkrátí trasu. Zpracování tříd je programovací koncept, který je podporován směrované události. Obslužná rutina třídy má možnost zpracovat konkrétní směrovou událost na úrovni třídy s obslužnou rutinou, která je vyvolána před jakoukoli obslužnou rutinou instance v libovolné instanci třídy.  

<a name="prerequisites"></a>
## <a name="prerequisites"></a>Požadavky  
 Toto téma popisuje koncepty zavedené v [přehledu směrovaných událostí](routed-events-overview.md).  
  
<a name="When_to_Mark_Events_as_Handled"></a>
## <a name="when-to-mark-events-as-handled"></a>Kdy označit události jako zpracované  
 Pokud nastavíte hodnotu <xref:System.Windows.RoutedEventArgs.Handled%2A> `true` vlastnosti v datech události pro směrovou událost, označuje se to jako "označení události zpracováno". Neexistuje žádné absolutní pravidlo, kdy byste měli označit směrované události jako zpracované, buď jako autor aplikace, nebo jako autor ovládacího prvku, který reaguje na existující směrované události nebo implementuje nové směrované události. Z větší části koncept "zpracovány" jako přenášené v datech událostí směrované události by měl y být použity jako omezený [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] protokol pro vlastní aplikace odpovědi na různé směrované události vystavené v api, jakož i pro všechny vlastní směrované události. Dalším způsobem, jak zvážit "vyřešený" problém, je, že byste měli obecně označit směrovou událost zpracována, pokud váš kód odpověděl na směrované události významným a relativně úplným způsobem. Obvykle by neměla existovat více než jedna významná odpověď, která vyžaduje samostatné implementace obslužné rutiny pro jakýkoli výskyt události s jednotlivými směry. Pokud jsou potřeba další odpovědi, pak by měl být implementován potřebný kód prostřednictvím aplikační logiky, která je zřetězena v rámci jedné obslužné rutiny, nikoli pomocí systému směrovaných událostí pro předávání. Koncept toho, co je "významné", je také subjektivní a závisí na vaší aplikaci nebo kódu. Jako obecné pokyny, některé "významné odpovědi" příklady patří: nastavení fokus, úprava veřejného stavu, nastavení vlastností, které ovlivňují vizuální reprezentaci a vyvolání dalších nových událostí. Příklady nevýznamných odpovědí: úprava soukromého stavu (bez vizuálního dopadu nebo programové reprezentace), protokolování událostí nebo pohled na argumenty události a volba nereagovat na ni.  
  
 Chování systému směrovaných událostí posiluje tento model "významné odpovědi" pro použití zpracovaného [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] stavu směrované <xref:System.Windows.UIElement.AddHandler%2A> události, protože obslužné rutiny přidané nebo společný podpis nejsou vyvolány v reakci na směrovanou událost, kde jsou data události již označena jako zpracována. Je nutné projít další úsilí přidání obslužné rutiny s parametrem `handledEventsToo` verze (<xref:System.Windows.UIElement.AddHandler%28System.Windows.RoutedEvent%2CSystem.Delegate%2CSystem.Boolean%29>) za účelem zpracování směrované události, které jsou označeny zpracovány staršími účastníky v postupu události.  
  
 V některých případech ovládací prvky samy označí určité směrované události jako zpracované. Zpracovat směrované události představuje [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] rozhodnutí autorů ovládacího prvku, že akce ovládacího prvku v reakci na směrované události jsou významné nebo úplné jako součást implementace ovládacího prvku a událost nepotřebuje žádné další zpracování. Obvykle se to provádí přidáním obslužné rutiny třídy pro událost nebo přepsáním jedné z virtuálních obslužných rutin třídy, které existují v základní třídě. Stále můžete obejít toto zpracování událostí v případě potřeby; dále v tomto tématu naleznete [informace o potlačení událostí ovládacími prvky.](#WorkingAroundEventSuppressionByControls)  
  
<a name="Preview_Events_vs__Bubbling_Events_and_Handling"></a>
## <a name="preview-tunneling-events-vs-bubbling-events-and-event-handling"></a>Události "Náhled" (tunelování) vs. události probublávání a zpracování událostí  
 Náhled směrované události jsou události, které následují tunelové propojení trasy přes strom prvku. "Náhled" vyjádřený v konvenci pojmenování je indikativní obecné zásady pro vstupní události, které náhled (tunelové propojení) směrované události jsou vyvolány před ekvivalentní probublávání směrované události. Vstupní směrované události, které mají tunelové propojení a probublávání dvojice mají odlišné logiku zpracování. Pokud je směrovaná událost tunelového propojení/náhledu označena jako zpracováná posluchačem události, bude směrovaná událost probublávání označena tak, aby byla zpracována ještě předtím, než ji obdrží posluchači směrované události. Tunelové propojení a probublávání směrované události jsou technicky samostatné události, ale záměrně sdílet stejnou instanci dat událostí povolit toto chování.  
  
 Spojení mezi tunelové propojení a probublávání směrované události je [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] dosaženo vnitřní implementace, jak dané třídy vyvolává vlastní deklarované směrované události, a to platí pro spárované vstupní směrované události. Ale pokud tato implementace na úrovni třídy neexistuje, neexistuje žádná souvislost mezi tunelové řízení směrované události a probublávání směrované události, které sdílejí schéma pojmenování: bez takové implementace by se dvě zcela samostatné směrované události a by neměly být aktivována v pořadí nebo sdílet data událostí.  
  
 Další informace o implementaci dvojic směrovaných událostí vstupu tunelového propojení/bubliny ve vlastní třídě naleznete v [tématu Vytvoření vlastní směrované události](how-to-create-a-custom-routed-event.md).  
  
<a name="Class_Handlers_and_Instance_Handlers"></a>
## <a name="class-handlers-and-instance-handlers"></a>Obslužné rutiny tříd a obslužné rutiny instancí  
 Směrované události zvážit dva různé typy posluchačů události: naslouchací procesy třídy a naslouchací procesy instance. Naslouchací procesy <xref:System.Windows.EventManager> třídy<xref:System.Windows.EventManager.RegisterClassHandler%2A>existují, protože typy volaly konkrétní rozhraní API , ve svém statickém konstruktoru nebo přepsaly virtuální metodu obslužné rutiny třídy ze základní třídy prvku. Instance posluchače jsou konkrétní instance třídy nebo prvky, kde jeden nebo více obslužné rutiny byly připojeny pro tuto směrovou událost voláním <xref:System.Windows.UIElement.AddHandler%2A>. Existující [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] směrované události <xref:System.Windows.UIElement.AddHandler%2A> volat jako součást obálky události CLR (CLR){} společného jazyka ,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,, [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] {} Proto i [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] jednoduché použití se nakonec <xref:System.Windows.UIElement.AddHandler%2A> rovná volání.  
  
 Prvky ve vizuálním stromu jsou kontrolovány pro implementace registrované obslužné rutiny. Obslužné rutiny jsou potenciálně vyvolány v celém postupu v pořadí, které je vlastní typu strategie směrování pro tuto směrovou událost. Například probublávání směrované události nejprve vyvolat ty obslužné rutiny, které jsou připojeny ke stejnému prvku, který vyvolal směrované události. Potom směrované události "bubliny" na další nadřazený prvek a tak dále, dokud je dosaženo kořenový prvek aplikace.  
  
 Z pohledu kořenového prvku v probublávací trase, pokud zpracování třídy nebo jakýkoli prvek blíže ke zdroji směrované události vyvolat obslužné rutiny, které označují argumenty události jako zpracované, pak obslužné rutiny na kořenové prvky nejsou vyvolány a trasa události je účinně zkrácena před dosažením tohoto kořenového prvku. Trasa však není zcela zastavena, protože obslužné rutiny mohou být přidány pomocí speciální podmínky, že by měly být stále vyvolány, i v případě, že obslužná rutina třídy nebo obslužná rutina instance označila směrovanou událost jako zpracovat. To je vysvětleno v [přidání obslužné rutiny instance, které jsou vyvolány i v případě, že události jsou označeny zpracovány](#AddingInstanceHandlersthatAreRaisedEvenWhenEventsareMarkedHandled), dále v tomto tématu.  
  
 Na hlubší úrovni než trasa události, existují také potenciálně více obslužné rutiny třídy působící na danou instanci třídy. Důvodem je, že model zpracování třídy pro směrované události umožňuje všechny možné třídy v hierarchii tříd ke každému zaregistrovat vlastní obslužnou rutinu třídy pro každou směrovou událost. Každá obslužná rutina třídy je přidána do interního úložiště a při vytvoření trasy události pro aplikaci jsou všechny obslužné rutiny třídy přidány do trasy události. Obslužné rutiny třídy jsou přidány do trasy tak, aby nejvíce odvozené třídy obslužná rutina je vyvolána jako první a obslužné rutiny třídy z každé po sobě jdoucí základní třídy jsou vyvolány další. Obecně platí, že obslužné rutiny třídy nejsou registrovány tak, aby také reagovat na směrované události, které již byly označeny zpracovány. Proto tento mechanismus zpracování třídy umožňuje jednu ze dvou možností:  
  
- Odvozené třídy mohou doplnit zpracování třídy, které je zděděno ze základní třídy přidáním obslužné rutiny, která neoznačuje směrovou událost zpracována, protože obslužná rutina základní třídy bude vyvolána někdy po odvozené obslužné rutině třídy.  
  
- Odvozené třídy mohou nahradit zpracování třídy ze základní třídy přidáním obslužné rutiny třídy, která označuje směrovou událost zpracována. Měli byste být opatrní s tímto přístupem, protože potenciálně změní zamýšlený návrh základního ovládacího prvku v oblastech, jako je vizuální vzhled, logika stavu, zpracování vstupů a zpracování příkazů.  
  
<a name="Class_Handling_of_Routed_Events"></a>
## <a name="class-handling-of-routed-events-by-control-base-classes"></a>Zpracování tříd směrovaných událostí podle základních tříd řízení  
 Na každém uzlu daného prvku v trase události mají posluchači třídy možnost reagovat na směrovou událost dříve, než může být naslouchací proces instance na elementu. Z tohoto důvodu obslužné rutiny třídy se někdy používají k potlačení směrované události, které konkrétní implementace třídy řízení nechce dále šířit nebo poskytnout speciální zpracování této směrované události, která je vlastností třídy. Například třída může vyvolat vlastní událost specifická pro třídu, která obsahuje více podrobností o tom, co znamená podmínka vstupu uživatele v kontextu této konkrétní třídy. Implementace třídy pak může označit obecnější směrované události jako zpracované. Obslužné rutiny třídy jsou obvykle přidány tak, aby nebyly vyvolány pro směrované události, <xref:System.Windows.EventManager.RegisterClassHandler%28System.Type%2CSystem.Windows.RoutedEvent%2CSystem.Delegate%2CSystem.Boolean%29> kde byla již označena data sdílené události, ale pro atypické případy je také podpis, který registruje obslužné rutiny třídy vyvolat i v případě, že jsou označeny směrované události zpracovány.  
  
### <a name="class-handler-virtuals"></a>Virtuální obslužná rutina třídy  
 Některé prvky, zejména základní <xref:System.Windows.UIElement>prvky, jako je například\*, vystavit prázdné "On*Event" a "OnPreview Event" virtuální metody, které odpovídají jejich seznamu veřejné směrované události. Tyto virtuální metody mohou být přepsány k implementaci obslužné rutiny třídy pro tuto směrovanou událost. Třídy základního prvku registrují tyto virtuální metody jako <xref:System.Windows.EventManager.RegisterClassHandler%28System.Type%2CSystem.Windows.RoutedEvent%2CSystem.Delegate%2CSystem.Boolean%29> obslužnou rutinu třídy pro každou takovou směrovou událost pomocí, jak je popsáno výše. Virtuální\*metody On Event usnadňují implementaci zpracování třídy pro příslušné směrované události, aniž by bylo nutné zvláštní inicializaci ve statických konstruktorech pro každý typ. Například můžete přidat zpracování třídy <xref:System.Windows.UIElement.DragEnter> pro <xref:System.Windows.UIElement> událost v libovolné <xref:System.Windows.UIElement.OnDragEnter%2A> odvozené třídy přepsáním virtuální metody. V rámci přepsání můžete zpracovat směrovou událost, vyvolat další události, zahájit logiku specifickou pro třídu, která může změnit vlastnosti prvku v instancích, nebo libovolnou kombinaci těchto akcí. Obecně byste měli volat základní implementaci v těchto přepsání i v případě, že označíte událost zpracována. Volání základní implementace se důrazně doporučuje, protože virtuální metoda je na základní třídě. Standardní chráněný virtuální vzor volání základních implementací z každé virtuální v podstatě nahradí a paralely podobný mechanismus, který je nativní pro zpracování směrované třídy událostí, přičemž obslužné rutiny tříd pro všechny třídy v hierarchii tříd y jsou volá na danou instanci, počínaje nejvíce odvozené třídy obslužné rutiny a pokračování základní třídy obslužné rutiny. Měli byste vynechat pouze volání základní implementace, pokud vaše třída má záměrný požadavek na změnu logiky zpracování základní třídy. Zda zavoláte základní implementaci před nebo po přepsání kódu bude záviset na povaze implementace.  
  
#### <a name="input-event-class-handling"></a>Zpracování třídy událostí vstupu  
 Virtuální metody obslužné rutiny třídy jsou registrovány tak, že jsou vyvolány pouze v případech, kdy všechna data sdílené události již nejsou označena jako zpracována. Také pro vstupní události jedinečně tunelové propojení a probublávání verze jsou obvykle aktivována v pořadí a sdílet data událostí. To znamená, že pro daný pár třídy obslužné rutiny vstupní události, kde jeden je tunelové propojení verze a druhý je probublávání verze, pravděpodobně nebudete chtít označit událost zpracována okamžitě. Pokud implementujete virtuální metodu zpracování třídy tunelového propojení k označení zpracovávané události, zabrání to vyvolání obslužné rutiny třídy probublávání (stejně jako zabránění použití normálně registrovaných obslužných rutin instance pro událost tunelového propojení nebo probublávání vyvolána).  
  
 Po dokončení zpracování třídy na uzlu jsou považovány za naslouchací procesy instance.  
  
<a name="AddingInstanceHandlersthatAreRaisedEvenWhenEventsareMarkedHandled"></a>
## <a name="adding-instance-handlers-that-are-raised-even-when-events-are-marked-handled"></a>Přidání obslužné rutiny instance, které jsou vyvolány i v případě, že události jsou označeny zpracovány  
 Metoda <xref:System.Windows.UIElement.AddHandler%2A> poskytuje konkrétní přetížení, které umožňuje přidat obslužné rutiny, které budou vyvolány systémem událostí vždy, když událost dosáhne manipulační prvek v postupu, i v případě, že některé jiné obslužná rutina již upravena data události označit tuto událost jako zpracovány. To se obvykle neprovádí. Obecně obslužné rutiny mohou být zapsány upravit všechny oblasti kódu aplikace, které mohou být ovlivněny událost, bez ohledu na to, kde byla zpracována ve stromu prvku, i v případě, že jsou požadovány více konečných výsledků. Také obvykle je skutečně pouze jeden prvek, který potřebuje reagovat na tuto událost a příslušné aplikační logiky již došlo. Ale `handledEventsToo` přetížení je k dispozici pro výjimečné případy, kdy některé jiné prvky ve stromu elementu nebo skládání ovládacího prvku již označiludálost jako zpracování, ale jiné prvky vyšší nebo nižší ve stromu elementu (v závislosti na trase) stále chtějí mít své vlastní obslužné rutiny vyvolána.  
  
#### <a name="when-to-mark-handled-events-as-unhandled"></a>Kdy označit zpracované události jako neošetřené  
 Obecně platí, že směrované události, které jsou<xref:System.Windows.RoutedEventArgs.Handled%2A> označeny `false`zpracovány by neměly `handledEventsToo`být označeny neošetřené (nastavit zpět na ) i obslužné rutiny, které působí na . Některé vstupní události však mají reprezentace událostí na vysoké a nižší úrovni, které se mohou překrývat, když je událost vysoké úrovně vidět na jedné pozici ve stromu a událost nižší úrovně na jiné pozici. Například zvažte případ, kdy podřízený prvek naslouchá události klíče <xref:System.Windows.UIElement.TextInput> vysoké úrovně, například zatímco nadřazený prvek naslouchá události nižší úrovně, například <xref:System.Windows.UIElement.KeyDown>. Pokud nadřazený prvek zpracovává událost nižší úrovně, událost vyšší úrovně může být potlačena i v podřízeném prvku, který by měl mít intuitivně první příležitost zpracovat událost.  
  
 V těchto situacích může být nutné přidat obslužné rutiny do nadřazené prvky a podřízené prvky pro událost nižší úrovně. Implementace obslužné rutiny podřízeného prvku může označit událost nižší úrovně jako zpracovat, ale implementace obslužné rutiny nadřazeného prvku by ji znovu nastavila neošetřenou tak, aby další prvky ve stromu (stejně jako událost vysoké úrovně) mohly mít možnost reagovat. Tato situace by měla být poměrně vzácná.  
  
<a name="Deliberately_Suppressing_Input_Events_for_Control"></a>
## <a name="deliberately-suppressing-input-events-for-control-compositing"></a>Úmyslné potlačení vstupních událostí pro skládání ovládacího prvku  
 Hlavní scénář, kde se používá zpracování třídy směrovaných událostí je pro vstupní události a složené ovládací prvky. Složený ovládací prvek se podle definice skládá z více praktických ovládacích prvků nebo základních tříd řízení. Často autor ovládacího prvku chce slomuje všechny možné vstupní události, které může vyvolat každá z dílčích součástí, aby bylo možné ohlásit celý ovládací prvek jako zdroj singulární události. V některých případech může autor ovládacího prvku chtít zcela potlačit události z komponent nebo nahradit událost definovanou komponentou, která nese více informací nebo implikuje konkrétnější chování. Kanonický příklad, který je okamžitě viditelný pro [!INCLUDE[TLA#tla_winclient](../../../../includes/tlasharptla-winclient-md.md)] <xref:System.Windows.Controls.Button> všechny autory komponent, je, jak zvládá jakoukoli <xref:System.Windows.Controls.Primitives.ButtonBase.Click> událost myši, která se nakonec vyřeší na intuitivní událost, kterou mají všechna tlačítka: událost.  
  
 Základní <xref:System.Windows.Controls.Button> třída<xref:System.Windows.Controls.Primitives.ButtonBase>( ) <xref:System.Windows.Controls.Control> je odvozena od <xref:System.Windows.FrameworkElement> <xref:System.Windows.UIElement>a , a velká část infrastruktury událostí potřebné <xref:System.Windows.UIElement> pro zpracování vstupních řídicích informací je k dispozici na úrovni. Zejména zpracovává <xref:System.Windows.UIElement> obecné <xref:System.Windows.Input.Mouse> události, které zpracovávají testování přístupů pro kurzor myši v rámci svých <xref:System.Windows.UIElement.MouseLeftButtonDown>hranic a poskytuje odlišné události pro nejběžnější akce tlačítka, jako je například . <xref:System.Windows.UIElement>také poskytuje prázdnou virtuální <xref:System.Windows.UIElement.OnMouseLeftButtonDown%2A> jako předregistrovanou obslužnou rutinu třídy pro <xref:System.Windows.UIElement.MouseLeftButtonDown>a <xref:System.Windows.Controls.Primitives.ButtonBase> přepíše ji. Podobně <xref:System.Windows.Controls.Primitives.ButtonBase> používá obslužné rutiny třídy pro <xref:System.Windows.UIElement.MouseLeftButtonUp>. V přepsání, které jsou předány data události, implementace označit tuto <xref:System.Windows.RoutedEventArgs> instanci jako zpracovány nastavením <xref:System.Windows.RoutedEventArgs.Handled%2A> `true`, a že stejná data událostí je to, co pokračuje podél zbytku trasy do jiných obslužných rutin třídy a také obslužné rutiny instance nebo settery událostí. Také <xref:System.Windows.Controls.Primitives.ButtonBase.OnMouseLeftButtonUp%2A> přepsání bude další <xref:System.Windows.Controls.Primitives.ButtonBase.Click> zvýšit událost. Konečným výsledkem pro většinu posluchačů <xref:System.Windows.UIElement.MouseLeftButtonDown> <xref:System.Windows.UIElement.MouseLeftButtonUp> bude, že a události "zmizí" a jsou nahrazeny místo toho <xref:System.Windows.Controls.Primitives.ButtonBase.Click>, událost, která má větší význam, protože je známo, že tato událost pochází z true tlačítko a ne nějaký složený kus tlačítka nebo z nějakého jiného prvku úplně.  
  
<a name="WorkingAroundEventSuppressionByControls"></a>
### <a name="working-around-event-suppression-by-controls"></a>Práce kolem potlačení událostí pomocí ovládacích prvků  
 Někdy toto chování potlačení událostí v rámci jednotlivých ovládacích prvků může narušit některé obecnější záměry logiky zpracování událostí pro vaši aplikaci. Například pokud z nějakého důvodu vaše <xref:System.Windows.UIElement.MouseLeftButtonDown> aplikace měla obslužnou rutinu pro umístěné na <xref:System.Windows.UIElement.MouseLeftButtonDown> kořenový prvek aplikace, byste si všimli, že jakékoli kliknutí myší na tlačítko by nevyvolával nebo <xref:System.Windows.UIElement.MouseLeftButtonUp> obslužné rutiny na kořenové úrovni. Samotná událost skutečně bublina nahoru (opět trasy událostí nejsou skutečně ukončeny, ale směrované události systém umění jejich chování vyvolání obslužné rutiny po označení zpracovány). Když směrovaná událost dosáhla <xref:System.Windows.Controls.Primitives.ButtonBase> tlačítka, zpracování <xref:System.Windows.UIElement.MouseLeftButtonDown> třídy označilo zpracování, protože chtělo nahradit <xref:System.Windows.Controls.Primitives.ButtonBase.Click> událost větším významem. Proto jakékoli <xref:System.Windows.UIElement.MouseLeftButtonDown> standardní obslužná rutina dále v postupu by nebyla vyvolána. Existují dvě techniky, které můžete použít k zajištění, že vaše obslužné rutiny by být vyvolána v této situaci.  
  
 První technika je záměrně přidat obslužnou rutinu `handledEventsToo` pomocí podpisu <xref:System.Windows.UIElement.AddHandler%28System.Windows.RoutedEvent%2CSystem.Delegate%2CSystem.Boolean%29>. Omezení tohoto přístupu je, že tento postup pro připojení obslužné rutiny události je možné pouze z kódu, nikoli z značky. Jednoduchá syntaxe zadání názvu obslužné rutiny události jako hodnoty atributu události prostřednictvím [!INCLUDE[TLA#tla_xaml](../../../../includes/tlasharptla-xaml-md.md)] neumožňuje toto chování.  
  
 Druhá technika funguje pouze pro vstupní události, kde jsou spárovány tunelové propojení a probublávání verze směrované události. Pro tyto směrované události můžete přidat obslužné rutiny do ekvivalentní směrované události náhledu/tunelového propojení. Tato směrovaná událost bude tunelovat trasu počínaje kořenem, takže kód zpracování třídy tlačítek by ji nezachytil, za předpokladu, že jste připojili obslužnou rutinu Náhled na úrovni některých prvků předchůdce ve stromu prvků aplikace. Pokud použijete tento přístup, buďte opatrní při označování jakékoli události Náhled zpracovány. Pro příklad uvedený <xref:System.Windows.UIElement.PreviewMouseLeftButtonDown> s zpracováním v kořenovém prvku, pokud jste označili událost jako <xref:System.Windows.RoutedEventArgs.Handled%2A> v implementaci obslužné rutiny, <xref:System.Windows.Controls.Primitives.ButtonBase.Click> by ve skutečnosti potlačit událost. To je obvykle není žádoucí chování.  
  
## <a name="see-also"></a>Viz také

- <xref:System.Windows.EventManager>
- [Události náhledu](preview-events.md)
- [Vytvoření vlastní směrované události](how-to-create-a-custom-routed-event.md)
- [Přehled směrovaných událostí](routed-events-overview.md)
