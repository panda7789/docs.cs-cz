---
title: Rozšíření značek a XAML
ms.date: 03/30/2017
helpviewer_keywords:
- brace character [WPF]
- Binding markup extensions [WPF]
- RelativeSource markup extensions [WPF]
- XAML [WPF], markup extensions
- markup extensions [WPF]
- nesting extension syntax [WPF]
- curly brace characters ({})
- TemplateBinding markup extensions [WPF]
- StaticResource markup extensions [WPF]
- literal curly brace characters ({})
- characters [WPF], curly brace
- DynamicResource markup extensions [WPF]
ms.assetid: 618dc745-8b14-4886-833f-486d2254bb78
ms.openlocfilehash: f4134e9d0b26135d1bd6058ac9ed8941a9c6be34
ms.sourcegitcommit: de17a7a0a37042f0d4406f5ae5393531caeb25ba
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 01/24/2020
ms.locfileid: "76727894"
---
# <a name="markup-extensions-and-wpf-xaml"></a><span data-ttu-id="83ee7-102">Rozšíření značek a WPF XAML</span><span class="sxs-lookup"><span data-stu-id="83ee7-102">Markup Extensions and WPF XAML</span></span>
<span data-ttu-id="83ee7-103">Toto téma představuje koncept rozšíření značek pro jazyk XAML, včetně pravidel jejich syntaxe, účelu a modelu objektu třídy, který je v nich umístěn.</span><span class="sxs-lookup"><span data-stu-id="83ee7-103">This topic introduces the concept of markup extensions for XAML, including their syntax rules, purpose, and the class object model that underlies them.</span></span> <span data-ttu-id="83ee7-104">Rozšíření značek jsou obecná funkce jazyka XAML a implementace .NET služeb XAML.</span><span class="sxs-lookup"><span data-stu-id="83ee7-104">Markup extensions are a general feature of the XAML language and of the .NET implementation of XAML services.</span></span> <span data-ttu-id="83ee7-105">Toto téma konkrétně popisuje rozšíření značek pro použití v jazyce WPF XAML.</span><span class="sxs-lookup"><span data-stu-id="83ee7-105">This topic specifically details markup extensions for use in WPF XAML.</span></span>  

<a name="XAML_Processors_and_Markup_Extensions"></a>   
## <a name="xaml-processors-and-markup-extensions"></a><span data-ttu-id="83ee7-106">Procesory XAML a rozšíření značek</span><span class="sxs-lookup"><span data-stu-id="83ee7-106">XAML Processors and Markup Extensions</span></span>  
 <span data-ttu-id="83ee7-107">Obecně řečeno, analyzátor XAML může buď interpretovat hodnotu atributu jako řetězcový literál, který lze převést na primitivní, nebo převést na objekt pomocí nějakých prostředků.</span><span class="sxs-lookup"><span data-stu-id="83ee7-107">Generally speaking, a XAML parser can either interpret an attribute value as a literal string that can be converted to a primitive, or convert it to an object by some means.</span></span> <span data-ttu-id="83ee7-108">Jedním z těchto způsobů je odkazování na konvertor typu; Tato dokumentace je dokumentována v tématech [TypeConverter a XAML](typeconverters-and-xaml.md).</span><span class="sxs-lookup"><span data-stu-id="83ee7-108">One such means is by referencing a type converter; this is documented in the topic [TypeConverters and XAML](typeconverters-and-xaml.md).</span></span> <span data-ttu-id="83ee7-109">Existují však situace, kdy je vyžadováno jiné chování.</span><span class="sxs-lookup"><span data-stu-id="83ee7-109">However, there are scenarios where different behavior is required.</span></span> <span data-ttu-id="83ee7-110">Například procesor XAML může dát pokyn, že hodnota atributu by neměla mít za následek nový objekt v grafu objektů.</span><span class="sxs-lookup"><span data-stu-id="83ee7-110">For example, a XAML processor can be instructed that a value of an attribute should not result in a new object in the object graph.</span></span> <span data-ttu-id="83ee7-111">Místo toho by měl mít atribut v grafu objektů, který vytvoří odkaz na již konstruovaný objekt v jiné části grafu, nebo na statický objekt.</span><span class="sxs-lookup"><span data-stu-id="83ee7-111">Instead, the attribute should result in an object graph that makes a reference to an already constructed object in another part of the graph, or a static object.</span></span> <span data-ttu-id="83ee7-112">Dalším scénářem je, že procesor XAML může mít pokyn k použití syntaxe, která poskytuje jiné než výchozí argumenty konstruktoru objektu.</span><span class="sxs-lookup"><span data-stu-id="83ee7-112">Another scenario is that a XAML processor can be instructed to use a syntax that provides non-default arguments to the constructor of an object.</span></span> <span data-ttu-id="83ee7-113">Jedná se o typy scénářů, kde může rozšíření značek poskytnout řešení.</span><span class="sxs-lookup"><span data-stu-id="83ee7-113">These are the types of scenarios where a markup extension can provide the solution.</span></span>  
  
<a name="Basic_Markup_Extension_Syntax"></a>   
## <a name="basic-markup-extension-syntax"></a><span data-ttu-id="83ee7-114">Základní syntaxe rozšíření značek</span><span class="sxs-lookup"><span data-stu-id="83ee7-114">Basic Markup Extension Syntax</span></span>  
 <span data-ttu-id="83ee7-115">Rozšíření značek lze implementovat k poskytnutí hodnot pro vlastnosti v použití atributu, vlastnosti v použití prvku vlastnosti nebo obojí.</span><span class="sxs-lookup"><span data-stu-id="83ee7-115">A markup extension can be implemented to provide values for properties in an attribute usage, properties in a property element usage, or both.</span></span>  
  
 <span data-ttu-id="83ee7-116">Při použití k poskytnutí hodnoty atributu syntaxe, která rozlišuje sekvenci rozšíření značek na procesor XAML, je přítomnost počátečních a uzavíracích složených závorek ({a}).</span><span class="sxs-lookup"><span data-stu-id="83ee7-116">When used to provide an attribute value, the syntax that distinguishes a markup extension sequence to a XAML processor is the presence of the opening and closing curly braces ({ and }).</span></span> <span data-ttu-id="83ee7-117">Typ rozšíření označení je poté identifikován tokenem řetězce hned za levou složenou závorku.</span><span class="sxs-lookup"><span data-stu-id="83ee7-117">The type of markup extension is then identified by the string token immediately following the opening curly brace.</span></span>  
  
 <span data-ttu-id="83ee7-118">Při použití v syntaxi elementu vlastnosti je rozšíření značek vizuálně stejné jako jakýkoli jiný prvek použitý k poskytnutí hodnoty prvku vlastnosti: Deklarace elementu XAML, která odkazuje na třídu rozšíření značek jako element uzavřený v lomených závorkách (< > ).</span><span class="sxs-lookup"><span data-stu-id="83ee7-118">When used in property element syntax, a markup extension is visually the same as any other element used to provide a property element value: a XAML element declaration that references the markup extension class as an element, enclosed within angle brackets (<>).</span></span>  
  
<a name="XAML_Defined_Markup_Extensions"></a>   
## <a name="xaml-defined-markup-extensions"></a><span data-ttu-id="83ee7-119">Rozšíření značek definovaná v jazyce XAML</span><span class="sxs-lookup"><span data-stu-id="83ee7-119">XAML-Defined Markup Extensions</span></span>  
 <span data-ttu-id="83ee7-120">Existuje několik rozšíření značek, která nejsou specifická pro implementaci WPF jazyka XAML, ale jsou místo toho implementace vnitřních prvků nebo funkcí jazyka XAML jako jazyk.</span><span class="sxs-lookup"><span data-stu-id="83ee7-120">Several markup extensions exist that are not specific to the WPF implementation of XAML, but are instead implementations of intrinsics or features of XAML as a language.</span></span> <span data-ttu-id="83ee7-121">Tato rozšíření značek jsou implementována v sestavení System. XAML jako součást obecných .NET Framework služeb XAML a jsou v oboru názvů XAML jazyka XAML.</span><span class="sxs-lookup"><span data-stu-id="83ee7-121">These markup extensions are implemented in the System.Xaml assembly as part of the general .NET Framework XAML services, and are within the XAML language XAML namespace.</span></span> <span data-ttu-id="83ee7-122">V souvislosti s běžným používáním značek jsou tato rozšíření značek obvykle identifikovatelná předponou `x:` v použití.</span><span class="sxs-lookup"><span data-stu-id="83ee7-122">In terms of common markup usage, these markup extensions are typically identifiable by the `x:` prefix in the usage.</span></span> <span data-ttu-id="83ee7-123">Základní třída <xref:System.Windows.Markup.MarkupExtension> (také definovaná v souboru System. XAML) poskytuje vzor, který by měly používat všechna rozšíření značek, aby bylo možné je podporovat v prohlížečích XAML a v modulech pro zápis XAML, včetně v jazyce WPF XAML.</span><span class="sxs-lookup"><span data-stu-id="83ee7-123">The <xref:System.Windows.Markup.MarkupExtension> base class (also defined in System.Xaml) provides the pattern that all markup extensions should use in order to be supported in XAML readers and XAML writers, including in WPF XAML.</span></span>  
  
- <span data-ttu-id="83ee7-124">`x:Type` poskytuje objekt <xref:System.Type> pro pojmenovaný typ.</span><span class="sxs-lookup"><span data-stu-id="83ee7-124">`x:Type` supplies the <xref:System.Type> object for the named type.</span></span> <span data-ttu-id="83ee7-125">Toto zařízení se často používá v šablonách a stylech.</span><span class="sxs-lookup"><span data-stu-id="83ee7-125">This facility is used most frequently in styles and templates.</span></span> <span data-ttu-id="83ee7-126">Podrobnosti najdete v tématu [rozšíření značek x:Type](../../../desktop-wpf/xaml-services/xtype-markup-extension.md).</span><span class="sxs-lookup"><span data-stu-id="83ee7-126">For details, see [x:Type Markup Extension](../../../desktop-wpf/xaml-services/xtype-markup-extension.md).</span></span>  
  
- <span data-ttu-id="83ee7-127">`x:Static` vytváří statické hodnoty.</span><span class="sxs-lookup"><span data-stu-id="83ee7-127">`x:Static` produces static values.</span></span> <span data-ttu-id="83ee7-128">Hodnoty pocházejí z entit kódu typu hodnoty, které nejsou přímo typu hodnoty cílové vlastnosti, ale lze je vyhodnotit na tento typ.</span><span class="sxs-lookup"><span data-stu-id="83ee7-128">The values come from value-type code entities that are not directly the type of a target property's value, but can be evaluated to that type.</span></span> <span data-ttu-id="83ee7-129">Podrobnosti najdete v tématu [rozšíření značek x:static](../../../desktop-wpf/xaml-services/xstatic-markup-extension.md).</span><span class="sxs-lookup"><span data-stu-id="83ee7-129">For details, see [x:Static Markup Extension](../../../desktop-wpf/xaml-services/xstatic-markup-extension.md).</span></span>  
  
- <span data-ttu-id="83ee7-130">`x:Null` určuje `null` jako hodnotu vlastnosti a lze ji použít buď pro atributy, nebo hodnoty prvků vlastností.</span><span class="sxs-lookup"><span data-stu-id="83ee7-130">`x:Null` specifies `null` as a value for a property and can be used either for attributes or property element values.</span></span> <span data-ttu-id="83ee7-131">Podrobnosti najdete v tématu [rozšíření značek x:null](../../../desktop-wpf/xaml-services/xnull-markup-extension.md).</span><span class="sxs-lookup"><span data-stu-id="83ee7-131">For details, see [x:Null Markup Extension](../../../desktop-wpf/xaml-services/xnull-markup-extension.md).</span></span>  
  
- <span data-ttu-id="83ee7-132">`x:Array` poskytuje podporu pro vytváření obecných polí v syntaxi jazyka XAML, v případech, kdy podpora kolekce poskytovaná základními prvky WPF a modely řízení záměrně nepoužívá.</span><span class="sxs-lookup"><span data-stu-id="83ee7-132">`x:Array` provides support for creation of general arrays in XAML syntax, for cases where the collection support provided by WPF base elements and control models is deliberately not used.</span></span> <span data-ttu-id="83ee7-133">Podrobnosti najdete v tématu [rozšíření značek x:Array](../../../desktop-wpf/xaml-services/xarray-markup-extension.md).</span><span class="sxs-lookup"><span data-stu-id="83ee7-133">For details, see [x:Array Markup Extension](../../../desktop-wpf/xaml-services/xarray-markup-extension.md).</span></span>  
  
> [!NOTE]
> <span data-ttu-id="83ee7-134">Předpona `x:` se používá pro typické mapování oboru názvů XAML vnitřních prvků jazyka XAML, v kořenovém elementu souboru XAML nebo v produkčním prostředí.</span><span class="sxs-lookup"><span data-stu-id="83ee7-134">The `x:` prefix is used for the typical XAML namespace mapping of the XAML language intrinsics, in the root element of a XAML file or production.</span></span> <span data-ttu-id="83ee7-135">Například šablony sady Visual Studio pro aplikace WPF iniciují soubor XAML pomocí tohoto `x:` mapování.</span><span class="sxs-lookup"><span data-stu-id="83ee7-135">For example, the Visual Studio templates for WPF applications initiate a XAML file using this `x:` mapping.</span></span> <span data-ttu-id="83ee7-136">Můžete zvolit jiný token předpony ve vlastním mapování oboru názvů XAML, ale tato dokumentace bude předpokládat výchozí `x:` mapování jako způsob identifikace entit, které jsou definovány součástí oboru názvů XAML pro jazyk XAML, na rozdíl od výchozího oboru názvů WPF nebo jiných oborů názvů jazyka XAML, které nesouvisí s konkrétním rozhraním.</span><span class="sxs-lookup"><span data-stu-id="83ee7-136">You could choose a different prefix token in your own XAML namespace mapping, but this documentation will assume the default `x:` mapping as a means of identifying those entities that are a defined part of the XAML namespace for the XAML language, as opposed to the WPF default namespace or other XAML namespaces not related to a specific framework.</span></span>  
  
<a name="WPF_Specific_Markup_Extensions"></a>   
## <a name="wpf-specific-markup-extensions"></a><span data-ttu-id="83ee7-137">Rozšíření značek specifická pro WPF</span><span class="sxs-lookup"><span data-stu-id="83ee7-137">WPF-Specific Markup Extensions</span></span>  
 <span data-ttu-id="83ee7-138">Nejběžnější rozšíření značek používané v programování WPF jsou ta, která podporují odkazy na prostředky (`StaticResource` a `DynamicResource`) a ty, které podporují datovou vazbu (`Binding`).</span><span class="sxs-lookup"><span data-stu-id="83ee7-138">The most common markup extensions used in WPF programming are those that support resource references (`StaticResource` and `DynamicResource`), and those that support data binding (`Binding`).</span></span>  
  
- <span data-ttu-id="83ee7-139">`StaticResource` poskytuje hodnotu pro vlastnost nahrazením hodnoty již definovaného prostředku.</span><span class="sxs-lookup"><span data-stu-id="83ee7-139">`StaticResource` provides a value for a property by substituting the value of an already defined resource.</span></span> <span data-ttu-id="83ee7-140">Vyhodnocení `StaticResource` je nakonec provedeno v době načítání XAML a nemá přístup k grafu objektů v době běhu.</span><span class="sxs-lookup"><span data-stu-id="83ee7-140">A `StaticResource` evaluation is ultimately made at XAML load time and does not have access to the object graph at run time.</span></span> <span data-ttu-id="83ee7-141">Podrobnosti najdete v tématu [rozšíření značek StaticResource](staticresource-markup-extension.md).</span><span class="sxs-lookup"><span data-stu-id="83ee7-141">For details, see [StaticResource Markup Extension](staticresource-markup-extension.md).</span></span>  
  
- <span data-ttu-id="83ee7-142">`DynamicResource` poskytuje hodnotu pro vlastnost odložením této hodnoty jako reference za běhu k prostředku.</span><span class="sxs-lookup"><span data-stu-id="83ee7-142">`DynamicResource` provides a value for a property by deferring that value to be a run-time reference to a resource.</span></span> <span data-ttu-id="83ee7-143">Dynamický odkaz na prostředek vynutí nové vyhledávání pokaždé, když je takový prostředek přístupný a má přístup k grafu objektů v době běhu.</span><span class="sxs-lookup"><span data-stu-id="83ee7-143">A dynamic resource reference forces a new lookup each time that such a resource is accessed and has access to the object graph at run time.</span></span> <span data-ttu-id="83ee7-144">Aby bylo možné tento přístup získat, je `DynamicResource` koncept podporován vlastnostmi závislosti v systému vlastností WPF a vyhodnocenými výrazy.</span><span class="sxs-lookup"><span data-stu-id="83ee7-144">In order to get this access, `DynamicResource` concept is supported by dependency properties in the WPF property system, and evaluated expressions.</span></span> <span data-ttu-id="83ee7-145">Proto můžete použít pouze `DynamicResource` pro cíl vlastnosti závislosti.</span><span class="sxs-lookup"><span data-stu-id="83ee7-145">Therefore you can only use `DynamicResource` for a dependency property target.</span></span> <span data-ttu-id="83ee7-146">Podrobnosti najdete v tématu [rozšíření značek DynamicResource](dynamicresource-markup-extension.md).</span><span class="sxs-lookup"><span data-stu-id="83ee7-146">For details, see [DynamicResource Markup Extension](dynamicresource-markup-extension.md).</span></span>  
  
- <span data-ttu-id="83ee7-147">`Binding` poskytuje datovou vazbu hodnoty pro vlastnost pomocí kontextu dat, který se vztahuje na nadřazený objekt v době běhu.</span><span class="sxs-lookup"><span data-stu-id="83ee7-147">`Binding` provides a data bound value for a property, using the data context that applies to the parent object at run time.</span></span> <span data-ttu-id="83ee7-148">Toto rozšíření značek je poměrně složité, protože umožňuje značnou vloženou syntaxi pro určení datové vazby.</span><span class="sxs-lookup"><span data-stu-id="83ee7-148">This markup extension is relatively complex, because it enables a substantial inline syntax for specifying a data binding.</span></span> <span data-ttu-id="83ee7-149">Podrobnosti najdete v tématu [rozšíření značek vazby](binding-markup-extension.md).</span><span class="sxs-lookup"><span data-stu-id="83ee7-149">For details, see [Binding Markup Extension](binding-markup-extension.md).</span></span>  
  
- <span data-ttu-id="83ee7-150">`RelativeSource` poskytuje informace o zdroji pro <xref:System.Windows.Data.Binding>, které mohou procházet několik možných vztahů ve stromu objektů za běhu.</span><span class="sxs-lookup"><span data-stu-id="83ee7-150">`RelativeSource` provides source information for a <xref:System.Windows.Data.Binding> that can navigate several possible relationships in the run-time object tree.</span></span> <span data-ttu-id="83ee7-151">To poskytuje specializované zdroje pro vazby, které jsou vytvořeny v šablonách s více použitími nebo vytvořeny v kódu bez úplného vědomí okolního stromu objektu.</span><span class="sxs-lookup"><span data-stu-id="83ee7-151">This provides specialized sourcing for bindings that are created in multi-use templates or created in code without full knowledge of the surrounding object tree.</span></span> <span data-ttu-id="83ee7-152">Podrobnosti najdete v tématu [RelativeSource MarkupExtension](relativesource-markupextension.md).</span><span class="sxs-lookup"><span data-stu-id="83ee7-152">For details, see [RelativeSource MarkupExtension](relativesource-markupextension.md).</span></span>  
  
- <span data-ttu-id="83ee7-153">`TemplateBinding` umožňuje, aby šablona ovládacího prvku používala hodnoty pro vlastnosti šablony, které pocházejí z vlastností objektu definovaného modelem třídy, která bude šablonu používat.</span><span class="sxs-lookup"><span data-stu-id="83ee7-153">`TemplateBinding` enables a control template to use values for templated properties that come from object-model-defined properties of the class that will use the template.</span></span> <span data-ttu-id="83ee7-154">Jinými slovy, vlastnost v rámci definice šablony má přístup ke kontextu, který existuje pouze po použití šablony.</span><span class="sxs-lookup"><span data-stu-id="83ee7-154">In other words, the property within the template definition can access a context that only exists once the template is applied.</span></span> <span data-ttu-id="83ee7-155">Podrobnosti najdete v tématu [rozšíření značek TemplateBinding](templatebinding-markup-extension.md).</span><span class="sxs-lookup"><span data-stu-id="83ee7-155">For details, see [TemplateBinding Markup Extension](templatebinding-markup-extension.md).</span></span> <span data-ttu-id="83ee7-156">Další informace o praktickém použití `TemplateBinding`naleznete v tématu [stylování with ControlTemplates Sample](https://github.com/Microsoft/WPF-Samples/tree/master/Styles%20&%20Templates/IntroToStylingAndTemplating).</span><span class="sxs-lookup"><span data-stu-id="83ee7-156">For more information on the practical use of `TemplateBinding`, see [Styling with ControlTemplates Sample](https://github.com/Microsoft/WPF-Samples/tree/master/Styles%20&%20Templates/IntroToStylingAndTemplating).</span></span>  
  
- <span data-ttu-id="83ee7-157">`ColorConvertedBitmap` podporuje poměrně pokročilý scénář pro vytváření imagí.</span><span class="sxs-lookup"><span data-stu-id="83ee7-157">`ColorConvertedBitmap` supports a relatively advanced imaging scenario.</span></span> <span data-ttu-id="83ee7-158">Podrobnosti najdete v tématu [rozšíření značek ColorConvertedBitmap](colorconvertedbitmap-markup-extension.md).</span><span class="sxs-lookup"><span data-stu-id="83ee7-158">For details, see [ColorConvertedBitmap Markup Extension](colorconvertedbitmap-markup-extension.md).</span></span>  
  
- <span data-ttu-id="83ee7-159">`ComponentResourceKey` a `ThemeDictionary` podporují aspekty vyhledávání prostředků, zejména u prostředků a motivů, které jsou zabaleny s vlastními ovládacími prvky.</span><span class="sxs-lookup"><span data-stu-id="83ee7-159">`ComponentResourceKey` and `ThemeDictionary` support aspects of resource lookup, particularly for resources and themes that are packaged with custom controls.</span></span> <span data-ttu-id="83ee7-160">Další informace najdete v tématu [rozšíření značek ComponentResourceKey](componentresourcekey-markup-extension.md), [rozšíření značek ThemeDictionary](themedictionary-markup-extension.md)nebo [Přehled vytváření ovládacích prvků](../controls/control-authoring-overview.md).</span><span class="sxs-lookup"><span data-stu-id="83ee7-160">For more information, see [ComponentResourceKey Markup Extension](componentresourcekey-markup-extension.md), [ThemeDictionary Markup Extension](themedictionary-markup-extension.md), or [Control Authoring Overview](../controls/control-authoring-overview.md).</span></span>  
  
<a name="StarExtension"></a>   
## <a name="extension-classes"></a><span data-ttu-id="83ee7-161">Třídy rozšíření \*</span><span class="sxs-lookup"><span data-stu-id="83ee7-161">\*Extension Classes</span></span>  
 <span data-ttu-id="83ee7-162">Pro obecné kódování kódu XAML a pro rozšíření značek specifických pro WPF je chování jednotlivých rozšíření značek identifikováno pro procesor XAML prostřednictvím třídy `*Extension`, která je odvozena z <xref:System.Windows.Markup.MarkupExtension>a poskytuje implementaci <xref:System.Windows.Markup.StaticExtension.ProvideValue%2A> metody.</span><span class="sxs-lookup"><span data-stu-id="83ee7-162">For both the general XAML language and WPF-specific markup extensions, the behavior of each markup extension is identified to a XAML processor through a `*Extension` class that derives from <xref:System.Windows.Markup.MarkupExtension>, and provides an implementation of the <xref:System.Windows.Markup.StaticExtension.ProvideValue%2A> method.</span></span> <span data-ttu-id="83ee7-163">Tato metoda pro každé rozšíření poskytuje objekt, který je vrácen při vyhodnocování rozšíření značek.</span><span class="sxs-lookup"><span data-stu-id="83ee7-163">This method on each extension provides the object that is returned when the markup extension is evaluated.</span></span> <span data-ttu-id="83ee7-164">Vrácený objekt je obvykle vyhodnocován v závislosti na různých tokenech řetězců, které jsou předány příponě značek.</span><span class="sxs-lookup"><span data-stu-id="83ee7-164">The returned object is typically evaluated based on the various string tokens that are passed to the markup extension.</span></span>  
  
 <span data-ttu-id="83ee7-165">Například třída <xref:System.Windows.StaticResourceExtension> poskytuje povrchovou implementaci skutečného vyhledávání prostředků, aby jeho implementace <xref:System.Windows.Markup.MarkupExtension.ProvideValue%2A> vrátila požadovaný objekt, se vstupem této konkrétní implementace je řetězec, který se používá k vyhledání prostředku pomocí jeho `x:Key`.</span><span class="sxs-lookup"><span data-stu-id="83ee7-165">For example, the <xref:System.Windows.StaticResourceExtension> class provides the surface implementation of actual resource lookup so that its <xref:System.Windows.Markup.MarkupExtension.ProvideValue%2A> implementation returns the object that is requested, with the input of that particular implementation being a string that is used to look up the resource by its `x:Key`.</span></span> <span data-ttu-id="83ee7-166">Většina této podrobnosti implementace je neimportovaná, pokud používáte existující rozšíření značek.</span><span class="sxs-lookup"><span data-stu-id="83ee7-166">Much of this implementation detail is unimportant if you are using an existing markup extension.</span></span>  
  
 <span data-ttu-id="83ee7-167">Některá rozšíření značek nepoužívají argumenty řetězcového tokenu.</span><span class="sxs-lookup"><span data-stu-id="83ee7-167">Some markup extensions do not use string token arguments.</span></span> <span data-ttu-id="83ee7-168">To je způsobeno tím, že vrací statickou nebo konzistentní hodnotu, nebo protože kontext, který má být vrácen, je k dispozici prostřednictvím jedné ze služeb předaných prostřednictvím parametru `serviceProvider`.</span><span class="sxs-lookup"><span data-stu-id="83ee7-168">This is either because they return a static or consistent value, or because context for what value should be returned is available through one of the services passed through the `serviceProvider` parameter.</span></span>  
  
 <span data-ttu-id="83ee7-169">`*Extension` vzor pojmenování je pro pohodlí a konzistenci.</span><span class="sxs-lookup"><span data-stu-id="83ee7-169">The `*Extension` naming pattern is for convenience and consistency.</span></span> <span data-ttu-id="83ee7-170">Není nutné, aby procesor XAML identifikoval tuto třídu jako podporu pro rozšíření značek.</span><span class="sxs-lookup"><span data-stu-id="83ee7-170">It is not necessary in order for a XAML processor to identify that class as support for a markup extension.</span></span> <span data-ttu-id="83ee7-171">Pokud váš základ kódu zahrnuje System. XAML a používá implementace .NET Framework XAML Services, všechny, které jsou nezbytné pro rozpoznání jako rozšíření značek XAML, je odvozeno od <xref:System.Windows.Markup.MarkupExtension> a pro podporu syntaxe konstrukce.</span><span class="sxs-lookup"><span data-stu-id="83ee7-171">So long as your codebase includes System.Xaml and uses .NET Framework XAML Services implementations, all that is necessary to be recognized as a XAML markup extension is to derive from <xref:System.Windows.Markup.MarkupExtension> and to support a construction syntax.</span></span> <span data-ttu-id="83ee7-172">WPF definuje rozšíření značek – povoluje třídy, které nenásledují `*Extension` vzor pojmenování, například <xref:System.Windows.Data.Binding>.</span><span class="sxs-lookup"><span data-stu-id="83ee7-172">WPF defines markup extension-enabling classes that do not follow the `*Extension` naming pattern, for example <xref:System.Windows.Data.Binding>.</span></span> <span data-ttu-id="83ee7-173">Obvykle je důvodem to, že třída podporuje scénáře nad rámec podpory čistého rozšíření značek.</span><span class="sxs-lookup"><span data-stu-id="83ee7-173">Typically the reason for this is that the class supports scenarios beyond pure markup extension support.</span></span> <span data-ttu-id="83ee7-174">V případě <xref:System.Windows.Data.Binding>, tato třída podporuje přístup za běhu k metodám a vlastnostem objektu pro scénáře, které nemají žádnou akci s XAML.</span><span class="sxs-lookup"><span data-stu-id="83ee7-174">In the case of <xref:System.Windows.Data.Binding>, that class supports run-time access to methods and properties of the object for scenarios that have nothing to do with XAML.</span></span>  
  
### <a name="extension-class-interpretation-of-initialization-text"></a><span data-ttu-id="83ee7-175">Interpretace třídy rozšíření inicializačního textu</span><span class="sxs-lookup"><span data-stu-id="83ee7-175">Extension Class Interpretation of Initialization Text</span></span>  
 <span data-ttu-id="83ee7-176">Řetězcové tokeny za názvem rozšíření značek a stále v rámci složených závorek jsou interpretovány procesorem XAML jedním z následujících způsobů:</span><span class="sxs-lookup"><span data-stu-id="83ee7-176">The string tokens following the markup extension name and still within the braces are interpreted by a XAML processor in one of the following ways:</span></span>  
  
- <span data-ttu-id="83ee7-177">Čárka vždy představuje oddělovač nebo oddělovač jednotlivých tokenů.</span><span class="sxs-lookup"><span data-stu-id="83ee7-177">A comma always represents the separator or delimiter of individual tokens.</span></span>  
  
- <span data-ttu-id="83ee7-178">Pokud jednotlivé oddělené tokeny neobsahují žádné rovnítko, každý token je považován za argument konstruktoru.</span><span class="sxs-lookup"><span data-stu-id="83ee7-178">If the individual separated tokens do not contain any equals signs, each token is treated as a constructor argument.</span></span> <span data-ttu-id="83ee7-179">Každý parametr konstruktoru musí být uveden jako typ očekávaný tímto podpisem a ve správném pořadí očekávaném daným podpisem.</span><span class="sxs-lookup"><span data-stu-id="83ee7-179">Each constructor parameter must be given as the type expected by that signature, and in the proper order expected by that signature.</span></span>  
  
    > [!NOTE]
    > <span data-ttu-id="83ee7-180">Procesor XAML musí volat konstruktor, který odpovídá počtu argumentů v počtu párů.</span><span class="sxs-lookup"><span data-stu-id="83ee7-180">A XAML processor must call the constructor that matches the argument count of the number of pairs.</span></span> <span data-ttu-id="83ee7-181">Z tohoto důvodu, Pokud implementujete vlastní rozšíření značek, Neposkytněte více konstruktorů se stejným počtem argumentů.</span><span class="sxs-lookup"><span data-stu-id="83ee7-181">For this reason, if you are implementing a custom markup extension, do not provide multiple constructors with the same argument count.</span></span> <span data-ttu-id="83ee7-182">Chování pro způsob, jakým se procesor XAML chová, pokud více než jedna cesta konstruktoru rozšíření značek se stejným počtem parametrů je nedefinovaná, ale měli byste předpokládat, že procesor XAML smí vyvolat výjimku při použití, pokud tato situace existuje v definice typu rozšíření značek.</span><span class="sxs-lookup"><span data-stu-id="83ee7-182">The behavior for how a XAML processor behaves if more than one markup extension constructor path with the same parameter count exists is not defined, but you should anticipate that a XAML processor is permitted to throw an exception on usage if this situation exists in the markup extension type definitions.</span></span>  
  
- <span data-ttu-id="83ee7-183">Pokud jednotlivé samostatné tokeny obsahují znaménka rovná se, pak procesor XAML nejprve zavolá konstruktor bez parametrů pro rozšíření značek.</span><span class="sxs-lookup"><span data-stu-id="83ee7-183">If the individual separated tokens contain equals signs, then a XAML processor first calls the parameterless constructor for the markup extension.</span></span> <span data-ttu-id="83ee7-184">Pak každá dvojice název = hodnota je interpretována jako název vlastnosti, který existuje v rozšíření značek, a hodnotu, která se má přiřadit k této vlastnosti.</span><span class="sxs-lookup"><span data-stu-id="83ee7-184">Then, each name=value pair is interpreted as a property name that exists on the markup extension, and a value to assign to that property.</span></span>  
  
- <span data-ttu-id="83ee7-185">Pokud dojde k paralelnímu výsledku mezi chováním konstruktoru a chováním nastavení vlastnosti v rozšíření značek, nezáleží na tom, jaké chování používáte.</span><span class="sxs-lookup"><span data-stu-id="83ee7-185">If there is a parallel result between the constructor behavior and the property setting behavior in a markup extension, it does not matter which behavior you use.</span></span> <span data-ttu-id="83ee7-186">Je běžné použití pro použití *vlastností*`=`*hodnoty* pro rozšíření značek, které mají více než jednu nastavitelnou vlastnost, pokud je pouze to, protože je váš kód přesnější a méně pravděpodobně nechtěně přeřadí parametry konstruktoru.</span><span class="sxs-lookup"><span data-stu-id="83ee7-186">It is more common usage to use the *property*`=`*value* pairs for markup extensions that have more than one settable property, if only because it makes your markup more intentional and you are less likely to accidentally transpose constructor parameters.</span></span> <span data-ttu-id="83ee7-187">(Pokud zadáte páry Property = hodnota, tyto vlastnosti mohou být v libovolném pořadí.) Navíc není nijak zaručeno, že rozšíření značek poskytuje parametr konstruktoru, který nastaví každou ze svých vlastností.</span><span class="sxs-lookup"><span data-stu-id="83ee7-187">(When you specify property=value pairs, those properties may be in any order.) Also, there is no guarantee that a markup extension supplies a constructor parameter that sets every one of its settable properties.</span></span> <span data-ttu-id="83ee7-188">Například <xref:System.Windows.Data.Binding> je rozšíření značek s mnoha vlastnostmi, které lze nastavit pomocí rozšíření ve formě *vlastností*`=`*hodnoty* , ale <xref:System.Windows.Data.Binding> podporuje pouze dva konstruktory: konstruktor bez parametrů a druhý, který nastaví počáteční cestu.</span><span class="sxs-lookup"><span data-stu-id="83ee7-188">For example, <xref:System.Windows.Data.Binding> is a markup extension, with many properties that are settable through the extension in *property*`=`*value* form, but <xref:System.Windows.Data.Binding> only supports two constructors: a parameterless constructor, and one that sets an initial path.</span></span>  
  
- <span data-ttu-id="83ee7-189">Literálovou čárku nelze předat rozšíření značek bez řídicího znaku.</span><span class="sxs-lookup"><span data-stu-id="83ee7-189">A literal comma cannot be passed to a markup extension without escapement.</span></span>  
  
<a name="EscapeSequences"></a>   
## <a name="escape-sequences-and-markup-extensions"></a><span data-ttu-id="83ee7-190">Řídicí sekvence a rozšíření značek</span><span class="sxs-lookup"><span data-stu-id="83ee7-190">Escape Sequences and Markup Extensions</span></span>  
 <span data-ttu-id="83ee7-191">Zpracování atributů v procesoru XAML používá složené závorky jako indikátory sekvence rozšíření kódu.</span><span class="sxs-lookup"><span data-stu-id="83ee7-191">Attribute handling in a XAML processor uses the curly braces as indicators of a markup extension sequence.</span></span> <span data-ttu-id="83ee7-192">V případě potřeby je také možné vytvořit literálovou hodnotu atributu znak složené závorky, a to tak, že zadáte řídicí sekvenci s použitím prázdné páry složené závorky, za kterou následuje literální složená závorka.</span><span class="sxs-lookup"><span data-stu-id="83ee7-192">It is also possible to produce a literal curly brace character attribute value if necessary, by entering an escape sequence using an empty curly brace pair followed by the literal curly brace.</span></span> <span data-ttu-id="83ee7-193">Viz [{} sekvence escape – rozšíření značek](../../../desktop-wpf/xaml-services/escape-sequence-markup-extension.md).</span><span class="sxs-lookup"><span data-stu-id="83ee7-193">See [{} Escape Sequence - Markup Extension](../../../desktop-wpf/xaml-services/escape-sequence-markup-extension.md).</span></span>  
  
<a name="Nesting"></a>   
## <a name="nesting-markup-extensions-in-xaml-usage"></a><span data-ttu-id="83ee7-194">Vnořování rozšíření značek v použití XAML</span><span class="sxs-lookup"><span data-stu-id="83ee7-194">Nesting Markup Extensions in XAML Usage</span></span>  
 <span data-ttu-id="83ee7-195">Je podporováno vnořování více rozšíření značek a každé rozšíření značek bude nejprve vyhodnoceno jako nejdůkladnější.</span><span class="sxs-lookup"><span data-stu-id="83ee7-195">Nesting of multiple markup extensions is supported, and each markup extension will be evaluated deepest first.</span></span> <span data-ttu-id="83ee7-196">Zvažte například následující použití:</span><span class="sxs-lookup"><span data-stu-id="83ee7-196">For example, consider the following usage:</span></span>  
  
```xaml  
<Setter Property="Background"  
  Value="{DynamicResource {x:Static SystemColors.ControlBrushKey}}" />  
```  
  
 <span data-ttu-id="83ee7-197">V tomto použití je příkaz `x:Static` vyhodnocen jako první a vrátí řetězec.</span><span class="sxs-lookup"><span data-stu-id="83ee7-197">In this usage, the `x:Static` statement is evaluated first and returns a string.</span></span> <span data-ttu-id="83ee7-198">Tento řetězec se pak použije jako argument pro `DynamicResource`.</span><span class="sxs-lookup"><span data-stu-id="83ee7-198">That string is then used as the argument for `DynamicResource`.</span></span>  
  
## <a name="markup-extensions-and-property-element-syntax"></a><span data-ttu-id="83ee7-199">Rozšíření značek a syntaxe elementu vlastnosti</span><span class="sxs-lookup"><span data-stu-id="83ee7-199">Markup Extensions and Property Element Syntax</span></span>  
 <span data-ttu-id="83ee7-200">Při použití jako prvku objektu, který vyplní hodnotu prvku vlastnosti, je třída rozšíření značek vizuálně neodlišená od typického elementu, který je v jazyce back-Type, který lze použít v jazyce XAML.</span><span class="sxs-lookup"><span data-stu-id="83ee7-200">When used as an object element that fills a property element value, a markup extension class is visually indistinguishable from a typical type-backed object element that can be used in XAML.</span></span> <span data-ttu-id="83ee7-201">Praktický rozdíl mezi typickým prvkem objektu a příponou značek je, že rozšíření značek je buď vyhodnoceno na zadanou hodnotu, nebo odloženo jako výraz.</span><span class="sxs-lookup"><span data-stu-id="83ee7-201">The practical difference between a typical object element and a markup extension is that the markup extension is either evaluated to a typed value or deferred as an expression.</span></span> <span data-ttu-id="83ee7-202">Proto se mechanismy pro jakékoli možné chyby typu pro rozšíření značek liší, podobně jako vlastnost s pozdní vazbou je zpracována v jiných programovacích modelech.</span><span class="sxs-lookup"><span data-stu-id="83ee7-202">Therefore the mechanisms for any possible type errors of property values for the markup extension will be different, similar to how a late-bound property is treated in other programming models.</span></span> <span data-ttu-id="83ee7-203">Běžný prvek objektu bude vyhodnocen pro shodu typu s cílovou vlastností, která je nastavena při analýze XAML.</span><span class="sxs-lookup"><span data-stu-id="83ee7-203">An ordinary object element will be evaluated for type match against the target property it is setting when the XAML is parsed.</span></span>  
  
 <span data-ttu-id="83ee7-204">Většina rozšíření značek, pokud se používá v syntaxi elementu objektu pro vyplnění elementu Property, by neměla mít obsah nebo žádnou další syntaxi elementu Property v rámci.</span><span class="sxs-lookup"><span data-stu-id="83ee7-204">Most markup extensions, when used in object element syntax to fill a property element, would not have content or any further property element syntax within.</span></span> <span data-ttu-id="83ee7-205">Proto byste zavřeli značku prvku objektu a neposkytovali žádné podřízené prvky.</span><span class="sxs-lookup"><span data-stu-id="83ee7-205">Thus you would close the object element tag, and provide no child elements.</span></span> <span data-ttu-id="83ee7-206">Vždy, když je nalezen libovolný element objektu procesorem XAML, je volán konstruktor této třídy, který vytvoří instanci objektu vytvořeného z analyzovaného prvku.</span><span class="sxs-lookup"><span data-stu-id="83ee7-206">Whenever any object element is encountered by a XAML processor, the constructor for that class is called, which instantiates the object created from the parsed element.</span></span> <span data-ttu-id="83ee7-207">Třída rozšíření značek se neliší: Pokud chcete, aby bylo rozšíření značek použitelné v syntaxi elementu Object, je nutné poskytnout konstruktor bez parametrů.</span><span class="sxs-lookup"><span data-stu-id="83ee7-207">A markup extension class is no different: if you want your markup extension to be usable in object element syntax, you must provide a parameterless constructor.</span></span> <span data-ttu-id="83ee7-208">Některá existující rozšíření značek mají alespoň jednu požadovanou hodnotu vlastnosti, která musí být zadána pro efektivní inicializaci.</span><span class="sxs-lookup"><span data-stu-id="83ee7-208">Some existing markup extensions have at least one required property value that must be specified for effective initialization.</span></span> <span data-ttu-id="83ee7-209">Pokud ano, hodnota této vlastnosti je obvykle dána jako atribut vlastnosti prvku Object.</span><span class="sxs-lookup"><span data-stu-id="83ee7-209">If so, that property value is typically given as a property attribute on the object element.</span></span> <span data-ttu-id="83ee7-210">V [oboru názvů XAML (x:) V případě jazykových funkcí](../../../desktop-wpf/xaml-services/namespace-language-features.md) a referenčních stránek [rozšíření WPF XAML](wpf-xaml-extensions.md) jsou uvedena rozšíření značek, která mají požadované vlastnosti (a názvy požadovaných vlastností).</span><span class="sxs-lookup"><span data-stu-id="83ee7-210">In the [XAML Namespace (x:) Language Features](../../../desktop-wpf/xaml-services/namespace-language-features.md) and [WPF XAML Extensions](wpf-xaml-extensions.md) reference pages, markup extensions that have required properties (and the names of required properties) will be noted.</span></span> <span data-ttu-id="83ee7-211">Referenční stránky také označují, zda je pro konkrétní rozšíření značek zakázána buď syntaxe elementu objektu, nebo syntaxe atributu.</span><span class="sxs-lookup"><span data-stu-id="83ee7-211">Reference pages will also note if either object element syntax or attribute syntax is disallowed for particular markup extensions.</span></span> <span data-ttu-id="83ee7-212">Významným případem je [rozšíření značek x:Array](../../../desktop-wpf/xaml-services/xarray-markup-extension.md), které nepodporuje syntaxi atributu, protože obsah tohoto pole musí být zadaný v označení jako obsah.</span><span class="sxs-lookup"><span data-stu-id="83ee7-212">A notable case is [x:Array Markup Extension](../../../desktop-wpf/xaml-services/xarray-markup-extension.md), which cannot support attribute syntax because the contents of that array must be specified within the tagging as content.</span></span> <span data-ttu-id="83ee7-213">Obsah pole je zpracováván jako obecné objekty, proto není vhodný žádný výchozí konvertor typu pro atribut.</span><span class="sxs-lookup"><span data-stu-id="83ee7-213">The array contents are handled as general objects, therefore no default type converter for the attribute is feasible.</span></span> <span data-ttu-id="83ee7-214">[Rozšíření značek x:Array](../../../desktop-wpf/xaml-services/xarray-markup-extension.md) vyžaduje také parametr `type`.</span><span class="sxs-lookup"><span data-stu-id="83ee7-214">Also, [x:Array Markup Extension](../../../desktop-wpf/xaml-services/xarray-markup-extension.md) requires a `type` parameter.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="83ee7-215">Viz také</span><span class="sxs-lookup"><span data-stu-id="83ee7-215">See also</span></span>

- [<span data-ttu-id="83ee7-216">Přehled XAML (WPF)</span><span class="sxs-lookup"><span data-stu-id="83ee7-216">XAML Overview (WPF)</span></span>](../../../desktop-wpf/fundamentals/xaml.md)
- [<span data-ttu-id="83ee7-217">Jazykové funkce oboru názvů jazyka XAML (x:)</span><span class="sxs-lookup"><span data-stu-id="83ee7-217">XAML Namespace (x:) Language Features</span></span>](../../../desktop-wpf/xaml-services/namespace-language-features.md)
- [<span data-ttu-id="83ee7-218">Rozšíření WPF XAML</span><span class="sxs-lookup"><span data-stu-id="83ee7-218">WPF XAML Extensions</span></span>](wpf-xaml-extensions.md)
- [<span data-ttu-id="83ee7-219">Rozšíření značek StaticResource</span><span class="sxs-lookup"><span data-stu-id="83ee7-219">StaticResource Markup Extension</span></span>](staticresource-markup-extension.md)
- [<span data-ttu-id="83ee7-220">Rozšíření značek datové vazby</span><span class="sxs-lookup"><span data-stu-id="83ee7-220">Binding Markup Extension</span></span>](binding-markup-extension.md)
- [<span data-ttu-id="83ee7-221">Rozšíření značek DynamicResource</span><span class="sxs-lookup"><span data-stu-id="83ee7-221">DynamicResource Markup Extension</span></span>](dynamicresource-markup-extension.md)
- [<span data-ttu-id="83ee7-222">x:Type – rozšíření značek</span><span class="sxs-lookup"><span data-stu-id="83ee7-222">x:Type Markup Extension</span></span>](../../../desktop-wpf/xaml-services/xtype-markup-extension.md)
