---
title: Zabezpečení vlastností závislosti
ms.date: 03/30/2017
helpviewer_keywords:
- wrappers [WPF], access
- wrappers [WPF], security
- dependency properties [WPF], security
- security [WPF], wrappers
- validation [WPF], dependency properties
- dependency properties [WPF], access
- security [WPF], dependency properties
ms.assetid: d10150ec-90c5-4571-8d35-84bafa2429a4
ms.openlocfilehash: f5640b348ccd68819052f58756489489371862d0
ms.sourcegitcommit: 7588136e355e10cbc2582f389c90c127363c02a5
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 03/12/2020
ms.locfileid: "79186397"
---
# <a name="dependency-property-security"></a><span data-ttu-id="9fd22-102">Zabezpečení vlastností závislosti</span><span class="sxs-lookup"><span data-stu-id="9fd22-102">Dependency Property Security</span></span>
<span data-ttu-id="9fd22-103">Vlastnosti závislostí by obecně měly být považovány za veřejné vlastnosti.</span><span class="sxs-lookup"><span data-stu-id="9fd22-103">Dependency properties should generally be considered to be public properties.</span></span> <span data-ttu-id="9fd22-104">Povaha systému [!INCLUDE[TLA#tla_winclient](../../../../includes/tlasharptla-winclient-md.md)] vlastností zabraňuje možnost i zajištění záruky o hodnotu vlastnosti závislost.</span><span class="sxs-lookup"><span data-stu-id="9fd22-104">The nature of the [!INCLUDE[TLA#tla_winclient](../../../../includes/tlasharptla-winclient-md.md)] property system prevents the ability to make security guarantees about a dependency property value.</span></span>  

<a name="AccessSecurity"></a>
## <a name="access-and-security-of-wrappers-and-dependency-properties"></a><span data-ttu-id="9fd22-105">Přístup a zabezpečení obalů a vlastností závislostí</span><span class="sxs-lookup"><span data-stu-id="9fd22-105">Access and Security of Wrappers and Dependency Properties</span></span>  
 <span data-ttu-id="9fd22-106">Vlastnosti závislostí jsou obvykle implementovány spolu s vlastnostmi "obálky" common language runtime (CLR), které zjednodušují získávání nebo nastavování vlastnosti z instance.</span><span class="sxs-lookup"><span data-stu-id="9fd22-106">Typically, dependency properties are implemented along with "wrapper" common language runtime (CLR) properties that simplify getting or setting the property from an instance.</span></span> <span data-ttu-id="9fd22-107">Ale obálky jsou opravdu jen pohodlí <xref:System.Windows.DependencyObject.GetValue%2A> metody, které implementují základní a <xref:System.Windows.DependencyObject.SetValue%2A> statické volání, které se používají při interakci s vlastnostmi závislostí.</span><span class="sxs-lookup"><span data-stu-id="9fd22-107">But the wrappers are really just convenience methods that implement the underlying <xref:System.Windows.DependencyObject.GetValue%2A> and <xref:System.Windows.DependencyObject.SetValue%2A> static calls that are used when interacting with dependency properties.</span></span> <span data-ttu-id="9fd22-108">Přemýšlíte o tom jiným způsobem, vlastnosti jsou vystaveny jako běžné jazykové runtime (CLR) vlastnosti, které se stalo, že je zálohována závislost vlastnost, nikoli soukromé pole.</span><span class="sxs-lookup"><span data-stu-id="9fd22-108">Thinking of it in another way, the properties are exposed as common language runtime (CLR) properties that happen to be backed by a dependency property rather than by a private field.</span></span> <span data-ttu-id="9fd22-109">Mechanismy zabezpečení použité na obálky nejsou paralelní chování systému vlastností a přístup k základní vlastnost i závislost.</span><span class="sxs-lookup"><span data-stu-id="9fd22-109">Security mechanisms applied to the wrappers do not parallel the property system behavior and access of the underlying dependency property.</span></span> <span data-ttu-id="9fd22-110">Umístění požadavku na zabezpečení obálky zabrání pouze použití metody pohodlí, ale <xref:System.Windows.DependencyObject.GetValue%2A> <xref:System.Windows.DependencyObject.SetValue%2A>nezabrání volání nebo .</span><span class="sxs-lookup"><span data-stu-id="9fd22-110">Placing a security demand on the wrapper will only prevent the usage of the convenience method but will not prevent calls to <xref:System.Windows.DependencyObject.GetValue%2A> or <xref:System.Windows.DependencyObject.SetValue%2A>.</span></span> <span data-ttu-id="9fd22-111">Podobně umístění chráněné nebo soukromé úrovně přístupu na obálky neposkytuje žádné účinné zabezpečení.</span><span class="sxs-lookup"><span data-stu-id="9fd22-111">Similarly, placing protected or private access level on the wrappers does not provide any effective security.</span></span>  
  
 <span data-ttu-id="9fd22-112">Pokud píšete vlastní vlastnosti závislostí, měli byste <xref:System.Windows.DependencyProperty> deklarovat obálky a pole identifikátorjako veřejné členy, takže volající nedostanou zavádějící informace o skutečné úrovni přístupu této vlastnosti (z důvodu jeho úložiště je implementováno jako vlastnost závislosti).</span><span class="sxs-lookup"><span data-stu-id="9fd22-112">If you are writing your own dependency properties, you should declare the wrappers and the <xref:System.Windows.DependencyProperty> identifier field as public members, so that callers do not get misleading information about the true access level of that property (because of its store being implemented as a dependency property).</span></span>  
  
 <span data-ttu-id="9fd22-113">Pro vlastní závislost vlastnost, můžete zaregistrovat vlastnost jako vlastnost závislosti jen pro čtení, a to poskytuje efektivní prostředek k zabránění <xref:System.Windows.DependencyPropertyKey> vlastnost i nastavit kdokoli, kdo nemá odkaz na pro tuto vlastnost.</span><span class="sxs-lookup"><span data-stu-id="9fd22-113">For a custom dependency property, you can register your property as a read-only dependency property, and this does provide an effective means of preventing a property being set by anyone that does not hold a reference to the <xref:System.Windows.DependencyPropertyKey> for that property.</span></span> <span data-ttu-id="9fd22-114">Další informace naleznete v [tématu Vlastnosti závislostí jen pro čtení](read-only-dependency-properties.md).</span><span class="sxs-lookup"><span data-stu-id="9fd22-114">For more information, see [Read-Only Dependency Properties](read-only-dependency-properties.md).</span></span>  
  
> [!NOTE]
> <span data-ttu-id="9fd22-115">Deklarování <xref:System.Windows.DependencyProperty> identifikátor pole soukromé není zakázáno a může být pravděpodobně použit ke snížení okamžitě vystavený obor názvů vlastní třídy, ale taková vlastnost by neměla být považována za "soukromé" ve stejném smyslu jako definice jazyka CLR (COMMON Language runtime) definovat, že úroveň přístupu, z důvodů popsaných v další části.</span><span class="sxs-lookup"><span data-stu-id="9fd22-115">Declaring a <xref:System.Windows.DependencyProperty> identifier field private is not forbidden, and it can conceivably be used to help reduce the immediately exposed namespace of a custom class, but such a property should not be considered "private" in the same sense as the common language runtime (CLR) language definitions define that access level, for reasons described in the next section.</span></span>  
  
<a name="PropertySystemExposure"></a>
## <a name="property-system-exposure-of-dependency-properties"></a><span data-ttu-id="9fd22-116">Expozice vlastností vlastností vlastností vlastností</span><span class="sxs-lookup"><span data-stu-id="9fd22-116">Property System Exposure of Dependency Properties</span></span>  
 <span data-ttu-id="9fd22-117">Obecně není užitečné a potenciálně zavádějící deklarovat jako jakoukoli jinou úroveň přístupu <xref:System.Windows.DependencyProperty> než veřejnou.</span><span class="sxs-lookup"><span data-stu-id="9fd22-117">It is not generally useful, and it is potentially misleading, to declare a <xref:System.Windows.DependencyProperty> as any access level other than public.</span></span> <span data-ttu-id="9fd22-118">Toto nastavení úrovně přístupu pouze zabraňuje tomu, aby někdo mohl získat odkaz na instanci z deklarující třídy.</span><span class="sxs-lookup"><span data-stu-id="9fd22-118">That access level setting only prevents someone from being able to get a reference to the instance from the declaring class.</span></span> <span data-ttu-id="9fd22-119">Ale existuje několik aspektů systému vlastností, <xref:System.Windows.DependencyProperty> které vrátí jako prostředek identifikace konkrétní vlastnost, jak existuje na instanci třídy nebo odvozené instance <xref:System.Windows.DependencyObject.SetValue%2A> třídy a tento identifikátor je stále použitelný ve volání i v případě, že původní statický identifikátor je deklarován jako neveřejné.</span><span class="sxs-lookup"><span data-stu-id="9fd22-119">But there are several aspects of the property system that will return a <xref:System.Windows.DependencyProperty> as the means of identifying a particular property as it exists on an instance of a class or a derived class instance, and this identifier is still usable in a <xref:System.Windows.DependencyObject.SetValue%2A> call even if the original static identifier is declared as nonpublic.</span></span> <span data-ttu-id="9fd22-120"><xref:System.Windows.DependencyObject.OnPropertyChanged%2A> Virtuální metody také přijímat informace o všechny existující vlastnosti závislosti, která změnila hodnotu.</span><span class="sxs-lookup"><span data-stu-id="9fd22-120">Also, <xref:System.Windows.DependencyObject.OnPropertyChanged%2A> virtual methods receive information of any existing dependency property that changed value.</span></span> <span data-ttu-id="9fd22-121">Kromě toho <xref:System.Windows.DependencyObject.GetLocalValueEnumerator%2A> metoda vrátí identifikátory pro všechny vlastnosti na instance s místně nastavenou hodnotou.</span><span class="sxs-lookup"><span data-stu-id="9fd22-121">In addition, the <xref:System.Windows.DependencyObject.GetLocalValueEnumerator%2A> method returns identifiers for any property on instances with a locally set value.</span></span>  
  
### <a name="validation-and-security"></a><span data-ttu-id="9fd22-122">Ověření a zabezpečení</span><span class="sxs-lookup"><span data-stu-id="9fd22-122">Validation and Security</span></span>  
 <span data-ttu-id="9fd22-123">Použití požadavku a <xref:System.Windows.DependencyProperty.ValidateValueCallback%2A> očekává selhání ověření na selhání požadavku zabránit nastavení vlastnosti není odpovídající mechanismus zabezpečení.</span><span class="sxs-lookup"><span data-stu-id="9fd22-123">Applying a demand to a <xref:System.Windows.DependencyProperty.ValidateValueCallback%2A> and expecting the validation failure on a demand failure to prevent a property from being set is not an adequate security mechanism.</span></span> <span data-ttu-id="9fd22-124">Zneplatnění nastavené <xref:System.Windows.DependencyProperty.ValidateValueCallback%2A> hodnoty vynucené také prostřednictvím může být také potlačeno škodlivými volajícími, pokud tito volající pracují v doméně aplikace.</span><span class="sxs-lookup"><span data-stu-id="9fd22-124">Set-value invalidation enforced through <xref:System.Windows.DependencyProperty.ValidateValueCallback%2A> could also be suppressed by malicious callers, if those callers are operating within the application domain.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="9fd22-125">Viz také</span><span class="sxs-lookup"><span data-stu-id="9fd22-125">See also</span></span>

- [<span data-ttu-id="9fd22-126">Vlastní vlastnosti závislosti</span><span class="sxs-lookup"><span data-stu-id="9fd22-126">Custom Dependency Properties</span></span>](custom-dependency-properties.md)
