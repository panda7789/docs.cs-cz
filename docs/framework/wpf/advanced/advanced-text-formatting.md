---
title: Upřesněné formátování textu
ms.date: 03/30/2017
dev_langs:
- csharp
- vb
helpviewer_keywords:
- formatting [WPF]
- text [WPF]
- typography [WPF], text formatting
ms.assetid: f0a7986e-f5b2-485c-a27d-f8e922022212
ms.openlocfilehash: 2c120c6d71cb22bc38909f980b2f6faf2b5c3663
ms.sourcegitcommit: 2e95559d957a1a942e490c5fd916df04b39d73a9
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 10/16/2019
ms.locfileid: "72395221"
---
# <a name="advanced-text-formatting"></a><span data-ttu-id="f0e07-102">Upřesněné formátování textu</span><span class="sxs-lookup"><span data-stu-id="f0e07-102">Advanced Text Formatting</span></span>
<span data-ttu-id="f0e07-103">Windows Presentation Foundation (WPF) poskytuje robustní sadu rozhraní API pro zahrnutí textu do aplikace.</span><span class="sxs-lookup"><span data-stu-id="f0e07-103">The Windows Presentation Foundation (WPF) provides a robust set of APIs for including text in your application.</span></span> <span data-ttu-id="f0e07-104">Rozhraní API pro rozložení a [!INCLUDE[TLA#tla_ui](../../../../includes/tlasharptla-ui-md.md)], jako je například <xref:System.Windows.Controls.TextBlock>, poskytují nejběžnější a obecné prvky použití pro textovou prezentaci.</span><span class="sxs-lookup"><span data-stu-id="f0e07-104">Layout and [!INCLUDE[TLA#tla_ui](../../../../includes/tlasharptla-ui-md.md)]APIs, such as <xref:System.Windows.Controls.TextBlock>, provide the most common and general use elements for text presentation.</span></span> <span data-ttu-id="f0e07-105">Kreslicí rozhraní API, například <xref:System.Windows.Media.GlyphRunDrawing> a <xref:System.Windows.Media.FormattedText>, poskytují způsob, jak zahrnout formátovaný text do kreseb.</span><span class="sxs-lookup"><span data-stu-id="f0e07-105">Drawing APIs, such as <xref:System.Windows.Media.GlyphRunDrawing> and <xref:System.Windows.Media.FormattedText>, provide a means for including formatted text in drawings.</span></span> <span data-ttu-id="f0e07-106">Na nejvyšší úrovni [!INCLUDE[TLA2#tla_wpf](../../../../includes/tla2sharptla-wpf-md.md)] poskytuje nástroj rozšiřitelného formátování textu pro řízení všech aspektů textové prezentace, jako je Správa úložiště textu, Správa formátování textových běhů a Správa vložených objektů.</span><span class="sxs-lookup"><span data-stu-id="f0e07-106">At the most advanced level, [!INCLUDE[TLA2#tla_wpf](../../../../includes/tla2sharptla-wpf-md.md)] provides an extensible text formatting engine to control every aspect of text presentation, such as text store management, text run formatting management, and embedded object management.</span></span>  
  
 <span data-ttu-id="f0e07-107">Toto téma poskytuje Úvod do [!INCLUDE[TLA2#tla_wpf](../../../../includes/tla2sharptla-wpf-md.md)] formátování textu.</span><span class="sxs-lookup"><span data-stu-id="f0e07-107">This topic provides an introduction to [!INCLUDE[TLA2#tla_wpf](../../../../includes/tla2sharptla-wpf-md.md)] text formatting.</span></span> <span data-ttu-id="f0e07-108">Zaměřuje se na implementaci klienta a použití nástroje pro formátování [!INCLUDE[TLA2#tla_wpf](../../../../includes/tla2sharptla-wpf-md.md)]ho textu.</span><span class="sxs-lookup"><span data-stu-id="f0e07-108">It focuses on client implementation and use of the [!INCLUDE[TLA2#tla_wpf](../../../../includes/tla2sharptla-wpf-md.md)] text formatting engine.</span></span>  
  
> [!NOTE]
> <span data-ttu-id="f0e07-109">Všechny příklady kódu v tomto dokumentu najdete v [ukázce Rozšířené formátování textu](https://go.microsoft.com/fwlink/?LinkID=159965).</span><span class="sxs-lookup"><span data-stu-id="f0e07-109">All code examples within this document can be found in the [Advanced Text Formatting Sample](https://go.microsoft.com/fwlink/?LinkID=159965).</span></span>  

<a name="prereq"></a>   
## <a name="prerequisites"></a><span data-ttu-id="f0e07-110">Požadavky</span><span class="sxs-lookup"><span data-stu-id="f0e07-110">Prerequisites</span></span>  
 <span data-ttu-id="f0e07-111">V tomto tématu se předpokládá, že máte zkušenosti s rozhraními API vyšší úrovně použitými pro textovou prezentaci.</span><span class="sxs-lookup"><span data-stu-id="f0e07-111">This topic assumes that you are familiar with the higher level APIs used for text presentation.</span></span> <span data-ttu-id="f0e07-112">Většina uživatelských scénářů nebude vyžadovat rozhraní API pro rozšířené formátování textu popsané v tomto tématu.</span><span class="sxs-lookup"><span data-stu-id="f0e07-112">Most user scenarios will not require the advanced text formatting APIs discussed in this topic.</span></span> <span data-ttu-id="f0e07-113">Úvod do různých textových rozhraní API naleznete [v tématu dokumenty v WPF](documents-in-wpf.md).</span><span class="sxs-lookup"><span data-stu-id="f0e07-113">For an introduction to the different text APIs, see [Documents in WPF](documents-in-wpf.md).</span></span>  
  
<a name="section1"></a>   
## <a name="advanced-text-formatting"></a><span data-ttu-id="f0e07-114">Upřesněné formátování textu</span><span class="sxs-lookup"><span data-stu-id="f0e07-114">Advanced Text Formatting</span></span>  
 <span data-ttu-id="f0e07-115">Ovládací prvky rozložení textu a [!INCLUDE[TLA2#tla_ui](../../../../includes/tla2sharptla-ui-md.md)] v [!INCLUDE[TLA2#tla_wpf](../../../../includes/tla2sharptla-wpf-md.md)] poskytují vlastnosti formátování, které umožňují snadno zahrnout formátovaný text do aplikace.</span><span class="sxs-lookup"><span data-stu-id="f0e07-115">The text layout and [!INCLUDE[TLA2#tla_ui](../../../../includes/tla2sharptla-ui-md.md)] controls in [!INCLUDE[TLA2#tla_wpf](../../../../includes/tla2sharptla-wpf-md.md)] provide formatting properties that allow you to easily include formatted text in your application.</span></span> <span data-ttu-id="f0e07-116">Tyto ovládací prvky zpřístupňují několik vlastností, které umožňují zpracování prezentace textu, včetně řezu písma, velikosti a barvy.</span><span class="sxs-lookup"><span data-stu-id="f0e07-116">These controls expose a number of properties to handle the presentation of text, which includes its typeface, size, and color.</span></span> <span data-ttu-id="f0e07-117">V běžných případech tyto ovládací prvky mohou ve vaší aplikaci zpracovat většinu textových prezentací.</span><span class="sxs-lookup"><span data-stu-id="f0e07-117">Under ordinary circumstances, these controls can handle the majority of text presentation in your application.</span></span> <span data-ttu-id="f0e07-118">Některé pokročilé scénáře však vyžadují řízení ukládání textu a prezentaci textu.</span><span class="sxs-lookup"><span data-stu-id="f0e07-118">However, some advanced scenarios require the control of text storage as well as text presentation.</span></span> [!INCLUDE[TLA2#tla_wpf](../../../../includes/tla2sharptla-wpf-md.md)] <span data-ttu-id="f0e07-119">poskytuje pro tento účel nástroj rozšiřitelného formátování textu.</span><span class="sxs-lookup"><span data-stu-id="f0e07-119">provides an extensible text formatting engine for this purpose.</span></span>  
  
 <span data-ttu-id="f0e07-120">Funkce Rozšířené formátování textu nalezené v [!INCLUDE[TLA2#tla_wpf](../../../../includes/tla2sharptla-wpf-md.md)] sestávají z modulu formátování textu, textového úložiště, textu a vlastností formátování.</span><span class="sxs-lookup"><span data-stu-id="f0e07-120">The advanced text formatting features found in [!INCLUDE[TLA2#tla_wpf](../../../../includes/tla2sharptla-wpf-md.md)] consist of a text formatting engine, a text store, text runs, and formatting properties.</span></span> <span data-ttu-id="f0e07-121">Modul formátování textu, <xref:System.Windows.Media.TextFormatting.TextFormatter>, vytvoří řádky textu, které se mají použít pro prezentaci.</span><span class="sxs-lookup"><span data-stu-id="f0e07-121">The text formatting engine, <xref:System.Windows.Media.TextFormatting.TextFormatter>, creates lines of text to be used for presentation.</span></span> <span data-ttu-id="f0e07-122">Toho je dosaženo inicializací procesu formátování řádku a voláním <xref:System.Windows.Media.TextFormatting.TextFormatter.FormatLine%2A>formátovacího modulu textu.</span><span class="sxs-lookup"><span data-stu-id="f0e07-122">This is achieved by initiating the line formatting process and calling the text formatter's <xref:System.Windows.Media.TextFormatting.TextFormatter.FormatLine%2A>.</span></span> <span data-ttu-id="f0e07-123">Formátování textu načte text spouštěný z vašeho textového úložiště voláním metody <xref:System.Windows.Media.TextFormatting.TextSource.GetTextRun%2A> Storu.</span><span class="sxs-lookup"><span data-stu-id="f0e07-123">The text formatter retrieves text runs from your text store by calling the store's <xref:System.Windows.Media.TextFormatting.TextSource.GetTextRun%2A> method.</span></span> <span data-ttu-id="f0e07-124">Objekty <xref:System.Windows.Media.TextFormatting.TextRun> jsou poté vytvořeny do <xref:System.Windows.Media.TextFormatting.TextLine> objektů pomocí formátovacího modulu textu a dány vaší aplikaci pro kontrolu nebo zobrazení.</span><span class="sxs-lookup"><span data-stu-id="f0e07-124">The <xref:System.Windows.Media.TextFormatting.TextRun> objects are then formed into <xref:System.Windows.Media.TextFormatting.TextLine> objects by the text formatter and given to your application for inspection or display.</span></span>  
  
<a name="section2"></a>   
## <a name="using-the-text-formatter"></a><span data-ttu-id="f0e07-125">Použití formátovacího textu</span><span class="sxs-lookup"><span data-stu-id="f0e07-125">Using the Text Formatter</span></span>  
 <span data-ttu-id="f0e07-126"><xref:System.Windows.Media.TextFormatting.TextFormatter> je modul pro formátování [!INCLUDE[TLA2#tla_wpf](../../../../includes/tla2sharptla-wpf-md.md)] textu a poskytuje služby pro formátování a zalamování textových řádků.</span><span class="sxs-lookup"><span data-stu-id="f0e07-126"><xref:System.Windows.Media.TextFormatting.TextFormatter> is the [!INCLUDE[TLA2#tla_wpf](../../../../includes/tla2sharptla-wpf-md.md)] text formatting engine and provides services for formatting and breaking text lines.</span></span> <span data-ttu-id="f0e07-127">Formátování textu může zpracovávat různé formáty textových znaků a odstavcové styly a zahrnuje podporu pro mezinárodní rozložení textu.</span><span class="sxs-lookup"><span data-stu-id="f0e07-127">The text formatter can handle different text character formats and paragraph styles, and includes support for international text layout.</span></span>  
  
 <span data-ttu-id="f0e07-128">Na rozdíl od tradičního textového rozhraní API <xref:System.Windows.Media.TextFormatting.TextFormatter> komunikuje s klientem rozložení textu prostřednictvím sady metod zpětného volání.</span><span class="sxs-lookup"><span data-stu-id="f0e07-128">Unlike a traditional text API, the <xref:System.Windows.Media.TextFormatting.TextFormatter> interacts with a text layout client through a set of callback methods.</span></span> <span data-ttu-id="f0e07-129">Vyžaduje, aby klient poskytoval tyto metody v implementaci třídy <xref:System.Windows.Media.TextFormatting.TextSource>.</span><span class="sxs-lookup"><span data-stu-id="f0e07-129">It requires the client to provide these methods in an implementation of the <xref:System.Windows.Media.TextFormatting.TextSource> class.</span></span> <span data-ttu-id="f0e07-130">Následující diagram znázorňuje interakci rozložení textu mezi klientskou aplikací a <xref:System.Windows.Media.TextFormatting.TextFormatter>.</span><span class="sxs-lookup"><span data-stu-id="f0e07-130">The following diagram illustrates the text layout interaction between the client application and <xref:System.Windows.Media.TextFormatting.TextFormatter>.</span></span>  
  
 ![Diagram klienta rozložení textu a TextFormatter](./media/advanced-text-formatting/text-layout-textformatter-interaction.png)  
  
 <span data-ttu-id="f0e07-132">Formátování textu se používá k načtení formátovaných textových řádků z úložiště textu, což je implementace <xref:System.Windows.Media.TextFormatting.TextSource>.</span><span class="sxs-lookup"><span data-stu-id="f0e07-132">The text formatter is used to retrieve formatted text lines from the text store, which is an implementation of <xref:System.Windows.Media.TextFormatting.TextSource>.</span></span> <span data-ttu-id="f0e07-133">To se provádí tak, že nejprve vytvoříte instanci formátování textu pomocí metody <xref:System.Windows.Media.TextFormatting.TextFormatter.Create%2A>.</span><span class="sxs-lookup"><span data-stu-id="f0e07-133">This is done by first creating an instance of the text formatter by using the <xref:System.Windows.Media.TextFormatting.TextFormatter.Create%2A> method.</span></span> <span data-ttu-id="f0e07-134">Tato metoda vytvoří instanci formátování textu a nastaví maximální hodnoty výšky a šířky čáry.</span><span class="sxs-lookup"><span data-stu-id="f0e07-134">This method creates an instance of the text formatter and sets the maximum line height and width values.</span></span> <span data-ttu-id="f0e07-135">Jakmile je vytvořena instance formátování textu, je proces vytvoření řádku spuštěn voláním metody <xref:System.Windows.Media.TextFormatting.TextFormatter.FormatLine%2A>.</span><span class="sxs-lookup"><span data-stu-id="f0e07-135">As soon as an instance of the text formatter is created, the line creation process is started by calling the <xref:System.Windows.Media.TextFormatting.TextFormatter.FormatLine%2A> method.</span></span> <span data-ttu-id="f0e07-136"><xref:System.Windows.Media.TextFormatting.TextFormatter> volání zpět do zdroje textu pro načtení textu a formátovacích parametrů pro spuštění textu, který tvoří čáru.</span><span class="sxs-lookup"><span data-stu-id="f0e07-136"><xref:System.Windows.Media.TextFormatting.TextFormatter> calls back to the text source to retrieve the text and formatting parameters for the runs of text that form a line.</span></span>  
  
 <span data-ttu-id="f0e07-137">V následujícím příkladu se zobrazuje proces formátování textového úložiště.</span><span class="sxs-lookup"><span data-stu-id="f0e07-137">In the following example, the process of formatting a text store is shown.</span></span> <span data-ttu-id="f0e07-138">Objekt <xref:System.Windows.Media.TextFormatting.TextFormatter> slouží k načtení textových řádků z úložiště textu a následnému formátování řádku textu pro kreslení do <xref:System.Windows.Media.DrawingContext>.</span><span class="sxs-lookup"><span data-stu-id="f0e07-138">The <xref:System.Windows.Media.TextFormatting.TextFormatter> object is used to retrieve text lines from the text store and then format the text line for drawing into the <xref:System.Windows.Media.DrawingContext>.</span></span>  
  
 [!code-csharp[TextFormatterExample#100](~/samples/snippets/csharp/VS_Snippets_Wpf/TextFormatterExample/CSharp/Window1.xaml.cs#100)]
 [!code-vb[TextFormatterExample#100](~/samples/snippets/visualbasic/VS_Snippets_Wpf/TextFormatterExample/VisualBasic/Window1.xaml.vb#100)]  
  
<a name="section3"></a>   
## <a name="implementing-the-client-text-store"></a><span data-ttu-id="f0e07-139">Implementace úložiště textu klienta</span><span class="sxs-lookup"><span data-stu-id="f0e07-139">Implementing the Client Text Store</span></span>  
 <span data-ttu-id="f0e07-140">Když rozšíříte modul formátování textu, je nutné implementovat a spravovat všechny aspekty v úložišti textu.</span><span class="sxs-lookup"><span data-stu-id="f0e07-140">When you extend the text formatting engine, you are required to implement and manage all aspects of the text store.</span></span> <span data-ttu-id="f0e07-141">Nejedná se o triviální úlohu.</span><span class="sxs-lookup"><span data-stu-id="f0e07-141">This is not a trivial task.</span></span> <span data-ttu-id="f0e07-142">Úložiště textu zodpovídá za sledování vlastností běhu textu, vlastností odstavce, vložených objektů a dalšího podobného obsahu.</span><span class="sxs-lookup"><span data-stu-id="f0e07-142">The text store is responsible for tracking text run properties, paragraph properties, embedded objects, and other similar content.</span></span> <span data-ttu-id="f0e07-143">Poskytuje také formátovací text s jednotlivými <xref:System.Windows.Media.TextFormatting.TextRun> objekty, které formátovací modul textu používá k vytvoření <xref:System.Windows.Media.TextFormatting.TextLine> objektů.</span><span class="sxs-lookup"><span data-stu-id="f0e07-143">It also provides the text formatter with individual <xref:System.Windows.Media.TextFormatting.TextRun> objects which the text formatter uses to create <xref:System.Windows.Media.TextFormatting.TextLine> objects.</span></span>  
  
 <span data-ttu-id="f0e07-144">Aby bylo možné zpracovat virtualizaci textového úložiště, musí být úložiště textu odvozeno od <xref:System.Windows.Media.TextFormatting.TextSource>.</span><span class="sxs-lookup"><span data-stu-id="f0e07-144">To handle the virtualization of the text store, the text store must be derived from <xref:System.Windows.Media.TextFormatting.TextSource>.</span></span> <span data-ttu-id="f0e07-145"><xref:System.Windows.Media.TextFormatting.TextSource> definuje metodu, kterou formátovací modul textu používá k načtení textových běhů z úložiště textu.</span><span class="sxs-lookup"><span data-stu-id="f0e07-145"><xref:System.Windows.Media.TextFormatting.TextSource> defines the method the text formatter uses to retrieve text runs from the text store.</span></span> <span data-ttu-id="f0e07-146"><xref:System.Windows.Media.TextFormatting.TextSource.GetTextRun%2A> je metoda, kterou formátovací modul textu používá k načtení textových běhů používaných při formátování čáry.</span><span class="sxs-lookup"><span data-stu-id="f0e07-146"><xref:System.Windows.Media.TextFormatting.TextSource.GetTextRun%2A> is the method used by the text formatter to retrieve text runs used in line formatting.</span></span> <span data-ttu-id="f0e07-147">Volání <xref:System.Windows.Media.TextFormatting.TextSource.GetTextRun%2A> je opakovaně provedeno pomocí formátovacího modulu textu, dokud nedojde k jedné z následujících podmínek:</span><span class="sxs-lookup"><span data-stu-id="f0e07-147">The call to <xref:System.Windows.Media.TextFormatting.TextSource.GetTextRun%2A> is repeatedly made by the text formatter until one of the following conditions occurs:</span></span>  
  
- <span data-ttu-id="f0e07-148">Vrátí <xref:System.Windows.Media.TextFormatting.TextEndOfLine> nebo podtřídu.</span><span class="sxs-lookup"><span data-stu-id="f0e07-148">A <xref:System.Windows.Media.TextFormatting.TextEndOfLine> or a subclass is returned.</span></span>  
  
- <span data-ttu-id="f0e07-149">Kumulovaná šířka textu je větší než maximální tloušťka čáry zadaná v volání pro vytvoření formátovacího textu nebo volání metody formátování textu <xref:System.Windows.Media.TextFormatting.TextFormatter.FormatLine%2A>.</span><span class="sxs-lookup"><span data-stu-id="f0e07-149">The accumulated width of text runs exceeds the maximum line width specified in either the call to create the text formatter or the call to the text formatter's <xref:System.Windows.Media.TextFormatting.TextFormatter.FormatLine%2A> method.</span></span>  
  
- <span data-ttu-id="f0e07-150">Vrátí se sekvence nového řádku Unicode, například "CF", "LF" nebo "CRLF".</span><span class="sxs-lookup"><span data-stu-id="f0e07-150">A Unicode newline sequence, such as "CF", "LF", or "CRLF", is returned.</span></span>  
  
<a name="section4"></a>   
## <a name="providing-text-runs"></a><span data-ttu-id="f0e07-151">Poskytování textových běhů</span><span class="sxs-lookup"><span data-stu-id="f0e07-151">Providing Text Runs</span></span>  
 <span data-ttu-id="f0e07-152">Základem procesu formátování textu je interakce mezi formátováním textu a úložištěm textu.</span><span class="sxs-lookup"><span data-stu-id="f0e07-152">The core of the text formatting process is the interaction between the text formatter and the text store.</span></span> <span data-ttu-id="f0e07-153">Vaše implementace <xref:System.Windows.Media.TextFormatting.TextSource> poskytuje formátování textu pomocí objektů <xref:System.Windows.Media.TextFormatting.TextRun> a vlastností, které mají formátovat text.</span><span class="sxs-lookup"><span data-stu-id="f0e07-153">Your implementation of <xref:System.Windows.Media.TextFormatting.TextSource> provides the text formatter with the <xref:System.Windows.Media.TextFormatting.TextRun> objects and the properties with which to format the text runs.</span></span> <span data-ttu-id="f0e07-154">Tato interakce je zpracována metodou <xref:System.Windows.Media.TextFormatting.TextSource.GetTextRun%2A>, která je volána pomocí formátovacího modulu textu.</span><span class="sxs-lookup"><span data-stu-id="f0e07-154">This interaction is handled by the <xref:System.Windows.Media.TextFormatting.TextSource.GetTextRun%2A> method, which is called by the text formatter.</span></span>  
  
 <span data-ttu-id="f0e07-155">V následující tabulce jsou uvedeny některé z předdefinovaných <xref:System.Windows.Media.TextFormatting.TextRun> objektů.</span><span class="sxs-lookup"><span data-stu-id="f0e07-155">The following table shows some of the predefined <xref:System.Windows.Media.TextFormatting.TextRun> objects.</span></span>  
  
|<span data-ttu-id="f0e07-156">Typ TextRun</span><span class="sxs-lookup"><span data-stu-id="f0e07-156">TextRun Type</span></span>|<span data-ttu-id="f0e07-157">Využití</span><span class="sxs-lookup"><span data-stu-id="f0e07-157">Usage</span></span>|  
|------------------|-----------|  
|<xref:System.Windows.Media.TextFormatting.TextCharacters>|<span data-ttu-id="f0e07-158">Specializovaný text, který se používá k předání reprezentace znaků glyfů zpátky do formátovacího modulu textu.</span><span class="sxs-lookup"><span data-stu-id="f0e07-158">The specialized text run used to pass a representation of character glyphs back to the text formatter.</span></span>|  
|<xref:System.Windows.Media.TextFormatting.TextEmbeddedObject>|<span data-ttu-id="f0e07-159">Specializovaný text, který se používá k poskytnutí obsahu při měření, testování přístupů a vykreslování, se provádí v celém rozsahu, jako je například tlačítko nebo obrázek v rámci textu.</span><span class="sxs-lookup"><span data-stu-id="f0e07-159">The specialized text run used to provide content in which measuring, hit testing, and drawing is done in whole, such as a button or image within the text.</span></span>|  
|<xref:System.Windows.Media.TextFormatting.TextEndOfLine>|<span data-ttu-id="f0e07-160">Slouží ke spuštění specializovaného textu k označení konce řádku.</span><span class="sxs-lookup"><span data-stu-id="f0e07-160">The specialized text run used to mark the end of a line.</span></span>|  
|<xref:System.Windows.Media.TextFormatting.TextEndOfParagraph>|<span data-ttu-id="f0e07-161">Slouží ke spuštění specializovaného textu, který označuje konec odstavce.</span><span class="sxs-lookup"><span data-stu-id="f0e07-161">The specialized text run used to mark the end of a paragraph.</span></span>|  
|<xref:System.Windows.Media.TextFormatting.TextEndOfSegment>|<span data-ttu-id="f0e07-162">Slouží ke spuštění specializovaného textu k označení konce segmentu, například k ukončení rozsahu ovlivněného předchozí <xref:System.Windows.Media.TextFormatting.TextModifier> spuštění.</span><span class="sxs-lookup"><span data-stu-id="f0e07-162">The specialized text run used to mark the end of a segment, such as to end the scope affected by a previous <xref:System.Windows.Media.TextFormatting.TextModifier> run.</span></span>|  
|<xref:System.Windows.Media.TextFormatting.TextHidden>|<span data-ttu-id="f0e07-163">Pomocí specializovaného textu lze označit rozsah skrytých znaků.</span><span class="sxs-lookup"><span data-stu-id="f0e07-163">The specialized text run used to mark a range of hidden characters.</span></span>|  
|<xref:System.Windows.Media.TextFormatting.TextModifier>|<span data-ttu-id="f0e07-164">Použití specializovaného textu, který slouží k úpravě vlastností textu, se spouští ve svém rozsahu.</span><span class="sxs-lookup"><span data-stu-id="f0e07-164">The specialized text run used to modify properties of text runs in its scope.</span></span> <span data-ttu-id="f0e07-165">Rozsah se rozšíří na další vyhovující <xref:System.Windows.Media.TextFormatting.TextEndOfSegment> text, nebo na další <xref:System.Windows.Media.TextFormatting.TextEndOfParagraph>.</span><span class="sxs-lookup"><span data-stu-id="f0e07-165">The scope extends to the next matching <xref:System.Windows.Media.TextFormatting.TextEndOfSegment> text run, or the next <xref:System.Windows.Media.TextFormatting.TextEndOfParagraph>.</span></span>|  
  
 <span data-ttu-id="f0e07-166">Kterýkoli z předdefinovaných <xref:System.Windows.Media.TextFormatting.TextRun> objektů může být podtříd.</span><span class="sxs-lookup"><span data-stu-id="f0e07-166">Any of the predefined <xref:System.Windows.Media.TextFormatting.TextRun> objects can be subclassed.</span></span> <span data-ttu-id="f0e07-167">To umožňuje, aby zdroj textu poskytoval textovou formátovací zprávu s textovými běhy, které obsahují vlastní data.</span><span class="sxs-lookup"><span data-stu-id="f0e07-167">This allows your text source to provide the text formatter with text runs that include custom data.</span></span>  
  
 <span data-ttu-id="f0e07-168">Následující příklad ukazuje metodu <xref:System.Windows.Media.TextFormatting.TextSource.GetTextRun%2A>.</span><span class="sxs-lookup"><span data-stu-id="f0e07-168">The following example demonstrates a <xref:System.Windows.Media.TextFormatting.TextSource.GetTextRun%2A> method.</span></span> <span data-ttu-id="f0e07-169">Toto úložiště textu vrátí <xref:System.Windows.Media.TextFormatting.TextRun> objekty do formátovacího modulu textu pro zpracování.</span><span class="sxs-lookup"><span data-stu-id="f0e07-169">This text store returns <xref:System.Windows.Media.TextFormatting.TextRun> objects to the text formatter for processing.</span></span>  
  
 [!code-csharp[TextFormatterExample#101](~/samples/snippets/csharp/VS_Snippets_Wpf/TextFormatterExample/CSharp/CustomTextSource.cs#101)]
 [!code-vb[TextFormatterExample#101](~/samples/snippets/visualbasic/VS_Snippets_Wpf/TextFormatterExample/VisualBasic/CustomTextSource.vb#101)]  
  
> [!NOTE]
> <span data-ttu-id="f0e07-170">V tomto příkladu ukládá textové úložiště do celého textu stejné vlastnosti textu.</span><span class="sxs-lookup"><span data-stu-id="f0e07-170">In this example, the text store provides the same text properties to all of the text.</span></span> <span data-ttu-id="f0e07-171">Rozšířené úložiště textu by muselo implementovat vlastní správu rozsahu, aby jednotlivé znaky mohly mít různé vlastnosti.</span><span class="sxs-lookup"><span data-stu-id="f0e07-171">Advanced text stores would need to implement their own span management to allow individual characters to have different properties.</span></span>  
  
<a name="section5"></a>   
## <a name="specifying-formatting-properties"></a><span data-ttu-id="f0e07-172">Určení vlastností formátování</span><span class="sxs-lookup"><span data-stu-id="f0e07-172">Specifying Formatting Properties</span></span>  
 <span data-ttu-id="f0e07-173">objekty <xref:System.Windows.Media.TextFormatting.TextRun> jsou formátovány pomocí vlastností poskytovaných v úložišti textu.</span><span class="sxs-lookup"><span data-stu-id="f0e07-173"><xref:System.Windows.Media.TextFormatting.TextRun> objects are formatted by using properties provided by the text store.</span></span> <span data-ttu-id="f0e07-174">Tyto vlastnosti jsou dva typy <xref:System.Windows.Media.TextFormatting.TextParagraphProperties> a <xref:System.Windows.Media.TextFormatting.TextRunProperties>.</span><span class="sxs-lookup"><span data-stu-id="f0e07-174">These properties come in two types, <xref:System.Windows.Media.TextFormatting.TextParagraphProperties> and <xref:System.Windows.Media.TextFormatting.TextRunProperties>.</span></span> <span data-ttu-id="f0e07-175"><xref:System.Windows.Media.TextFormatting.TextParagraphProperties> zpracovat všechny vlastnosti odstavce včetně <xref:System.Windows.TextAlignment> a <xref:System.Windows.FlowDirection>.</span><span class="sxs-lookup"><span data-stu-id="f0e07-175"><xref:System.Windows.Media.TextFormatting.TextParagraphProperties> handle paragraph inclusive properties such as <xref:System.Windows.TextAlignment> and <xref:System.Windows.FlowDirection>.</span></span> <span data-ttu-id="f0e07-176"><xref:System.Windows.Media.TextFormatting.TextRunProperties> jsou vlastnosti, které se mohou lišit pro každý text spouštěný v rámci odstavce, jako je například štětec popředí, <xref:System.Windows.Media.Typeface>a velikost písma.</span><span class="sxs-lookup"><span data-stu-id="f0e07-176"><xref:System.Windows.Media.TextFormatting.TextRunProperties> are properties that can be different for each text run within a paragraph, such as foreground brush, <xref:System.Windows.Media.Typeface>, and font size.</span></span> <span data-ttu-id="f0e07-177">Chcete-li implementovat vlastní odstavcový a vlastní typy vlastností spuštění textu, musí vaše aplikace vytvořit třídy, které jsou odvozeny od <xref:System.Windows.Media.TextFormatting.TextParagraphProperties> a <xref:System.Windows.Media.TextFormatting.TextRunProperties> v uvedeném pořadí.</span><span class="sxs-lookup"><span data-stu-id="f0e07-177">To implement custom paragraph and custom text run property types, your application must create classes that derive from <xref:System.Windows.Media.TextFormatting.TextParagraphProperties> and <xref:System.Windows.Media.TextFormatting.TextRunProperties> respectively.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="f0e07-178">Viz také:</span><span class="sxs-lookup"><span data-stu-id="f0e07-178">See also</span></span>

- [<span data-ttu-id="f0e07-179">Typografie v rozhraní WPF</span><span class="sxs-lookup"><span data-stu-id="f0e07-179">Typography in WPF</span></span>](typography-in-wpf.md)
- [<span data-ttu-id="f0e07-180">Dokumenty v platformě WPF</span><span class="sxs-lookup"><span data-stu-id="f0e07-180">Documents in WPF</span></span>](documents-in-wpf.md)
