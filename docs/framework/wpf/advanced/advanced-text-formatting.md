---
title: Upřesněné formátování textu
ms.date: 03/30/2017
dev_langs:
- csharp
- vb
helpviewer_keywords:
- formatting [WPF]
- text [WPF]
- typography [WPF], text formatting
ms.assetid: f0a7986e-f5b2-485c-a27d-f8e922022212
ms.openlocfilehash: 745d20e0bd4f877f9d4559f9fc7829b56689d35c
ms.sourcegitcommit: 7588136e355e10cbc2582f389c90c127363c02a5
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 03/12/2020
ms.locfileid: "79185932"
---
# <a name="advanced-text-formatting"></a><span data-ttu-id="18ab2-102">Upřesněné formátování textu</span><span class="sxs-lookup"><span data-stu-id="18ab2-102">Advanced Text Formatting</span></span>
<span data-ttu-id="18ab2-103">Windows Presentation Foundation (WPF) poskytuje robustní sadu api pro zahrnutí textu do aplikace.</span><span class="sxs-lookup"><span data-stu-id="18ab2-103">Windows Presentation Foundation (WPF) provides a robust set of APIs for including text in your application.</span></span> <span data-ttu-id="18ab2-104">Rozložení [!INCLUDE[TLA#tla_ui](../../../../includes/tlasharptla-ui-md.md)] a rozhraní API, například <xref:System.Windows.Controls.TextBlock>, poskytují nejběžnější a obecné použití prvků pro textovou prezentaci.</span><span class="sxs-lookup"><span data-stu-id="18ab2-104">Layout and [!INCLUDE[TLA#tla_ui](../../../../includes/tlasharptla-ui-md.md)] APIs, such as <xref:System.Windows.Controls.TextBlock>, provide the most common and general-use elements for text presentation.</span></span> <span data-ttu-id="18ab2-105">Kreslicí <xref:System.Windows.Media.GlyphRunDrawing> prostředí <xref:System.Windows.Media.FormattedText>API, například a , poskytují prostředky pro zahrnutí formátovaného textu do výkresů.</span><span class="sxs-lookup"><span data-stu-id="18ab2-105">Drawing APIs, such as <xref:System.Windows.Media.GlyphRunDrawing> and <xref:System.Windows.Media.FormattedText>, provide a means for including formatted text in drawings.</span></span> <span data-ttu-id="18ab2-106">Na nejpokročilejší úrovni wpf poskytuje rozšiřitelný modul formátování textu pro řízení každého aspektu textové prezentace, jako je například správa úložiště textu, správa formátování spouštění textu a správa vložených objektů.</span><span class="sxs-lookup"><span data-stu-id="18ab2-106">At the most advanced level, WPF provides an extensible text formatting engine to control every aspect of text presentation, such as text store management, text run formatting management, and embedded object management.</span></span>  
  
 <span data-ttu-id="18ab2-107">Toto téma obsahuje úvod do formátování textu WPF.</span><span class="sxs-lookup"><span data-stu-id="18ab2-107">This topic provides an introduction to WPF text formatting.</span></span> <span data-ttu-id="18ab2-108">Zaměřuje se na implementaci klienta a použití wpf modulu pro formátování textu.</span><span class="sxs-lookup"><span data-stu-id="18ab2-108">It focuses on client implementation and use of the WPF text formatting engine.</span></span>  
  
> [!NOTE]
> <span data-ttu-id="18ab2-109">Všechny příklady kódu v tomto dokumentu naleznete v [ukázce](https://github.com/Microsoft/WPF-Samples/tree/master/PerMonitorDPI/TextFormatting)formátování rozšířeného textu .</span><span class="sxs-lookup"><span data-stu-id="18ab2-109">All code examples within this document can be found in the [Advanced Text Formatting Sample](https://github.com/Microsoft/WPF-Samples/tree/master/PerMonitorDPI/TextFormatting).</span></span>  

<a name="prereq"></a>
## <a name="prerequisites"></a><span data-ttu-id="18ab2-110">Požadavky</span><span class="sxs-lookup"><span data-stu-id="18ab2-110">Prerequisites</span></span>  
 <span data-ttu-id="18ab2-111">Toto téma předpokládá, že jste obeznámeni s vyšší úrovní api používané pro textovou prezentaci.</span><span class="sxs-lookup"><span data-stu-id="18ab2-111">This topic assumes that you are familiar with the higher level APIs used for text presentation.</span></span> <span data-ttu-id="18ab2-112">Většina uživatelských scénářů nebude vyžadovat rozhraní API pro formátování rozšířeného textu, která jsou popsána v tomto tématu.</span><span class="sxs-lookup"><span data-stu-id="18ab2-112">Most user scenarios will not require the advanced text formatting APIs discussed in this topic.</span></span> <span data-ttu-id="18ab2-113">Úvod k různým textovým apim naleznete [v tématu Dokumenty v wpf](documents-in-wpf.md).</span><span class="sxs-lookup"><span data-stu-id="18ab2-113">For an introduction to the different text APIs, see [Documents in WPF](documents-in-wpf.md).</span></span>  
  
<a name="section1"></a>
## <a name="advanced-text-formatting"></a><span data-ttu-id="18ab2-114">Upřesněné formátování textu</span><span class="sxs-lookup"><span data-stu-id="18ab2-114">Advanced Text Formatting</span></span>  
 <span data-ttu-id="18ab2-115">Rozložení textu [!INCLUDE[TLA2#tla_ui](../../../../includes/tla2sharptla-ui-md.md)] a ovládací prvky v wpf poskytují vlastnosti formátování, které umožňují snadno zahrnout formátovaný text v aplikaci.</span><span class="sxs-lookup"><span data-stu-id="18ab2-115">The text layout and [!INCLUDE[TLA2#tla_ui](../../../../includes/tla2sharptla-ui-md.md)] controls in WPF provide formatting properties that allow you to easily include formatted text in your application.</span></span> <span data-ttu-id="18ab2-116">Tyto ovládací prvky vystavit řadu vlastností pro zpracování prezentace textu, který zahrnuje jeho písmo, velikost a barvu.</span><span class="sxs-lookup"><span data-stu-id="18ab2-116">These controls expose a number of properties to handle the presentation of text, which includes its typeface, size, and color.</span></span> <span data-ttu-id="18ab2-117">Za běžných okolností tyto ovládací prvky můžete zpracovat většinu textové prezentace ve vaší aplikaci.</span><span class="sxs-lookup"><span data-stu-id="18ab2-117">Under ordinary circumstances, these controls can handle the majority of text presentation in your application.</span></span> <span data-ttu-id="18ab2-118">Některé pokročilé scénáře však vyžadují kontrolu nad ukládáním textu i textovou prezentací.</span><span class="sxs-lookup"><span data-stu-id="18ab2-118">However, some advanced scenarios require the control of text storage as well as text presentation.</span></span> <span data-ttu-id="18ab2-119">WPF poskytuje rozšiřitelný modul formátování textu pro tento účel.</span><span class="sxs-lookup"><span data-stu-id="18ab2-119">WPF provides an extensible text formatting engine for this purpose.</span></span>  
  
 <span data-ttu-id="18ab2-120">Pokročilé funkce formátování textu, které se nacházejí v wpf, se skládají z modulu formátování textu, úložiště textu, spuštění textu a vlastností formátování.</span><span class="sxs-lookup"><span data-stu-id="18ab2-120">The advanced text formatting features found in WPF consist of a text formatting engine, a text store, text runs, and formatting properties.</span></span> <span data-ttu-id="18ab2-121">Modul formátování textu , <xref:System.Windows.Media.TextFormatting.TextFormatter>vytvoří řádky textu, které se použijí pro prezentaci.</span><span class="sxs-lookup"><span data-stu-id="18ab2-121">The text formatting engine, <xref:System.Windows.Media.TextFormatting.TextFormatter>, creates lines of text to be used for presentation.</span></span> <span data-ttu-id="18ab2-122">Toho je dosaženo zahájením procesu formátování linky a voláním <xref:System.Windows.Media.TextFormatting.TextFormatter.FormatLine%2A>textu formátu .</span><span class="sxs-lookup"><span data-stu-id="18ab2-122">This is achieved by initiating the line formatting process and calling the text formatter's <xref:System.Windows.Media.TextFormatting.TextFormatter.FormatLine%2A>.</span></span> <span data-ttu-id="18ab2-123">Formátformát textu načte text běží z úložiště textu <xref:System.Windows.Media.TextFormatting.TextSource.GetTextRun%2A> voláním metody úložiště.</span><span class="sxs-lookup"><span data-stu-id="18ab2-123">The text formatter retrieves text runs from your text store by calling the store's <xref:System.Windows.Media.TextFormatting.TextSource.GetTextRun%2A> method.</span></span> <span data-ttu-id="18ab2-124">Objekty <xref:System.Windows.Media.TextFormatting.TextRun> jsou pak <xref:System.Windows.Media.TextFormatting.TextLine> vytvořeny do objektů formátovacím formátovacím formátem textu a dány vaší aplikaci pro kontrolu nebo zobrazení.</span><span class="sxs-lookup"><span data-stu-id="18ab2-124">The <xref:System.Windows.Media.TextFormatting.TextRun> objects are then formed into <xref:System.Windows.Media.TextFormatting.TextLine> objects by the text formatter and given to your application for inspection or display.</span></span>  
  
<a name="section2"></a>
## <a name="using-the-text-formatter"></a><span data-ttu-id="18ab2-125">Použití formátovatevač textu</span><span class="sxs-lookup"><span data-stu-id="18ab2-125">Using the Text Formatter</span></span>  
 <span data-ttu-id="18ab2-126"><xref:System.Windows.Media.TextFormatting.TextFormatter>je modul formátování textu WPF a poskytuje služby pro formátování a rozdělení řádků textu.</span><span class="sxs-lookup"><span data-stu-id="18ab2-126"><xref:System.Windows.Media.TextFormatting.TextFormatter> is the WPF text formatting engine and provides services for formatting and breaking text lines.</span></span> <span data-ttu-id="18ab2-127">Formátovací modul textu může zpracovat různé formáty znaků textu a odstavcové styly a zahrnuje podporu pro mezinárodní rozložení textu.</span><span class="sxs-lookup"><span data-stu-id="18ab2-127">The text formatter can handle different text character formats and paragraph styles, and includes support for international text layout.</span></span>  
  
 <span data-ttu-id="18ab2-128">Na rozdíl od tradičního textového <xref:System.Windows.Media.TextFormatting.TextFormatter> rozhraní API interaguje s klientem rozložení textu prostřednictvím sady metod zpětného volání.</span><span class="sxs-lookup"><span data-stu-id="18ab2-128">Unlike a traditional text API, the <xref:System.Windows.Media.TextFormatting.TextFormatter> interacts with a text layout client through a set of callback methods.</span></span> <span data-ttu-id="18ab2-129">Vyžaduje, aby klient poskytnout tyto metody <xref:System.Windows.Media.TextFormatting.TextSource> v implementaci třídy.</span><span class="sxs-lookup"><span data-stu-id="18ab2-129">It requires the client to provide these methods in an implementation of the <xref:System.Windows.Media.TextFormatting.TextSource> class.</span></span> <span data-ttu-id="18ab2-130">Následující diagram znázorňuje interakci rozložení textu <xref:System.Windows.Media.TextFormatting.TextFormatter>mezi klientskou aplikací a aplikací .</span><span class="sxs-lookup"><span data-stu-id="18ab2-130">The following diagram illustrates the text layout interaction between the client application and <xref:System.Windows.Media.TextFormatting.TextFormatter>.</span></span>  
  
 ![Diagram klienta rozložení textu a textformatter](./media/advanced-text-formatting/text-layout-textformatter-interaction.png)  
  
 <span data-ttu-id="18ab2-132">Formátovací modul textu se používá k načtení formátovaných řádků textu <xref:System.Windows.Media.TextFormatting.TextSource>z úložiště textu, což je implementace aplikace .</span><span class="sxs-lookup"><span data-stu-id="18ab2-132">The text formatter is used to retrieve formatted text lines from the text store, which is an implementation of <xref:System.Windows.Media.TextFormatting.TextSource>.</span></span> <span data-ttu-id="18ab2-133">To se provádí nejprve vytvořením instance formátovace textu pomocí <xref:System.Windows.Media.TextFormatting.TextFormatter.Create%2A> metody.</span><span class="sxs-lookup"><span data-stu-id="18ab2-133">This is done by first creating an instance of the text formatter by using the <xref:System.Windows.Media.TextFormatting.TextFormatter.Create%2A> method.</span></span> <span data-ttu-id="18ab2-134">Tato metoda vytvoří instanci formátatele textu a nastaví maximální hodnoty výšky a šířky čáry.</span><span class="sxs-lookup"><span data-stu-id="18ab2-134">This method creates an instance of the text formatter and sets the maximum line height and width values.</span></span> <span data-ttu-id="18ab2-135">Jakmile je vytvořena instance formátač textu, proces vytvoření řádku je <xref:System.Windows.Media.TextFormatting.TextFormatter.FormatLine%2A> spuštěn voláním metody.</span><span class="sxs-lookup"><span data-stu-id="18ab2-135">As soon as an instance of the text formatter is created, the line creation process is started by calling the <xref:System.Windows.Media.TextFormatting.TextFormatter.FormatLine%2A> method.</span></span> <span data-ttu-id="18ab2-136"><xref:System.Windows.Media.TextFormatting.TextFormatter>volá zpět do zdroje textu k načtení textu a parametrů formátování pro spuštění textu, které tvoří řádek.</span><span class="sxs-lookup"><span data-stu-id="18ab2-136"><xref:System.Windows.Media.TextFormatting.TextFormatter> calls back to the text source to retrieve the text and formatting parameters for the runs of text that form a line.</span></span>  
  
 <span data-ttu-id="18ab2-137">V následujícím příkladu je zobrazen proces formátování úložiště textu.</span><span class="sxs-lookup"><span data-stu-id="18ab2-137">In the following example, the process of formatting a text store is shown.</span></span> <span data-ttu-id="18ab2-138">Objekt <xref:System.Windows.Media.TextFormatting.TextFormatter> se používá k načtení řádků textu z úložiště textu a <xref:System.Windows.Media.DrawingContext>následnému formátování řádku textu pro kreslení do .</span><span class="sxs-lookup"><span data-stu-id="18ab2-138">The <xref:System.Windows.Media.TextFormatting.TextFormatter> object is used to retrieve text lines from the text store and then format the text line for drawing into the <xref:System.Windows.Media.DrawingContext>.</span></span>  
  
 [!code-csharp[TextFormatterExample#100](~/samples/snippets/csharp/VS_Snippets_Wpf/TextFormatterExample/CSharp/Window1.xaml.cs#100)]
 [!code-vb[TextFormatterExample#100](~/samples/snippets/visualbasic/VS_Snippets_Wpf/TextFormatterExample/VisualBasic/Window1.xaml.vb#100)]  
  
<a name="section3"></a>
## <a name="implementing-the-client-text-store"></a><span data-ttu-id="18ab2-139">Implementace úložiště textu klienta</span><span class="sxs-lookup"><span data-stu-id="18ab2-139">Implementing the Client Text Store</span></span>  
 <span data-ttu-id="18ab2-140">Při rozšíření modulu formátování textu, budete muset implementovat a spravovat všechny aspekty úložiště textu.</span><span class="sxs-lookup"><span data-stu-id="18ab2-140">When you extend the text formatting engine, you are required to implement and manage all aspects of the text store.</span></span> <span data-ttu-id="18ab2-141">To není triviální úkol.</span><span class="sxs-lookup"><span data-stu-id="18ab2-141">This is not a trivial task.</span></span> <span data-ttu-id="18ab2-142">Úložiště textu je zodpovědné za sledování vlastností spuštění textu, vlastností odstavce, vložených objektů a dalšího podobného obsahu.</span><span class="sxs-lookup"><span data-stu-id="18ab2-142">The text store is responsible for tracking text run properties, paragraph properties, embedded objects, and other similar content.</span></span> <span data-ttu-id="18ab2-143">Poskytuje také formátanový formát <xref:System.Windows.Media.TextFormatting.TextRun> textu s jednotlivými objekty, které formátformátformáttextu textu používá k vytvoření <xref:System.Windows.Media.TextFormatting.TextLine> objektů.</span><span class="sxs-lookup"><span data-stu-id="18ab2-143">It also provides the text formatter with individual <xref:System.Windows.Media.TextFormatting.TextRun> objects which the text formatter uses to create <xref:System.Windows.Media.TextFormatting.TextLine> objects.</span></span>  
  
 <span data-ttu-id="18ab2-144">Pro zpracování virtualizace úložiště textu musí být úložiště textu <xref:System.Windows.Media.TextFormatting.TextSource>odvozeno od .</span><span class="sxs-lookup"><span data-stu-id="18ab2-144">To handle the virtualization of the text store, the text store must be derived from <xref:System.Windows.Media.TextFormatting.TextSource>.</span></span> <span data-ttu-id="18ab2-145"><xref:System.Windows.Media.TextFormatting.TextSource>definuje metodu, kterou formátmodul textu používá k načtení schodů textu z úložiště textu.</span><span class="sxs-lookup"><span data-stu-id="18ab2-145"><xref:System.Windows.Media.TextFormatting.TextSource> defines the method the text formatter uses to retrieve text runs from the text store.</span></span> <span data-ttu-id="18ab2-146"><xref:System.Windows.Media.TextFormatting.TextSource.GetTextRun%2A>je metoda používaná formátovacím formátovacím formátem textu k načtení schráží textu používaných při formátování řádků.</span><span class="sxs-lookup"><span data-stu-id="18ab2-146"><xref:System.Windows.Media.TextFormatting.TextSource.GetTextRun%2A> is the method used by the text formatter to retrieve text runs used in line formatting.</span></span> <span data-ttu-id="18ab2-147">Volání <xref:System.Windows.Media.TextFormatting.TextSource.GetTextRun%2A> je opakovaně provádí formátací textu, dokud nedojde k jedné z následujících podmínek:</span><span class="sxs-lookup"><span data-stu-id="18ab2-147">The call to <xref:System.Windows.Media.TextFormatting.TextSource.GetTextRun%2A> is repeatedly made by the text formatter until one of the following conditions occurs:</span></span>  
  
- <span data-ttu-id="18ab2-148">A <xref:System.Windows.Media.TextFormatting.TextEndOfLine> nebo podtřída je vrácena.</span><span class="sxs-lookup"><span data-stu-id="18ab2-148">A <xref:System.Windows.Media.TextFormatting.TextEndOfLine> or a subclass is returned.</span></span>  
  
- <span data-ttu-id="18ab2-149">Akumulovaná šířka spuštěného textu překračuje maximální šířku řádku zadanou v volání k vytvoření formátovače textu nebo volání <xref:System.Windows.Media.TextFormatting.TextFormatter.FormatLine%2A> metody formátovače textu.</span><span class="sxs-lookup"><span data-stu-id="18ab2-149">The accumulated width of text runs exceeds the maximum line width specified in either the call to create the text formatter or the call to the text formatter's <xref:System.Windows.Media.TextFormatting.TextFormatter.FormatLine%2A> method.</span></span>  
  
- <span data-ttu-id="18ab2-150">Je vrácena nová sekvence unicode, například "CF", "LF" nebo "CRLF".</span><span class="sxs-lookup"><span data-stu-id="18ab2-150">A Unicode newline sequence, such as "CF", "LF", or "CRLF", is returned.</span></span>  
  
<a name="section4"></a>
## <a name="providing-text-runs"></a><span data-ttu-id="18ab2-151">Poskytování spuštění textu</span><span class="sxs-lookup"><span data-stu-id="18ab2-151">Providing Text Runs</span></span>  
 <span data-ttu-id="18ab2-152">Jádrem procesu formátování textu je interakce mezi formátovacím formátovacím formátem textu a úložištěm textu.</span><span class="sxs-lookup"><span data-stu-id="18ab2-152">The core of the text formatting process is the interaction between the text formatter and the text store.</span></span> <span data-ttu-id="18ab2-153">Implementace <xref:System.Windows.Media.TextFormatting.TextSource> poskytuje formátovací modul text <xref:System.Windows.Media.TextFormatting.TextRun> s objekty a vlastnosti, s nimiž se formátovat text spustí.</span><span class="sxs-lookup"><span data-stu-id="18ab2-153">Your implementation of <xref:System.Windows.Media.TextFormatting.TextSource> provides the text formatter with the <xref:System.Windows.Media.TextFormatting.TextRun> objects and the properties with which to format the text runs.</span></span> <span data-ttu-id="18ab2-154">Tato interakce je <xref:System.Windows.Media.TextFormatting.TextSource.GetTextRun%2A> zpracována metodou, která je volána formátovat text.</span><span class="sxs-lookup"><span data-stu-id="18ab2-154">This interaction is handled by the <xref:System.Windows.Media.TextFormatting.TextSource.GetTextRun%2A> method, which is called by the text formatter.</span></span>  
  
 <span data-ttu-id="18ab2-155">V následující tabulce jsou uvedeny některé předdefinované <xref:System.Windows.Media.TextFormatting.TextRun> objekty.</span><span class="sxs-lookup"><span data-stu-id="18ab2-155">The following table shows some of the predefined <xref:System.Windows.Media.TextFormatting.TextRun> objects.</span></span>  
  
|<span data-ttu-id="18ab2-156">TextSpustit typ</span><span class="sxs-lookup"><span data-stu-id="18ab2-156">TextRun Type</span></span>|<span data-ttu-id="18ab2-157">Využití</span><span class="sxs-lookup"><span data-stu-id="18ab2-157">Usage</span></span>|  
|------------------|-----------|  
|<xref:System.Windows.Media.TextFormatting.TextCharacters>|<span data-ttu-id="18ab2-158">Spustit specializovaný text slouží k předání reprezentace znakových glyfů zpět do formátovaní textu.</span><span class="sxs-lookup"><span data-stu-id="18ab2-158">The specialized text run used to pass a representation of character glyphs back to the text formatter.</span></span>|  
|<xref:System.Windows.Media.TextFormatting.TextEmbeddedObject>|<span data-ttu-id="18ab2-159">Spuštění specializovaného textu slouží k poskytování obsahu, ve kterém se provádí měření, testování přístupů a kreslení v celku, například tlačítko nebo obrázek v textu.</span><span class="sxs-lookup"><span data-stu-id="18ab2-159">The specialized text run used to provide content in which measuring, hit testing, and drawing is done in whole, such as a button or image within the text.</span></span>|  
|<xref:System.Windows.Media.TextFormatting.TextEndOfLine>|<span data-ttu-id="18ab2-160">Spuštění specializovaného textu slouží k označení konce řádku.</span><span class="sxs-lookup"><span data-stu-id="18ab2-160">The specialized text run used to mark the end of a line.</span></span>|  
|<xref:System.Windows.Media.TextFormatting.TextEndOfParagraph>|<span data-ttu-id="18ab2-161">Spuštění specializovaného textu slouží k označení konce odstavce.</span><span class="sxs-lookup"><span data-stu-id="18ab2-161">The specialized text run used to mark the end of a paragraph.</span></span>|  
|<xref:System.Windows.Media.TextFormatting.TextEndOfSegment>|<span data-ttu-id="18ab2-162">Spuštění specializovaného textu slouží k označení konce segmentu, například k <xref:System.Windows.Media.TextFormatting.TextModifier> ukončení oboru ovlivněného předchozím spuštěním.</span><span class="sxs-lookup"><span data-stu-id="18ab2-162">The specialized text run used to mark the end of a segment, such as to end the scope affected by a previous <xref:System.Windows.Media.TextFormatting.TextModifier> run.</span></span>|  
|<xref:System.Windows.Media.TextFormatting.TextHidden>|<span data-ttu-id="18ab2-163">Spuštění specializovaného textu slouží k označení rozsahu skrytých znaků.</span><span class="sxs-lookup"><span data-stu-id="18ab2-163">The specialized text run used to mark a range of hidden characters.</span></span>|  
|<xref:System.Windows.Media.TextFormatting.TextModifier>|<span data-ttu-id="18ab2-164">Spuštění specializovaného textu používaného k úpravě vlastností textu běží v jeho oboru.</span><span class="sxs-lookup"><span data-stu-id="18ab2-164">The specialized text run used to modify properties of text runs in its scope.</span></span> <span data-ttu-id="18ab2-165">Obor se rozšíří na <xref:System.Windows.Media.TextFormatting.TextEndOfSegment> další odpovídající text <xref:System.Windows.Media.TextFormatting.TextEndOfParagraph>spustit nebo další .</span><span class="sxs-lookup"><span data-stu-id="18ab2-165">The scope extends to the next matching <xref:System.Windows.Media.TextFormatting.TextEndOfSegment> text run, or the next <xref:System.Windows.Media.TextFormatting.TextEndOfParagraph>.</span></span>|  
  
 <span data-ttu-id="18ab2-166">Kterýkoli z předdefinovaných <xref:System.Windows.Media.TextFormatting.TextRun> objektů lze podřadit.</span><span class="sxs-lookup"><span data-stu-id="18ab2-166">Any of the predefined <xref:System.Windows.Media.TextFormatting.TextRun> objects can be subclassed.</span></span> <span data-ttu-id="18ab2-167">To umožňuje zdroj textu poskytnout formátanový modul textu s textem spustí, které obsahují vlastní data.</span><span class="sxs-lookup"><span data-stu-id="18ab2-167">This allows your text source to provide the text formatter with text runs that include custom data.</span></span>  
  
 <span data-ttu-id="18ab2-168">Následující příklad ukazuje <xref:System.Windows.Media.TextFormatting.TextSource.GetTextRun%2A> metodu.</span><span class="sxs-lookup"><span data-stu-id="18ab2-168">The following example demonstrates a <xref:System.Windows.Media.TextFormatting.TextSource.GetTextRun%2A> method.</span></span> <span data-ttu-id="18ab2-169">Toto úložiště <xref:System.Windows.Media.TextFormatting.TextRun> textu vrátí objekty formátovací modul pro zpracování.</span><span class="sxs-lookup"><span data-stu-id="18ab2-169">This text store returns <xref:System.Windows.Media.TextFormatting.TextRun> objects to the text formatter for processing.</span></span>  
  
 [!code-csharp[TextFormatterExample#101](~/samples/snippets/csharp/VS_Snippets_Wpf/TextFormatterExample/CSharp/CustomTextSource.cs#101)]
 [!code-vb[TextFormatterExample#101](~/samples/snippets/visualbasic/VS_Snippets_Wpf/TextFormatterExample/VisualBasic/CustomTextSource.vb#101)]  
  
> [!NOTE]
> <span data-ttu-id="18ab2-170">V tomto příkladu poskytuje úložiště textu stejné vlastnosti textu pro všechny text.</span><span class="sxs-lookup"><span data-stu-id="18ab2-170">In this example, the text store provides the same text properties to all of the text.</span></span> <span data-ttu-id="18ab2-171">Úložiště rozšířeného textu by bylo nutné implementovat vlastní správu rozsahu, aby jednotlivé znaky měly různé vlastnosti.</span><span class="sxs-lookup"><span data-stu-id="18ab2-171">Advanced text stores would need to implement their own span management to allow individual characters to have different properties.</span></span>  
  
<a name="section5"></a>
## <a name="specifying-formatting-properties"></a><span data-ttu-id="18ab2-172">Určení vlastností formátování</span><span class="sxs-lookup"><span data-stu-id="18ab2-172">Specifying Formatting Properties</span></span>  
 <span data-ttu-id="18ab2-173"><xref:System.Windows.Media.TextFormatting.TextRun>objekty jsou formátovány pomocí vlastností poskytovaných úložištěm textu.</span><span class="sxs-lookup"><span data-stu-id="18ab2-173"><xref:System.Windows.Media.TextFormatting.TextRun> objects are formatted by using properties provided by the text store.</span></span> <span data-ttu-id="18ab2-174">Tyto vlastnosti jsou <xref:System.Windows.Media.TextFormatting.TextParagraphProperties> dodávány ve dvou typech a <xref:System.Windows.Media.TextFormatting.TextRunProperties>.</span><span class="sxs-lookup"><span data-stu-id="18ab2-174">These properties come in two types, <xref:System.Windows.Media.TextFormatting.TextParagraphProperties> and <xref:System.Windows.Media.TextFormatting.TextRunProperties>.</span></span> <span data-ttu-id="18ab2-175"><xref:System.Windows.Media.TextFormatting.TextParagraphProperties>zpracování odstavce včetně <xref:System.Windows.TextAlignment> vlastností, jako jsou a <xref:System.Windows.FlowDirection>.</span><span class="sxs-lookup"><span data-stu-id="18ab2-175"><xref:System.Windows.Media.TextFormatting.TextParagraphProperties> handle paragraph inclusive properties such as <xref:System.Windows.TextAlignment> and <xref:System.Windows.FlowDirection>.</span></span> <span data-ttu-id="18ab2-176"><xref:System.Windows.Media.TextFormatting.TextRunProperties>jsou vlastnosti, které se mohou lišit pro každý text spuštěný v odstavci, například stopa <xref:System.Windows.Media.Typeface>popředí a velikost písma.</span><span class="sxs-lookup"><span data-stu-id="18ab2-176"><xref:System.Windows.Media.TextFormatting.TextRunProperties> are properties that can be different for each text run within a paragraph, such as foreground brush, <xref:System.Windows.Media.Typeface>, and font size.</span></span> <span data-ttu-id="18ab2-177">Chcete-li implementovat vlastní odstavec a vlastní text spustit <xref:System.Windows.Media.TextFormatting.TextParagraphProperties> <xref:System.Windows.Media.TextFormatting.TextRunProperties> typy vlastností, aplikace musí vytvořit třídy, které jsou odvozeny od a respektive.</span><span class="sxs-lookup"><span data-stu-id="18ab2-177">To implement custom paragraph and custom text run property types, your application must create classes that derive from <xref:System.Windows.Media.TextFormatting.TextParagraphProperties> and <xref:System.Windows.Media.TextFormatting.TextRunProperties> respectively.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="18ab2-178">Viz také</span><span class="sxs-lookup"><span data-stu-id="18ab2-178">See also</span></span>

- [<span data-ttu-id="18ab2-179">Typografie v rozhraní WPF</span><span class="sxs-lookup"><span data-stu-id="18ab2-179">Typography in WPF</span></span>](typography-in-wpf.md)
- [<span data-ttu-id="18ab2-180">Dokumenty v platformě WPF</span><span class="sxs-lookup"><span data-stu-id="18ab2-180">Documents in WPF</span></span>](documents-in-wpf.md)
