---
title: Přehled vstupu
ms.date: 03/30/2017
dev_langs:
- csharp
- vb
helpviewer_keywords:
- commands [WPF]
- input [WPF], overview
- keyboard focus [WPF]
- keyboard input [WPF]
- touch events [WPF]
- event routing [WPF]
- touch input [WPF]
- manipulation [WPF]
- logical focus [WPF]
- stylus input [WPF]
- text input [WPF]
- input events [WPF], handling
- WPF [WPF], input overview
- manipulation events [WPF]
- mouse input [WPF]
- mouse capture [WPF]
- focus [WPF]
- mouse position [WPF]
ms.assetid: ee5258b7-6567-415a-9b1c-c0cbe46e79ef
ms.openlocfilehash: a90c74542c1a6604ed27d37f882385b67402dd92
ms.sourcegitcommit: eff6adb61852369ab690f3f047818c90580e7eb1
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 10/07/2019
ms.locfileid: "72005028"
---
# <a name="input-overview"></a><span data-ttu-id="baf29-102">Přehled vstupu</span><span class="sxs-lookup"><span data-stu-id="baf29-102">Input Overview</span></span>
<a name="introduction"></a><span data-ttu-id="baf29-103">Podsystém [!INCLUDE[TLA#tla_winclient](../../../../includes/tlasharptla-winclient-md.md)] poskytuje výkonné rozhraní API pro získání vstupu z nejrůznějších zařízení, včetně myši, klávesnice, dotyku a stylusu.</span><span class="sxs-lookup"><span data-stu-id="baf29-103">The [!INCLUDE[TLA#tla_winclient](../../../../includes/tlasharptla-winclient-md.md)] subsystem provides a powerful API for obtaining input from a variety of devices, including the mouse, keyboard, touch, and stylus.</span></span> <span data-ttu-id="baf29-104">Toto téma popisuje služby poskytované [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] a vysvětluje architekturu vstupních systémů.</span><span class="sxs-lookup"><span data-stu-id="baf29-104">This topic describes the services provided by [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] and explains the architecture of the input systems.</span></span>

<a name="input_api"></a>
## <a name="input-api"></a><span data-ttu-id="baf29-105">Vstupní rozhraní API</span><span class="sxs-lookup"><span data-stu-id="baf29-105">Input API</span></span>
 <span data-ttu-id="baf29-106">V základních třídách elementů se nachází primární vstupní rozhraní API: <xref:System.Windows.UIElement>, <xref:System.Windows.ContentElement>, <xref:System.Windows.FrameworkElement>a <xref:System.Windows.FrameworkContentElement>.</span><span class="sxs-lookup"><span data-stu-id="baf29-106">The primary input API exposure is found on the base element classes: <xref:System.Windows.UIElement>, <xref:System.Windows.ContentElement>, <xref:System.Windows.FrameworkElement>, and <xref:System.Windows.FrameworkContentElement>.</span></span>  <span data-ttu-id="baf29-107">Další informace o základních elementech naleznete v tématu [Přehled základních prvků](base-elements-overview.md).</span><span class="sxs-lookup"><span data-stu-id="baf29-107">For more information about the base elements, see [Base Elements Overview](base-elements-overview.md).</span></span>  <span data-ttu-id="baf29-108">Tyto třídy poskytují funkce pro vstupní události, které souvisí s klíčovými klávesami, tlačítky myši, kolečkem myši, pohybem myši, správou fokusu a zachytáváním myši, pokud chcete pojmenovat několik.</span><span class="sxs-lookup"><span data-stu-id="baf29-108">These classes provide functionality for input events related to key presses, mouse buttons, mouse wheel, mouse movement, focus management, and mouse capture, to name a few.</span></span> <span data-ttu-id="baf29-109">Vložením vstupního rozhraní API na základní prvky namísto zpracování všech vstupních událostí jako služby umožní vstupní architektura, aby se vstupní události nastavily konkrétním objektem v uživatelském rozhraní, a aby podporovaly schéma směrování událostí, kde je více než jeden prvek OPP. ortunity zpracování události vstupu.</span><span class="sxs-lookup"><span data-stu-id="baf29-109">By placing the input API on the base elements, rather than treating all input events as a service, the input architecture enables the input events to be sourced by a particular object in the UI, and to support an event routing scheme whereby more than one element has an opportunity to handle an input event.</span></span> <span data-ttu-id="baf29-110">K mnoha vstupním událostem je přidružen pár událostí.</span><span class="sxs-lookup"><span data-stu-id="baf29-110">Many input events have a pair of events associated with them.</span></span>  <span data-ttu-id="baf29-111">Například událost s klíčem dolů je spojená s událostmi <xref:System.Windows.Input.Keyboard.KeyDown> a <xref:System.Windows.Input.Keyboard.PreviewKeyDown>.</span><span class="sxs-lookup"><span data-stu-id="baf29-111">For example, the key down event is associated with the <xref:System.Windows.Input.Keyboard.KeyDown> and <xref:System.Windows.Input.Keyboard.PreviewKeyDown> events.</span></span>  <span data-ttu-id="baf29-112">Rozdíl v těchto událostech je ve způsobu, jakým jsou směrovány do cílového prvku.</span><span class="sxs-lookup"><span data-stu-id="baf29-112">The difference in these events is in how they are routed to the target element.</span></span>  <span data-ttu-id="baf29-113">Události ve verzi Preview propojující strom elementů od kořenového elementu až po cílový element.</span><span class="sxs-lookup"><span data-stu-id="baf29-113">Preview events tunnel down the element tree from the root element to the target element.</span></span>  <span data-ttu-id="baf29-114">Probublávání události z cílového prvku do kořenového elementu.</span><span class="sxs-lookup"><span data-stu-id="baf29-114">Bubbling events bubble up from the target element to the root element.</span></span>  <span data-ttu-id="baf29-115">Směrování událostí v [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] je podrobněji popsáno dále v tomto přehledu a v tématu [Přehled směrovaných událostí](routed-events-overview.md).</span><span class="sxs-lookup"><span data-stu-id="baf29-115">Event routing in [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] is discussed in more detail later in this overview and in the [Routed Events Overview](routed-events-overview.md).</span></span>

### <a name="keyboard-and-mouse-classes"></a><span data-ttu-id="baf29-116">Třídy klávesnice a myši</span><span class="sxs-lookup"><span data-stu-id="baf29-116">Keyboard and Mouse Classes</span></span>
 <span data-ttu-id="baf29-117">Kromě vstupního rozhraní API na základních třídách prvků <xref:System.Windows.Input.Keyboard> třída a <xref:System.Windows.Input.Mouse> třídy poskytují další rozhraní API pro práci s vstupy klávesnice a myši.</span><span class="sxs-lookup"><span data-stu-id="baf29-117">In addition to the input API on the base element classes, the <xref:System.Windows.Input.Keyboard> class and <xref:System.Windows.Input.Mouse> classes provide additional API for working with keyboard and mouse input.</span></span>

 <span data-ttu-id="baf29-118">Příklady vstupního rozhraní API na <xref:System.Windows.Input.Keyboard> třídy jsou vlastnost <xref:System.Windows.Input.Keyboard.Modifiers%2A>, která vrací aktuálně stisknutou <xref:System.Windows.Input.ModifierKeys> a metodu <xref:System.Windows.Input.Keyboard.IsKeyDown%2A>, která určuje, zda je zadaný klíč stisknut.</span><span class="sxs-lookup"><span data-stu-id="baf29-118">Examples of input API on the <xref:System.Windows.Input.Keyboard> class are the <xref:System.Windows.Input.Keyboard.Modifiers%2A> property, which returns the <xref:System.Windows.Input.ModifierKeys> currently pressed, and the <xref:System.Windows.Input.Keyboard.IsKeyDown%2A> method, which determines whether a specified key is pressed.</span></span>

 <span data-ttu-id="baf29-119">Následující příklad používá metodu <xref:System.Windows.Input.Keyboard.GetKeyStates%2A> k určení, zda je <xref:System.Windows.Input.Key> ve stavu dole.</span><span class="sxs-lookup"><span data-stu-id="baf29-119">The following example uses the <xref:System.Windows.Input.Keyboard.GetKeyStates%2A> method to determine if a <xref:System.Windows.Input.Key> is in the down state.</span></span>

 [!code-csharp[keyargssnippetsample#KeyEventArgsKeyBoardGetKeyStates](~/samples/snippets/csharp/VS_Snippets_Wpf/KeyArgsSnippetSample/CSharp/Window1.xaml.cs#keyeventargskeyboardgetkeystates)]
 [!code-vb[keyargssnippetsample#KeyEventArgsKeyBoardGetKeyStates](~/samples/snippets/visualbasic/VS_Snippets_Wpf/KeyArgsSnippetSample/visualbasic/window1.xaml.vb#keyeventargskeyboardgetkeystates)]

 <span data-ttu-id="baf29-120">Příklady vstupního rozhraní API pro třídu <xref:System.Windows.Input.Mouse> jsou <xref:System.Windows.Input.Mouse.MiddleButton%2A>, které získávají stav prostřední tlačítko myši a <xref:System.Windows.Input.Mouse.DirectlyOver%2A>, které Získá prvek ukazatel myši.</span><span class="sxs-lookup"><span data-stu-id="baf29-120">Examples of input API on the <xref:System.Windows.Input.Mouse> class are <xref:System.Windows.Input.Mouse.MiddleButton%2A>, which obtains the state of the middle mouse button, and <xref:System.Windows.Input.Mouse.DirectlyOver%2A>, which gets the element the mouse pointer is currently over.</span></span>

 <span data-ttu-id="baf29-121">Následující příklad určuje, zda je <xref:System.Windows.Input.Mouse.LeftButton%2A> myši ve stavu <xref:System.Windows.Input.MouseButtonState.Pressed>.</span><span class="sxs-lookup"><span data-stu-id="baf29-121">The following example determines whether the <xref:System.Windows.Input.Mouse.LeftButton%2A> on the mouse is in the <xref:System.Windows.Input.MouseButtonState.Pressed> state.</span></span>

 [!code-csharp[mouserelatedsnippets#MouseRelatedSnippetsGetLeftButtonMouse](~/samples/snippets/csharp/VS_Snippets_Wpf/MouseRelatedSnippets/CSharp/Window1.xaml.cs#mouserelatedsnippetsgetleftbuttonmouse)]
 [!code-vb[mouserelatedsnippets#MouseRelatedSnippetsGetLeftButtonMouse](~/samples/snippets/visualbasic/VS_Snippets_Wpf/MouseRelatedSnippets/visualbasic/window1.xaml.vb#mouserelatedsnippetsgetleftbuttonmouse)]

 <span data-ttu-id="baf29-122">Třídy <xref:System.Windows.Input.Mouse> a <xref:System.Windows.Input.Keyboard> jsou podrobněji popsány v tomto přehledu.</span><span class="sxs-lookup"><span data-stu-id="baf29-122">The <xref:System.Windows.Input.Mouse> and <xref:System.Windows.Input.Keyboard> classes are covered in more detail throughout this overview.</span></span>

### <a name="stylus-input"></a><span data-ttu-id="baf29-123">Vstup stylusu</span><span class="sxs-lookup"><span data-stu-id="baf29-123">Stylus Input</span></span>
 [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] <span data-ttu-id="baf29-124">má integrovanou podporu pro <xref:System.Windows.Input.Stylus>.</span><span class="sxs-lookup"><span data-stu-id="baf29-124">has integrated support for the <xref:System.Windows.Input.Stylus>.</span></span>  <span data-ttu-id="baf29-125"><xref:System.Windows.Input.Stylus> je vstup perem, který je oblíbený tabletovým počítačem.</span><span class="sxs-lookup"><span data-stu-id="baf29-125">The <xref:System.Windows.Input.Stylus> is a pen input made popular by the Tablet PC.</span></span>  <span data-ttu-id="baf29-126">aplikace [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] mohou pomocí rozhraní Mouse API považovat Stylus za myš, ale [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] také zpřístupňuje abstrakci zařízení stylusu, která používá model podobný klávesnici a myši.</span><span class="sxs-lookup"><span data-stu-id="baf29-126">[!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] applications can treat the stylus as a mouse by using the mouse API, but [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] also exposes a stylus device abstraction that use a model similar to the keyboard and mouse.</span></span>  <span data-ttu-id="baf29-127">Všechna rozhraní API související s stylusem obsahují slovo Stylus.</span><span class="sxs-lookup"><span data-stu-id="baf29-127">All stylus-related APIs contain the word "Stylus".</span></span>

 <span data-ttu-id="baf29-128">Vzhledem k tomu, že Stylus může fungovat jako myš, aplikace, které podporují jenom vstupy myši, můžou dál získávat automaticky určitou úroveň podpory stylusem.</span><span class="sxs-lookup"><span data-stu-id="baf29-128">Because the stylus can act as a mouse, applications that support only mouse input can still obtain some level of stylus support automatically.</span></span> <span data-ttu-id="baf29-129">Pokud je Stylus použit takovým způsobem, aplikace je dána příležitostí ke zpracování příslušné události stylus a poté zpracuje příslušnou událost myši.</span><span class="sxs-lookup"><span data-stu-id="baf29-129">When the stylus is used in such a manner, the application is given the opportunity to handle the appropriate stylus event and then handles the corresponding mouse event.</span></span> <span data-ttu-id="baf29-130">Kromě toho jsou k dispozici také služby vyšší úrovně, jako je například vstup z inkoustu, a to prostřednictvím abstrakce zařízení stylus.</span><span class="sxs-lookup"><span data-stu-id="baf29-130">In addition, higher-level services such as ink input are also available through the stylus device abstraction.</span></span>  <span data-ttu-id="baf29-131">Další informace o rukopisu jako vstup naleznete v tématu [Začínáme with Ink](getting-started-with-ink.md).</span><span class="sxs-lookup"><span data-stu-id="baf29-131">For more information about ink as input, see [Getting Started with Ink](getting-started-with-ink.md).</span></span>

<a name="event_routing"></a>
## <a name="event-routing"></a><span data-ttu-id="baf29-132">Směrování událostí</span><span class="sxs-lookup"><span data-stu-id="baf29-132">Event Routing</span></span>
 <span data-ttu-id="baf29-133"><xref:System.Windows.FrameworkElement> může obsahovat další prvky jako podřízené elementy ve svém modelu obsahu, který tvoří strom elementů.</span><span class="sxs-lookup"><span data-stu-id="baf29-133">A <xref:System.Windows.FrameworkElement> can contain other elements as child elements in its content model, forming a tree of elements.</span></span>  <span data-ttu-id="baf29-134">V [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)]se nadřazený prvek může účastnit vstupu směrovaného na jeho podřízené prvky nebo jiné následníky prostřednictvím předání událostí.</span><span class="sxs-lookup"><span data-stu-id="baf29-134">In [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)], the parent element can participate in input directed to its child elements or other descendants by handing events.</span></span> <span data-ttu-id="baf29-135">To je užitečné hlavně při sestavování ovládacích prvků z menších ovládacích prvků, což je proces známý jako "složení ovládacího prvku" nebo "skládání".</span><span class="sxs-lookup"><span data-stu-id="baf29-135">This is especially useful for building controls out of smaller controls, a process known as "control composition" or "compositing."</span></span> <span data-ttu-id="baf29-136">Další informace o stromech elementů a o tom, jak struktury prvků souvisejí s trasami událostí, naleznete v tématu [stromy v WPF](trees-in-wpf.md).</span><span class="sxs-lookup"><span data-stu-id="baf29-136">For more information about element trees and how element trees relate to event routes, see [Trees in WPF](trees-in-wpf.md).</span></span>

 <span data-ttu-id="baf29-137">Směrování událostí je proces předávání událostí více prvkům, aby určitý objekt nebo prvek podél trasy mohl nabízet významnou odpověď (prostřednictvím zpracování) k události, která by mohla být zadávána jiným prvkem.</span><span class="sxs-lookup"><span data-stu-id="baf29-137">Event routing is the process of forwarding events to multiple elements, so that a particular object or element along the route can choose to offer a significant response (through handling) to an event that might have been sourced by a different element.</span></span>  <span data-ttu-id="baf29-138">Směrované události používají jeden ze tří mechanismů směrování: přímé, probublávání a tunelové propojení.</span><span class="sxs-lookup"><span data-stu-id="baf29-138">Routed events use one of three routing mechanisms: direct, bubbling, and tunneling.</span></span>  <span data-ttu-id="baf29-139">V přímém směrování je zdrojový prvek jediným oznámeným prvkem a událost není směrována na žádné jiné prvky.</span><span class="sxs-lookup"><span data-stu-id="baf29-139">In direct routing, the source element is the only element notified, and the event is not routed to any other elements.</span></span> <span data-ttu-id="baf29-140">Nicméně přímá směrovaná událost stále nabízí některé další možnosti, které jsou k dispozici pouze pro směrované události na rozdíl od standardních událostí CLR.</span><span class="sxs-lookup"><span data-stu-id="baf29-140">However, the direct routed event still offers some additional capabilities that are only present for routed events as opposed to standard CLR events.</span></span> <span data-ttu-id="baf29-141">Probublávání sestaví strom elementů pomocí prvního upozorňování elementu, který zdroj události nastavil, pak nadřazeného elementu a tak dále.</span><span class="sxs-lookup"><span data-stu-id="baf29-141">Bubbling works up the element tree by first notifying the element that sourced the event, then the parent element, and so on.</span></span>  <span data-ttu-id="baf29-142">Tunelové propojení začíná v kořenovém adresáři stromu prvků a funguje dolů a končí původním zdrojovým elementem.</span><span class="sxs-lookup"><span data-stu-id="baf29-142">Tunneling starts at the root of the element tree and works down, ending with the original source element.</span></span>  <span data-ttu-id="baf29-143">Další informace o směrovaných událostech najdete v tématu [Přehled směrovaných událostí](routed-events-overview.md).</span><span class="sxs-lookup"><span data-stu-id="baf29-143">For more information about routed events, see [Routed Events Overview](routed-events-overview.md).</span></span>

 <span data-ttu-id="baf29-144">události vstupu [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] většinou přicházejí do párů, které se skládají z tunelové události a události probublávání.</span><span class="sxs-lookup"><span data-stu-id="baf29-144">[!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] input events generally come in pairs that consists of a tunneling event and a bubbling event.</span></span>  <span data-ttu-id="baf29-145">Události tunelování se odlišují od probublávání událostí s předponou Preview.</span><span class="sxs-lookup"><span data-stu-id="baf29-145">Tunneling events are distinguished from bubbling events with the "Preview" prefix.</span></span>  <span data-ttu-id="baf29-146"><xref:System.Windows.Input.Mouse.PreviewMouseMove> je například verze tunelu události přesunutí myši a <xref:System.Windows.Input.Mouse.MouseMove> je probublávání verze této události.</span><span class="sxs-lookup"><span data-stu-id="baf29-146">For instance, <xref:System.Windows.Input.Mouse.PreviewMouseMove> is the tunneling version of a mouse move event and <xref:System.Windows.Input.Mouse.MouseMove> is the bubbling version of this event.</span></span> <span data-ttu-id="baf29-147">Toto párování událostí je konvence, která je implementována na úrovni prvku a není podstatou funkcí systému událostí [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)].</span><span class="sxs-lookup"><span data-stu-id="baf29-147">This event pairing is a convention that is implemented at the element level and is not an inherent capability of the [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] event system.</span></span> <span data-ttu-id="baf29-148">Podrobnosti najdete v oddílu události vstupu WPF v tématu [směrované události – přehled](routed-events-overview.md).</span><span class="sxs-lookup"><span data-stu-id="baf29-148">For details, see the WPF Input Events section in [Routed Events Overview](routed-events-overview.md).</span></span>

<a name="handling_input_events"></a>
## <a name="handling-input-events"></a><span data-ttu-id="baf29-149">Zpracování událostí vstupu</span><span class="sxs-lookup"><span data-stu-id="baf29-149">Handling Input Events</span></span>
 <span data-ttu-id="baf29-150">Pro příjem vstupu elementu musí být obslužná rutina události přidružena k této konkrétní události.</span><span class="sxs-lookup"><span data-stu-id="baf29-150">To receive input on an element, an event handler must be associated with that particular event.</span></span>  <span data-ttu-id="baf29-151">V [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] Toto je jednoduché: odkazujete na název události jako atribut prvku, který bude pro tuto událost naslouchat.</span><span class="sxs-lookup"><span data-stu-id="baf29-151">In [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] this is straightforward: you reference the name of the event as an attribute of the element that will be listening for this event.</span></span>  <span data-ttu-id="baf29-152">Potom nastavíte hodnotu atributu na název obslužné rutiny události, kterou definujete, na základě delegáta.</span><span class="sxs-lookup"><span data-stu-id="baf29-152">Then, you set the value of the attribute to the name of the event handler that you define, based on a delegate.</span></span>  <span data-ttu-id="baf29-153">Obslužná rutina události musí být napsána v C# kódu, například a může být obsažena v souboru kódu na pozadí.</span><span class="sxs-lookup"><span data-stu-id="baf29-153">The event handler must be written in code such as C# and can be included in a code-behind file.</span></span>

 <span data-ttu-id="baf29-154">K událostem klávesnice dojde v případě, že operační systém hlásí klíčové akce, ke kterým dojde, když je fokus klávesnice na prvku.</span><span class="sxs-lookup"><span data-stu-id="baf29-154">Keyboard events occur when the operating system reports key actions that occur while keyboard focus is on an element.</span></span> <span data-ttu-id="baf29-155">Události myši a tužky spadají do dvou kategorií: události, které oznamují změny v pozici ukazatele vzhledem k elementu, a události, které oznamují změny ve stavu tlačítek zařízení.</span><span class="sxs-lookup"><span data-stu-id="baf29-155">Mouse and stylus events each fall into two categories: events that report changes in pointer position relative to the element, and events that report changes in the state of device buttons.</span></span>

### <a name="keyboard-input-event-example"></a><span data-ttu-id="baf29-156">Příklad události vstupu z klávesnice</span><span class="sxs-lookup"><span data-stu-id="baf29-156">Keyboard Input Event Example</span></span>
 <span data-ttu-id="baf29-157">Následující příklad naslouchá stisknutí klávesy šipka vlevo.</span><span class="sxs-lookup"><span data-stu-id="baf29-157">The following example listens for a left arrow key press.</span></span>  <span data-ttu-id="baf29-158">Vytvoří se <xref:System.Windows.Controls.StackPanel> s <xref:System.Windows.Controls.Button>.</span><span class="sxs-lookup"><span data-stu-id="baf29-158">A <xref:System.Windows.Controls.StackPanel> is created that has a <xref:System.Windows.Controls.Button>.</span></span>  <span data-ttu-id="baf29-159">Obslužná rutina události k naslouchání stisknutí klávesy šipka vlevo je připojena k instanci <xref:System.Windows.Controls.Button>.</span><span class="sxs-lookup"><span data-stu-id="baf29-159">An event handler to listen for the left arrow key press is attached to the <xref:System.Windows.Controls.Button> instance.</span></span>

 <span data-ttu-id="baf29-160">První část příkladu vytvoří <xref:System.Windows.Controls.StackPanel> a <xref:System.Windows.Controls.Button> a připojí obslužnou rutinu události pro <xref:System.Windows.UIElement.KeyDown>.</span><span class="sxs-lookup"><span data-stu-id="baf29-160">The first section of the example creates the <xref:System.Windows.Controls.StackPanel> and the <xref:System.Windows.Controls.Button> and attaches the event handler for the <xref:System.Windows.UIElement.KeyDown>.</span></span>

 [!code-xaml[InputOvw#Input_OvwKeyboardExampleXAML](~/samples/snippets/csharp/VS_Snippets_Wpf/InputOvw/CSharp/Page1.xaml#input_ovwkeyboardexamplexaml)]

 [!code-csharp[InputOvw#Input_OvwKeyboardExampleUICodeBehind](~/samples/snippets/csharp/VS_Snippets_Wpf/InputOvw/CSharp/Page1.xaml.cs#input_ovwkeyboardexampleuicodebehind)]
 [!code-vb[InputOvw#Input_OvwKeyboardExampleUICodeBehind](~/samples/snippets/visualbasic/VS_Snippets_Wpf/InputOvw/VisualBasic/Page1.xaml.vb#input_ovwkeyboardexampleuicodebehind)]

 <span data-ttu-id="baf29-161">Druhá část je zapsána v kódu a definuje obslužnou rutinu události.</span><span class="sxs-lookup"><span data-stu-id="baf29-161">The second section is written in code and defines the event handler.</span></span>  <span data-ttu-id="baf29-162">Při stisknutí levé klávesy se šipkou a <xref:System.Windows.Controls.Button> má fokus klávesnice, se spustí obslužná rutina a změní se <xref:System.Windows.Controls.Control.Background%2A> barva <xref:System.Windows.Controls.Button>.</span><span class="sxs-lookup"><span data-stu-id="baf29-162">When the left arrow key is pressed and the <xref:System.Windows.Controls.Button> has keyboard focus, the handler runs and the <xref:System.Windows.Controls.Control.Background%2A> color of the <xref:System.Windows.Controls.Button> is changed.</span></span>  <span data-ttu-id="baf29-163">Pokud se klávesa stiskne, ale není to klávesa šipka vlevo, barva <xref:System.Windows.Controls.Control.Background%2A> <xref:System.Windows.Controls.Button> se změní zpátky na počáteční barvu.</span><span class="sxs-lookup"><span data-stu-id="baf29-163">If the key is pressed, but it is not the left arrow key, the <xref:System.Windows.Controls.Control.Background%2A> color of the <xref:System.Windows.Controls.Button> is changed back to its starting color.</span></span>

 [!code-csharp[InputOvw#Input_OvwKeyboardExampleHandlerCodeBehind](~/samples/snippets/csharp/VS_Snippets_Wpf/InputOvw/CSharp/Page1.xaml.cs#input_ovwkeyboardexamplehandlercodebehind)]
 [!code-vb[InputOvw#Input_OvwKeyboardExampleHandlerCodeBehind](~/samples/snippets/visualbasic/VS_Snippets_Wpf/InputOvw/VisualBasic/Page1.xaml.vb#input_ovwkeyboardexamplehandlercodebehind)]

### <a name="mouse-input-event-example"></a><span data-ttu-id="baf29-164">Příklad události vstupu myši</span><span class="sxs-lookup"><span data-stu-id="baf29-164">Mouse Input Event Example</span></span>
 <span data-ttu-id="baf29-165">V následujícím příkladu se barva <xref:System.Windows.Controls.Control.Background%2A> <xref:System.Windows.Controls.Button> změní, když ukazatel myši vstoupí do <xref:System.Windows.Controls.Button>.</span><span class="sxs-lookup"><span data-stu-id="baf29-165">In the following example, the <xref:System.Windows.Controls.Control.Background%2A> color of a <xref:System.Windows.Controls.Button> is changed when the mouse pointer enters the <xref:System.Windows.Controls.Button>.</span></span>  <span data-ttu-id="baf29-166"><xref:System.Windows.Controls.Control.Background%2A> barva se obnoví, když myš opustí <xref:System.Windows.Controls.Button>.</span><span class="sxs-lookup"><span data-stu-id="baf29-166">The <xref:System.Windows.Controls.Control.Background%2A> color is restored when the mouse leaves the <xref:System.Windows.Controls.Button>.</span></span>

 <span data-ttu-id="baf29-167">První část příkladu vytvoří <xref:System.Windows.Controls.StackPanel> a ovládací prvek <xref:System.Windows.Controls.Button> a připojí obslužné rutiny události pro <xref:System.Windows.UIElement.MouseEnter> a <xref:System.Windows.UIElement.MouseLeave> události do <xref:System.Windows.Controls.Button>.</span><span class="sxs-lookup"><span data-stu-id="baf29-167">The first section of the example creates the <xref:System.Windows.Controls.StackPanel> and the <xref:System.Windows.Controls.Button> control and attaches the event handlers for the <xref:System.Windows.UIElement.MouseEnter> and <xref:System.Windows.UIElement.MouseLeave> events to the <xref:System.Windows.Controls.Button>.</span></span>

 [!code-xaml[InputOvw#Input_OvwMouseExampleXAML](~/samples/snippets/csharp/VS_Snippets_Wpf/InputOvw/CSharp/Page1.xaml#input_ovwmouseexamplexaml)]

 [!code-csharp[InputOvw#Input_OvwMouseExampleUICodeBehind](~/samples/snippets/csharp/VS_Snippets_Wpf/InputOvw/CSharp/Page1.xaml.cs#input_ovwmouseexampleuicodebehind)]
 [!code-vb[InputOvw#Input_OvwMouseExampleUICodeBehind](~/samples/snippets/visualbasic/VS_Snippets_Wpf/InputOvw/VisualBasic/Page1.xaml.vb#input_ovwmouseexampleuicodebehind)]

 <span data-ttu-id="baf29-168">Druhá část příkladu je zapsána v kódu a definuje obslužné rutiny událostí.</span><span class="sxs-lookup"><span data-stu-id="baf29-168">The second section of the example is written in code and defines the event handlers.</span></span>  <span data-ttu-id="baf29-169">Když ukazatel myši vstoupí do <xref:System.Windows.Controls.Button>, změní se <xref:System.Windows.Controls.Control.Background%2A> barva <xref:System.Windows.Controls.Button> na <xref:System.Windows.Media.Brushes.SlateGray%2A>.</span><span class="sxs-lookup"><span data-stu-id="baf29-169">When the mouse enters the <xref:System.Windows.Controls.Button>, the <xref:System.Windows.Controls.Control.Background%2A> color of the <xref:System.Windows.Controls.Button> is changed to <xref:System.Windows.Media.Brushes.SlateGray%2A>.</span></span>  <span data-ttu-id="baf29-170">Když myš opustí <xref:System.Windows.Controls.Button>, změní se barva <xref:System.Windows.Controls.Control.Background%2A> <xref:System.Windows.Controls.Button> zpět na <xref:System.Windows.Media.Brushes.AliceBlue%2A>.</span><span class="sxs-lookup"><span data-stu-id="baf29-170">When the mouse leaves the <xref:System.Windows.Controls.Button>, the <xref:System.Windows.Controls.Control.Background%2A> color of the <xref:System.Windows.Controls.Button> is changed back to <xref:System.Windows.Media.Brushes.AliceBlue%2A>.</span></span>

 [!code-csharp[InputOvw#Input_OvwMouseExampleEneterHandler](~/samples/snippets/csharp/VS_Snippets_Wpf/InputOvw/CSharp/Page1.xaml.cs#input_ovwmouseexampleeneterhandler)]
 [!code-vb[InputOvw#Input_OvwMouseExampleEneterHandler](~/samples/snippets/visualbasic/VS_Snippets_Wpf/InputOvw/VisualBasic/Page1.xaml.vb#input_ovwmouseexampleeneterhandler)]

 [!code-csharp[InputOvw#Input_OvwMouseExampleLeaveHandler](~/samples/snippets/csharp/VS_Snippets_Wpf/InputOvw/CSharp/Page1.xaml.cs#input_ovwmouseexampleleavehandler)]
 [!code-vb[InputOvw#Input_OvwMouseExampleLeaveHandler](~/samples/snippets/visualbasic/VS_Snippets_Wpf/InputOvw/VisualBasic/Page1.xaml.vb#input_ovwmouseexampleleavehandler)]

<a name="text_input"></a>
## <a name="text-input"></a><span data-ttu-id="baf29-171">Zadávání textu</span><span class="sxs-lookup"><span data-stu-id="baf29-171">Text Input</span></span>
 <span data-ttu-id="baf29-172">Událost <xref:System.Windows.ContentElement.TextInput> umožňuje naslouchat textovému zadání způsobem nezávislým na zařízení.</span><span class="sxs-lookup"><span data-stu-id="baf29-172">The <xref:System.Windows.ContentElement.TextInput> event enables you to listen for text input in a device-independent manner.</span></span> <span data-ttu-id="baf29-173">Klávesnice je primárním prostředkem textového vstupu, ale řeč, rukopis a jiná vstupní zařízení mohou také vygenerovat textový vstup.</span><span class="sxs-lookup"><span data-stu-id="baf29-173">The keyboard is the primary means of text input, but speech, handwriting, and other input devices can generate text input also.</span></span>

 <span data-ttu-id="baf29-174">Pro vstup z klávesnice [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] nejdřív odešle příslušné <xref:System.Windows.ContentElement.KeyDown>/<xref:System.Windows.ContentElement.KeyUp> události.</span><span class="sxs-lookup"><span data-stu-id="baf29-174">For keyboard input, [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] first sends the appropriate <xref:System.Windows.ContentElement.KeyDown>/<xref:System.Windows.ContentElement.KeyUp> events.</span></span> <span data-ttu-id="baf29-175">Pokud tyto události nejsou zpracovány a klíč je text (nikoli řídicí klíč, například směrovou šipku nebo funkční klávesy), je vyvolána událost <xref:System.Windows.ContentElement.TextInput>.</span><span class="sxs-lookup"><span data-stu-id="baf29-175">If those events are not handled and the key is textual (rather than a control key such as directional arrows or function keys), then a <xref:System.Windows.ContentElement.TextInput> event is raised.</span></span>  <span data-ttu-id="baf29-176">Mezi <xref:System.Windows.ContentElement.KeyDown>/<xref:System.Windows.ContentElement.KeyUp> a <xref:System.Windows.ContentElement.TextInput> událostí není vždy jednoduché mapování 1:1, protože více klávesových úhozů může generovat jeden znak textového vstupu a jednoduchého stisknutí kláves, může generovat řetězce s více znaky.</span><span class="sxs-lookup"><span data-stu-id="baf29-176">There is not always a simple one-to-one mapping between <xref:System.Windows.ContentElement.KeyDown>/<xref:System.Windows.ContentElement.KeyUp> and <xref:System.Windows.ContentElement.TextInput> events because multiple keystrokes can generate a single character of text input and single keystrokes can generate multi-character strings.</span></span>  <span data-ttu-id="baf29-177">To platí zejména pro jazyky, jako jsou čínština, japonština a korejština, které používají editory IME (Input Method editory) k vygenerování tisíců možných znaků v odpovídajících abecedách.</span><span class="sxs-lookup"><span data-stu-id="baf29-177">This is especially true for languages such as Chinese, Japanese, and Korean which use Input Method Editors (IMEs) to generate the thousands of possible characters in their corresponding alphabets.</span></span>

 <span data-ttu-id="baf29-178">Když [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] pošle událost <xref:System.Windows.ContentElement.KeyUp>/<xref:System.Windows.ContentElement.KeyDown>, <xref:System.Windows.Input.KeyEventArgs.Key%2A> je nastavená na <xref:System.Windows.Input.Key.System?displayProperty=nameWithType>, pokud se stisknutí kláves stane součástí <xref:System.Windows.ContentElement.TextInput> události (například stisknutím ALT + S).</span><span class="sxs-lookup"><span data-stu-id="baf29-178">When [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] sends a <xref:System.Windows.ContentElement.KeyUp>/<xref:System.Windows.ContentElement.KeyDown> event, <xref:System.Windows.Input.KeyEventArgs.Key%2A> is set to <xref:System.Windows.Input.Key.System?displayProperty=nameWithType> if the keystrokes could become part of a <xref:System.Windows.ContentElement.TextInput> event (if ALT+S is pressed, for example).</span></span> <span data-ttu-id="baf29-179">To umožňuje, aby kód v obslužné rutině <xref:System.Windows.ContentElement.KeyDown> události kontroloval <xref:System.Windows.Input.Key.System?displayProperty=nameWithType> a, pokud se najde, opustili zpracování obslužné rutiny následně vyvolané <xref:System.Windows.ContentElement.TextInput> události.</span><span class="sxs-lookup"><span data-stu-id="baf29-179">This allows code in a <xref:System.Windows.ContentElement.KeyDown> event handler to check for <xref:System.Windows.Input.Key.System?displayProperty=nameWithType> and, if found, leave processing for the handler of the subsequently raised <xref:System.Windows.ContentElement.TextInput> event.</span></span> <span data-ttu-id="baf29-180">V těchto případech lze použít různé vlastnosti argumentu <xref:System.Windows.Input.TextCompositionEventArgs> k určení původních klávesových úhozů.</span><span class="sxs-lookup"><span data-stu-id="baf29-180">In these cases, the various properties of the <xref:System.Windows.Input.TextCompositionEventArgs> argument can be used to determine the original keystrokes.</span></span> <span data-ttu-id="baf29-181">Podobně pokud je aktivní editor IME, <xref:System.Windows.Input.Key> má hodnotu <xref:System.Windows.Input.Key.ImeProcessed?displayProperty=nameWithType>a <xref:System.Windows.Input.KeyEventArgs.ImeProcessedKey%2A> poskytuje původní klávesovou zkratku nebo stisknutí kláves.</span><span class="sxs-lookup"><span data-stu-id="baf29-181">Similarly, if an IME is active, <xref:System.Windows.Input.Key> has the value of <xref:System.Windows.Input.Key.ImeProcessed?displayProperty=nameWithType>, and <xref:System.Windows.Input.KeyEventArgs.ImeProcessedKey%2A> gives the original keystroke or keystrokes.</span></span>

 <span data-ttu-id="baf29-182">Následující příklad definuje obslužnou rutinu pro událost <xref:System.Windows.Controls.Primitives.ButtonBase.Click> a obslužnou rutinu pro událost <xref:System.Windows.UIElement.KeyDown>.</span><span class="sxs-lookup"><span data-stu-id="baf29-182">The following example defines a handler for the <xref:System.Windows.Controls.Primitives.ButtonBase.Click> event and a handler for the <xref:System.Windows.UIElement.KeyDown> event.</span></span>

 <span data-ttu-id="baf29-183">První segment kódu nebo značek vytvoří uživatelské rozhraní.</span><span class="sxs-lookup"><span data-stu-id="baf29-183">The first segment of code or markup creates the user interface.</span></span>

 [!code-xaml[InputOvw#Input_OvwTextInputXAML](~/samples/snippets/csharp/VS_Snippets_Wpf/InputOvw/CSharp/Page1.xaml#input_ovwtextinputxaml)]

 [!code-csharp[InputOvw#Input_OvwTextInputUICodeBehind](~/samples/snippets/csharp/VS_Snippets_Wpf/InputOvw/CSharp/Page1.xaml.cs#input_ovwtextinputuicodebehind)]
 [!code-vb[InputOvw#Input_OvwTextInputUICodeBehind](~/samples/snippets/visualbasic/VS_Snippets_Wpf/InputOvw/VisualBasic/Page1.xaml.vb#input_ovwtextinputuicodebehind)]

 <span data-ttu-id="baf29-184">Druhý segment kódu obsahuje obslužné rutiny událostí.</span><span class="sxs-lookup"><span data-stu-id="baf29-184">The second segment of code contains the event handlers.</span></span>

 [!code-csharp[InputOvw#Input_OvwTextInputHandlersCodeBehind](~/samples/snippets/csharp/VS_Snippets_Wpf/InputOvw/CSharp/Page1.xaml.cs#input_ovwtextinputhandlerscodebehind)]
 [!code-vb[InputOvw#Input_OvwTextInputHandlersCodeBehind](~/samples/snippets/visualbasic/VS_Snippets_Wpf/InputOvw/VisualBasic/Page1.xaml.vb#input_ovwtextinputhandlerscodebehind)]

 <span data-ttu-id="baf29-185">Vzhledem k tomu, že vstupní události obsahují bublinu trasy události, <xref:System.Windows.Controls.StackPanel> obdrží vstup bez ohledu na to, který prvek má fokus klávesnice.</span><span class="sxs-lookup"><span data-stu-id="baf29-185">Because input events bubble up the event route, the <xref:System.Windows.Controls.StackPanel> receives the input regardless of which element has keyboard focus.</span></span> <span data-ttu-id="baf29-186">Nejprve se oznámí <xref:System.Windows.Controls.TextBox> ovládací prvek a obslužná rutina `OnTextInputKeyDown` je volána pouze v případě, že <xref:System.Windows.Controls.TextBox> nezpracovává vstup.</span><span class="sxs-lookup"><span data-stu-id="baf29-186">The <xref:System.Windows.Controls.TextBox> control is notified first and the `OnTextInputKeyDown` handler is called only if the <xref:System.Windows.Controls.TextBox> did not handle the input.</span></span> <span data-ttu-id="baf29-187">Pokud se místo události <xref:System.Windows.UIElement.KeyDown> používá událost <xref:System.Windows.UIElement.PreviewKeyDown>, je nejprve volána obslužná rutina `OnTextInputKeyDown`.</span><span class="sxs-lookup"><span data-stu-id="baf29-187">If the <xref:System.Windows.UIElement.PreviewKeyDown> event is used instead of the <xref:System.Windows.UIElement.KeyDown> event, the `OnTextInputKeyDown` handler is called first.</span></span>

 <span data-ttu-id="baf29-188">V tomto příkladu je logika zpracování zapsána dvakrát – jednou pro klávesovou zkratku CTRL + O a znovu pro událost Click tlačítka.</span><span class="sxs-lookup"><span data-stu-id="baf29-188">In this example, the handling logic is written two times—one time for CTRL+O, and again for button's click event.</span></span> <span data-ttu-id="baf29-189">To se dá zjednodušit pomocí příkazů namísto přímého zpracování událostí vstupu.</span><span class="sxs-lookup"><span data-stu-id="baf29-189">This can be simplified by using commands, instead of handling the input events directly.</span></span>  <span data-ttu-id="baf29-190">Příkazy jsou popsány v tomto přehledu a v tématu [Přehled příkazů](commanding-overview.md).</span><span class="sxs-lookup"><span data-stu-id="baf29-190">Commands are discussed in this overview and in [Commanding Overview](commanding-overview.md).</span></span>

<a name="touch_and_manipulation"></a>
## <a name="touch-and-manipulation"></a><span data-ttu-id="baf29-191">Dotykové ovládání a manipulace</span><span class="sxs-lookup"><span data-stu-id="baf29-191">Touch and Manipulation</span></span>
 <span data-ttu-id="baf29-192">Nový hardware a rozhraní API v operačním systému Windows 7 poskytují aplikacím možnost přijímat vstupy z několika dotyků současně.</span><span class="sxs-lookup"><span data-stu-id="baf29-192">New hardware and API in the Windows 7 operating system provide applications the ability to receive input from multiple touches simultaneously.</span></span> [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] <span data-ttu-id="baf29-193">umožňuje aplikacím rozpoznávat a reagovat na dotykové ovládání podobným způsobem jako reakce na jiný vstup, jako je například myš nebo klávesnice, vyvoláním událostí, když dojde k dotyku.</span><span class="sxs-lookup"><span data-stu-id="baf29-193">enables applications to detect and respond to touch in a manner similar to responding to other input, such as the mouse or keyboard, by raising events when touch occurs.</span></span>

 [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] <span data-ttu-id="baf29-194">zpřístupňuje dva typy událostí při dotyku: události dotyku a manipulační události.</span><span class="sxs-lookup"><span data-stu-id="baf29-194">exposes two types of events when touch occurs: touch events and manipulation events.</span></span> <span data-ttu-id="baf29-195">Události dotykového ovládání poskytují hrubá data o jednotlivých prstech na dotykové obrazovce a jejich přesun.</span><span class="sxs-lookup"><span data-stu-id="baf29-195">Touch events provide raw data about each finger on a touchscreen and its movement.</span></span> <span data-ttu-id="baf29-196">Události manipulace interpretují vstup jako určité akce.</span><span class="sxs-lookup"><span data-stu-id="baf29-196">Manipulation events interpret the input as certain actions.</span></span> <span data-ttu-id="baf29-197">V této části jsou popsány oba typy událostí.</span><span class="sxs-lookup"><span data-stu-id="baf29-197">Both types of events are discussed in this section.</span></span>

### <a name="prerequisites"></a><span data-ttu-id="baf29-198">Požadavky</span><span class="sxs-lookup"><span data-stu-id="baf29-198">Prerequisites</span></span>
 <span data-ttu-id="baf29-199">Pro vývoj aplikací, které reagují na dotykové ovládání, potřebujete tyto komponenty.</span><span class="sxs-lookup"><span data-stu-id="baf29-199">You need the following components to develop an application that responds to touch.</span></span>

- <span data-ttu-id="baf29-200">Visual Studio 2010.</span><span class="sxs-lookup"><span data-stu-id="baf29-200">Visual Studio 2010.</span></span>

- <span data-ttu-id="baf29-201">Windows 7.</span><span class="sxs-lookup"><span data-stu-id="baf29-201">Windows 7.</span></span>

- <span data-ttu-id="baf29-202">Zařízení, jako je dotyková obrazovka, která podporuje dotykové ovládání systému Windows.</span><span class="sxs-lookup"><span data-stu-id="baf29-202">A device, such as a touchscreen, that supports Windows Touch.</span></span>

### <a name="terminology"></a><span data-ttu-id="baf29-203">Terminologie</span><span class="sxs-lookup"><span data-stu-id="baf29-203">Terminology</span></span>
 <span data-ttu-id="baf29-204">Následující výrazy se použijí, když je prodiskutován dotyk.</span><span class="sxs-lookup"><span data-stu-id="baf29-204">The following terms are used when touch is discussed.</span></span>

- <span data-ttu-id="baf29-205">**Dotykové ovládání** je typ uživatelského vstupu, který je rozpoznáván systémem Windows 7.</span><span class="sxs-lookup"><span data-stu-id="baf29-205">**Touch** is a type of user input that is recognized by Windows 7.</span></span> <span data-ttu-id="baf29-206">Dotyková obrazovka se většinou zahajuje tím, že se na dotykové obrazovce přidává prsty.</span><span class="sxs-lookup"><span data-stu-id="baf29-206">Usually, touch is initiated by putting fingers on a touch-sensitive screen.</span></span> <span data-ttu-id="baf29-207">Všimněte si, že zařízení, jako je například touchpad, který je běžný pro přenosné počítače, nepodporují dotykové ovládání, pokud zařízení jednoduše převede polohu a pohyb prstu jako vstup myši.</span><span class="sxs-lookup"><span data-stu-id="baf29-207">Note that devices such as a touchpad that is common on laptop computers do not support touch if the device merely converts the finger's position and movement as mouse input.</span></span>

- <span data-ttu-id="baf29-208">**Multitouch** je dotykové ovládání, ke kterému dochází z více než jednoho bodu současně.</span><span class="sxs-lookup"><span data-stu-id="baf29-208">**Multitouch** is touch that occurs from more than one point simultaneously.</span></span> <span data-ttu-id="baf29-209">Systém Windows 7 a [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] podporuje multitouch.</span><span class="sxs-lookup"><span data-stu-id="baf29-209">Windows 7 and [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] supports multitouch.</span></span> <span data-ttu-id="baf29-210">Pokaždé, když je v dokumentaci k dis[!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)], koncepce platí pro multitouch.</span><span class="sxs-lookup"><span data-stu-id="baf29-210">Whenever touch is discussed in the documentation for [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)], the concepts apply to multitouch.</span></span>

- <span data-ttu-id="baf29-211">K **manipulaci** dojde, když je dotykové ovládání interpretováno jako fyzická akce, která je použita na objekt.</span><span class="sxs-lookup"><span data-stu-id="baf29-211">A **manipulation** occurs when touch is interpreted as a physical action that is applied to an object.</span></span> <span data-ttu-id="baf29-212">V [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)]události manipulace interpretují vstup jako převod, rozšíření nebo manipulaci s rotací.</span><span class="sxs-lookup"><span data-stu-id="baf29-212">In [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)], manipulation events interpret input as a translation, expansion, or rotation manipulation.</span></span>

- <span data-ttu-id="baf29-213">`touch device` představuje zařízení, které vytváří dotykové vstupy, jako je například jeden prst na dotykové obrazovce.</span><span class="sxs-lookup"><span data-stu-id="baf29-213">A `touch device` represents a device that produces touch input, such as a single finger on a touchscreen.</span></span>

### <a name="controls-that-respond-to-touch"></a><span data-ttu-id="baf29-214">Ovládací prvky, které reagují na dotykové ovládání</span><span class="sxs-lookup"><span data-stu-id="baf29-214">Controls that Respond to Touch</span></span>
 <span data-ttu-id="baf29-215">Následující ovládací prvky lze procházet přetáhnutím prstem přes ovládací prvek, pokud má obsah, který se posouvá mimo zobrazení.</span><span class="sxs-lookup"><span data-stu-id="baf29-215">The following controls can be scrolled by dragging a finger across the control if it has content that is scrolled out of view.</span></span>

- <xref:System.Windows.Controls.ComboBox>

- <xref:System.Windows.Controls.ContextMenu>

- <xref:System.Windows.Controls.DataGrid>

- <xref:System.Windows.Controls.ListBox>

- <xref:System.Windows.Controls.ListView>

- <xref:System.Windows.Controls.MenuItem>

- <xref:System.Windows.Controls.TextBox>

- <xref:System.Windows.Controls.ToolBar>

- <xref:System.Windows.Controls.TreeView>

 <span data-ttu-id="baf29-216"><xref:System.Windows.Controls.ScrollViewer> definuje vlastnost <xref:System.Windows.Controls.ScrollViewer.PanningMode%2A?displayProperty=nameWithType> přidruženou, která umožňuje určit, zda je povoleno posouvání dotykového ovládání horizontálně, vertikálně, obojího nebo žádného.</span><span class="sxs-lookup"><span data-stu-id="baf29-216">The <xref:System.Windows.Controls.ScrollViewer> defines the <xref:System.Windows.Controls.ScrollViewer.PanningMode%2A?displayProperty=nameWithType> attached property that enables you to specify whether touch panning is enabled horizontally, vertically, both, or neither.</span></span> <span data-ttu-id="baf29-217">Vlastnost <xref:System.Windows.Controls.ScrollViewer.PanningDeceleration%2A?displayProperty=nameWithType> určuje, jak rychle se posune v případě, že uživatel zaznamená prst z dotykové obrazovky.</span><span class="sxs-lookup"><span data-stu-id="baf29-217">The <xref:System.Windows.Controls.ScrollViewer.PanningDeceleration%2A?displayProperty=nameWithType> property specifies how quickly the scrolling slows down when the user lifts the finger from the touchscreen.</span></span> <span data-ttu-id="baf29-218">Vlastnost <xref:System.Windows.Controls.ScrollViewer.PanningRatio%2A?displayProperty=nameWithType> připojená Určuje poměr posunutí posunu k posunu manipulace.</span><span class="sxs-lookup"><span data-stu-id="baf29-218">The <xref:System.Windows.Controls.ScrollViewer.PanningRatio%2A?displayProperty=nameWithType> attached property specifies the ratio of scrolling offset to translate manipulation offset.</span></span>

### <a name="touch-events"></a><span data-ttu-id="baf29-219">Události dotykové ovládání</span><span class="sxs-lookup"><span data-stu-id="baf29-219">Touch Events</span></span>
 <span data-ttu-id="baf29-220">Základní třídy, <xref:System.Windows.UIElement>, <xref:System.Windows.UIElement3D>a <xref:System.Windows.ContentElement>, definují události, které se můžou přihlásit k odběru, aby vaše aplikace reagovala na dotykové ovládání.</span><span class="sxs-lookup"><span data-stu-id="baf29-220">The base classes, <xref:System.Windows.UIElement>, <xref:System.Windows.UIElement3D>, and <xref:System.Windows.ContentElement>, define events that you can subscribe to so your application will respond to touch.</span></span> <span data-ttu-id="baf29-221">Události dotykové ovládání jsou užitečné v případě, že vaše aplikace interpretuje dotykové ovládání s jinou výjimkou manipulace s objektem.</span><span class="sxs-lookup"><span data-stu-id="baf29-221">Touch events are useful when your application interprets touch as something other than manipulating an object.</span></span> <span data-ttu-id="baf29-222">Například aplikace, která umožňuje uživateli kreslit jedním nebo více prsty, by mohla přihlašovat se k odběru událostí dotykové ovládání.</span><span class="sxs-lookup"><span data-stu-id="baf29-222">For example, an application that enables a user to draw with one or more fingers would subscribe to touch events.</span></span>

 <span data-ttu-id="baf29-223">Všechny tři třídy definují následující události, které se chovají podobně bez ohledu na definiční třídu.</span><span class="sxs-lookup"><span data-stu-id="baf29-223">All three classes define the following events, which behave similarly, regardless of the defining class.</span></span>

- <xref:System.Windows.UIElement.TouchDown>

- <xref:System.Windows.UIElement.TouchMove>

- <xref:System.Windows.UIElement.TouchUp>

- <xref:System.Windows.UIElement.TouchEnter>

- <xref:System.Windows.UIElement.TouchLeave>

- <xref:System.Windows.UIElement.PreviewTouchDown>

- <xref:System.Windows.UIElement.PreviewTouchMove>

- <xref:System.Windows.UIElement.PreviewTouchUp>

- <xref:System.Windows.UIElement.GotTouchCapture>

- <xref:System.Windows.UIElement.LostTouchCapture>

 <span data-ttu-id="baf29-224">Podobně jako události klávesnice a myši jsou události dotykového ovládání směrovány událostmi.</span><span class="sxs-lookup"><span data-stu-id="baf29-224">Like keyboard and mouse events, the touch events are routed events.</span></span> <span data-ttu-id="baf29-225">Události, které začínají `Preview`, jsou tunelové události a události, které začínají na `Touch`, jsou probublávání události.</span><span class="sxs-lookup"><span data-stu-id="baf29-225">The events that begin with `Preview` are tunneling events and the events that begin with `Touch` are bubbling events.</span></span> <span data-ttu-id="baf29-226">Další informace o směrovaných událostech najdete v tématu [Přehled směrovaných událostí](routed-events-overview.md).</span><span class="sxs-lookup"><span data-stu-id="baf29-226">For more information about routed events, see [Routed Events Overview](routed-events-overview.md).</span></span> <span data-ttu-id="baf29-227">Při zpracování těchto událostí lze získat pozici vstupu relativní k libovolnému prvku voláním metody <xref:System.Windows.Input.TouchEventArgs.GetTouchPoint%2A> nebo <xref:System.Windows.Input.TouchEventArgs.GetIntermediateTouchPoints%2A>.</span><span class="sxs-lookup"><span data-stu-id="baf29-227">When you handle these events, you can get the position of the input, relative to any element, by calling the <xref:System.Windows.Input.TouchEventArgs.GetTouchPoint%2A> or <xref:System.Windows.Input.TouchEventArgs.GetIntermediateTouchPoints%2A> method.</span></span>

 <span data-ttu-id="baf29-228">Pro pochopení interakce mezi událostmi dotykového ovládání Zvažte situaci, kdy uživatel vloží jeden prst na prvek, přesune prst v prvku a poté vytvoří prst z prvku.</span><span class="sxs-lookup"><span data-stu-id="baf29-228">To understand the interaction among the touch events, consider the scenario where a user puts one finger on an element, moves the finger in the element, and then lifts the finger from the element.</span></span> <span data-ttu-id="baf29-229">Následující ilustrace znázorňuje provádění probubláváních událostí (události tunelování jsou vynechány pro zjednodušení).</span><span class="sxs-lookup"><span data-stu-id="baf29-229">The following illustration shows the execution of the bubbling events (the tunneling events are omitted for simplicity).</span></span>

 <span data-ttu-id="baf29-230">![Posloupnost událostí dotykového ovládání.](./media/ndp-touchevents.png "NDP_TouchEvents") Události dotykové ovládání</span><span class="sxs-lookup"><span data-stu-id="baf29-230">![The sequence of touch events.](./media/ndp-touchevents.png "NDP_TouchEvents") Touch events</span></span>

 <span data-ttu-id="baf29-231">Následující seznam popisuje pořadí událostí na předchozí ilustraci.</span><span class="sxs-lookup"><span data-stu-id="baf29-231">The following list describes the sequence of the events in the preceding illustration.</span></span>

1. <span data-ttu-id="baf29-232">K události <xref:System.Windows.UIElement.TouchEnter> dojde jednou, když uživatel umístí prst na prvek.</span><span class="sxs-lookup"><span data-stu-id="baf29-232">The <xref:System.Windows.UIElement.TouchEnter> event occurs one time when the user puts a finger on the element.</span></span>

2. <span data-ttu-id="baf29-233">K události <xref:System.Windows.UIElement.TouchDown> dojde jednou.</span><span class="sxs-lookup"><span data-stu-id="baf29-233">The <xref:System.Windows.UIElement.TouchDown> event occurs one time.</span></span>

3. <span data-ttu-id="baf29-234">Událost <xref:System.Windows.UIElement.TouchMove> probíhá několikrát, protože uživatel přesouvá prst v rámci elementu.</span><span class="sxs-lookup"><span data-stu-id="baf29-234">The <xref:System.Windows.UIElement.TouchMove> event occurs multiple times as the user moves the finger within the element.</span></span>

4. <span data-ttu-id="baf29-235">K události <xref:System.Windows.UIElement.TouchUp> dojde jednou, když uživatel z prvku zavýtahí prst.</span><span class="sxs-lookup"><span data-stu-id="baf29-235">The <xref:System.Windows.UIElement.TouchUp> event occurs one time when the user lifts the finger from the element.</span></span>

5. <span data-ttu-id="baf29-236">K události <xref:System.Windows.UIElement.TouchLeave> dojde jednou.</span><span class="sxs-lookup"><span data-stu-id="baf29-236">The <xref:System.Windows.UIElement.TouchLeave> event occurs one time.</span></span>

 <span data-ttu-id="baf29-237">Při použití více než dvou prsty dojde k událostem u každého prstu.</span><span class="sxs-lookup"><span data-stu-id="baf29-237">When more than two fingers are used, the events occur for each finger.</span></span>

### <a name="manipulation-events"></a><span data-ttu-id="baf29-238">Události manipulace</span><span class="sxs-lookup"><span data-stu-id="baf29-238">Manipulation Events</span></span>
 <span data-ttu-id="baf29-239">V případech, kdy aplikace umožňuje uživateli manipulovat s objektem, třída <xref:System.Windows.UIElement> definuje události manipulace.</span><span class="sxs-lookup"><span data-stu-id="baf29-239">For cases where an application enables a user to manipulate an object, the <xref:System.Windows.UIElement> class defines manipulation events.</span></span> <span data-ttu-id="baf29-240">Na rozdíl od událostí dotyku, které jednoduše hlásí pozici dotyku, se události manipulace vydávají, jak lze interpretovat.</span><span class="sxs-lookup"><span data-stu-id="baf29-240">Unlike the touch events that simply report the position of touch, the manipulation events report how the input can be interpreted.</span></span> <span data-ttu-id="baf29-241">Existují tři typy manipulace, překladu, rozšiřování a rotace.</span><span class="sxs-lookup"><span data-stu-id="baf29-241">There are three types of manipulations, translation, expansion, and rotation.</span></span> <span data-ttu-id="baf29-242">Následující seznam popisuje, jak vyvolat tři typy manipulace.</span><span class="sxs-lookup"><span data-stu-id="baf29-242">The following list describes how to invoke the three types of manipulations.</span></span>

- <span data-ttu-id="baf29-243">Umístěte prst na objekt a pohybujte prstem přes dotykovou obrazovku, aby se vyvolala manipulace s překladem.</span><span class="sxs-lookup"><span data-stu-id="baf29-243">Put a finger on an object and move the finger across the touchscreen to invoke a translation manipulation.</span></span> <span data-ttu-id="baf29-244">Tím se obvykle přesune objekt.</span><span class="sxs-lookup"><span data-stu-id="baf29-244">This usually moves the object.</span></span>

- <span data-ttu-id="baf29-245">K vyvolání rozšíření můžete použít dva prsty na objekt a přesunout prsty blíže k sobě nebo více než další.</span><span class="sxs-lookup"><span data-stu-id="baf29-245">Put two fingers on an object and move the fingers closer together or farther apart from one another to invoke an expansion manipulation.</span></span> <span data-ttu-id="baf29-246">Tím se obvykle změní velikost objektu.</span><span class="sxs-lookup"><span data-stu-id="baf29-246">This usually resizes the object.</span></span>

- <span data-ttu-id="baf29-247">Přidejte dva prsty na objekt a otáčejte prsty kolem sebe, aby se vyvolala manipulace s rotací.</span><span class="sxs-lookup"><span data-stu-id="baf29-247">Put two fingers on an object and rotate the fingers around each other to invoke a rotation manipulation.</span></span> <span data-ttu-id="baf29-248">Tím se obvykle otáčí objekt.</span><span class="sxs-lookup"><span data-stu-id="baf29-248">This usually rotates the object.</span></span>

 <span data-ttu-id="baf29-249">Současně může probíhat více než jeden typ manipulace.</span><span class="sxs-lookup"><span data-stu-id="baf29-249">More than one type of manipulation can occur simultaneously.</span></span>

 <span data-ttu-id="baf29-250">Když způsobíte, že objekty budou reagovat na manipulace, je možné, že se objekt jeví jako nájezdový.</span><span class="sxs-lookup"><span data-stu-id="baf29-250">When you cause objects to respond to manipulations, you can have the object appear to have inertia.</span></span> <span data-ttu-id="baf29-251">Díky tomu mohou vaše objekty simulovat fyzický svět.</span><span class="sxs-lookup"><span data-stu-id="baf29-251">This can make your objects simulate the physical world.</span></span> <span data-ttu-id="baf29-252">Když například vložíte knihu do tabulky, pokud budete mít dostatek volného místa, bude kniha po jejím vydání nadále přesunuta.</span><span class="sxs-lookup"><span data-stu-id="baf29-252">For example, when you push a book across a table, if you push hard enough the book will continue to move after you release it.</span></span> [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] <span data-ttu-id="baf29-253">umožňuje simulovat toto chování tím, že vyvolává události manipulace poté, co uživatel uvolňuje objekt.</span><span class="sxs-lookup"><span data-stu-id="baf29-253">enables you to simulate this behavior by raising manipulation events after the user's fingers releases the object.</span></span>

 <span data-ttu-id="baf29-254">Informace o tom, jak vytvořit aplikaci, která umožňuje uživateli přesunout, změnit velikost a otočit objekt, najdete v tématu [Návod: Vytvoření první aplikace dotykového ovládání](walkthrough-creating-your-first-touch-application.md).</span><span class="sxs-lookup"><span data-stu-id="baf29-254">For information about how to create an application that enables the user to move, resize, and rotate an object, see [Walkthrough: Creating Your First Touch Application](walkthrough-creating-your-first-touch-application.md).</span></span>

 <span data-ttu-id="baf29-255"><xref:System.Windows.UIElement> definuje následující události manipulace.</span><span class="sxs-lookup"><span data-stu-id="baf29-255">The <xref:System.Windows.UIElement> defines the following manipulation events.</span></span>

- <xref:System.Windows.UIElement.ManipulationStarting>

- <xref:System.Windows.UIElement.ManipulationStarted>

- <xref:System.Windows.UIElement.ManipulationDelta>

- <xref:System.Windows.UIElement.ManipulationInertiaStarting>

- <xref:System.Windows.UIElement.ManipulationCompleted>

- <xref:System.Windows.UIElement.ManipulationBoundaryFeedback>

 <span data-ttu-id="baf29-256">Ve výchozím nastavení <xref:System.Windows.UIElement> neobdrží tyto události manipulace.</span><span class="sxs-lookup"><span data-stu-id="baf29-256">By default, a <xref:System.Windows.UIElement> does not receive these manipulation events.</span></span> <span data-ttu-id="baf29-257">Pokud chcete přijímat události manipulace na <xref:System.Windows.UIElement>, nastavte <xref:System.Windows.UIElement.IsManipulationEnabled%2A?displayProperty=nameWithType> na `true`.</span><span class="sxs-lookup"><span data-stu-id="baf29-257">To receive manipulation events on a <xref:System.Windows.UIElement>, set <xref:System.Windows.UIElement.IsManipulationEnabled%2A?displayProperty=nameWithType> to `true`.</span></span>

#### <a name="the-execution-path-of-manipulation-events"></a><span data-ttu-id="baf29-258">Cesta spuštění pro události manipulace</span><span class="sxs-lookup"><span data-stu-id="baf29-258">The Execution Path of Manipulation Events</span></span>
 <span data-ttu-id="baf29-259">Vezměte v úvahu scénář, kdy uživatel vyvolá objekt.</span><span class="sxs-lookup"><span data-stu-id="baf29-259">Consider a scenario where a user "throws" an object.</span></span> <span data-ttu-id="baf29-260">Uživatel vloží prst na objekt, přesune prst na dotykovou obrazovku po krátkou vzdálenost a pak při přesunu zavolá prst.</span><span class="sxs-lookup"><span data-stu-id="baf29-260">The user puts a finger on the object, moves the finger across the touchscreen for a short distance, and then lifts the finger while it is moving.</span></span> <span data-ttu-id="baf29-261">Výsledkem je to, že se objekt přesune v rámci prstu uživatele a nadále se přesune, jakmile uživatel dostane prst.</span><span class="sxs-lookup"><span data-stu-id="baf29-261">The result of this is that the object will move under the user's finger and continue to move after the user lifts the finger.</span></span>

 <span data-ttu-id="baf29-262">Následující ilustrace znázorňuje cestu spuštění pro události manipulace a důležité informace o každé události.</span><span class="sxs-lookup"><span data-stu-id="baf29-262">The following illustration shows the execution path of manipulation events and important information about each event.</span></span>

 <span data-ttu-id="baf29-263">![Sekvence událostí manipulace.](./media/ndp-manipulationevents.png "NDP_ManipulationEvents") Události manipulace</span><span class="sxs-lookup"><span data-stu-id="baf29-263">![The sequence of manipulation events.](./media/ndp-manipulationevents.png "NDP_ManipulationEvents") Manipulation events</span></span>

 <span data-ttu-id="baf29-264">Následující seznam popisuje pořadí událostí na předchozí ilustraci.</span><span class="sxs-lookup"><span data-stu-id="baf29-264">The following list describes the sequence of the events in the preceding illustration.</span></span>

1. <span data-ttu-id="baf29-265">K události <xref:System.Windows.UIElement.ManipulationStarting> dojde, když uživatel umístí prst na objekt.</span><span class="sxs-lookup"><span data-stu-id="baf29-265">The <xref:System.Windows.UIElement.ManipulationStarting> event occurs when the user places a finger on the object.</span></span> <span data-ttu-id="baf29-266">Mimo jiné tato událost umožňuje nastavit vlastnost <xref:System.Windows.Input.ManipulationStartingEventArgs.ManipulationContainer%2A>.</span><span class="sxs-lookup"><span data-stu-id="baf29-266">Among other things, this event allows you to set the <xref:System.Windows.Input.ManipulationStartingEventArgs.ManipulationContainer%2A> property.</span></span> <span data-ttu-id="baf29-267">V následných událostech bude poloha manipulace relativní vzhledem k <xref:System.Windows.Input.ManipulationStartingEventArgs.ManipulationContainer%2A>.</span><span class="sxs-lookup"><span data-stu-id="baf29-267">In the subsequent events, the position of the manipulation will be relative to the <xref:System.Windows.Input.ManipulationStartingEventArgs.ManipulationContainer%2A>.</span></span> <span data-ttu-id="baf29-268">V jiných událostech než <xref:System.Windows.UIElement.ManipulationStarting>je tato vlastnost jen pro čtení, takže událost <xref:System.Windows.UIElement.ManipulationStarting> je jediná doba, kterou můžete nastavit v této vlastnosti.</span><span class="sxs-lookup"><span data-stu-id="baf29-268">In events other than <xref:System.Windows.UIElement.ManipulationStarting>, this property is read-only, so the <xref:System.Windows.UIElement.ManipulationStarting> event is the only time that you can set this property.</span></span>

2. <span data-ttu-id="baf29-269">K události <xref:System.Windows.UIElement.ManipulationStarted> dojde dál.</span><span class="sxs-lookup"><span data-stu-id="baf29-269">The <xref:System.Windows.UIElement.ManipulationStarted> event occurs next.</span></span> <span data-ttu-id="baf29-270">Tato událost oznamuje původ manipulace.</span><span class="sxs-lookup"><span data-stu-id="baf29-270">This event reports the origin of the manipulation.</span></span>

3. <span data-ttu-id="baf29-271">K události <xref:System.Windows.UIElement.ManipulationDelta> dochází několikrát, protože prsty uživatele se přesunou na dotykovou obrazovku.</span><span class="sxs-lookup"><span data-stu-id="baf29-271">The <xref:System.Windows.UIElement.ManipulationDelta> event occurs multiple times as a user's fingers move on a touchscreen.</span></span> <span data-ttu-id="baf29-272">Vlastnost <xref:System.Windows.Input.ManipulationDeltaEventArgs.DeltaManipulation%2A> třídy <xref:System.Windows.Input.ManipulationDeltaEventArgs> hlásí, zda je manipulace interpretována jako pohyb, rozšíření nebo překlad.</span><span class="sxs-lookup"><span data-stu-id="baf29-272">The <xref:System.Windows.Input.ManipulationDeltaEventArgs.DeltaManipulation%2A> property of the <xref:System.Windows.Input.ManipulationDeltaEventArgs> class reports whether the manipulation is interpreted as movement, expansion, or translation.</span></span> <span data-ttu-id="baf29-273">To je místo, kde provádíte většinu práce při manipulaci s objektem.</span><span class="sxs-lookup"><span data-stu-id="baf29-273">This is where you perform most of the work of manipulating an object.</span></span>

4. <span data-ttu-id="baf29-274">K události <xref:System.Windows.UIElement.ManipulationInertiaStarting> dojde, když prsty uživatele ztratí kontakt s objektem.</span><span class="sxs-lookup"><span data-stu-id="baf29-274">The <xref:System.Windows.UIElement.ManipulationInertiaStarting> event occurs when the user's fingers lose contact with the object.</span></span> <span data-ttu-id="baf29-275">Tato událost umožňuje určit zpomalení manipulace během setrvačné hmotnosti.</span><span class="sxs-lookup"><span data-stu-id="baf29-275">This event enables you to specify the deceleration of the manipulations during inertia.</span></span> <span data-ttu-id="baf29-276">To znamená, že váš objekt může emulovat různé fyzické prostory nebo atributy, pokud zvolíte.</span><span class="sxs-lookup"><span data-stu-id="baf29-276">This is so your object can emulate different physical spaces or attributes if you choose.</span></span> <span data-ttu-id="baf29-277">Předpokládejme například, že vaše aplikace má dva objekty, které reprezentují položky ve fyzickém světě, a jeden je těžší než druhý.</span><span class="sxs-lookup"><span data-stu-id="baf29-277">For example, suppose your application has two objects that represent items in the physical world, and one is heavier than the other.</span></span> <span data-ttu-id="baf29-278">Nejslabším objektem můžete zvýšit zpomalení rychleji než světlejší objekt.</span><span class="sxs-lookup"><span data-stu-id="baf29-278">You can make the heavier object decelerate faster than the lighter object.</span></span>

5. <span data-ttu-id="baf29-279">Událost <xref:System.Windows.UIElement.ManipulationDelta> dochází vícekrát, protože dojde k nájezdu.</span><span class="sxs-lookup"><span data-stu-id="baf29-279">The <xref:System.Windows.UIElement.ManipulationDelta> event occurs multiple times as inertia occurs.</span></span> <span data-ttu-id="baf29-280">Všimněte si, že tato událost nastane, když se prsty uživatele pohybují v dotykové obrazovce a když [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] simuluje setrvačné hmotnosti.</span><span class="sxs-lookup"><span data-stu-id="baf29-280">Note that this event occurs when the user's fingers move across the touchscreen and when [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] simulates inertia.</span></span> <span data-ttu-id="baf29-281">Jinými slovy, <xref:System.Windows.UIElement.ManipulationDelta> se nachází před a po <xref:System.Windows.UIElement.ManipulationInertiaStarting> události.</span><span class="sxs-lookup"><span data-stu-id="baf29-281">In other words, <xref:System.Windows.UIElement.ManipulationDelta> occurs before and after the <xref:System.Windows.UIElement.ManipulationInertiaStarting> event.</span></span> <span data-ttu-id="baf29-282">Vlastnost <xref:System.Windows.Input.ManipulationDeltaEventArgs.IsInertial%2A?displayProperty=nameWithType> hlásí, zda <xref:System.Windows.UIElement.ManipulationDelta> událost probíhá během setrvačné hmotnosti, takže můžete tuto vlastnost kontrolovat a provádět různé akce v závislosti na její hodnotě.</span><span class="sxs-lookup"><span data-stu-id="baf29-282">The <xref:System.Windows.Input.ManipulationDeltaEventArgs.IsInertial%2A?displayProperty=nameWithType> property reports whether the <xref:System.Windows.UIElement.ManipulationDelta> event occurs during inertia, so you can check that property and perform different actions, depending on its value.</span></span>

6. <span data-ttu-id="baf29-283">K události <xref:System.Windows.UIElement.ManipulationCompleted> dojde v případě, že skončí manipulace a jakékoli setrvačné hmotnosti.</span><span class="sxs-lookup"><span data-stu-id="baf29-283">The <xref:System.Windows.UIElement.ManipulationCompleted> event occurs when the manipulation and any inertia ends.</span></span> <span data-ttu-id="baf29-284">To znamená, že po výskytu všech <xref:System.Windows.UIElement.ManipulationDelta> událostí dojde k události <xref:System.Windows.UIElement.ManipulationCompleted> k signalizaci, že manipulace byla dokončena.</span><span class="sxs-lookup"><span data-stu-id="baf29-284">That is, after all the <xref:System.Windows.UIElement.ManipulationDelta> events occur, the <xref:System.Windows.UIElement.ManipulationCompleted> event occurs to signal that the manipulation is complete.</span></span>

 <span data-ttu-id="baf29-285"><xref:System.Windows.UIElement> také definuje událost <xref:System.Windows.UIElement.ManipulationBoundaryFeedback>.</span><span class="sxs-lookup"><span data-stu-id="baf29-285">The <xref:System.Windows.UIElement> also defines the <xref:System.Windows.UIElement.ManipulationBoundaryFeedback> event.</span></span> <span data-ttu-id="baf29-286">Tato událost nastane, pokud je v události <xref:System.Windows.UIElement.ManipulationDelta> volána metoda <xref:System.Windows.Input.ManipulationDeltaEventArgs.ReportBoundaryFeedback%2A>.</span><span class="sxs-lookup"><span data-stu-id="baf29-286">This event occurs when the <xref:System.Windows.Input.ManipulationDeltaEventArgs.ReportBoundaryFeedback%2A> method is called in the <xref:System.Windows.UIElement.ManipulationDelta> event.</span></span> <span data-ttu-id="baf29-287">Událost <xref:System.Windows.UIElement.ManipulationBoundaryFeedback> umožňuje aplikacím nebo komponentám poskytovat vizuální zpětnou vazbu, když objekt narazí na hranici.</span><span class="sxs-lookup"><span data-stu-id="baf29-287">The <xref:System.Windows.UIElement.ManipulationBoundaryFeedback> event enables applications or components to provide visual feedback when an object hits a boundary.</span></span> <span data-ttu-id="baf29-288">Například třída <xref:System.Windows.Window> zpracovává událost <xref:System.Windows.UIElement.ManipulationBoundaryFeedback>, která způsobí, že se okno při zjištění jeho hrany mírně přesune.</span><span class="sxs-lookup"><span data-stu-id="baf29-288">For example, the <xref:System.Windows.Window> class handles the <xref:System.Windows.UIElement.ManipulationBoundaryFeedback> event to cause the window to slightly move when its edge is encountered.</span></span>

 <span data-ttu-id="baf29-289">Manipulaci můžete zrušit voláním metody <xref:System.Windows.Input.ManipulationStartingEventArgs.Cancel%2A> na argumenty události v jakékoli události manipulace s výjimkou události <xref:System.Windows.UIElement.ManipulationBoundaryFeedback>.</span><span class="sxs-lookup"><span data-stu-id="baf29-289">You can cancel the manipulation by calling the <xref:System.Windows.Input.ManipulationStartingEventArgs.Cancel%2A> method on the event arguments in any manipulation event except <xref:System.Windows.UIElement.ManipulationBoundaryFeedback> event.</span></span> <span data-ttu-id="baf29-290">Když zavoláte <xref:System.Windows.Input.ManipulationStartingEventArgs.Cancel%2A>, události manipulace již nejsou vyvolány a dojde k události myši při dotyku.</span><span class="sxs-lookup"><span data-stu-id="baf29-290">When you call <xref:System.Windows.Input.ManipulationStartingEventArgs.Cancel%2A>, the manipulation events are no longer raised and mouse events occur for touch.</span></span> <span data-ttu-id="baf29-291">Následující tabulka popisuje vztah mezi časem zrušení manipulace a událostmi myši, ke kterým dojde.</span><span class="sxs-lookup"><span data-stu-id="baf29-291">The following table describes the relationship between the time the manipulation is canceled and the mouse events that occur.</span></span>

|<span data-ttu-id="baf29-292">Událost, která se zruší, se volá v</span><span class="sxs-lookup"><span data-stu-id="baf29-292">The event that Cancel is called in</span></span>|<span data-ttu-id="baf29-293">Události myši, které se vyskytují u vstupu, ke kterému již došlo</span><span class="sxs-lookup"><span data-stu-id="baf29-293">The mouse events that occur for input that already occurred</span></span>|
|----------------------------------------|-----------------------------------------------------------------|
|<span data-ttu-id="baf29-294"><xref:System.Windows.UIElement.ManipulationStarting> a <xref:System.Windows.UIElement.ManipulationStarted></span><span class="sxs-lookup"><span data-stu-id="baf29-294"><xref:System.Windows.UIElement.ManipulationStarting> and <xref:System.Windows.UIElement.ManipulationStarted></span></span>|<span data-ttu-id="baf29-295">Události myši.</span><span class="sxs-lookup"><span data-stu-id="baf29-295">Mouse down events.</span></span>|
|<xref:System.Windows.UIElement.ManipulationDelta>|<span data-ttu-id="baf29-296">Události myši a přesunutí myši.</span><span class="sxs-lookup"><span data-stu-id="baf29-296">Mouse down and mouse move events.</span></span>|
|<span data-ttu-id="baf29-297"><xref:System.Windows.UIElement.ManipulationInertiaStarting> a <xref:System.Windows.UIElement.ManipulationCompleted></span><span class="sxs-lookup"><span data-stu-id="baf29-297"><xref:System.Windows.UIElement.ManipulationInertiaStarting> and <xref:System.Windows.UIElement.ManipulationCompleted></span></span>|<span data-ttu-id="baf29-298">Myš dolů, pohyb myši a události myši nahoru</span><span class="sxs-lookup"><span data-stu-id="baf29-298">Mouse down, mouse move, and mouse up events.</span></span>|

 <span data-ttu-id="baf29-299">Všimněte si, že pokud zavoláte <xref:System.Windows.Input.ManipulationStartingEventArgs.Cancel%2A>, když je manipulace v nenájezdovém umístění, metoda vrátí `false` a vstup nevyvolává události myši.</span><span class="sxs-lookup"><span data-stu-id="baf29-299">Note that if you call <xref:System.Windows.Input.ManipulationStartingEventArgs.Cancel%2A> when the manipulation is in inertia, the method returns `false` and the input does not raise mouse events.</span></span>

### <a name="the-relationship-between-touch-and-manipulation-events"></a><span data-ttu-id="baf29-300">Vztah mezi událostmi dotykového a manipulačního události</span><span class="sxs-lookup"><span data-stu-id="baf29-300">The Relationship Between Touch and Manipulation Events</span></span>
 <span data-ttu-id="baf29-301"><xref:System.Windows.UIElement> může vždycky přijímat události dotykového ovládání.</span><span class="sxs-lookup"><span data-stu-id="baf29-301">A <xref:System.Windows.UIElement> can always receive touch events.</span></span> <span data-ttu-id="baf29-302">Pokud je vlastnost <xref:System.Windows.UIElement.IsManipulationEnabled%2A> nastavena na hodnotu `true`, <xref:System.Windows.UIElement> může přijímat dotykové i manipulační události.</span><span class="sxs-lookup"><span data-stu-id="baf29-302">When the <xref:System.Windows.UIElement.IsManipulationEnabled%2A> property is set to `true`, a <xref:System.Windows.UIElement> can receive both touch and manipulation events.</span></span>  <span data-ttu-id="baf29-303">Pokud událost <xref:System.Windows.UIElement.TouchDown> není zpracována (to znamená, že vlastnost <xref:System.Windows.RoutedEventArgs.Handled%2A> je `false`), logika manipulace zachytí dotyk na prvek a vygeneruje události manipulace.</span><span class="sxs-lookup"><span data-stu-id="baf29-303">If the <xref:System.Windows.UIElement.TouchDown> event is not handled (that is, the <xref:System.Windows.RoutedEventArgs.Handled%2A> property is `false`), the manipulation logic captures the touch to the element and generates the manipulation events.</span></span> <span data-ttu-id="baf29-304">Pokud je vlastnost <xref:System.Windows.RoutedEventArgs.Handled%2A> nastavena na `true` v události <xref:System.Windows.UIElement.TouchDown>, logika manipulace negeneruje události manipulace.</span><span class="sxs-lookup"><span data-stu-id="baf29-304">If the <xref:System.Windows.RoutedEventArgs.Handled%2A> property is set to `true` in the <xref:System.Windows.UIElement.TouchDown> event, the manipulation logic does not generate manipulation events.</span></span> <span data-ttu-id="baf29-305">Následující ilustrace znázorňuje vztah mezi událostmi dotykového ovládání a událostmi manipulace.</span><span class="sxs-lookup"><span data-stu-id="baf29-305">The following illustration shows the relationship between touch events and manipulation events.</span></span>

 <span data-ttu-id="baf29-306">![Vztah mezi událostmi dotykového a manipulačního události](./media/ndp-touchmanipulateevents.png "NDP_TouchManipulateEvents") dotykové a manipulační události</span><span class="sxs-lookup"><span data-stu-id="baf29-306">![Relationship between touch and manipulation events](./media/ndp-touchmanipulateevents.png "NDP_TouchManipulateEvents") Touch and manipulation events</span></span>

 <span data-ttu-id="baf29-307">Následující seznam popisuje vztah mezi událostmi dotykového ovládání a manipulací, které jsou uvedeny na předchozím obrázku.</span><span class="sxs-lookup"><span data-stu-id="baf29-307">The following list describes the relationship between the touch and manipulation events that is shown in the preceding illustration.</span></span>

- <span data-ttu-id="baf29-308">Když první dotykové zařízení vygeneruje událost <xref:System.Windows.UIElement.TouchDown> v <xref:System.Windows.UIElement>, logika manipulace zavolá metodu <xref:System.Windows.UIElement.CaptureTouch%2A>, která generuje událost <xref:System.Windows.UIElement.GotTouchCapture>.</span><span class="sxs-lookup"><span data-stu-id="baf29-308">When the first touch device generates a <xref:System.Windows.UIElement.TouchDown> event on a <xref:System.Windows.UIElement>, the manipulation logic calls the <xref:System.Windows.UIElement.CaptureTouch%2A> method, which generates the <xref:System.Windows.UIElement.GotTouchCapture> event.</span></span>

- <span data-ttu-id="baf29-309">Pokud dojde k <xref:System.Windows.UIElement.GotTouchCapture>, logika manipulace zavolá metodu <xref:System.Windows.Input.Manipulation.AddManipulator%2A?displayProperty=nameWithType>, která generuje událost <xref:System.Windows.UIElement.ManipulationStarting>.</span><span class="sxs-lookup"><span data-stu-id="baf29-309">When the <xref:System.Windows.UIElement.GotTouchCapture> occurs, the manipulation logic calls the <xref:System.Windows.Input.Manipulation.AddManipulator%2A?displayProperty=nameWithType> method, which generates the <xref:System.Windows.UIElement.ManipulationStarting> event.</span></span>

- <span data-ttu-id="baf29-310">Když dojde k <xref:System.Windows.UIElement.TouchMove> události, logika manipulace vygeneruje <xref:System.Windows.UIElement.ManipulationDelta> události, ke kterým dojde před událostí <xref:System.Windows.UIElement.ManipulationInertiaStarting>.</span><span class="sxs-lookup"><span data-stu-id="baf29-310">When the <xref:System.Windows.UIElement.TouchMove> events occur, the manipulation logic generates the <xref:System.Windows.UIElement.ManipulationDelta> events that occur before the <xref:System.Windows.UIElement.ManipulationInertiaStarting> event.</span></span>

- <span data-ttu-id="baf29-311">Když poslední dotykové zařízení na elementu vyvolá událost <xref:System.Windows.UIElement.TouchUp>, logika manipulace vygeneruje událost <xref:System.Windows.UIElement.ManipulationInertiaStarting>.</span><span class="sxs-lookup"><span data-stu-id="baf29-311">When the last touch device on the element raises the <xref:System.Windows.UIElement.TouchUp> event, the manipulation logic generates the <xref:System.Windows.UIElement.ManipulationInertiaStarting> event.</span></span>

<a name="focus"></a>
## <a name="focus"></a><span data-ttu-id="baf29-312">Vybrána</span><span class="sxs-lookup"><span data-stu-id="baf29-312">Focus</span></span>
 <span data-ttu-id="baf29-313">Existují dva hlavní koncepty, které se týkají fokusu v [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)]: fokus klávesnice a logický fokus.</span><span class="sxs-lookup"><span data-stu-id="baf29-313">There are two main concepts that pertain to focus in [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)]: keyboard focus and logical focus.</span></span>

### <a name="keyboard-focus"></a><span data-ttu-id="baf29-314">Fokus klávesnice</span><span class="sxs-lookup"><span data-stu-id="baf29-314">Keyboard Focus</span></span>
 <span data-ttu-id="baf29-315">Fokus klávesnice odkazuje na prvek, který přijímá vstup z klávesnice.</span><span class="sxs-lookup"><span data-stu-id="baf29-315">Keyboard focus refers to the element that is receiving keyboard input.</span></span>  <span data-ttu-id="baf29-316">Na celém počítači může být pouze jeden element, který má fokus klávesnice.</span><span class="sxs-lookup"><span data-stu-id="baf29-316">There can be only one element on the whole desktop that has keyboard focus.</span></span>  <span data-ttu-id="baf29-317">V [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)]bude mít element, který má fokus klávesnice, <xref:System.Windows.IInputElement.IsKeyboardFocused%2A> nastaven na `true`.</span><span class="sxs-lookup"><span data-stu-id="baf29-317">In [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)], the element that has keyboard focus will have <xref:System.Windows.IInputElement.IsKeyboardFocused%2A> set to `true`.</span></span>  <span data-ttu-id="baf29-318">Metoda static <xref:System.Windows.Input.Keyboard> <xref:System.Windows.Input.Keyboard.FocusedElement%2A> vrátí prvek, který aktuálně má fokus klávesnice.</span><span class="sxs-lookup"><span data-stu-id="baf29-318">The static <xref:System.Windows.Input.Keyboard> method <xref:System.Windows.Input.Keyboard.FocusedElement%2A> returns the element that currently has keyboard focus.</span></span>

 <span data-ttu-id="baf29-319">Fokus klávesnice lze získat pomocí klávesy Tabulátor pro element nebo kliknutím na tlačítko myši u určitých prvků, jako je například <xref:System.Windows.Controls.TextBox>.</span><span class="sxs-lookup"><span data-stu-id="baf29-319">Keyboard focus can be obtained by tabbing to an element or by clicking the mouse on certain elements, such as a <xref:System.Windows.Controls.TextBox>.</span></span>  <span data-ttu-id="baf29-320">Fokus klávesnice lze také získat programově pomocí metody <xref:System.Windows.Input.Keyboard.Focus%2A> třídy <xref:System.Windows.Input.Keyboard>.</span><span class="sxs-lookup"><span data-stu-id="baf29-320">Keyboard focus can also be obtained programmatically by using the <xref:System.Windows.Input.Keyboard.Focus%2A> method on the <xref:System.Windows.Input.Keyboard> class.</span></span>  <span data-ttu-id="baf29-321"><xref:System.Windows.Input.Keyboard.Focus%2A> se pokusí zadat fokus na klávesnici zadaného elementu.</span><span class="sxs-lookup"><span data-stu-id="baf29-321"><xref:System.Windows.Input.Keyboard.Focus%2A> attempts to give the specified element keyboard focus.</span></span>  <span data-ttu-id="baf29-322">Element vrácený <xref:System.Windows.Input.Keyboard.Focus%2A> je prvek, který aktuálně má fokus klávesnice.</span><span class="sxs-lookup"><span data-stu-id="baf29-322">The element returned by <xref:System.Windows.Input.Keyboard.Focus%2A> is the element that currently has keyboard focus.</span></span>

 <span data-ttu-id="baf29-323">Aby element získal fokus klávesnice, vlastnost <xref:System.Windows.UIElement.Focusable%2A> a vlastnosti <xref:System.Windows.UIElement.IsVisible%2A> musí být nastaveny na **hodnotu true**.</span><span class="sxs-lookup"><span data-stu-id="baf29-323">In order for an element to obtain keyboard focus the <xref:System.Windows.UIElement.Focusable%2A> property and the <xref:System.Windows.UIElement.IsVisible%2A> properties must be set to **true**.</span></span>  <span data-ttu-id="baf29-324">Některé třídy, například <xref:System.Windows.Controls.Panel>, mají ve výchozím nastavení <xref:System.Windows.UIElement.Focusable%2A> nastavené na `false`. Proto může být nutné nastavit tuto vlastnost na `true`, pokud chcete, aby byl tento prvek schopný získat fokus.</span><span class="sxs-lookup"><span data-stu-id="baf29-324">Some classes, such as <xref:System.Windows.Controls.Panel>, have <xref:System.Windows.UIElement.Focusable%2A> set to `false` by default; therefore, you may have to set this property to `true` if you want that element to be able to obtain focus.</span></span>

 <span data-ttu-id="baf29-325">Následující příklad používá <xref:System.Windows.Input.Keyboard.Focus%2A> k nastavení fokusu klávesnice na <xref:System.Windows.Controls.Button>.</span><span class="sxs-lookup"><span data-stu-id="baf29-325">The following example uses <xref:System.Windows.Input.Keyboard.Focus%2A> to set keyboard focus on a <xref:System.Windows.Controls.Button>.</span></span>  <span data-ttu-id="baf29-326">Doporučené místo pro nastavení prvotního zaměření v aplikaci je v obslužné rutině události <xref:System.Windows.FrameworkElement.Loaded>.</span><span class="sxs-lookup"><span data-stu-id="baf29-326">The recommended place to set initial focus in an application is in the <xref:System.Windows.FrameworkElement.Loaded> event handler.</span></span>

 [!code-csharp[focussample#FocusSampleSetFocus](~/samples/snippets/csharp/VS_Snippets_Wpf/FocusSample/CSharp/Window1.xaml.cs#focussamplesetfocus)]
 [!code-vb[focussample#FocusSampleSetFocus](~/samples/snippets/visualbasic/VS_Snippets_Wpf/FocusSample/visualbasic/window1.xaml.vb#focussamplesetfocus)]

 <span data-ttu-id="baf29-327">Další informace o fokusu klávesnice najdete v tématu [Přehled fokusu](focus-overview.md).</span><span class="sxs-lookup"><span data-stu-id="baf29-327">For more information about keyboard focus, see [Focus Overview](focus-overview.md).</span></span>

### <a name="logical-focus"></a><span data-ttu-id="baf29-328">Logický fokus</span><span class="sxs-lookup"><span data-stu-id="baf29-328">Logical Focus</span></span>
 <span data-ttu-id="baf29-329">Logický fokus odkazuje na <xref:System.Windows.Input.FocusManager.FocusedElement%2A?displayProperty=nameWithType> v oboru fokusu.</span><span class="sxs-lookup"><span data-stu-id="baf29-329">Logical focus refers to the <xref:System.Windows.Input.FocusManager.FocusedElement%2A?displayProperty=nameWithType> in a focus scope.</span></span>  <span data-ttu-id="baf29-330">V aplikaci může být více elementů, které mají logický fokus, ale může existovat pouze jeden prvek, který má logický fokus v rámci konkrétního oboru fokusu.</span><span class="sxs-lookup"><span data-stu-id="baf29-330">There can be multiple elements that have logical focus in an application, but there may only be one element that has logical focus in a particular focus scope.</span></span>

 <span data-ttu-id="baf29-331">Rozsah fokusu je prvek kontejneru, který uchovává <xref:System.Windows.Input.FocusManager.FocusedElement%2A> v rámci jeho oboru.</span><span class="sxs-lookup"><span data-stu-id="baf29-331">A focus scope is a container element that keeps track of the <xref:System.Windows.Input.FocusManager.FocusedElement%2A> within its scope.</span></span>  <span data-ttu-id="baf29-332">Když fokus opustí rozsah fokusu, bude mít fokus na klávesnici fokus, ale zachová se tím logický fokus.</span><span class="sxs-lookup"><span data-stu-id="baf29-332">When focus leaves a focus scope, the focused element will lose keyboard focus but will retain logical focus.</span></span>  <span data-ttu-id="baf29-333">Když se fokus vrátí do oboru fokusu, fokus získá fokus klávesnice.</span><span class="sxs-lookup"><span data-stu-id="baf29-333">When focus returns to the focus scope, the focused element will obtain keyboard focus.</span></span>  <span data-ttu-id="baf29-334">To umožňuje změnit fokus klávesnice mezi více rozsahy fokusu, ale zajistěte, aby element fokus v rámci oboru fokusu zůstal při návratu fokusu fokusem elementu.</span><span class="sxs-lookup"><span data-stu-id="baf29-334">This allows for keyboard focus to be changed between multiple focus scopes but insures that the focused element within the focus scope remains the focused element when focus returns.</span></span>

 <span data-ttu-id="baf29-335">Element může být převeden do oboru fokusu v [!INCLUDE[TLA#tla_xaml](../../../../includes/tlasharptla-xaml-md.md)] nastavením <xref:System.Windows.Input.FocusManager> připojené vlastnosti <xref:System.Windows.Input.FocusManager.IsFocusScope%2A> na `true`nebo v kódu nastavením připojené vlastnosti pomocí metody <xref:System.Windows.Input.FocusManager.SetIsFocusScope%2A>.</span><span class="sxs-lookup"><span data-stu-id="baf29-335">An element can be turned into a focus scope in [!INCLUDE[TLA#tla_xaml](../../../../includes/tlasharptla-xaml-md.md)] by setting the <xref:System.Windows.Input.FocusManager> attached property <xref:System.Windows.Input.FocusManager.IsFocusScope%2A> to `true`, or in code by setting the attached property by using the <xref:System.Windows.Input.FocusManager.SetIsFocusScope%2A> method.</span></span>

 <span data-ttu-id="baf29-336">Následující příklad vytvoří <xref:System.Windows.Controls.StackPanel> do oboru fokusu nastavením vlastnosti <xref:System.Windows.Input.FocusManager.IsFocusScope%2A> připojené.</span><span class="sxs-lookup"><span data-stu-id="baf29-336">The following example makes a <xref:System.Windows.Controls.StackPanel> into a focus scope by setting the <xref:System.Windows.Input.FocusManager.IsFocusScope%2A> attached property.</span></span>

 [!code-xaml[MarkupSnippets#MarkupIsFocusScopeXAML](~/samples/snippets/csharp/VS_Snippets_Wpf/MarkupSnippets/CSharp/Window1.xaml#markupisfocusscopexaml)]

 [!code-csharp[FocusSnippets#FocusSetIsFocusScope](~/samples/snippets/csharp/VS_Snippets_Wpf/FocusSnippets/CSharp/Window1.xaml.cs#focussetisfocusscope)]
 [!code-vb[FocusSnippets#FocusSetIsFocusScope](~/samples/snippets/visualbasic/VS_Snippets_Wpf/FocusSnippets/visualbasic/window1.xaml.vb#focussetisfocusscope)]

 <span data-ttu-id="baf29-337">Třídy v [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)], které jsou ve výchozím nastavení obory výběru, jsou <xref:System.Windows.Window>, <xref:System.Windows.Controls.Menu>, <xref:System.Windows.Controls.ToolBar>a <xref:System.Windows.Controls.ContextMenu>.</span><span class="sxs-lookup"><span data-stu-id="baf29-337">Classes in [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] which are focus scopes by default are <xref:System.Windows.Window>, <xref:System.Windows.Controls.Menu>, <xref:System.Windows.Controls.ToolBar>, and <xref:System.Windows.Controls.ContextMenu>.</span></span>

 <span data-ttu-id="baf29-338">Element, který má fokus klávesnice, bude mít také logický fokus pro rozsah fokusu, ke kterému patří. Proto nastavení fokusu na element s <xref:System.Windows.Input.Keyboard.Focus%2A> metodou na <xref:System.Windows.Input.Keyboard> třídy nebo třídy základního elementu se pokusí přidělit fokus prvku klávesnice a logickému zaměření.</span><span class="sxs-lookup"><span data-stu-id="baf29-338">An element that has keyboard focus will also have logical focus for the focus scope it belongs to; therefore, setting focus on an element with the <xref:System.Windows.Input.Keyboard.Focus%2A> method on the <xref:System.Windows.Input.Keyboard> class or the base element classes will attempt to give the element keyboard focus and logical focus.</span></span>

 <span data-ttu-id="baf29-339">K určení prvku s fokusem v oboru fokusu použijte <xref:System.Windows.Input.FocusManager.GetFocusedElement%2A>.</span><span class="sxs-lookup"><span data-stu-id="baf29-339">To determine the focused element in a focus scope, use <xref:System.Windows.Input.FocusManager.GetFocusedElement%2A>.</span></span> <span data-ttu-id="baf29-340">Chcete-li změnit element s fokusem pro rozsah výběru, použijte <xref:System.Windows.Input.FocusManager.SetFocusedElement%2A>.</span><span class="sxs-lookup"><span data-stu-id="baf29-340">To change the focused element for a focus scope, use <xref:System.Windows.Input.FocusManager.SetFocusedElement%2A>.</span></span>

 <span data-ttu-id="baf29-341">Další informace o logickém výběru najdete v tématu [Přehled fokusu](focus-overview.md).</span><span class="sxs-lookup"><span data-stu-id="baf29-341">For more information about logical focus, see [Focus Overview](focus-overview.md).</span></span>

<a name="mouse_position"></a>
## <a name="mouse-position"></a><span data-ttu-id="baf29-342">Pozice myši</span><span class="sxs-lookup"><span data-stu-id="baf29-342">Mouse Position</span></span>
 <span data-ttu-id="baf29-343">Rozhraní API pro [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] Input poskytuje užitečné informace, pokud jde o souřadnici prostorů.</span><span class="sxs-lookup"><span data-stu-id="baf29-343">The [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] input API provides helpful information with regard to coordinate spaces.</span></span>  <span data-ttu-id="baf29-344">Například souřadnice `(0,0)` je levá horní souřadnice, ale v levém horním rohu elementu stromu?</span><span class="sxs-lookup"><span data-stu-id="baf29-344">For example, coordinate `(0,0)` is the upper-left coordinate, but the upper-left of which element in the tree?</span></span> <span data-ttu-id="baf29-345">Prvek, který je vstupním cílem?</span><span class="sxs-lookup"><span data-stu-id="baf29-345">The element that is the input target?</span></span> <span data-ttu-id="baf29-346">Prvek, na který jste připojenou obslužnou rutinu události?</span><span class="sxs-lookup"><span data-stu-id="baf29-346">The element you attached your event handler to?</span></span> <span data-ttu-id="baf29-347">Nebo něco jiného?</span><span class="sxs-lookup"><span data-stu-id="baf29-347">Or something else?</span></span> <span data-ttu-id="baf29-348">Aby nedocházelo k záměně, rozhraní API pro [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] Input vyžaduje, abyste při práci s souřadnicemi získanými přes myš určili rámec reference.</span><span class="sxs-lookup"><span data-stu-id="baf29-348">To avoid confusion, the [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] input API requires that you specify your frame of reference when you work with coordinates obtained through the mouse.</span></span> <span data-ttu-id="baf29-349">Metoda <xref:System.Windows.Input.Mouse.GetPosition%2A> vrátí souřadnici ukazatele myši relativně k zadanému prvku.</span><span class="sxs-lookup"><span data-stu-id="baf29-349">The <xref:System.Windows.Input.Mouse.GetPosition%2A> method returns the coordinate of the mouse pointer relative to the specified element.</span></span>

<a name="mouse_capture"></a>
## <a name="mouse-capture"></a><span data-ttu-id="baf29-350">Zachycení myši</span><span class="sxs-lookup"><span data-stu-id="baf29-350">Mouse Capture</span></span>
 <span data-ttu-id="baf29-351">Zařízení myši speciálně drží modální charakteristiku, která se označuje jako zachycení myši.</span><span class="sxs-lookup"><span data-stu-id="baf29-351">Mouse devices specifically hold a modal characteristic known as mouse capture.</span></span> <span data-ttu-id="baf29-352">K uchování přechodného vstupního stavu, když se spustí operace přetažení, se zachytí myš, aby se nemusely vyskytovat další operace, které se týkají jmenovité pozice ukazatele myši.</span><span class="sxs-lookup"><span data-stu-id="baf29-352">Mouse capture is used to maintain a transitional input state when a drag-and-drop operation is started, so that other operations involving the nominal on-screen position of the mouse pointer do not necessarily occur.</span></span> <span data-ttu-id="baf29-353">Během přetahování nemůže uživatel kliknout na bez přerušení přetahování, což způsobí, že většina mouseoverch upozornění není vhodná, zatímco je zachycení myši drženo zdrojem přetažení.</span><span class="sxs-lookup"><span data-stu-id="baf29-353">During the drag, the user cannot click without aborting the drag-and-drop, which makes most mouseover cues inappropriate while the mouse capture is held by the drag origin.</span></span> <span data-ttu-id="baf29-354">Vstupní systém zveřejňuje rozhraní API, která mohou určovat stav zachycení myši, a také rozhraní API, která mohou vynutit zachycení myši na konkrétní prvek nebo Vymazat stav zachycení myši.</span><span class="sxs-lookup"><span data-stu-id="baf29-354">The input system exposes APIs that can determine mouse capture state, as well as APIs that can force mouse capture to a specific element, or clear mouse capture state.</span></span> <span data-ttu-id="baf29-355">Další informace o operacích přetažení najdete v tématu [Přehled](drag-and-drop-overview.md)přetažení.</span><span class="sxs-lookup"><span data-stu-id="baf29-355">For more information on drag-and-drop operations, see [Drag and Drop Overview](drag-and-drop-overview.md).</span></span>

<a name="commands"></a>
## <a name="commands"></a><span data-ttu-id="baf29-356">Příkazy</span><span class="sxs-lookup"><span data-stu-id="baf29-356">Commands</span></span>
 <span data-ttu-id="baf29-357">Příkazy umožňují zpracování vstupu na sémantické úrovni než vstup zařízení.</span><span class="sxs-lookup"><span data-stu-id="baf29-357">Commands enable input handling at a more semantic level than device input.</span></span>  <span data-ttu-id="baf29-358">Příkazy jsou jednoduché direktivy, například `Cut`, `Copy`, `Paste`nebo `Open`.</span><span class="sxs-lookup"><span data-stu-id="baf29-358">Commands are simple directives, such as `Cut`, `Copy`, `Paste`, or `Open`.</span></span>  <span data-ttu-id="baf29-359">Příkazy jsou užitečné pro centralizaci logiky příkazů.</span><span class="sxs-lookup"><span data-stu-id="baf29-359">Commands are useful for centralizing your command logic.</span></span>  <span data-ttu-id="baf29-360">Ke stejnému příkazu může být přihlášený z <xref:System.Windows.Controls.Menu>, <xref:System.Windows.Controls.ToolBar>nebo prostřednictvím klávesové zkratky.</span><span class="sxs-lookup"><span data-stu-id="baf29-360">The same command might be accessed from a <xref:System.Windows.Controls.Menu>, on a <xref:System.Windows.Controls.ToolBar>, or through a keyboard shortcut.</span></span> <span data-ttu-id="baf29-361">Příkazy také poskytují mechanismus pro vypnutí ovládacích prvků v případě, že příkaz nebude k dispozici.</span><span class="sxs-lookup"><span data-stu-id="baf29-361">Commands also provide a mechanism for disabling controls when the command becomes unavailable.</span></span>

 <span data-ttu-id="baf29-362"><xref:System.Windows.Input.RoutedCommand> je [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] implementace <xref:System.Windows.Input.ICommand>.</span><span class="sxs-lookup"><span data-stu-id="baf29-362"><xref:System.Windows.Input.RoutedCommand> is the [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] implementation of <xref:System.Windows.Input.ICommand>.</span></span>  <span data-ttu-id="baf29-363">Při spuštění <xref:System.Windows.Input.RoutedCommand> se v cíli příkazu vyvolá <xref:System.Windows.Input.CommandManager.PreviewExecuted> a <xref:System.Windows.Input.CommandManager.Executed> událost, která vytvoří tunel a bublinový prvek pomocí stromu elementu, jako je jiný vstup.</span><span class="sxs-lookup"><span data-stu-id="baf29-363">When a <xref:System.Windows.Input.RoutedCommand> is executed, a <xref:System.Windows.Input.CommandManager.PreviewExecuted> and an <xref:System.Windows.Input.CommandManager.Executed> event are raised on the command target, which tunnel and bubble through the element tree like other input.</span></span>  <span data-ttu-id="baf29-364">Pokud není nastaven cíl příkazu, bude element s fokusem klávesnice cílem příkazu.</span><span class="sxs-lookup"><span data-stu-id="baf29-364">If a command target is not set, the element with keyboard focus will be the command target.</span></span>  <span data-ttu-id="baf29-365">Logika, která provede příkaz, je připojena k <xref:System.Windows.Input.CommandBinding>.</span><span class="sxs-lookup"><span data-stu-id="baf29-365">The logic that performs the command is attached to a <xref:System.Windows.Input.CommandBinding>.</span></span>  <span data-ttu-id="baf29-366">Když událost <xref:System.Windows.Input.CommandManager.Executed> dosáhne <xref:System.Windows.Input.CommandBinding> pro tento konkrétní příkaz, je volána <xref:System.Windows.Input.ExecutedRoutedEventHandler> na <xref:System.Windows.Input.CommandBinding>.</span><span class="sxs-lookup"><span data-stu-id="baf29-366">When an <xref:System.Windows.Input.CommandManager.Executed> event reaches a <xref:System.Windows.Input.CommandBinding> for that specific command, the <xref:System.Windows.Input.ExecutedRoutedEventHandler> on the <xref:System.Windows.Input.CommandBinding> is called.</span></span>  <span data-ttu-id="baf29-367">Tato obslužná rutina provádí akci příkazu.</span><span class="sxs-lookup"><span data-stu-id="baf29-367">This handler performs the action of the command.</span></span>

 <span data-ttu-id="baf29-368">Další informace o příkazech najdete v tématu [Přehled příkazů](commanding-overview.md).</span><span class="sxs-lookup"><span data-stu-id="baf29-368">For more information on commanding, see [Commanding Overview](commanding-overview.md).</span></span>

 [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] <span data-ttu-id="baf29-369">poskytuje knihovnu běžných příkazů, které se skládají z <xref:System.Windows.Input.ApplicationCommands>, <xref:System.Windows.Input.MediaCommands>, <xref:System.Windows.Input.ComponentCommands>, <xref:System.Windows.Input.NavigationCommands>a <xref:System.Windows.Documents.EditingCommands>, nebo můžete definovat vlastní.</span><span class="sxs-lookup"><span data-stu-id="baf29-369">provides a library of common commands which consists of <xref:System.Windows.Input.ApplicationCommands>, <xref:System.Windows.Input.MediaCommands>, <xref:System.Windows.Input.ComponentCommands>, <xref:System.Windows.Input.NavigationCommands>, and <xref:System.Windows.Documents.EditingCommands>, or you can define your own.</span></span>

 <span data-ttu-id="baf29-370">Následující příklad ukazuje, jak nastavit <xref:System.Windows.Controls.MenuItem> tak, že když na ni kliknete, vyvolá příkaz <xref:System.Windows.Input.ApplicationCommands.Paste%2A> na <xref:System.Windows.Controls.TextBox>, za předpokladu, že <xref:System.Windows.Controls.TextBox> má fokus klávesnice.</span><span class="sxs-lookup"><span data-stu-id="baf29-370">The following example shows how to set up a <xref:System.Windows.Controls.MenuItem> so that when it is clicked it will invoke the <xref:System.Windows.Input.ApplicationCommands.Paste%2A> command on the <xref:System.Windows.Controls.TextBox>, assuming the <xref:System.Windows.Controls.TextBox> has keyboard focus.</span></span>

 [!code-xaml[CommandingOverviewSnippets#CommandingOverviewSimpleCommand](~/samples/snippets/csharp/VS_Snippets_Wpf/CommandingOverviewSnippets/CSharp/Window1.xaml#commandingoverviewsimplecommand)]

 [!code-csharp[CommandingOverviewSnippets#CommandingOverviewCommandTargetCodeBehind](~/samples/snippets/csharp/VS_Snippets_Wpf/CommandingOverviewSnippets/CSharp/Window1.xaml.cs#commandingoverviewcommandtargetcodebehind)]
 [!code-vb[CommandingOverviewSnippets#CommandingOverviewCommandTargetCodeBehind](~/samples/snippets/visualbasic/VS_Snippets_Wpf/CommandingOverviewSnippets/visualbasic/window1.xaml.vb#commandingoverviewcommandtargetcodebehind)]

 <span data-ttu-id="baf29-371">Další informace o příkazech v [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)]najdete v tématu [Přehled příkazů](commanding-overview.md).</span><span class="sxs-lookup"><span data-stu-id="baf29-371">For more information about commands in [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)], see [Commanding Overview](commanding-overview.md).</span></span>

<a name="the_input_system_and_base_elements"></a>
## <a name="the-input-system-and-base-elements"></a><span data-ttu-id="baf29-372">Vstupní systém a základní prvky</span><span class="sxs-lookup"><span data-stu-id="baf29-372">The Input System and Base Elements</span></span>
 <span data-ttu-id="baf29-373">Vstupní události, jako jsou připojené události definované <xref:System.Windows.Input.Mouse>, <xref:System.Windows.Input.Keyboard>a třídy <xref:System.Windows.Input.Stylus>, jsou vyvolány vstupním systémem a vloženy do konkrétní pozice v objektovém modelu na základě testu přístupů ve vizuálním stromu v době běhu.</span><span class="sxs-lookup"><span data-stu-id="baf29-373">Input events such as the attached events defined by the <xref:System.Windows.Input.Mouse>, <xref:System.Windows.Input.Keyboard>, and <xref:System.Windows.Input.Stylus> classes are raised by the input system and injected into a particular position in the object model based on hit testing the visual tree at run time.</span></span>

 <span data-ttu-id="baf29-374">Každé události, které <xref:System.Windows.Input.Mouse>, <xref:System.Windows.Input.Keyboard>a <xref:System.Windows.Input.Stylus> definují jako připojenou událost, jsou také znovu zpřístupněny třídami základního prvku <xref:System.Windows.UIElement> a <xref:System.Windows.ContentElement> jako nová směrovaná událost.</span><span class="sxs-lookup"><span data-stu-id="baf29-374">Each of the events that <xref:System.Windows.Input.Mouse>, <xref:System.Windows.Input.Keyboard>, and <xref:System.Windows.Input.Stylus> define as an attached event is also re-exposed by the base element classes <xref:System.Windows.UIElement> and <xref:System.Windows.ContentElement> as a new routed event.</span></span> <span data-ttu-id="baf29-375">Základní element směrované události jsou generovány třídami, které zpracovávají původní připojenou událost a znovu používají data události.</span><span class="sxs-lookup"><span data-stu-id="baf29-375">The base element routed events are generated by classes handling the original attached event and reusing the event data.</span></span>

 <span data-ttu-id="baf29-376">Když je vstupní událost přidružena k určitému zdrojovému elementu prostřednictvím implementace vstupní události základního elementu, může být směrována přes zbytek trasy události, která je založena na kombinaci logických a vizuálních objektů a zpracována kód aplikace.</span><span class="sxs-lookup"><span data-stu-id="baf29-376">When the input event becomes associated with a particular source element through its base element input event implementation, it can be routed through the remainder of an event route that is based on a combination of logical and visual tree objects, and be handled by application code.</span></span>  <span data-ttu-id="baf29-377">Obecně je pohodlnější zpracovávat tyto události vstupu související s zařízením pomocí směrovaných událostí na <xref:System.Windows.UIElement> a <xref:System.Windows.ContentElement>, protože můžete použít intuitivnější syntaxe obslužné rutiny událostí v [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] i v kódu.</span><span class="sxs-lookup"><span data-stu-id="baf29-377">Generally, it is more convenient to handle these device-related input events using the routed events on <xref:System.Windows.UIElement> and <xref:System.Windows.ContentElement>, because you can use more intuitive event handler syntax both in [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] and in code.</span></span> <span data-ttu-id="baf29-378">Můžete se rozhodnout, že chcete zpracovat připojenou událost, která iniciovala proces, ale měli byste se setkat s několika problémy: připojená událost může být označena zpracováním základní třídy elementu a vy budete muset použít přístupové metody místo skutečné syntaxe události v daném pořadí. pro připojení obslužných rutin pro připojené události.</span><span class="sxs-lookup"><span data-stu-id="baf29-378">You could choose to handle the attached event that initiated the process instead, but you would face several issues: the attached event may be marked handled by the base element class handling, and you need to use accessor methods rather than true event syntax in order to attach handlers for attached events.</span></span>

<a name="whats_next"></a>
## <a name="whats-next"></a><span data-ttu-id="baf29-379">Co dál</span><span class="sxs-lookup"><span data-stu-id="baf29-379">What's Next</span></span>
 <span data-ttu-id="baf29-380">Nyní máte několik postupů, jak zpracovávat vstup v [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)].</span><span class="sxs-lookup"><span data-stu-id="baf29-380">You now have several techniques to handle input in [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)].</span></span>  <span data-ttu-id="baf29-381">Měli byste taky mít lepší přehled o různých typech vstupních událostí a směrovaných mechanismech událostí, které používá [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)].</span><span class="sxs-lookup"><span data-stu-id="baf29-381">You should also have an improved understanding of the various types of input events and the routed event mechanisms used by [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)].</span></span>

 <span data-ttu-id="baf29-382">K dispozici jsou další zdroje informací, které vysvětlují [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] prvky architektury a směrování událostí podrobněji.</span><span class="sxs-lookup"><span data-stu-id="baf29-382">Additional resources are available that explain [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] framework elements and event routing in more detail.</span></span> <span data-ttu-id="baf29-383">V následujících přehledech najdete další informace, [Přehled příkazů](commanding-overview.md), přehled [fokusu](focus-overview.md), [Přehled základních prvků](base-elements-overview.md), [stromy v](trees-in-wpf.md)subsystému WPF a [směrované události](routed-events-overview.md).</span><span class="sxs-lookup"><span data-stu-id="baf29-383">See the following overviews for more information, [Commanding Overview](commanding-overview.md), [Focus Overview](focus-overview.md), [Base Elements Overview](base-elements-overview.md), [Trees in WPF](trees-in-wpf.md), and [Routed Events Overview](routed-events-overview.md).</span></span>

## <a name="see-also"></a><span data-ttu-id="baf29-384">Viz také:</span><span class="sxs-lookup"><span data-stu-id="baf29-384">See also</span></span>

- [<span data-ttu-id="baf29-385">Přehled fokusu</span><span class="sxs-lookup"><span data-stu-id="baf29-385">Focus Overview</span></span>](focus-overview.md)
- [<span data-ttu-id="baf29-386">Přehled příkazů</span><span class="sxs-lookup"><span data-stu-id="baf29-386">Commanding Overview</span></span>](commanding-overview.md)
- [<span data-ttu-id="baf29-387">Přehled směrovaných událostí</span><span class="sxs-lookup"><span data-stu-id="baf29-387">Routed Events Overview</span></span>](routed-events-overview.md)
- [<span data-ttu-id="baf29-388">Přehled základních elementů</span><span class="sxs-lookup"><span data-stu-id="baf29-388">Base Elements Overview</span></span>](base-elements-overview.md)
- [<span data-ttu-id="baf29-389">Vlastnosti</span><span class="sxs-lookup"><span data-stu-id="baf29-389">Properties</span></span>](properties-wpf.md)
