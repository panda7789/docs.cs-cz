---
title: Přehled strukturované navigace
ms.date: 03/30/2017
dev_langs:
- csharp
- vb
helpviewer_keywords:
- structured navigation [WPF]
ms.assetid: 025d30ef-fec5-436d-ad7a-5d5483331c26
ms.openlocfilehash: 5e8c27d017ed4bf8a7dcc2dda18877c9ed8dba69
ms.sourcegitcommit: 7bc6887ab658550baa78f1520ea735838249345e
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 01/03/2020
ms.locfileid: "75636338"
---
# <a name="structured-navigation-overview"></a><span data-ttu-id="00b5b-102">Přehled strukturované navigace</span><span class="sxs-lookup"><span data-stu-id="00b5b-102">Structured Navigation Overview</span></span>

<span data-ttu-id="00b5b-103">Obsah, který lze hostovat pomocí aplikace prohlížeče XAML (XBAP), <xref:System.Windows.Controls.Frame>, nebo <xref:System.Windows.Navigation.NavigationWindow> se skládá ze stránek, které mohou být identifikovány pomocí identifikátorů URI (Uniform Resource Identifier) a přechází na ně pomocí hypertextových odkazů.</span><span class="sxs-lookup"><span data-stu-id="00b5b-103">Content that can be hosted by an XAML browser application (XBAP), a <xref:System.Windows.Controls.Frame>, or a <xref:System.Windows.Navigation.NavigationWindow> is composed of pages that can be identified by pack uniform resource identifiers (URIs) and navigated to by hyperlinks.</span></span> <span data-ttu-id="00b5b-104">Struktura stránek a způsoby, kterými se dají přejít, jak jsou definované hypertextovými odkazy, se označují jako navigační topologie.</span><span class="sxs-lookup"><span data-stu-id="00b5b-104">The structure of pages and the ways in which they can be navigated, as defined by hyperlinks, is known as a navigation topology.</span></span> <span data-ttu-id="00b5b-105">Taková topologie vyhovuje nejrůznějším typům aplikací, zejména k procházení dokumentů.</span><span class="sxs-lookup"><span data-stu-id="00b5b-105">Such a topology suits a variety of application types, particularly those that navigate through documents.</span></span> <span data-ttu-id="00b5b-106">Pro takové aplikace může uživatel přecházet z jedné stránky na jinou stránku, aniž by museli mít žádné informace o druhé straně.</span><span class="sxs-lookup"><span data-stu-id="00b5b-106">For such applications, the user can navigate from one page to another page without either page needing to know anything about the other.</span></span>

<span data-ttu-id="00b5b-107">Jiné typy aplikací však mají stránky, které potřebují znát, pokud byly přecházení mezi nimi.</span><span class="sxs-lookup"><span data-stu-id="00b5b-107">However, other types of applications have pages that do need to know when they have been navigated between.</span></span> <span data-ttu-id="00b5b-108">Představte si například aplikaci lidských zdrojů, která má jednu stránku k vypsání všech zaměstnanců v organizaci – na stránce "vypsat zaměstnance".</span><span class="sxs-lookup"><span data-stu-id="00b5b-108">For example, consider a human resources application that has one page to list all the employees in an organization—the "List Employees" page.</span></span> <span data-ttu-id="00b5b-109">Tato stránka může také uživatelům dovolit přidat nového zaměstnance kliknutím na hypertextový odkaz.</span><span class="sxs-lookup"><span data-stu-id="00b5b-109">This page could also allow users to add a new employee by clicking a hyperlink.</span></span> <span data-ttu-id="00b5b-110">Po kliknutí na stránku přejdete na stránku přidat zaměstnance, kde zjistíte podrobnosti o novém zaměstnanci a vrátíte je na stránku "seznam zaměstnanců". vytvoří se nový zaměstnanec a seznam se aktualizuje.</span><span class="sxs-lookup"><span data-stu-id="00b5b-110">When clicked, the page navigates to an "Add an Employee" page to gather the new employee's details and return them to the "List Employees" page to create the new employee and update the list.</span></span> <span data-ttu-id="00b5b-111">Tento styl navigace je podobný volání metody pro provedení nějakého zpracování a vrácení hodnoty, která se označuje jako strukturované programování.</span><span class="sxs-lookup"><span data-stu-id="00b5b-111">This style of navigation is similar to calling a method to perform some processing and return a value, which is known as structured programming.</span></span> <span data-ttu-id="00b5b-112">V takovém případě se tento styl navigace označuje jako *strukturovaná navigace*.</span><span class="sxs-lookup"><span data-stu-id="00b5b-112">As such, this style of navigation is known as *structured navigation*.</span></span>

<span data-ttu-id="00b5b-113">Třída <xref:System.Windows.Controls.Page> neimplementuje podporu strukturované navigace.</span><span class="sxs-lookup"><span data-stu-id="00b5b-113">The <xref:System.Windows.Controls.Page> class doesn't implement support for structured navigation.</span></span> <span data-ttu-id="00b5b-114">Místo toho je třída <xref:System.Windows.Navigation.PageFunction%601> odvozena z <xref:System.Windows.Controls.Page> a rozšiřuje ji o základní konstrukce vyžadované pro strukturované navigace.</span><span class="sxs-lookup"><span data-stu-id="00b5b-114">Instead, the <xref:System.Windows.Navigation.PageFunction%601> class derives from <xref:System.Windows.Controls.Page> and extends it with the basic constructs required for structured navigation.</span></span> <span data-ttu-id="00b5b-115">V tomto tématu se dozvíte, jak vytvořit strukturovanou navigaci pomocí <xref:System.Windows.Navigation.PageFunction%601>.</span><span class="sxs-lookup"><span data-stu-id="00b5b-115">This topic shows how to establish structured navigation using <xref:System.Windows.Navigation.PageFunction%601>.</span></span>

<a name="Structured_Navigation"></a>

## <a name="structured-navigation"></a><span data-ttu-id="00b5b-116">Strukturovaná navigace</span><span class="sxs-lookup"><span data-stu-id="00b5b-116">Structured Navigation</span></span>

<span data-ttu-id="00b5b-117">Když jedna stránka zavolá jinou stránku ve strukturované navigaci, vyžadují se některé nebo všechna následující chování:</span><span class="sxs-lookup"><span data-stu-id="00b5b-117">When one page calls another page in a structured navigation, some or all of the following behaviors are required:</span></span>

- <span data-ttu-id="00b5b-118">Volající stránka přejde na volanou stránku a volitelně předává parametry vyžadované volanou stránkou.</span><span class="sxs-lookup"><span data-stu-id="00b5b-118">The calling page navigates to the called page, optionally passing parameters required by the called page.</span></span>

- <span data-ttu-id="00b5b-119">Volaná stránka: když uživatel dokončí používání volající stránky, vrátí se konkrétně na volající stránku, volitelně:</span><span class="sxs-lookup"><span data-stu-id="00b5b-119">The called page, when a user has completed using the calling page, returns specifically to the calling page, optionally:</span></span>

  - <span data-ttu-id="00b5b-120">Vracení informací o stavu, které popisují, jak byla volající stránka dokončena (například zda uživatel stiskne tlačítko OK nebo tlačítko Storno).</span><span class="sxs-lookup"><span data-stu-id="00b5b-120">Returning state information that describes how the calling page was completed (for example, whether a user pressed an OK button or a Cancel button).</span></span>

  - <span data-ttu-id="00b5b-121">Vrácení dat, která byla shromážděna uživatelem (například Podrobnosti o novém zaměstnanci).</span><span class="sxs-lookup"><span data-stu-id="00b5b-121">Returning that data that was collected from the user (for example, new employee details).</span></span>

- <span data-ttu-id="00b5b-122">Když se volající stránka vrátí na volanou stránku, volaná stránka je odebrána z historie navigace a izoluje jednu instanci pojmenované stránky od druhé.</span><span class="sxs-lookup"><span data-stu-id="00b5b-122">When the calling page returns to the called page, the called page is removed from navigation history to isolate one instance of a called page from another.</span></span>

<span data-ttu-id="00b5b-123">Toto chování je znázorněno na následujícím obrázku:</span><span class="sxs-lookup"><span data-stu-id="00b5b-123">These behaviors are illustrated by the following figure:</span></span>

![Snímek obrazovky znázorňující tok mezi volající stránkou a volanou stránkou.](./media/structured-navigation-overview/flow-between-calling-page-called-page.png)

<span data-ttu-id="00b5b-125">Toto chování můžete implementovat pomocí <xref:System.Windows.Navigation.PageFunction%601> jako na volané stránce.</span><span class="sxs-lookup"><span data-stu-id="00b5b-125">You can implement these behaviors by using a <xref:System.Windows.Navigation.PageFunction%601> as the called page.</span></span>

<a name="Structured_Navigation_with_PageFunction"></a>

## <a name="structured-navigation-with-pagefunction"></a><span data-ttu-id="00b5b-126">Strukturovaná navigace pomocí PageFunction</span><span class="sxs-lookup"><span data-stu-id="00b5b-126">Structured Navigation with PageFunction</span></span>

<span data-ttu-id="00b5b-127">Toto téma ukazuje, jak implementovat základní mechanismy strukturované navigace zahrnující jeden <xref:System.Windows.Navigation.PageFunction%601>.</span><span class="sxs-lookup"><span data-stu-id="00b5b-127">This topic shows how to implement the basic mechanics of structured navigation involving a single <xref:System.Windows.Navigation.PageFunction%601>.</span></span> <span data-ttu-id="00b5b-128">V této ukázce <xref:System.Windows.Controls.Page> volá <xref:System.Windows.Navigation.PageFunction%601> a získá <xref:System.String> hodnotu od uživatele a vrátí ji.</span><span class="sxs-lookup"><span data-stu-id="00b5b-128">In this sample, a <xref:System.Windows.Controls.Page> calls a <xref:System.Windows.Navigation.PageFunction%601> to get a <xref:System.String> value from the user and return it.</span></span>

### <a name="creating-a-calling-page"></a><span data-ttu-id="00b5b-129">Vytvoření volající stránky</span><span class="sxs-lookup"><span data-stu-id="00b5b-129">Creating a Calling Page</span></span>

<span data-ttu-id="00b5b-130">Stránka, která volá <xref:System.Windows.Navigation.PageFunction%601> může být buď <xref:System.Windows.Controls.Page> nebo <xref:System.Windows.Navigation.PageFunction%601>.</span><span class="sxs-lookup"><span data-stu-id="00b5b-130">The page that calls a <xref:System.Windows.Navigation.PageFunction%601> can be either a <xref:System.Windows.Controls.Page> or a <xref:System.Windows.Navigation.PageFunction%601>.</span></span> <span data-ttu-id="00b5b-131">V tomto příkladu je to <xref:System.Windows.Controls.Page>, jak je znázorněno v následujícím kódu.</span><span class="sxs-lookup"><span data-stu-id="00b5b-131">In this example, it is a <xref:System.Windows.Controls.Page>, as shown in the following code.</span></span>

[!code-xaml[StructuredNavigationSample#CallingPageDefaultMARKUP1](~/samples/snippets/csharp/VS_Snippets_Wpf/StructuredNavigationSample/CSharp/CallingPage.xaml#callingpagedefaultmarkup1)]
[!code-xaml[StructuredNavigationSample#CallingPageDefaultMARKUP2](~/samples/snippets/csharp/VS_Snippets_Wpf/StructuredNavigationSample/CSharp/CallingPage.xaml#callingpagedefaultmarkup2)]

[!code-csharp[StructuredNavigationSample#CallingPageDefaultCODEBEHIND1](~/samples/snippets/csharp/VS_Snippets_Wpf/StructuredNavigationSample/CSharp/CallingPage.xaml.cs#callingpagedefaultcodebehind1)]
[!code-vb[StructuredNavigationSample#CallingPageDefaultCODEBEHIND1](~/samples/snippets/visualbasic/VS_Snippets_Wpf/StructuredNavigationSample/VisualBasic/CallingPage.xaml.vb#callingpagedefaultcodebehind1)]
[!code-csharp[StructuredNavigationSample#CallingPageDefaultCODEBEHIND2](~/samples/snippets/csharp/VS_Snippets_Wpf/StructuredNavigationSample/CSharp/CallingPage.xaml.cs#callingpagedefaultcodebehind2)]
[!code-vb[StructuredNavigationSample#CallingPageDefaultCODEBEHIND2](~/samples/snippets/visualbasic/VS_Snippets_Wpf/StructuredNavigationSample/VisualBasic/CallingPage.xaml.vb#callingpagedefaultcodebehind2)]
[!code-csharp[StructuredNavigationSample#CallingPageDefaultCODEBEHIND3](~/samples/snippets/csharp/VS_Snippets_Wpf/StructuredNavigationSample/CSharp/CallingPage.xaml.cs#callingpagedefaultcodebehind3)]
[!code-vb[StructuredNavigationSample#CallingPageDefaultCODEBEHIND3](~/samples/snippets/visualbasic/VS_Snippets_Wpf/StructuredNavigationSample/VisualBasic/CallingPage.xaml.vb#callingpagedefaultcodebehind3)]

### <a name="creating-a-page-function-to-call"></a><span data-ttu-id="00b5b-132">Vytvoření funkce stránky pro volání</span><span class="sxs-lookup"><span data-stu-id="00b5b-132">Creating a Page Function to Call</span></span>

<span data-ttu-id="00b5b-133">Vzhledem k tomu, že volající stránka může použít volanou stránku ke shromáždění a vrácení dat od uživatele, <xref:System.Windows.Navigation.PageFunction%601> je implementována jako obecná třída, jejíž argument typu Určuje typ hodnoty, která volaná stránka vrátí.</span><span class="sxs-lookup"><span data-stu-id="00b5b-133">Because the calling page can use the called page to collect and return data from the user, <xref:System.Windows.Navigation.PageFunction%601> is implemented as a generic class whose type argument specifies the type of the value that the called page will return.</span></span> <span data-ttu-id="00b5b-134">Následující kód ukazuje počáteční implementaci volané stránky pomocí <xref:System.Windows.Navigation.PageFunction%601>, která vrací <xref:System.String>.</span><span class="sxs-lookup"><span data-stu-id="00b5b-134">The following code shows the initial implementation of the called page, using a <xref:System.Windows.Navigation.PageFunction%601>, which returns a <xref:System.String>.</span></span>

[!code-xaml[StructuredNavigationSample#CalledPageFunctionMARKUP](~/samples/snippets/csharp/VS_Snippets_Wpf/StructuredNavigationSample/CSharp/CalledPageFunction.xaml#calledpagefunctionmarkup)]

[!code-csharp[StructuredNavigationSample#CalledPageFunctionCODEBEHIND1](~/samples/snippets/csharp/VS_Snippets_Wpf/StructuredNavigationSample/CSharp/CalledPageFunction.xaml.cs#calledpagefunctioncodebehind1)]
[!code-vb[StructuredNavigationSample#CalledPageFunctionCODEBEHIND1](~/samples/snippets/visualbasic/VS_Snippets_Wpf/StructuredNavigationSample/VisualBasic/CalledPageFunction.xaml.vb#calledpagefunctioncodebehind1)]
[!code-csharp[StructuredNavigationSample#CalledPageFunctionCODEBEHIND2](~/samples/snippets/csharp/VS_Snippets_Wpf/StructuredNavigationSample/CSharp/CalledPageFunction.xaml.cs#calledpagefunctioncodebehind2)]
[!code-vb[StructuredNavigationSample#CalledPageFunctionCODEBEHIND2](~/samples/snippets/visualbasic/VS_Snippets_Wpf/StructuredNavigationSample/VisualBasic/CalledPageFunction.xaml.vb#calledpagefunctioncodebehind2)]

<span data-ttu-id="00b5b-135">Deklarace <xref:System.Windows.Navigation.PageFunction%601> je podobná deklaraci <xref:System.Windows.Controls.Page> s přidáním argumentů typu.</span><span class="sxs-lookup"><span data-stu-id="00b5b-135">The declaration of a <xref:System.Windows.Navigation.PageFunction%601> is similar to the declaration of a <xref:System.Windows.Controls.Page> with the addition of the type arguments.</span></span> <span data-ttu-id="00b5b-136">Jak vidíte z příkladu kódu, argumenty typu jsou zadány v kódu [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)], pomocí atributu `x:TypeArguments` a kódu na pozadí pomocí standardní syntaxe argumentu obecného typu.</span><span class="sxs-lookup"><span data-stu-id="00b5b-136">As you can see from the code example, the type arguments are specified in both [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] markup, using the `x:TypeArguments` attribute, and code-behind, using standard generic type argument syntax.</span></span>

<span data-ttu-id="00b5b-137">Nemusíte používat pouze .NET Framework třídy jako argumenty typu.</span><span class="sxs-lookup"><span data-stu-id="00b5b-137">You don't have to use only .NET Framework classes as type arguments.</span></span> <span data-ttu-id="00b5b-138">Pro shromažďování dat specifických pro doménu, která jsou abstraktní jako vlastní typ, by mohla být volána <xref:System.Windows.Navigation.PageFunction%601>.</span><span class="sxs-lookup"><span data-stu-id="00b5b-138">A <xref:System.Windows.Navigation.PageFunction%601> could be called to gather domain-specific data that is abstracted as a custom type.</span></span> <span data-ttu-id="00b5b-139">Následující kód ukazuje, jak použít vlastní typ jako argument typu pro <xref:System.Windows.Navigation.PageFunction%601>.</span><span class="sxs-lookup"><span data-stu-id="00b5b-139">The following code shows how to use a custom type as a type argument for a <xref:System.Windows.Navigation.PageFunction%601>.</span></span>

[!code-csharp[CustomTypePageFunctionSnippets#CustomTypeCODE1](~/samples/snippets/csharp/VS_Snippets_Wpf/CustomTypePageFunctionSnippets/CSharp/CustomType.cs#customtypecode1)]
[!code-vb[CustomTypePageFunctionSnippets#CustomTypeCODE1](~/samples/snippets/visualbasic/VS_Snippets_Wpf/CustomTypePageFunctionSnippets/VisualBasic/CustomType.vb#customtypecode1)]
[!code-csharp[CustomTypePageFunctionSnippets#CustomTypeCODE2](~/samples/snippets/csharp/VS_Snippets_Wpf/CustomTypePageFunctionSnippets/CSharp/CustomType.cs#customtypecode2)]
[!code-vb[CustomTypePageFunctionSnippets#CustomTypeCODE2](~/samples/snippets/visualbasic/VS_Snippets_Wpf/CustomTypePageFunctionSnippets/VisualBasic/CustomType.vb#customtypecode2)]

[!code-xaml[CustomTypePageFunctionSnippets#CustomTypePageFunctionMARKUP1](~/samples/snippets/csharp/VS_Snippets_Wpf/CustomTypePageFunctionSnippets/CSharp/CustomTypePageFunction.xaml#customtypepagefunctionmarkup1)]
[!code-xaml[CustomTypePageFunctionSnippets#CustomTypePageFunctionMARKUP2](~/samples/snippets/csharp/VS_Snippets_Wpf/CustomTypePageFunctionSnippets/CSharp/CustomTypePageFunction.xaml#customtypepagefunctionmarkup2)]

[!code-csharp[CustomTypePageFunctionSnippets#CustomTypePageFunctionCODEBEHIND1](~/samples/snippets/csharp/VS_Snippets_Wpf/CustomTypePageFunctionSnippets/CSharp/CustomTypePageFunction.xaml.cs#customtypepagefunctioncodebehind1)]
[!code-vb[CustomTypePageFunctionSnippets#CustomTypePageFunctionCODEBEHIND1](~/samples/snippets/visualbasic/VS_Snippets_Wpf/CustomTypePageFunctionSnippets/VisualBasic/CustomTypePageFunction.xaml.vb#customtypepagefunctioncodebehind1)]
[!code-csharp[CustomTypePageFunctionSnippets#CustomTypePageFunctionCODEBEHIND2](~/samples/snippets/csharp/VS_Snippets_Wpf/CustomTypePageFunctionSnippets/CSharp/CustomTypePageFunction.xaml.cs#customtypepagefunctioncodebehind2)]
[!code-vb[CustomTypePageFunctionSnippets#CustomTypePageFunctionCODEBEHIND2](~/samples/snippets/visualbasic/VS_Snippets_Wpf/CustomTypePageFunctionSnippets/VisualBasic/CustomTypePageFunction.xaml.vb#customtypepagefunctioncodebehind2)]

<span data-ttu-id="00b5b-140">Argumenty typu <xref:System.Windows.Navigation.PageFunction%601> poskytují základ pro komunikaci mezi volající stránkou a volanou stránkou, která je popsána v následujících částech.</span><span class="sxs-lookup"><span data-stu-id="00b5b-140">The type arguments for the <xref:System.Windows.Navigation.PageFunction%601> provide the foundation for the communication between a calling page and the called page, which are discussed in the following sections.</span></span>

<span data-ttu-id="00b5b-141">Jak vidíte, typ, který je identifikován deklarací <xref:System.Windows.Navigation.PageFunction%601>, hraje důležitou roli při vracení dat z <xref:System.Windows.Navigation.PageFunction%601> na volající stránku.</span><span class="sxs-lookup"><span data-stu-id="00b5b-141">As you'll see, the type that is identified with the declaration of a <xref:System.Windows.Navigation.PageFunction%601> plays an important role in returning data from a <xref:System.Windows.Navigation.PageFunction%601> to the calling page.</span></span>

### <a name="calling-a-pagefunction-and-passing-parameters"></a><span data-ttu-id="00b5b-142">Volání PageFunction a předávání parametrů</span><span class="sxs-lookup"><span data-stu-id="00b5b-142">Calling a PageFunction and Passing Parameters</span></span>

<span data-ttu-id="00b5b-143">Chcete-li zavolat stránku, musí volající strana vytvořit instanci pojmenované stránky a přejít na ni pomocí metody <xref:System.Windows.Navigation.NavigationService.Navigate%2A>.</span><span class="sxs-lookup"><span data-stu-id="00b5b-143">To call a page, the calling page must instantiate the called page and navigate to it using the <xref:System.Windows.Navigation.NavigationService.Navigate%2A> method.</span></span> <span data-ttu-id="00b5b-144">Tato možnost umožňuje volající stránce předat počáteční data na volanou stránku, například výchozí hodnoty pro data shromažďovaná pomocí volané stránky.</span><span class="sxs-lookup"><span data-stu-id="00b5b-144">This allows the calling page to pass initial data to the called page, such as default values for the data being gathered by the called page.</span></span>

<span data-ttu-id="00b5b-145">Následující kód ukazuje volanou stránku s konstruktorem bez parametrů pro příjem parametrů z volající stránky.</span><span class="sxs-lookup"><span data-stu-id="00b5b-145">The following code shows the called page with a non-parameterless constructor to accept parameters from the calling page.</span></span>

[!code-csharp[StructuredNavigationSample#AcceptsInitialDataCODEBEHIND1](~/samples/snippets/csharp/VS_Snippets_Wpf/StructuredNavigationSample/CSharp/CalledPageFunction.xaml.cs#acceptsinitialdatacodebehind1)]
[!code-vb[StructuredNavigationSample#AcceptsInitialDataCODEBEHIND1](~/samples/snippets/visualbasic/VS_Snippets_Wpf/StructuredNavigationSample/VisualBasic/CalledPageFunction.xaml.vb#acceptsinitialdatacodebehind1)]
[!code-csharp[StructuredNavigationSample#AcceptsInitialDataCODEBEHIND2](~/samples/snippets/csharp/VS_Snippets_Wpf/StructuredNavigationSample/CSharp/CalledPageFunction.xaml.cs#acceptsinitialdatacodebehind2)]
[!code-vb[StructuredNavigationSample#AcceptsInitialDataCODEBEHIND2](~/samples/snippets/visualbasic/VS_Snippets_Wpf/StructuredNavigationSample/VisualBasic/CalledPageFunction.xaml.vb#acceptsinitialdatacodebehind2)]
[!code-csharp[StructuredNavigationSample#AcceptsInitialDataCODEBEHIND3](~/samples/snippets/csharp/VS_Snippets_Wpf/StructuredNavigationSample/CSharp/CalledPageFunction.xaml.cs#acceptsinitialdatacodebehind3)]
[!code-vb[StructuredNavigationSample#AcceptsInitialDataCODEBEHIND3](~/samples/snippets/visualbasic/VS_Snippets_Wpf/StructuredNavigationSample/VisualBasic/CalledPageFunction.xaml.vb#acceptsinitialdatacodebehind3)]
[!code-csharp[StructuredNavigationSample#AcceptsInitialDataCODEBEHIND4](~/samples/snippets/csharp/VS_Snippets_Wpf/StructuredNavigationSample/CSharp/CalledPageFunction.xaml.cs#acceptsinitialdatacodebehind4)]
[!code-vb[StructuredNavigationSample#AcceptsInitialDataCODEBEHIND4](~/samples/snippets/visualbasic/VS_Snippets_Wpf/StructuredNavigationSample/VisualBasic/CalledPageFunction.xaml.vb#acceptsinitialdatacodebehind4)]

<span data-ttu-id="00b5b-146">Následující kód ukazuje volající stránku, která zpracovává událost <xref:System.Windows.Documents.Hyperlink.Click> <xref:System.Windows.Documents.Hyperlink> k vytvoření instance pojmenované stránky a předání počáteční hodnoty řetězce.</span><span class="sxs-lookup"><span data-stu-id="00b5b-146">The following code shows the calling page handling the <xref:System.Windows.Documents.Hyperlink.Click> event of the <xref:System.Windows.Documents.Hyperlink> to instantiate the called page and pass it an initial string value.</span></span>

[!code-xaml[StructuredNavigationSample#PassingDataMARKUP2](~/samples/snippets/csharp/VS_Snippets_Wpf/StructuredNavigationSample/CSharp/CallingPage.xaml#passingdatamarkup2)]
[!code-csharp[StructuredNavigationSample#PassingDataCODEBEHIND1](~/samples/snippets/csharp/VS_Snippets_Wpf/StructuredNavigationSample/CSharp/CallingPage.xaml.cs#passingdatacodebehind1)]
[!code-vb[StructuredNavigationSample#PassingDataCODEBEHIND1](~/samples/snippets/visualbasic/VS_Snippets_Wpf/StructuredNavigationSample/VisualBasic/CallingPage.xaml.vb#passingdatacodebehind1)]
[!code-csharp[StructuredNavigationSample#PassingDataCODEBEHIND2](~/samples/snippets/csharp/VS_Snippets_Wpf/StructuredNavigationSample/CSharp/CallingPage.xaml.cs#passingdatacodebehind2)]
[!code-vb[StructuredNavigationSample#PassingDataCODEBEHIND2](~/samples/snippets/visualbasic/VS_Snippets_Wpf/StructuredNavigationSample/VisualBasic/CallingPage.xaml.vb#passingdatacodebehind2)]
[!code-csharp[StructuredNavigationSample#PassingDataCODEBEHIND3](~/samples/snippets/csharp/VS_Snippets_Wpf/StructuredNavigationSample/CSharp/CallingPage.xaml.cs#passingdatacodebehind3)]
[!code-vb[StructuredNavigationSample#PassingDataCODEBEHIND3](~/samples/snippets/visualbasic/VS_Snippets_Wpf/StructuredNavigationSample/VisualBasic/CallingPage.xaml.vb#passingdatacodebehind3)]

<span data-ttu-id="00b5b-147">Na volanou stránku není nutné předávat parametry.</span><span class="sxs-lookup"><span data-stu-id="00b5b-147">You are not required to pass parameters to the called page.</span></span> <span data-ttu-id="00b5b-148">Místo toho můžete provést následující akce:</span><span class="sxs-lookup"><span data-stu-id="00b5b-148">Instead, you could do the following:</span></span>

- <span data-ttu-id="00b5b-149">Z volající stránky:</span><span class="sxs-lookup"><span data-stu-id="00b5b-149">From the calling page:</span></span>

  1. <span data-ttu-id="00b5b-150">Vytvořte instanci volaného <xref:System.Windows.Navigation.PageFunction%601> pomocí konstruktoru bez parametrů.</span><span class="sxs-lookup"><span data-stu-id="00b5b-150">Instantiate the called <xref:System.Windows.Navigation.PageFunction%601> using the parameterless constructor.</span></span>

  2. <span data-ttu-id="00b5b-151">Uložte parametry do <xref:System.Windows.Application.Properties%2A>.</span><span class="sxs-lookup"><span data-stu-id="00b5b-151">Store the parameters in <xref:System.Windows.Application.Properties%2A>.</span></span>

  3. <span data-ttu-id="00b5b-152">Přejděte na volaný <xref:System.Windows.Navigation.PageFunction%601>.</span><span class="sxs-lookup"><span data-stu-id="00b5b-152">Navigate to the called <xref:System.Windows.Navigation.PageFunction%601>.</span></span>

- <span data-ttu-id="00b5b-153">Z volané <xref:System.Windows.Navigation.PageFunction%601>:</span><span class="sxs-lookup"><span data-stu-id="00b5b-153">From the called <xref:System.Windows.Navigation.PageFunction%601>:</span></span>

  - <span data-ttu-id="00b5b-154">Načte a použije parametry uložené v <xref:System.Windows.Application.Properties%2A>.</span><span class="sxs-lookup"><span data-stu-id="00b5b-154">Retrieve and use the parameters stored in <xref:System.Windows.Application.Properties%2A>.</span></span>

<span data-ttu-id="00b5b-155">Ale jak vidíte za chvíli, budete potřebovat použít kód pro vytvoření instance a přejít na volanou stránku, kde můžete shromažďovat data vrácená volanou stránkou.</span><span class="sxs-lookup"><span data-stu-id="00b5b-155">But, as you'll see shortly, you'll still need use code to instantiate and navigate to the called page to collect the data returned by the called page.</span></span> <span data-ttu-id="00b5b-156">Z tohoto důvodu musí být <xref:System.Windows.Navigation.PageFunction%601> udržována v neaktivním stavu. v opačném případě při příštím přechodu na <xref:System.Windows.Navigation.PageFunction%601>WPF vytvoří instanci <xref:System.Windows.Navigation.PageFunction%601> pomocí konstruktoru bez parametrů.</span><span class="sxs-lookup"><span data-stu-id="00b5b-156">For this reason, the <xref:System.Windows.Navigation.PageFunction%601> needs to be kept alive; otherwise, the next time you navigate to the <xref:System.Windows.Navigation.PageFunction%601>, WPF instantiates the <xref:System.Windows.Navigation.PageFunction%601> using the parameterless constructor.</span></span>

<span data-ttu-id="00b5b-157">Před vrácením volané stránky však musí vracet data, která lze načíst volající stránkou.</span><span class="sxs-lookup"><span data-stu-id="00b5b-157">Before the called page can return, however, it needs to return data that can be retrieved by the calling page.</span></span>

### <a name="returning-task-result-and-task-data-from-a-task-to-a-calling-page"></a><span data-ttu-id="00b5b-158">Vrácení výsledku úkolu a dat úkolu z úkolu na volající stránku</span><span class="sxs-lookup"><span data-stu-id="00b5b-158">Returning Task Result and Task Data from a Task to a Calling Page</span></span>

<span data-ttu-id="00b5b-159">Jakmile uživatel dokončí používání pojmenované stránky, které jsou v tomto příkladu označeny tlačítky OK nebo Storno, je nutné, aby volaná stránka vrátila hodnotu.</span><span class="sxs-lookup"><span data-stu-id="00b5b-159">Once the user has finished using the called page, signified in this example by pressing either the OK or Cancel buttons, the called page needs to return.</span></span> <span data-ttu-id="00b5b-160">Vzhledem k tomu, že volající stránka použila volaný stránku ke shromáždění dat od uživatele, volající stránka vyžaduje dva typy informací:</span><span class="sxs-lookup"><span data-stu-id="00b5b-160">Since the calling page used the called page to collect data from the user, the calling page requires two types of information:</span></span>

1. <span data-ttu-id="00b5b-161">Určuje, zda uživatel zrušil volanou stránku (stisknutím tlačítka OK nebo tlačítkem zrušit v tomto příkladu).</span><span class="sxs-lookup"><span data-stu-id="00b5b-161">Whether the user canceled the called page (by pressing either the OK button or the Cancel button in this example).</span></span> <span data-ttu-id="00b5b-162">To umožňuje volající stránce určit, jestli se mají zpracovávat data, která volající stránka shromáždila od uživatele.</span><span class="sxs-lookup"><span data-stu-id="00b5b-162">This allows the calling page to determine whether to process the data that the calling page gathered from the user.</span></span>

2. <span data-ttu-id="00b5b-163">Data, která byla poskytnuta uživatelem.</span><span class="sxs-lookup"><span data-stu-id="00b5b-163">The data that was provided by the user.</span></span>

<span data-ttu-id="00b5b-164">Pro vrácení informací <xref:System.Windows.Navigation.PageFunction%601> implementuje metodu <xref:System.Windows.Navigation.PageFunction%601.OnReturn%2A>.</span><span class="sxs-lookup"><span data-stu-id="00b5b-164">To return information, <xref:System.Windows.Navigation.PageFunction%601> implements the <xref:System.Windows.Navigation.PageFunction%601.OnReturn%2A> method.</span></span> <span data-ttu-id="00b5b-165">Následující kód ukazuje, jak ho zavolat.</span><span class="sxs-lookup"><span data-stu-id="00b5b-165">The following code shows how to call it.</span></span>

[!code-csharp[StructuredNavigationSample#ReturnCODEBEHIND1](~/samples/snippets/csharp/VS_Snippets_Wpf/StructuredNavigationSample/CSharp/CalledPageFunction.xaml.cs#returncodebehind1)]
[!code-vb[StructuredNavigationSample#ReturnCODEBEHIND1](~/samples/snippets/visualbasic/VS_Snippets_Wpf/StructuredNavigationSample/VisualBasic/CalledPageFunction.xaml.vb#returncodebehind1)]
[!code-csharp[StructuredNavigationSample#ReturnCODEBEHIND2](~/samples/snippets/csharp/VS_Snippets_Wpf/StructuredNavigationSample/CSharp/CalledPageFunction.xaml.cs#returncodebehind2)]
[!code-vb[StructuredNavigationSample#ReturnCODEBEHIND2](~/samples/snippets/visualbasic/VS_Snippets_Wpf/StructuredNavigationSample/VisualBasic/CalledPageFunction.xaml.vb#returncodebehind2)]

<span data-ttu-id="00b5b-166">Pokud uživatel v tomto příkladu stiskne tlačítko Storno, vrátí se na volající stránku hodnota `null`.</span><span class="sxs-lookup"><span data-stu-id="00b5b-166">In this example, if a user presses the Cancel button, a value of `null` is returned to the calling page.</span></span> <span data-ttu-id="00b5b-167">Pokud se místo toho stiskne tlačítko OK, vrátí se hodnota řetězce zadaná uživatelem.</span><span class="sxs-lookup"><span data-stu-id="00b5b-167">If the OK button is pressed instead, the string value provided by the user is returned.</span></span> <span data-ttu-id="00b5b-168"><xref:System.Windows.Navigation.PageFunction%601.OnReturn%2A> je `protected virtual` metoda, kterou zavoláte, abyste vrátili data na volající stránku.</span><span class="sxs-lookup"><span data-stu-id="00b5b-168"><xref:System.Windows.Navigation.PageFunction%601.OnReturn%2A> is a `protected virtual` method that you call to return your data to the calling page.</span></span> <span data-ttu-id="00b5b-169">Vaše data musí být zabalena do instance obecného typu <xref:System.Windows.Navigation.ReturnEventArgs%601>, jehož argument typu Určuje typ hodnoty, která <xref:System.Windows.Navigation.ReturnEventArgs%601.Result%2A> vrací.</span><span class="sxs-lookup"><span data-stu-id="00b5b-169">Your data needs to be packaged in an instance of the generic <xref:System.Windows.Navigation.ReturnEventArgs%601> type, whose type argument specifies the type of value that <xref:System.Windows.Navigation.ReturnEventArgs%601.Result%2A> returns.</span></span> <span data-ttu-id="00b5b-170">Tímto způsobem, pokud deklarujete <xref:System.Windows.Navigation.PageFunction%601> pomocí konkrétního argumentu typu, zjistíte, že <xref:System.Windows.Navigation.PageFunction%601> vrátí instanci typu, který je určen argumentem typu.</span><span class="sxs-lookup"><span data-stu-id="00b5b-170">In this way, when you declare a <xref:System.Windows.Navigation.PageFunction%601> with a particular type argument, you are stating that a <xref:System.Windows.Navigation.PageFunction%601> will return an instance of the type that is specified by the type argument.</span></span> <span data-ttu-id="00b5b-171">V tomto příkladu je argument typu a v důsledku toho návratová hodnota typu <xref:System.String>.</span><span class="sxs-lookup"><span data-stu-id="00b5b-171">In this example, the type argument and, consequently, the return value is of type <xref:System.String>.</span></span>

<span data-ttu-id="00b5b-172">Když je volána <xref:System.Windows.Navigation.PageFunction%601.OnReturn%2A>, volající stránka potřebuje určitý způsob, jak přijmout návratovou hodnotu <xref:System.Windows.Navigation.PageFunction%601>.</span><span class="sxs-lookup"><span data-stu-id="00b5b-172">When <xref:System.Windows.Navigation.PageFunction%601.OnReturn%2A> is called, the calling page needs some way of receiving the return value of the <xref:System.Windows.Navigation.PageFunction%601>.</span></span> <span data-ttu-id="00b5b-173">Z tohoto důvodu <xref:System.Windows.Navigation.PageFunction%601> implementuje událost <xref:System.Windows.Navigation.PageFunction%601.Return> pro volání stránek, které mají být zpracovány.</span><span class="sxs-lookup"><span data-stu-id="00b5b-173">For this reason, <xref:System.Windows.Navigation.PageFunction%601> implements the <xref:System.Windows.Navigation.PageFunction%601.Return> event for calling pages to handle.</span></span> <span data-ttu-id="00b5b-174">Při volání <xref:System.Windows.Navigation.PageFunction%601.OnReturn%2A> je vyvolána <xref:System.Windows.Navigation.PageFunction%601.Return>, aby se volající stránka mohla zaregistrovat v <xref:System.Windows.Navigation.PageFunction%601.Return> pro příjem oznámení.</span><span class="sxs-lookup"><span data-stu-id="00b5b-174">When <xref:System.Windows.Navigation.PageFunction%601.OnReturn%2A> is called, <xref:System.Windows.Navigation.PageFunction%601.Return> is raised, so the calling page can register with <xref:System.Windows.Navigation.PageFunction%601.Return> to receive the notification.</span></span>

[!code-csharp[StructuredNavigationSample#ProcessResultCODEBEHIND1](~/samples/snippets/csharp/VS_Snippets_Wpf/StructuredNavigationSample/CSharp/CallingPage.xaml.cs#processresultcodebehind1)]
[!code-vb[StructuredNavigationSample#ProcessResultCODEBEHIND1](~/samples/snippets/visualbasic/VS_Snippets_Wpf/StructuredNavigationSample/VisualBasic/CallingPage.xaml.vb#processresultcodebehind1)]
[!code-csharp[StructuredNavigationSample#ProcessResultCODEBEHIND2](~/samples/snippets/csharp/VS_Snippets_Wpf/StructuredNavigationSample/CSharp/CallingPage.xaml.cs#processresultcodebehind2)]
[!code-vb[StructuredNavigationSample#ProcessResultCODEBEHIND2](~/samples/snippets/visualbasic/VS_Snippets_Wpf/StructuredNavigationSample/VisualBasic/CallingPage.xaml.vb#processresultcodebehind2)]

### <a name="removing-task-pages-when-a-task-completes"></a><span data-ttu-id="00b5b-175">Odebrání stránek úloh po dokončení úkolu</span><span class="sxs-lookup"><span data-stu-id="00b5b-175">Removing Task Pages When a Task Completes</span></span>

<span data-ttu-id="00b5b-176">Když se volaná stránka vrátí a uživatel nezrušil volanou stránku, volající stránka zpracuje data poskytnutá uživatelem a také vrátila z volané stránky.</span><span class="sxs-lookup"><span data-stu-id="00b5b-176">When a called page returns, and the user didn't cancel the called page, the calling page will process the data that was provided by the user and also returned from the called page.</span></span> <span data-ttu-id="00b5b-177">Získání dat tímto způsobem je obvykle izolovaná aktivita; Po návratu volané stránky musí volající stránka vytvořit novou volající stránku a přejít na ni a zachytit další data.</span><span class="sxs-lookup"><span data-stu-id="00b5b-177">Data acquisition in this way is usually an isolated activity; when the called page returns, the calling page needs to create and navigate to a new calling page to capture more data.</span></span>

<span data-ttu-id="00b5b-178">Pokud se ale z deníku neodebere volaná stránka, uživatel bude moct přejít zpátky na předchozí instanci volající stránky.</span><span class="sxs-lookup"><span data-stu-id="00b5b-178">However, unless a called page is removed from the journal, a user will be able to navigate back to a previous instance of the calling page.</span></span> <span data-ttu-id="00b5b-179">Zda je v deníku zachována <xref:System.Windows.Navigation.PageFunction%601>, je určena vlastností <xref:System.Windows.Navigation.PageFunctionBase.RemoveFromJournal%2A>.</span><span class="sxs-lookup"><span data-stu-id="00b5b-179">Whether a <xref:System.Windows.Navigation.PageFunction%601> is retained in the journal is determined by the <xref:System.Windows.Navigation.PageFunctionBase.RemoveFromJournal%2A> property.</span></span> <span data-ttu-id="00b5b-180">Ve výchozím nastavení je funkce stránky automaticky odebrána při volání <xref:System.Windows.Navigation.PageFunction%601.OnReturn%2A>, protože <xref:System.Windows.Navigation.PageFunctionBase.RemoveFromJournal%2A> je nastavena na `true`.</span><span class="sxs-lookup"><span data-stu-id="00b5b-180">By default, a page function is automatically removed when <xref:System.Windows.Navigation.PageFunction%601.OnReturn%2A> is called because <xref:System.Windows.Navigation.PageFunctionBase.RemoveFromJournal%2A> is set to `true`.</span></span> <span data-ttu-id="00b5b-181">Chcete-li zachovat funkci stránky v historii navigace po volání <xref:System.Windows.Navigation.PageFunction%601.OnReturn%2A>, nastavte <xref:System.Windows.Navigation.PageFunctionBase.RemoveFromJournal%2A> na `false`.</span><span class="sxs-lookup"><span data-stu-id="00b5b-181">To keep a page function in navigation history after <xref:System.Windows.Navigation.PageFunction%601.OnReturn%2A> is called, set <xref:System.Windows.Navigation.PageFunctionBase.RemoveFromJournal%2A> to `false`.</span></span>

<a name="Other_Types_of_Structured_Navigation"></a>

## <a name="other-types-of-structured-navigation"></a><span data-ttu-id="00b5b-182">Jiné typy strukturované navigace</span><span class="sxs-lookup"><span data-stu-id="00b5b-182">Other Types of Structured Navigation</span></span>

<span data-ttu-id="00b5b-183">Toto téma ukazuje základní použití <xref:System.Windows.Navigation.PageFunction%601> pro podporu strukturované navigace typu volání nebo vrácení.</span><span class="sxs-lookup"><span data-stu-id="00b5b-183">This topic illustrates the most basic use of a <xref:System.Windows.Navigation.PageFunction%601> to support call/return structured navigation.</span></span> <span data-ttu-id="00b5b-184">Tato základ vám umožní vytvořit komplexnější typy strukturované navigace.</span><span class="sxs-lookup"><span data-stu-id="00b5b-184">This foundation provides you with the ability to create more complex types of structured navigation.</span></span>

<span data-ttu-id="00b5b-185">Například někdy je vyžadováno více stránek volající stránky, aby bylo možné shromáždit dostatek dat od uživatele nebo provést úlohu.</span><span class="sxs-lookup"><span data-stu-id="00b5b-185">For example, sometimes multiple pages are required by a calling page to gather enough data from a user or to perform a task.</span></span> <span data-ttu-id="00b5b-186">Použití více stránek je označováno jako "Průvodce".</span><span class="sxs-lookup"><span data-stu-id="00b5b-186">The use of multiple pages is referred to as a "wizard".</span></span>

<span data-ttu-id="00b5b-187">V ostatních případech můžou aplikace mít složité navigační topologie, které jsou závislé na strukturované navigaci, aby fungovaly efektivně.</span><span class="sxs-lookup"><span data-stu-id="00b5b-187">In other cases, applications may have complex navigation topologies that depend on structured navigation to operate effectively.</span></span> <span data-ttu-id="00b5b-188">Další informace najdete v tématu [Přehled topologií navigace](navigation-topologies-overview.md).</span><span class="sxs-lookup"><span data-stu-id="00b5b-188">For more information, see [Navigation Topologies Overview](navigation-topologies-overview.md).</span></span>

## <a name="see-also"></a><span data-ttu-id="00b5b-189">Viz také:</span><span class="sxs-lookup"><span data-stu-id="00b5b-189">See also</span></span>

- <xref:System.Windows.Navigation.PageFunction%601>
- <xref:System.Windows.Navigation.NavigationService>
- [<span data-ttu-id="00b5b-190">Přehled topologií navigace</span><span class="sxs-lookup"><span data-stu-id="00b5b-190">Navigation Topologies Overview</span></span>](navigation-topologies-overview.md)
