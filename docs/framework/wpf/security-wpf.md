---
title: Zabezpečení
ms.date: 03/30/2017
helpviewer_keywords:
- XAML files [WPF], sandbox behavior
- browser-hosted application security [WPF]
- application security [WPF]
- navigation security [WPF]
- loose XAML files [WPF], sandbox behavior
- WPF security [WPF]
- WebBrowser control [WPF], security
- feature controls [WPF], security
- XBAP security [WPF]
- Internet Explorer security settings [WPF]
ms.assetid: ee1baea0-3611-4e36-9ad6-fcd5205376fb
ms.openlocfilehash: e0a56dcbf8d151fcb0d4f6271ecba15c0ff955a4
ms.sourcegitcommit: 7588136e355e10cbc2582f389c90c127363c02a5
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 03/12/2020
ms.locfileid: "79174612"
---
# <a name="security-wpf"></a><span data-ttu-id="48d12-102">Zabezpečení (WPF)</span><span class="sxs-lookup"><span data-stu-id="48d12-102">Security (WPF)</span></span>
<a name="introduction"></a><span data-ttu-id="48d12-103">Při vývoji samostatné aplikace Windows Presentation Foundation (WPF) a hostované v prohlížeči je třeba zvážit model zabezpečení.</span><span class="sxs-lookup"><span data-stu-id="48d12-103">When developing Windows Presentation Foundation (WPF) standalone and browser-hosted applications, you must consider the security model.</span></span> <span data-ttu-id="48d12-104">Samostatné aplikace WPF se spouštějí s neomezenými oprávněními (sada oprávnění CAS**FullTrust),** ať už jsou nasazeny pomocí Instalační služby systému Windows (.msi), XCopy nebo ClickOnce.</span><span class="sxs-lookup"><span data-stu-id="48d12-104">WPF standalone applications execute with unrestricted permissions ( CAS**FullTrust** permission set), whether deployed using Windows Installer (.msi), XCopy, or ClickOnce.</span></span> <span data-ttu-id="48d12-105">Nasazení aplikací s částečnou důvěryhodností, samostatné wpf s ClickOnce není podporováno.</span><span class="sxs-lookup"><span data-stu-id="48d12-105">Deploying partial-trust, standalone WPF applications with ClickOnce is unsupported.</span></span> <span data-ttu-id="48d12-106">Hostitelská aplikace s plnou důvěryhodností však <xref:System.AppDomain> může vytvořit částečnou důvěryhodnost pomocí modelu doplňku rozhraní .NET Framework.</span><span class="sxs-lookup"><span data-stu-id="48d12-106">However, a full-trust host application can create a partial-trust <xref:System.AppDomain> using the .NET Framework Add-in model.</span></span> <span data-ttu-id="48d12-107">Další informace naleznete [v tématu Přehled doplňků WPF](./app-development/wpf-add-ins-overview.md).</span><span class="sxs-lookup"><span data-stu-id="48d12-107">For more information, see [WPF Add-Ins Overview](./app-development/wpf-add-ins-overview.md).</span></span>  
  
 <span data-ttu-id="48d12-108">WPF browser-hostované aplikace jsou hostovány v aplikaci Windows Internet Explorer nebo Firefox, a [!INCLUDE[TLA#tla_xaml](../../../includes/tlasharptla-xaml-md.md)] může být buď XAML prohlížeč aplikace (XBAPs) nebo volné dokumenty Pro více informací naleznete [WPF XAML Browser Applications Overview](./app-development/wpf-xaml-browser-applications-overview.md).</span><span class="sxs-lookup"><span data-stu-id="48d12-108">WPF browser-hosted applications are hosted by Windows Internet Explorer or Firefox, and can be either XAML browser applications (XBAPs) or loose [!INCLUDE[TLA#tla_xaml](../../../includes/tlasharptla-xaml-md.md)] documents For more information, see [WPF XAML Browser Applications Overview](./app-development/wpf-xaml-browser-applications-overview.md).</span></span>  
  
 <span data-ttu-id="48d12-109">Aplikace hostované prohlížečem WPF se ve výchozím nastavení spouštějí v rámci izolovaného prostoru zabezpečení s částečnou důvěryhodností, která je omezena na výchozí sadu oprávnění zóny CAS**Pro Internet.**</span><span class="sxs-lookup"><span data-stu-id="48d12-109">WPF browser-hosted applications execute within a partial trust security sandbox, by default, which is limited to the default CAS**Internet** zone permission set.</span></span> <span data-ttu-id="48d12-110">To efektivně izoluje WPF hostované aplikace z klientského počítače stejným způsobem, že byste očekávali typické webové aplikace, které mají být izolovány.</span><span class="sxs-lookup"><span data-stu-id="48d12-110">This effectively isolates WPF browser-hosted applications from the client computer in the same way that you would expect typical Web applications to be isolated.</span></span> <span data-ttu-id="48d12-111">XBAP může zvýšit oprávnění až na plnou důvěryhodnost v závislosti na zóně zabezpečení adresy URL nasazení a konfiguraci zabezpečení klienta.</span><span class="sxs-lookup"><span data-stu-id="48d12-111">An XBAP can elevate privileges, up to Full Trust, depending on the security zone of the deployment URL and the client's security configuration.</span></span> <span data-ttu-id="48d12-112">Další informace naleznete v tématu [WPF Partial Trust Security](wpf-partial-trust-security.md).</span><span class="sxs-lookup"><span data-stu-id="48d12-112">For more information, see [WPF Partial Trust Security](wpf-partial-trust-security.md).</span></span>  
  
 <span data-ttu-id="48d12-113">Toto téma popisuje model zabezpečení pro samostatné aplikace WPF (Windows Presentation Foundation) a aplikace hostované v prohlížeči.</span><span class="sxs-lookup"><span data-stu-id="48d12-113">This topic discusses the security model for Windows Presentation Foundation (WPF) standalone and browser-hosted applications.</span></span>  
  
 <span data-ttu-id="48d12-114">Toto téma obsahuje následující oddíly:</span><span class="sxs-lookup"><span data-stu-id="48d12-114">This topic contains the following sections:</span></span>  
  
- [<span data-ttu-id="48d12-115">Bezpečná navigace</span><span class="sxs-lookup"><span data-stu-id="48d12-115">Safe Navigation</span></span>](#SafeTopLevelNavigation)  
  
- [<span data-ttu-id="48d12-116">Nastavení zabezpečení softwaru pro procházení webu</span><span class="sxs-lookup"><span data-stu-id="48d12-116">Web Browsing Software Security Settings</span></span>](#InternetExplorerSecuritySettings)  
  
- [<span data-ttu-id="48d12-117">Ovládací prvky webového prohlížeče a ovládací prvky funkcí</span><span class="sxs-lookup"><span data-stu-id="48d12-117">WebBrowser Control and Feature Controls</span></span>](#webbrowser_control_and_feature_controls)  
  
- [<span data-ttu-id="48d12-118">Zakázání sestavení APTCA pro částečně důvěryhodné klientské aplikace</span><span class="sxs-lookup"><span data-stu-id="48d12-118">Disabling APTCA Assemblies for Partially Trusted Client Applications</span></span>](#APTCA)  
  
- [<span data-ttu-id="48d12-119">Chování izolovaného prostoru pro volné soubory XAML</span><span class="sxs-lookup"><span data-stu-id="48d12-119">Sandbox Behavior for Loose XAML Files</span></span>](#LooseContentSandboxing)  
  
- [<span data-ttu-id="48d12-120">Prostředky pro vývoj wpf aplikací, které podporují zabezpečení</span><span class="sxs-lookup"><span data-stu-id="48d12-120">Resources for Developing WPF Applications that Promote Security</span></span>](#BestPractices)  
  
<a name="SafeTopLevelNavigation"></a>
## <a name="safe-navigation"></a><span data-ttu-id="48d12-121">Bezpečná navigace</span><span class="sxs-lookup"><span data-stu-id="48d12-121">Safe Navigation</span></span>  
 <span data-ttu-id="48d12-122">Pro XBAPs WPF rozlišuje dva typy navigace: aplikace a prohlížeč.</span><span class="sxs-lookup"><span data-stu-id="48d12-122">For XBAPs, WPF distinguishes two types of navigation: application and browser.</span></span>  
  
 <span data-ttu-id="48d12-123">*Navigace v aplikaci* je navigace mezi položkami obsahu v rámci aplikace, která je hostována prohlížečem.</span><span class="sxs-lookup"><span data-stu-id="48d12-123">*Application navigation* is navigation between items of content within an application that is hosted by a browser.</span></span> <span data-ttu-id="48d12-124">*Navigace v prohlížeči* je navigace, která mění obsah a umístění URL prohlížeče samotného.</span><span class="sxs-lookup"><span data-stu-id="48d12-124">*Browser navigation* is navigation that changes the content and location URL of a browser itself.</span></span> <span data-ttu-id="48d12-125">Vztah mezi navigací aplikace (obvykle XAML) a navigací prohlížeče (obvykle HTML) je znázorněn na následujícím obrázku:</span><span class="sxs-lookup"><span data-stu-id="48d12-125">The relationship between application navigation (typically XAML) and browser navigation (typically HTML) is shown in the following illustration:</span></span>
  
 ![Vztah mezi navigací aplikace a navigací prohlížeče.](./media/security-wpf/application-browser-navigation-relationship.png)  
  
 <span data-ttu-id="48d12-127">Typ obsahu, který je považován za bezpečný pro XBAP přejít na je primárně určena tím, zda se používá navigace aplikace nebo navigace v prohlížeči.</span><span class="sxs-lookup"><span data-stu-id="48d12-127">The type of content that is considered safe for an XBAP to navigate to is primarily determined by whether application navigation or browser navigation is used.</span></span>  
  
<a name="Application_Navigation_Security"></a>
### <a name="application-navigation-security"></a><span data-ttu-id="48d12-128">Zabezpečení navigace aplikací</span><span class="sxs-lookup"><span data-stu-id="48d12-128">Application Navigation Security</span></span>  
 <span data-ttu-id="48d12-129">Navigace aplikace je považována za bezpečnou, pokud ji lze identifikovat pomocí identifikátoru URI balíčku, který podporuje čtyři typy obsahu:</span><span class="sxs-lookup"><span data-stu-id="48d12-129">Application navigation is considered safe if it can be identified with a pack URI, which supports four types of content:</span></span>  
  
|<span data-ttu-id="48d12-130">Typ obsahu</span><span class="sxs-lookup"><span data-stu-id="48d12-130">Content Type</span></span>|<span data-ttu-id="48d12-131">Popis</span><span class="sxs-lookup"><span data-stu-id="48d12-131">Description</span></span>|<span data-ttu-id="48d12-132">Příklad identifikátoru URI</span><span class="sxs-lookup"><span data-stu-id="48d12-132">URI Example</span></span>|  
|------------------|-----------------|-----------------|  
|<span data-ttu-id="48d12-133">Prostředek</span><span class="sxs-lookup"><span data-stu-id="48d12-133">Resource</span></span>|<span data-ttu-id="48d12-134">Soubory, které jsou přidány do projektu s typem sestavení **zdroje**.</span><span class="sxs-lookup"><span data-stu-id="48d12-134">Files that are added to a project with a build type of **Resource**.</span></span>|`pack://application:,,,/MyResourceFile.xaml`|  
|<span data-ttu-id="48d12-135">Obsah</span><span class="sxs-lookup"><span data-stu-id="48d12-135">Content</span></span>|<span data-ttu-id="48d12-136">Soubory, které jsou přidány do projektu s typem sestavení **obsahu**.</span><span class="sxs-lookup"><span data-stu-id="48d12-136">Files that are added to a project with a build type of **Content**.</span></span>|`pack://application:,,,/MyContentFile.xaml`|  
|<span data-ttu-id="48d12-137">Místo původu</span><span class="sxs-lookup"><span data-stu-id="48d12-137">Site of origin</span></span>|<span data-ttu-id="48d12-138">Soubory, které jsou přidány do projektu s typem sestavení **None**.</span><span class="sxs-lookup"><span data-stu-id="48d12-138">Files that are added to a project with a build type of **None**.</span></span>|`pack://siteoforigin:,,,/MySiteOfOriginFile.xaml`|  
|<span data-ttu-id="48d12-139">Kód aplikace</span><span class="sxs-lookup"><span data-stu-id="48d12-139">Application code</span></span>|<span data-ttu-id="48d12-140">Prostředky XAML, které mají zkompilovaný kód na pozadí.</span><span class="sxs-lookup"><span data-stu-id="48d12-140">XAML resources that have a compiled code-behind.</span></span><br /><br /> <span data-ttu-id="48d12-141">-nebo-</span><span class="sxs-lookup"><span data-stu-id="48d12-141">-or-</span></span><br /><br /> <span data-ttu-id="48d12-142">Soubory XAML, které jsou přidány do projektu s typem sestavení **Page**.</span><span class="sxs-lookup"><span data-stu-id="48d12-142">XAML files that are added to a project with a build type of **Page**.</span></span>|<span data-ttu-id="48d12-143">`pack://application:,,,/MyResourceFile` `.xaml`</span><span class="sxs-lookup"><span data-stu-id="48d12-143">`pack://application:,,,/MyResourceFile` `.xaml`</span></span>|  
  
> [!NOTE]
> <span data-ttu-id="48d12-144">Další informace o datových souborech aplikací a identifikátorech URI balíčku naleznete v [tématu WPF Application Resource, Content a Data Files](./app-development/wpf-application-resource-content-and-data-files.md).</span><span class="sxs-lookup"><span data-stu-id="48d12-144">For more information about application data files and pack URIs, see [WPF Application Resource, Content, and Data Files](./app-development/wpf-application-resource-content-and-data-files.md).</span></span>  
  
 <span data-ttu-id="48d12-145">Soubory těchto typů obsahu mohou být navigovány uživatelem nebo programově:</span><span class="sxs-lookup"><span data-stu-id="48d12-145">Files of these content types can be navigated to by either the user or programmatically:</span></span>  
  
- <span data-ttu-id="48d12-146">**Uživatelská navigace**.</span><span class="sxs-lookup"><span data-stu-id="48d12-146">**User Navigation**.</span></span> <span data-ttu-id="48d12-147">Uživatel přejde klepnutím <xref:System.Windows.Documents.Hyperlink> na prvek.</span><span class="sxs-lookup"><span data-stu-id="48d12-147">The user navigates by clicking a <xref:System.Windows.Documents.Hyperlink> element.</span></span>  
  
- <span data-ttu-id="48d12-148">**Programová navigace**.</span><span class="sxs-lookup"><span data-stu-id="48d12-148">**Programmatic Navigation**.</span></span> <span data-ttu-id="48d12-149">Aplikace přejde bez zapojení uživatele, například nastavením vlastnosti. <xref:System.Windows.Navigation.NavigationWindow.Source%2A?displayProperty=nameWithType></span><span class="sxs-lookup"><span data-stu-id="48d12-149">The application navigates without involving the user, for example, by setting the <xref:System.Windows.Navigation.NavigationWindow.Source%2A?displayProperty=nameWithType> property.</span></span>  
  
<a name="Browser_Navigation_Security"></a>
### <a name="browser-navigation-security"></a><span data-ttu-id="48d12-150">Zabezpečení navigace v prohlížeči</span><span class="sxs-lookup"><span data-stu-id="48d12-150">Browser Navigation Security</span></span>  
 <span data-ttu-id="48d12-151">Navigace v prohlížeči je považována za bezpečnou pouze za následujících podmínek:</span><span class="sxs-lookup"><span data-stu-id="48d12-151">Browser navigation is considered safe only under the following conditions:</span></span>  
  
- <span data-ttu-id="48d12-152">**Uživatelská navigace**.</span><span class="sxs-lookup"><span data-stu-id="48d12-152">**User Navigation**.</span></span> <span data-ttu-id="48d12-153">Uživatel přejde klepnutím <xref:System.Windows.Documents.Hyperlink> na prvek, který <xref:System.Windows.Navigation.NavigationWindow>je v rámci <xref:System.Windows.Controls.Frame>hlavní , není v nociované .</span><span class="sxs-lookup"><span data-stu-id="48d12-153">The user navigates by clicking a <xref:System.Windows.Documents.Hyperlink> element that is within the main <xref:System.Windows.Navigation.NavigationWindow>, not in a nested <xref:System.Windows.Controls.Frame>.</span></span>  
  
- <span data-ttu-id="48d12-154">**Zóna**.</span><span class="sxs-lookup"><span data-stu-id="48d12-154">**Zone**.</span></span> <span data-ttu-id="48d12-155">Obsah, na který se přecvádíte, je umístěn v Síti Internet nebo v místním intranetu.</span><span class="sxs-lookup"><span data-stu-id="48d12-155">The content being navigated to is located on the Internet or the local intranet.</span></span>  
  
- <span data-ttu-id="48d12-156">**protokolu**.</span><span class="sxs-lookup"><span data-stu-id="48d12-156">**Protocol**.</span></span> <span data-ttu-id="48d12-157">Používaný protokol je **http**, **https**, **file**nebo **mailto**.</span><span class="sxs-lookup"><span data-stu-id="48d12-157">The protocol being used is either **http**, **https**, **file**, or **mailto**.</span></span>  
  
 <span data-ttu-id="48d12-158">Pokud XBAP pokusí přejít na obsah způsobem, který není v <xref:System.Security.SecurityException> souladu s těmito podmínkami, je vyvolána.</span><span class="sxs-lookup"><span data-stu-id="48d12-158">If an XBAP attempts to navigate to content in a manner that does not comply with these conditions, a <xref:System.Security.SecurityException> is thrown.</span></span>  
  
<a name="InternetExplorerSecuritySettings"></a>
## <a name="web-browsing-software-security-settings"></a><span data-ttu-id="48d12-159">Nastavení zabezpečení softwaru pro procházení webu</span><span class="sxs-lookup"><span data-stu-id="48d12-159">Web Browsing Software Security Settings</span></span>  
 <span data-ttu-id="48d12-160">Nastavení zabezpečení v počítači určuje přístup k udělení jakéhokoli softwaru pro procházení webu.</span><span class="sxs-lookup"><span data-stu-id="48d12-160">The security settings on your computer determine the access that any Web browsing software is granted.</span></span> <span data-ttu-id="48d12-161">Software pro procházení webu zahrnuje všechny aplikace nebo součásti, které používají [rozhraní API WinINet](/windows/win32/wininet/portal) nebo [UrlMon,](https://docs.microsoft.com/previous-versions/windows/internet-explorer/ie-developer/platform-apis/aa767916(v=vs.85)) včetně aplikací Internet Explorer a PresentationHost.exe.</span><span class="sxs-lookup"><span data-stu-id="48d12-161">Web browsing software includes any application or component that uses the [WinINet](/windows/win32/wininet/portal) or [UrlMon](https://docs.microsoft.com/previous-versions/windows/internet-explorer/ie-developer/platform-apis/aa767916(v=vs.85)) APIs, including Internet Explorer and PresentationHost.exe.</span></span>  
  
 <span data-ttu-id="48d12-162">Aplikace Internet Explorer poskytuje mechanismus, pomocí kterého můžete konfigurovat funkce, které mohou být prováděny aplikací Internet Explorer nebo z ní, včetně následujících funkcí:</span><span class="sxs-lookup"><span data-stu-id="48d12-162">Internet Explorer provides a mechanism by which you can configure the functionality that is allowed to be executed by or from Internet Explorer, including the following:</span></span>  
  
- <span data-ttu-id="48d12-163">Součásti závislé na rozhraní .NET Framework</span><span class="sxs-lookup"><span data-stu-id="48d12-163">.NET Framework-reliant components</span></span>  
  
- <span data-ttu-id="48d12-164">Ovládací prvky ActiveX a moduly plug-in</span><span class="sxs-lookup"><span data-stu-id="48d12-164">ActiveX controls and plug-ins</span></span>  
  
- <span data-ttu-id="48d12-165">Soubory ke stažení</span><span class="sxs-lookup"><span data-stu-id="48d12-165">Downloads</span></span>  
  
- <span data-ttu-id="48d12-166">Skriptování</span><span class="sxs-lookup"><span data-stu-id="48d12-166">Scripting</span></span>  
  
- <span data-ttu-id="48d12-167">Ověřování uživatelů</span><span class="sxs-lookup"><span data-stu-id="48d12-167">User Authentication</span></span>  
  
 <span data-ttu-id="48d12-168">Kolekce funkcí, které lze zabezpečit tímto způsobem, je konfigurována pro zóny **Internet**, **Intranet**, **Důvěryhodné servery**a **Servery s omezeným přístupem.**</span><span class="sxs-lookup"><span data-stu-id="48d12-168">The collection of functionality that can be secured in this way is configured on a per-zone basis for the **Internet**, **Intranet**, **Trusted Sites**, and **Restricted Sites** zones.</span></span> <span data-ttu-id="48d12-169">Následující kroky popisují konfiguraci nastavení zabezpečení:</span><span class="sxs-lookup"><span data-stu-id="48d12-169">The following steps describe how to configure your security settings:</span></span>  
  
1. <span data-ttu-id="48d12-170">Otevřete **Ovládací panely**.</span><span class="sxs-lookup"><span data-stu-id="48d12-170">Open **Control Panel**.</span></span>  
  
2. <span data-ttu-id="48d12-171">Klepněte na **položku Síť a Internet** a potom na **položku Možnosti Internetu**.</span><span class="sxs-lookup"><span data-stu-id="48d12-171">Click **Network and Internet** and then click **Internet Options**.</span></span>  
  
     <span data-ttu-id="48d12-172">Zobrazí se dialogové okno Možnosti Internetu.</span><span class="sxs-lookup"><span data-stu-id="48d12-172">The Internet Options dialog box appears.</span></span>  
  
3. <span data-ttu-id="48d12-173">Na kartě **Zabezpečení** vyberte zónu, pro kterou chcete konfigurovat nastavení zabezpečení.</span><span class="sxs-lookup"><span data-stu-id="48d12-173">On the **Security** tab, select the zone to configure the security settings for.</span></span>  
  
4. <span data-ttu-id="48d12-174">Klikněte na tlačítko **Vlastní úroveň.**</span><span class="sxs-lookup"><span data-stu-id="48d12-174">Click the **Custom Level** button.</span></span>  
  
     <span data-ttu-id="48d12-175">Zobrazí se dialogové okno **Nastavení zabezpečení** a můžete nakonfigurovat nastavení zabezpečení pro vybranou zónu.</span><span class="sxs-lookup"><span data-stu-id="48d12-175">The **Security Settings** dialog box appears and you can configure the security settings for the selected zone.</span></span>  
  
     ![Snímek obrazovky s dialogovým oknem Nastavení zabezpečení](./media/security-wpf/windows-presentation-foundation-security-settings.png)  
  
> [!NOTE]
> <span data-ttu-id="48d12-177">K dialogovému oknu Možnosti Internetu se můžete také dostat z aplikace Internet Explorer.</span><span class="sxs-lookup"><span data-stu-id="48d12-177">You can also get to the Internet Options dialog box from Internet Explorer.</span></span> <span data-ttu-id="48d12-178">Klepněte na **položku Nástroje** a potom na **položku Možnosti Internetu**.</span><span class="sxs-lookup"><span data-stu-id="48d12-178">Click **Tools** and then click **Internet Options**.</span></span>  
  
 <span data-ttu-id="48d12-179">Počínaje aplikací Windows Internet Explorer 7 jsou zahrnuta následující nastavení zabezpečení speciálně pro rozhraní .NET Framework:</span><span class="sxs-lookup"><span data-stu-id="48d12-179">Starting with Windows Internet Explorer 7, the following security settings specifically for .NET Framework are included:</span></span>  
  
- <span data-ttu-id="48d12-180">**Uvolněné XAML**.</span><span class="sxs-lookup"><span data-stu-id="48d12-180">**Loose XAML**.</span></span> <span data-ttu-id="48d12-181">Určuje, zda může aplikace [!INCLUDE[TLA2#tla_xaml](../../../includes/tla2sharptla-xaml-md.md)] Internet Explorer přejít na soubory a uvolnit je.</span><span class="sxs-lookup"><span data-stu-id="48d12-181">Controls whether Internet Explorer can navigate to and loose [!INCLUDE[TLA2#tla_xaml](../../../includes/tla2sharptla-xaml-md.md)] files.</span></span> <span data-ttu-id="48d12-182">(Možnosti Povolit, Zakázat a Zobrazit).</span><span class="sxs-lookup"><span data-stu-id="48d12-182">(Enable, Disable, and Prompt options).</span></span>  
  
- <span data-ttu-id="48d12-183">**Aplikace prohlížeče XAML**.</span><span class="sxs-lookup"><span data-stu-id="48d12-183">**XAML browser applications**.</span></span> <span data-ttu-id="48d12-184">Určuje, zda může aplikace Internet Explorer přejít na xbaps a spustit jej.</span><span class="sxs-lookup"><span data-stu-id="48d12-184">Controls whether Internet Explorer can navigate to and run XBAPs.</span></span> <span data-ttu-id="48d12-185">(Možnosti Povolit, Zakázat a Zobrazit).</span><span class="sxs-lookup"><span data-stu-id="48d12-185">(Enable, Disable, and Prompt options).</span></span>  
  
 <span data-ttu-id="48d12-186">Ve výchozím nastavení jsou všechna tato nastavení povolena pro zóny **Internet**, **Místní intranet**a **Důvěryhodné servery** a pro zónu **Servery s omezeným přístupem** jsou zakázána.</span><span class="sxs-lookup"><span data-stu-id="48d12-186">By default, these settings are all enabled for the **Internet**, **Local intranet**, and **Trusted sites** zones, and disabled for the **Restricted sites** zone.</span></span>  
  
<a name="Security_Settings_for_IE6_and_Below"></a>
### <a name="security-related-wpf-registry-settings"></a><span data-ttu-id="48d12-187">Nastavení registru WPF související se zabezpečením</span><span class="sxs-lookup"><span data-stu-id="48d12-187">Security-related WPF Registry Settings</span></span>  
 <span data-ttu-id="48d12-188">Kromě nastavení zabezpečení, které jsou k dispozici prostřednictvím možností Internetu, jsou k dispozici následující hodnoty registru pro selektivní blokování řady funkcí WPF citlivých na zabezpečení.</span><span class="sxs-lookup"><span data-stu-id="48d12-188">In addition to the security settings available through the Internet Options, the following registry values are available for selectively blocking a number of security-sensitive WPF features.</span></span> <span data-ttu-id="48d12-189">Hodnoty jsou definovány pod následujícím klíčem:</span><span class="sxs-lookup"><span data-stu-id="48d12-189">The values are defined under the following key:</span></span>  
  
 `HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\.NETFramework\Windows Presentation Foundation\Features`  
  
 <span data-ttu-id="48d12-190">V následující tabulce jsou uvedeny hodnoty, které lze nastavit.</span><span class="sxs-lookup"><span data-stu-id="48d12-190">The following table lists the values that can be set.</span></span>  
  
|<span data-ttu-id="48d12-191">Název hodnoty</span><span class="sxs-lookup"><span data-stu-id="48d12-191">Value Name</span></span>|<span data-ttu-id="48d12-192">Typ hodnoty</span><span class="sxs-lookup"><span data-stu-id="48d12-192">Value Type</span></span>|<span data-ttu-id="48d12-193">Data hodnoty</span><span class="sxs-lookup"><span data-stu-id="48d12-193">Value Data</span></span>|  
|----------------|----------------|----------------|  
|<span data-ttu-id="48d12-194">XBAPDisallow</span><span class="sxs-lookup"><span data-stu-id="48d12-194">XBAPDisallow</span></span>|<span data-ttu-id="48d12-195">REG_DWORD</span><span class="sxs-lookup"><span data-stu-id="48d12-195">REG_DWORD</span></span>|<span data-ttu-id="48d12-196">1 zakázat; 0 povolit.</span><span class="sxs-lookup"><span data-stu-id="48d12-196">1 to disallow; 0 to allow.</span></span>|  
|<span data-ttu-id="48d12-197">LooseXamlDisallow</span><span class="sxs-lookup"><span data-stu-id="48d12-197">LooseXamlDisallow</span></span>|<span data-ttu-id="48d12-198">REG_DWORD</span><span class="sxs-lookup"><span data-stu-id="48d12-198">REG_DWORD</span></span>|<span data-ttu-id="48d12-199">1 zakázat; 0 povolit.</span><span class="sxs-lookup"><span data-stu-id="48d12-199">1 to disallow; 0 to allow.</span></span>|  
|<span data-ttu-id="48d12-200">WebBrowserDisallow</span><span class="sxs-lookup"><span data-stu-id="48d12-200">WebBrowserDisallow</span></span>|<span data-ttu-id="48d12-201">REG_DWORD</span><span class="sxs-lookup"><span data-stu-id="48d12-201">REG_DWORD</span></span>|<span data-ttu-id="48d12-202">1 zakázat; 0 povolit.</span><span class="sxs-lookup"><span data-stu-id="48d12-202">1 to disallow; 0 to allow.</span></span>|  
|<span data-ttu-id="48d12-203">MediaAudioDisallow</span><span class="sxs-lookup"><span data-stu-id="48d12-203">MediaAudioDisallow</span></span>|<span data-ttu-id="48d12-204">REG_DWORD</span><span class="sxs-lookup"><span data-stu-id="48d12-204">REG_DWORD</span></span>|<span data-ttu-id="48d12-205">1 zakázat; 0 povolit.</span><span class="sxs-lookup"><span data-stu-id="48d12-205">1 to disallow; 0 to allow.</span></span>|  
|<span data-ttu-id="48d12-206">MediaImageDisallow</span><span class="sxs-lookup"><span data-stu-id="48d12-206">MediaImageDisallow</span></span>|<span data-ttu-id="48d12-207">REG_DWORD</span><span class="sxs-lookup"><span data-stu-id="48d12-207">REG_DWORD</span></span>|<span data-ttu-id="48d12-208">1 zakázat; 0 povolit.</span><span class="sxs-lookup"><span data-stu-id="48d12-208">1 to disallow; 0 to allow.</span></span>|  
|<span data-ttu-id="48d12-209">MediaVideoDisallow</span><span class="sxs-lookup"><span data-stu-id="48d12-209">MediaVideoDisallow</span></span>|<span data-ttu-id="48d12-210">REG_DWORD</span><span class="sxs-lookup"><span data-stu-id="48d12-210">REG_DWORD</span></span>|<span data-ttu-id="48d12-211">1 zakázat; 0 povolit.</span><span class="sxs-lookup"><span data-stu-id="48d12-211">1 to disallow; 0 to allow.</span></span>|  
|<span data-ttu-id="48d12-212">SkriptInteropDisallow</span><span class="sxs-lookup"><span data-stu-id="48d12-212">ScriptInteropDisallow</span></span>|<span data-ttu-id="48d12-213">REG_DWORD</span><span class="sxs-lookup"><span data-stu-id="48d12-213">REG_DWORD</span></span>|<span data-ttu-id="48d12-214">1 zakázat; 0 povolit.</span><span class="sxs-lookup"><span data-stu-id="48d12-214">1 to disallow; 0 to allow.</span></span>|  
  
<a name="webbrowser_control_and_feature_controls"></a>
## <a name="webbrowser-control-and-feature-controls"></a><span data-ttu-id="48d12-215">Ovládací prvky webového prohlížeče a ovládací prvky funkcí</span><span class="sxs-lookup"><span data-stu-id="48d12-215">WebBrowser Control and Feature Controls</span></span>  
 <span data-ttu-id="48d12-216">Ovládací prvek <xref:System.Windows.Controls.WebBrowser> WPF lze použít k hostování webového obsahu.</span><span class="sxs-lookup"><span data-stu-id="48d12-216">The WPF <xref:System.Windows.Controls.WebBrowser> control can be used to host Web content.</span></span> <span data-ttu-id="48d12-217">Ovládací prvek <xref:System.Windows.Controls.WebBrowser> WPF zabalí základní ovládací prvek ActiveX webového prohlížeče.</span><span class="sxs-lookup"><span data-stu-id="48d12-217">The WPF <xref:System.Windows.Controls.WebBrowser> control wraps the underlying WebBrowser ActiveX control.</span></span> <span data-ttu-id="48d12-218">WPF poskytuje určitou podporu pro zabezpečení aplikace <xref:System.Windows.Controls.WebBrowser> při použití ovládacího prvku WPF k hostování nedůvěryhodného webového obsahu.</span><span class="sxs-lookup"><span data-stu-id="48d12-218">WPF provides some support for securing your application when you use the WPF <xref:System.Windows.Controls.WebBrowser> control to host untrusted Web content.</span></span> <span data-ttu-id="48d12-219">Některé funkce zabezpečení však musí být použity přímo aplikacemi používajícími <xref:System.Windows.Controls.WebBrowser> ovládací prvek.</span><span class="sxs-lookup"><span data-stu-id="48d12-219">However, some security features must be applied directly by the applications using the <xref:System.Windows.Controls.WebBrowser> control.</span></span> <span data-ttu-id="48d12-220">Další informace o ovládacím prvku ActiveX webového prohlížeče naleznete v tématu [Přehledy ovládacích prvku webprohlížeče a výukové programy](https://docs.microsoft.com/previous-versions/windows/internet-explorer/ie-developer/platform-apis/aa752041(v=vs.85)).</span><span class="sxs-lookup"><span data-stu-id="48d12-220">For more information about the WebBrowser ActiveX control, see [WebBrowser Control Overviews and Tutorials](https://docs.microsoft.com/previous-versions/windows/internet-explorer/ie-developer/platform-apis/aa752041(v=vs.85)).</span></span>  
  
> [!NOTE]
> <span data-ttu-id="48d12-221">Tato část se vztahuje <xref:System.Windows.Controls.Frame> také na <xref:System.Windows.Controls.WebBrowser> ovládací prvek, protože používá k přechodu na obsah HTML.</span><span class="sxs-lookup"><span data-stu-id="48d12-221">This section also applies to the <xref:System.Windows.Controls.Frame> control since it uses the <xref:System.Windows.Controls.WebBrowser> to navigate to HTML content.</span></span>  
  
 <span data-ttu-id="48d12-222">Pokud wpf <xref:System.Windows.Controls.WebBrowser> ovládací prvek se používá k hostování nedůvěryhodného webového obsahu, aplikace by měla použít částečné důvěryhodnosti <xref:System.AppDomain> pomoci izolovat kód aplikace z potenciálně škodlivého kódu skriptu HTML.</span><span class="sxs-lookup"><span data-stu-id="48d12-222">If the WPF <xref:System.Windows.Controls.WebBrowser> control is used to host untrusted Web content, your application should use a partial-trust <xref:System.AppDomain> to help insulate your application code from potentially malicious HTML script code.</span></span> <span data-ttu-id="48d12-223">To platí zejména v případě, že vaše aplikace interaguje s hostovaným skriptem <xref:System.Windows.Controls.WebBrowser.InvokeScript%2A> pomocí metody a vlastnosti. <xref:System.Windows.Controls.WebBrowser.ObjectForScripting%2A></span><span class="sxs-lookup"><span data-stu-id="48d12-223">This is especially true if your application is interacting with the hosted script by using the <xref:System.Windows.Controls.WebBrowser.InvokeScript%2A> method and the <xref:System.Windows.Controls.WebBrowser.ObjectForScripting%2A> property.</span></span> <span data-ttu-id="48d12-224">Další informace naleznete [v tématu Přehled doplňků WPF](./app-development/wpf-add-ins-overview.md).</span><span class="sxs-lookup"><span data-stu-id="48d12-224">For more information, see [WPF Add-Ins Overview](./app-development/wpf-add-ins-overview.md).</span></span>  
  
 <span data-ttu-id="48d12-225">Pokud vaše aplikace používá <xref:System.Windows.Controls.WebBrowser> ovládací prvek WPF, dalším způsobem, jak zvýšit zabezpečení a zmírnit útoky, je povolení ovládacích prvků funkcí aplikace Internet Explorer.</span><span class="sxs-lookup"><span data-stu-id="48d12-225">If your application uses the WPF <xref:System.Windows.Controls.WebBrowser> control, another way to increase security and mitigate attacks is to enable Internet Explorer feature controls.</span></span> <span data-ttu-id="48d12-226">Ovládací prvky funkcí jsou dodatky aplikace Internet Explorer, které umožňují správcům a vývojářům konfigurovat funkce <xref:System.Windows.Controls.WebBrowser> aplikace Internet Explorer a aplikací, které jsou hostiteli ovládacího prvku ActiveX webového prohlížeče, který ovládací prvek WPF zabalí.</span><span class="sxs-lookup"><span data-stu-id="48d12-226">Feature controls are additions to Internet Explorer that allow administrators and developers to configure features of Internet Explorer and applications that host the WebBrowser ActiveX control, which the WPF <xref:System.Windows.Controls.WebBrowser> control wraps.</span></span> <span data-ttu-id="48d12-227">Ovládací prvky funkcí lze konfigurovat pomocí funkce [CoInternetSetFeatureEnabled](https://docs.microsoft.com/previous-versions/windows/internet-explorer/ie-developer/platform-apis/ms537168(v=vs.85)) nebo změnou hodnot v registru.</span><span class="sxs-lookup"><span data-stu-id="48d12-227">Feature controls can be configured by using the [CoInternetSetFeatureEnabled](https://docs.microsoft.com/previous-versions/windows/internet-explorer/ie-developer/platform-apis/ms537168(v=vs.85)) function or by changing values in the registry.</span></span> <span data-ttu-id="48d12-228">Další informace o ovládacích prvcích funkcí naleznete [v tématu Úvod do ovládacích prvků funkcí](https://docs.microsoft.com/previous-versions/windows/internet-explorer/ie-developer/platform-apis/ms537184(v=vs.85)) a [ovládacích prvků funkcí Internetu](https://docs.microsoft.com/previous-versions/windows/internet-explorer/ie-developer/general-info/ee330720(v=vs.85)).</span><span class="sxs-lookup"><span data-stu-id="48d12-228">For more information about feature controls, see [Introduction to Feature Controls](https://docs.microsoft.com/previous-versions/windows/internet-explorer/ie-developer/platform-apis/ms537184(v=vs.85)) and [Internet Feature Controls](https://docs.microsoft.com/previous-versions/windows/internet-explorer/ie-developer/general-info/ee330720(v=vs.85)).</span></span>  
  
 <span data-ttu-id="48d12-229">Pokud vyvíjíte samostatnou aplikaci WPF, <xref:System.Windows.Controls.WebBrowser> která používá ovládací prvek WPF, WPF automaticky povolí následující ovládací prvky funkcí pro vaši aplikaci.</span><span class="sxs-lookup"><span data-stu-id="48d12-229">If you are developing a standalone WPF application that uses the WPF <xref:System.Windows.Controls.WebBrowser> control, WPF automatically enables the following feature controls for your application.</span></span>  
  
|<span data-ttu-id="48d12-230">Ovládací prvek funkcí</span><span class="sxs-lookup"><span data-stu-id="48d12-230">Feature Control</span></span>|  
|---------------------|  
|<span data-ttu-id="48d12-231">FEATURE_MIME_HANDLING</span><span class="sxs-lookup"><span data-stu-id="48d12-231">FEATURE_MIME_HANDLING</span></span>|  
|<span data-ttu-id="48d12-232">FEATURE_MIME_SNIFFING</span><span class="sxs-lookup"><span data-stu-id="48d12-232">FEATURE_MIME_SNIFFING</span></span>|  
|<span data-ttu-id="48d12-233">FEATURE_OBJECT_CACHING</span><span class="sxs-lookup"><span data-stu-id="48d12-233">FEATURE_OBJECT_CACHING</span></span>|  
|<span data-ttu-id="48d12-234">FEATURE_SAFE_BINDTOOBJECT</span><span class="sxs-lookup"><span data-stu-id="48d12-234">FEATURE_SAFE_BINDTOOBJECT</span></span>|  
|<span data-ttu-id="48d12-235">FEATURE_WINDOW_RESTRICTIONS</span><span class="sxs-lookup"><span data-stu-id="48d12-235">FEATURE_WINDOW_RESTRICTIONS</span></span>|  
|<span data-ttu-id="48d12-236">FEATURE_ZONE_ELEVATION</span><span class="sxs-lookup"><span data-stu-id="48d12-236">FEATURE_ZONE_ELEVATION</span></span>|  
|<span data-ttu-id="48d12-237">FEATURE_RESTRICT_FILEDOWNLOAD</span><span class="sxs-lookup"><span data-stu-id="48d12-237">FEATURE_RESTRICT_FILEDOWNLOAD</span></span>|  
|<span data-ttu-id="48d12-238">FEATURE_RESTRICT_ACTIVEXINSTALL</span><span class="sxs-lookup"><span data-stu-id="48d12-238">FEATURE_RESTRICT_ACTIVEXINSTALL</span></span>|  
|<span data-ttu-id="48d12-239">FEATURE_ADDON_MANAGEMENT</span><span class="sxs-lookup"><span data-stu-id="48d12-239">FEATURE_ADDON_MANAGEMENT</span></span>|  
|<span data-ttu-id="48d12-240">FEATURE_HTTP_USERNAME_PASSWORD_DISABLE</span><span class="sxs-lookup"><span data-stu-id="48d12-240">FEATURE_HTTP_USERNAME_PASSWORD_DISABLE</span></span>|  
|<span data-ttu-id="48d12-241">FEATURE_SECURITYBAND</span><span class="sxs-lookup"><span data-stu-id="48d12-241">FEATURE_SECURITYBAND</span></span>|  
|<span data-ttu-id="48d12-242">FEATURE_UNC_SAVEDFILECHECK</span><span class="sxs-lookup"><span data-stu-id="48d12-242">FEATURE_UNC_SAVEDFILECHECK</span></span>|  
|<span data-ttu-id="48d12-243">FEATURE_VALIDATE_NAVIGATE_URL</span><span class="sxs-lookup"><span data-stu-id="48d12-243">FEATURE_VALIDATE_NAVIGATE_URL</span></span>|  
|<span data-ttu-id="48d12-244">FEATURE_DISABLE_TELNET_PROTOCOL</span><span class="sxs-lookup"><span data-stu-id="48d12-244">FEATURE_DISABLE_TELNET_PROTOCOL</span></span>|  
|<span data-ttu-id="48d12-245">FEATURE_WEBOC_POPUPMANAGEMENT</span><span class="sxs-lookup"><span data-stu-id="48d12-245">FEATURE_WEBOC_POPUPMANAGEMENT</span></span>|  
|<span data-ttu-id="48d12-246">FEATURE_DISABLE_LEGACY_COMPRESSION</span><span class="sxs-lookup"><span data-stu-id="48d12-246">FEATURE_DISABLE_LEGACY_COMPRESSION</span></span>|  
|<span data-ttu-id="48d12-247">FEATURE_SSLUX</span><span class="sxs-lookup"><span data-stu-id="48d12-247">FEATURE_SSLUX</span></span>|  
  
 <span data-ttu-id="48d12-248">Vzhledem k tomu, že tyto ovládací prvky funkcí jsou povoleny bezpodmínečně, může být jejich plná důvěryhodnost narušena.</span><span class="sxs-lookup"><span data-stu-id="48d12-248">Since these feature controls are enabled unconditionally, a full-trust application might be impaired by them.</span></span> <span data-ttu-id="48d12-249">V tomto případě, pokud neexistuje žádné bezpečnostní riziko pro konkrétní aplikaci a obsah, který je hostitelem, odpovídající funkce ovládacíprvek může být zakázán.</span><span class="sxs-lookup"><span data-stu-id="48d12-249">In this case, if there is no security risk for the specific application and the content it is hosting, the corresponding feature control can be disabled.</span></span>  
  
 <span data-ttu-id="48d12-250">Ovládací prvky funkcí jsou použity procesem, který instancije objekt ActiveX webového prohlížeče.</span><span class="sxs-lookup"><span data-stu-id="48d12-250">Feature controls are applied by the process instantiating the WebBrowser ActiveX object.</span></span> <span data-ttu-id="48d12-251">Proto pokud vytváříte samostatnou aplikaci, která může přejít na nedůvěryhodný obsah, měli byste vážně zvážit povolení dalších ovládacích prvků funkcí.</span><span class="sxs-lookup"><span data-stu-id="48d12-251">Therefore, if you are creating a stand-alone application that can navigate to untrusted content, you should seriously consider enabling additional feature controls.</span></span>  
  
> [!NOTE]
> <span data-ttu-id="48d12-252">Toto doporučení je založeno na obecných doporučeních pro zabezpečení hostitele MSHTML a SHDOCVW.</span><span class="sxs-lookup"><span data-stu-id="48d12-252">This recommendation is based on general recommendations for MSHTML and SHDOCVW host security.</span></span> <span data-ttu-id="48d12-253">Další informace naleznete [v nejčastějších dotazech k zabezpečení hostitele MSHTML: Část I II](https://msrc-blog.microsoft.com/2009/04/02/the-mshtml-host-security-faq-part-i-of-ii/) a [Nejčastější dotazy k zabezpečení hostitele MSHTML: Část II iI](https://msrc-blog.microsoft.com/2009/04/03/the-mshtml-host-security-faq-part-ii-of-ii/).</span><span class="sxs-lookup"><span data-stu-id="48d12-253">For more information, see [The MSHTML Host Security FAQ: Part I of II](https://msrc-blog.microsoft.com/2009/04/02/the-mshtml-host-security-faq-part-i-of-ii/) and [The MSHTML Host Security FAQ: Part II of II](https://msrc-blog.microsoft.com/2009/04/03/the-mshtml-host-security-faq-part-ii-of-ii/).</span></span>  
  
 <span data-ttu-id="48d12-254">Pro spustitelný soubor zvažte povolení následujících ovládacích prvků funkcí nastavením hodnoty registru na hodnotu 1.</span><span class="sxs-lookup"><span data-stu-id="48d12-254">For your executable, consider enabling the following feature controls by setting the registry value to 1.</span></span>  
  
|<span data-ttu-id="48d12-255">Ovládací prvek funkcí</span><span class="sxs-lookup"><span data-stu-id="48d12-255">Feature Control</span></span>|  
|---------------------|  
|<span data-ttu-id="48d12-256">FEATURE_ACTIVEX_REPURPOSEDETECTION</span><span class="sxs-lookup"><span data-stu-id="48d12-256">FEATURE_ACTIVEX_REPURPOSEDETECTION</span></span>|  
|<span data-ttu-id="48d12-257">FEATURE_BLOCK_LMZ_IMG</span><span class="sxs-lookup"><span data-stu-id="48d12-257">FEATURE_BLOCK_LMZ_IMG</span></span>|  
|<span data-ttu-id="48d12-258">FEATURE_BLOCK_LMZ_OBJECT</span><span class="sxs-lookup"><span data-stu-id="48d12-258">FEATURE_BLOCK_LMZ_OBJECT</span></span>|  
|<span data-ttu-id="48d12-259">FEATURE_BLOCK_LMZ_SCRIPT</span><span class="sxs-lookup"><span data-stu-id="48d12-259">FEATURE_BLOCK_LMZ_SCRIPT</span></span>|  
|<span data-ttu-id="48d12-260">FEATURE_RESTRICT_RES_TO_LMZ</span><span class="sxs-lookup"><span data-stu-id="48d12-260">FEATURE_RESTRICT_RES_TO_LMZ</span></span>|  
|<span data-ttu-id="48d12-261">FEATURE_RESTRICT_ABOUT_PROTOCOL_IE7</span><span class="sxs-lookup"><span data-stu-id="48d12-261">FEATURE_RESTRICT_ABOUT_PROTOCOL_IE7</span></span>|  
|<span data-ttu-id="48d12-262">FEATURE_SHOW_APP_PROTOCOL_WARN_DIALOG</span><span class="sxs-lookup"><span data-stu-id="48d12-262">FEATURE_SHOW_APP_PROTOCOL_WARN_DIALOG</span></span>|  
|<span data-ttu-id="48d12-263">FEATURE_LOCALMACHINE_LOCKDOWN</span><span class="sxs-lookup"><span data-stu-id="48d12-263">FEATURE_LOCALMACHINE_LOCKDOWN</span></span>|  
|<span data-ttu-id="48d12-264">FEATURE_FORCE_ADDR_AND_STATUS</span><span class="sxs-lookup"><span data-stu-id="48d12-264">FEATURE_FORCE_ADDR_AND_STATUS</span></span>|  
|<span data-ttu-id="48d12-265">FEATURE_RESTRICTED_ZONE_WHEN_FILE_NOT_FOUND</span><span class="sxs-lookup"><span data-stu-id="48d12-265">FEATURE_RESTRICTED_ZONE_WHEN_FILE_NOT_FOUND</span></span>|  
  
 <span data-ttu-id="48d12-266">Pro spustitelný soubor zvažte zakázání následující ho ovládacího prvku funkce nastavením hodnoty registru na hodnotu 0.</span><span class="sxs-lookup"><span data-stu-id="48d12-266">For your executable, consider disabling the following feature control by setting the registry value to 0.</span></span>  
  
|<span data-ttu-id="48d12-267">Ovládací prvek funkcí</span><span class="sxs-lookup"><span data-stu-id="48d12-267">Feature Control</span></span>|  
|---------------------|  
|<span data-ttu-id="48d12-268">FEATURE_ENABLE_SCRIPT_PASTE_URLACTION_IF_PROMPT</span><span class="sxs-lookup"><span data-stu-id="48d12-268">FEATURE_ENABLE_SCRIPT_PASTE_URLACTION_IF_PROMPT</span></span>|  
  
 <span data-ttu-id="48d12-269">Pokud spustíte aplikaci prohlížeče XAML s částečnou důvěryhodností, <xref:System.Windows.Controls.WebBrowser> která obsahuje ovládací prvek WPF v aplikaci Windows Internet Explorer, wpf hostuje ovládací prvek ActiveX webového prohlížeče v adresním prostoru procesu aplikace Internet Explorer.</span><span class="sxs-lookup"><span data-stu-id="48d12-269">If you run a partial-trust XAML browser application (XBAP) that includes a WPF <xref:System.Windows.Controls.WebBrowser> control in Windows Internet Explorer, WPF hosts the WebBrowser ActiveX control in the address space of the Internet Explorer process.</span></span> <span data-ttu-id="48d12-270">Vzhledem k tomu, že ovládací prvek ActiveX webového prohlížeče je hostován v procesu aplikace Internet Explorer, jsou pro ovládací prvek ActiveX webového prohlížeče povoleny také všechny ovládací prvky funkcí pro aplikaci Internet Explorer.</span><span class="sxs-lookup"><span data-stu-id="48d12-270">Since the WebBrowser ActiveX control is hosted in the Internet Explorer process, all of the feature controls for Internet Explorer are also enabled for the WebBrowser ActiveX control.</span></span>  
  
 <span data-ttu-id="48d12-271">XBAPs spuštěné v aplikaci Internet Explorer také získat další úroveň zabezpečení ve srovnání s běžnými samostatnými aplikacemi.</span><span class="sxs-lookup"><span data-stu-id="48d12-271">XBAPs running in Internet Explorer also get an additional level of security compared to normal standalone applications.</span></span> <span data-ttu-id="48d12-272">Toto dodatečné zabezpečení je způsobeno tím, že aplikace Internet Explorer, a tedy ovládací prvek ActiveX webového prohlížeče, je ve výchozím nastavení spuštěna v chráněném režimu v systémech Windows Vista a Windows 7.</span><span class="sxs-lookup"><span data-stu-id="48d12-272">This additional security is because Internet Explorer, and therefore the WebBrowser ActiveX control, runs in protected mode by default on Windows Vista and Windows 7.</span></span> <span data-ttu-id="48d12-273">Další informace o chráněném režimu naleznete [v tématu Principy a práce v chráněném režimu aplikace Internet Explorer](https://docs.microsoft.com/previous-versions/windows/internet-explorer/ie-developer/).</span><span class="sxs-lookup"><span data-stu-id="48d12-273">For more information about protected mode, see [Understanding and Working in Protected Mode Internet Explorer](https://docs.microsoft.com/previous-versions/windows/internet-explorer/ie-developer/).</span></span>  
  
> [!NOTE]
> <span data-ttu-id="48d12-274">Pokud se pokusíte spustit XBAP, <xref:System.Windows.Controls.WebBrowser> který obsahuje ovládací prvek WPF <xref:System.Security.SecurityException> ve Firefoxu, zatímco v zóně Internet, bude vyvolána.</span><span class="sxs-lookup"><span data-stu-id="48d12-274">If you try to run an XBAP that includes a WPF <xref:System.Windows.Controls.WebBrowser> control in Firefox, while in the Internet zone, a <xref:System.Security.SecurityException> will be thrown.</span></span> <span data-ttu-id="48d12-275">To je způsobeno zásadou zabezpečení WPF.</span><span class="sxs-lookup"><span data-stu-id="48d12-275">This is due to WPF security policy.</span></span>  
  
<a name="APTCA"></a>
## <a name="disabling-aptca-assemblies-for-partially-trusted-client-applications"></a><span data-ttu-id="48d12-276">Zakázání sestavení APTCA pro částečně důvěryhodné klientské aplikace</span><span class="sxs-lookup"><span data-stu-id="48d12-276">Disabling APTCA Assemblies for Partially Trusted Client Applications</span></span>  
 <span data-ttu-id="48d12-277">Pokud jsou spravovaná sestavení nainstalována do globální mezipaměti sestavení (GAC), stanou se plně důvěryhodnými, protože uživatel musí poskytnout výslovné oprávnění k jejich instalaci.</span><span class="sxs-lookup"><span data-stu-id="48d12-277">When managed assemblies are installed into the global assembly cache (GAC), they become fully trusted because the user must provide explicit permission to install them.</span></span> <span data-ttu-id="48d12-278">Vzhledem k tomu, že jsou plně důvěryhodné, mohou je používat pouze plně důvěryhodné spravované klientské aplikace.</span><span class="sxs-lookup"><span data-stu-id="48d12-278">Because they are fully trusted, only fully trusted managed client applications can use them.</span></span> <span data-ttu-id="48d12-279">Chcete-li povolit částečně důvěryhodné aplikace používat, <xref:System.Security.AllowPartiallyTrustedCallersAttribute> musí být označeny (APTCA).</span><span class="sxs-lookup"><span data-stu-id="48d12-279">To allow partially trusted applications to use them, they must be marked with the <xref:System.Security.AllowPartiallyTrustedCallersAttribute> (APTCA).</span></span> <span data-ttu-id="48d12-280">Tímto atributem by měla být označena pouze sestavení, která byla testována jako bezpečná pro spuštění v částečném vztahu důvěryhodnosti.</span><span class="sxs-lookup"><span data-stu-id="48d12-280">Only assemblies that have been tested to be safe for execution in partial trust should be marked with this attribute.</span></span>  
  
 <span data-ttu-id="48d12-281">Je však možné, aby sestavení APTCA vykazovalo chybu zabezpečení po instalaci do GAC .</span><span class="sxs-lookup"><span data-stu-id="48d12-281">However, it is possible for an APTCA assembly to exhibit a security flaw after being installed into the  GAC .</span></span> <span data-ttu-id="48d12-282">Jakmile je zjištěna chyba zabezpečení, vydavatelé sestavení mohou vytvořit aktualizaci zabezpečení, která problém vyřeší na existujících instalacích a že se ochrání před instalacemi, ke kterým může dojít po zjištění problému.</span><span class="sxs-lookup"><span data-stu-id="48d12-282">Once a security flaw is discovered, assembly publishers can produce a security update to fix the problem on existing installations, and to protect against installations that may occur after the problem is discovered.</span></span> <span data-ttu-id="48d12-283">Jednou z možností aktualizace je odinstalovat sestavení, i když to může přerušit jiné plně důvěryhodné klientské aplikace, které používají sestavení.</span><span class="sxs-lookup"><span data-stu-id="48d12-283">One option for the update is to uninstall the assembly, although that may break other fully trusted client applications that use the assembly.</span></span>  
  
 <span data-ttu-id="48d12-284">WPF poskytuje mechanismus, kterým lze sestavení APTCA zakázat pro částečně důvěryhodné XBAPs bez odinstalace sestavení APTCA.</span><span class="sxs-lookup"><span data-stu-id="48d12-284">WPF provides a mechanism by which an APTCA assembly can be disabled for partially trusted XBAPs without uninstalling the APTCA assembly.</span></span>  
  
 <span data-ttu-id="48d12-285">Chcete-li zakázat sestavení APTCA, musíte vytvořit speciální klíč registru:</span><span class="sxs-lookup"><span data-stu-id="48d12-285">To disable an APTCA assembly, you have to create a special registry key:</span></span>  
  
 `HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\.NETFramework\policy\APTCA\<AssemblyFullName>, FileVersion=<AssemblyFileVersion>`  
  
 <span data-ttu-id="48d12-286">Následující příklad ukazuje:</span><span class="sxs-lookup"><span data-stu-id="48d12-286">The following shows an example:</span></span>  
  
 `HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\.NETFramework\policy\APTCA\aptcagac, Version=1.0.0.0, Culture=neutral, PublicKeyToken=215e3ac809a0fea7, FileVersion=1.0.0.0`  
  
 <span data-ttu-id="48d12-287">Tento klíč vytvoří položku pro sestavení APTCA.</span><span class="sxs-lookup"><span data-stu-id="48d12-287">This key establishes an entry for the APTCA assembly.</span></span> <span data-ttu-id="48d12-288">Musíte také vytvořit hodnotu v tomto klíči, který umožňuje nebo zakáže sestavení.</span><span class="sxs-lookup"><span data-stu-id="48d12-288">You also have to create a value in this key that enables or disables the assembly.</span></span> <span data-ttu-id="48d12-289">Níže jsou uvedeny podrobnosti o hodnotě:</span><span class="sxs-lookup"><span data-stu-id="48d12-289">The following are the details of the value:</span></span>  
  
- <span data-ttu-id="48d12-290">Název hodnoty: **APTCA_FLAG**.</span><span class="sxs-lookup"><span data-stu-id="48d12-290">Value Name: **APTCA_FLAG**.</span></span>  
  
- <span data-ttu-id="48d12-291">Typ hodnoty: **REG_DWORD**.</span><span class="sxs-lookup"><span data-stu-id="48d12-291">Value Type: **REG_DWORD**.</span></span>  
  
- <span data-ttu-id="48d12-292">Data hodnoty: **1** zakázat; **0** povolit.</span><span class="sxs-lookup"><span data-stu-id="48d12-292">Value Data: **1** to disable; **0** to enable.</span></span>  
  
 <span data-ttu-id="48d12-293">Pokud sestavení má být zakázáno pro částečně důvěryhodné klientské aplikace, můžete napsat aktualizaci, která vytvoří klíč registru a hodnotu.</span><span class="sxs-lookup"><span data-stu-id="48d12-293">If an assembly has to be disabled for partially trusted client applications, you can write an update that creates the registry key and value.</span></span>  
  
> [!NOTE]
> <span data-ttu-id="48d12-294">Sestavení rozhraní Core .NET Framework nejsou tímto způsobem ovlivněna jejich zakázáním, protože jsou vyžadována pro schované aplikace ke spuštění.</span><span class="sxs-lookup"><span data-stu-id="48d12-294">Core .NET Framework assemblies are not affected by disabling them in this way because they are required for managed applications to run.</span></span> <span data-ttu-id="48d12-295">Podpora pro zakázání sestavení APTCA je primárně určena pro aplikace třetích stran.</span><span class="sxs-lookup"><span data-stu-id="48d12-295">Support for disabling APTCA assemblies is primarily targeted to third-party applications.</span></span>  
  
<a name="LooseContentSandboxing"></a>
## <a name="sandbox-behavior-for-loose-xaml-files"></a><span data-ttu-id="48d12-296">Chování izolovaného prostoru pro volné soubory XAML</span><span class="sxs-lookup"><span data-stu-id="48d12-296">Sandbox Behavior for Loose XAML Files</span></span>  
 <span data-ttu-id="48d12-297">Volné [!INCLUDE[TLA2#tla_xaml](../../../includes/tla2sharptla-xaml-md.md)] soubory jsou pouze značky XAML soubory, které nezávisí na žádné kód na pozadí, obslužné rutiny události nebo sestavení specifické pro aplikaci.</span><span class="sxs-lookup"><span data-stu-id="48d12-297">Loose [!INCLUDE[TLA2#tla_xaml](../../../includes/tla2sharptla-xaml-md.md)] files are markup-only XAML files that do not depend on any code-behind, event handler, or application-specific assembly.</span></span> <span data-ttu-id="48d12-298">Pokud [!INCLUDE[TLA2#tla_xaml](../../../includes/tla2sharptla-xaml-md.md)] jsou volné soubory navigovány přímo z prohlížeče, jsou načteny do izolovaného prostoru zabezpečení na základě výchozí sady oprávnění zóny Internet.</span><span class="sxs-lookup"><span data-stu-id="48d12-298">When loose [!INCLUDE[TLA2#tla_xaml](../../../includes/tla2sharptla-xaml-md.md)] files are navigated to directly from the browser, they are loaded in a security sandbox based on the default Internet zone permission set.</span></span>  
  
 <span data-ttu-id="48d12-299">Chování zabezpečení se však [!INCLUDE[TLA2#tla_xaml](../../../includes/tla2sharptla-xaml-md.md)] liší při volné soubory <xref:System.Windows.Navigation.NavigationWindow> jsou <xref:System.Windows.Controls.Frame> navigovány z nebo v samostatné aplikaci.</span><span class="sxs-lookup"><span data-stu-id="48d12-299">However, the security behavior is different when loose [!INCLUDE[TLA2#tla_xaml](../../../includes/tla2sharptla-xaml-md.md)] files are navigated to from either a <xref:System.Windows.Navigation.NavigationWindow> or <xref:System.Windows.Controls.Frame> in a standalone application.</span></span>  
  
 <span data-ttu-id="48d12-300">V obou případech [!INCLUDE[TLA2#tla_xaml](../../../includes/tla2sharptla-xaml-md.md)] volný soubor, který je navigován dědí oprávnění jeho hostitelské aplikace.</span><span class="sxs-lookup"><span data-stu-id="48d12-300">In both cases, the loose [!INCLUDE[TLA2#tla_xaml](../../../includes/tla2sharptla-xaml-md.md)] file that is navigated to inherits the permissions of its host application.</span></span> <span data-ttu-id="48d12-301">Toto chování však může být nežádoucí z hlediska [!INCLUDE[TLA2#tla_xaml](../../../includes/tla2sharptla-xaml-md.md)] zabezpečení, zejména v případě, že volný soubor byl vytvořen entitou, která není důvěryhodný nebo neznámý.</span><span class="sxs-lookup"><span data-stu-id="48d12-301">However, this behavior may be undesirable from a security perspective, particularly if a loose [!INCLUDE[TLA2#tla_xaml](../../../includes/tla2sharptla-xaml-md.md)] file was produced by an entity that is either not trusted or unknown.</span></span> <span data-ttu-id="48d12-302">Tento typ obsahu se označuje jako <xref:System.Windows.Controls.Frame> externí <xref:System.Windows.Navigation.NavigationWindow> *obsah*a lze jej nakonfigurovat tak, aby byl při přechodu na něj izolován.</span><span class="sxs-lookup"><span data-stu-id="48d12-302">This type of content is known as *external content*, and both <xref:System.Windows.Controls.Frame> and <xref:System.Windows.Navigation.NavigationWindow> can be configured to isolate it when navigated to.</span></span> <span data-ttu-id="48d12-303">Izolace je dosaženo nastavením **SandboxExternalContent** vlastnost true, jak <xref:System.Windows.Controls.Frame> je <xref:System.Windows.Navigation.NavigationWindow>znázorněno v následujících příkladech pro a :</span><span class="sxs-lookup"><span data-stu-id="48d12-303">Isolation is achieved by setting the **SandboxExternalContent** property to true, as shown in the following examples for <xref:System.Windows.Controls.Frame> and <xref:System.Windows.Navigation.NavigationWindow>:</span></span>  
  
 [!code-xaml[SecurityOverviewSnippets#FrameMARKUP](~/samples/snippets/csharp/VS_Snippets_Wpf/SecurityOverviewSnippets/CS/Window2.xaml#framemarkup)]  
  
 [!code-xaml[SecurityOverviewSnippets#NavigationWindowMARKUP](~/samples/snippets/csharp/VS_Snippets_Wpf/SecurityOverviewSnippets/CS/Window1.xaml#navigationwindowmarkup)]  
  
 <span data-ttu-id="48d12-304">S tímto nastavením bude externí obsah načten do procesu, který je oddělený od procesu, který je hostitelem aplikace.</span><span class="sxs-lookup"><span data-stu-id="48d12-304">With this setting, external content will be loaded into a process that is separate from the process that is hosting the application.</span></span> <span data-ttu-id="48d12-305">Tento proces je omezen na výchozí sadu oprávnění zóny Internet, která jej účinně izoluje od hostitelské aplikace a klientského počítače.</span><span class="sxs-lookup"><span data-stu-id="48d12-305">This process is restricted to the default Internet zone permission set, effectively isolating it from the hosting application and the client computer.</span></span>  
  
> [!NOTE]
> <span data-ttu-id="48d12-306">I když navigace [!INCLUDE[TLA2#tla_xaml](../../../includes/tla2sharptla-xaml-md.md)] na volné <xref:System.Windows.Navigation.NavigationWindow> <xref:System.Windows.Controls.Frame> soubory z a nebo v samostatné aplikaci je implementována na základě wpf prohlížeče hosting infrastruktury, zahrnující Proces PresentationHost, úroveň zabezpečení je o něco menší, než když je obsah načten přímo v aplikaci Internet Explorer na Windows Vista a Windows 7 (což by ještě být přes PresentationHost).</span><span class="sxs-lookup"><span data-stu-id="48d12-306">Even though navigation to loose [!INCLUDE[TLA2#tla_xaml](../../../includes/tla2sharptla-xaml-md.md)] files from either a <xref:System.Windows.Navigation.NavigationWindow> or <xref:System.Windows.Controls.Frame> in a standalone application is implemented based on the WPF browser hosting infrastructure, involving the PresentationHost process, the security level is slightly less than when the content is loaded directly in Internet Explorer on Windows Vista and Windows 7 (which would still be through PresentationHost).</span></span> <span data-ttu-id="48d12-307">Důvodem je, že samostatná aplikace WPF používající webový prohlížeč neposkytuje další funkci zabezpečení chráněného režimu aplikace Internet Explorer.</span><span class="sxs-lookup"><span data-stu-id="48d12-307">This is because a standalone WPF application using a Web browser does not provide the additional Protected Mode security feature of Internet Explorer.</span></span>  
  
<a name="BestPractices"></a>
## <a name="resources-for-developing-wpf-applications-that-promote-security"></a><span data-ttu-id="48d12-308">Prostředky pro vývoj wpf aplikací, které podporují zabezpečení</span><span class="sxs-lookup"><span data-stu-id="48d12-308">Resources for Developing WPF Applications that Promote Security</span></span>  
 <span data-ttu-id="48d12-309">Následují některé další zdroje informací, které pomáhají vyvíjet aplikace WPF, které podporují zabezpečení:</span><span class="sxs-lookup"><span data-stu-id="48d12-309">The following are some additional resources to help develop WPF applications that promote security:</span></span>  
  
|<span data-ttu-id="48d12-310">Oblast</span><span class="sxs-lookup"><span data-stu-id="48d12-310">Area</span></span>|<span data-ttu-id="48d12-311">Prostředek</span><span class="sxs-lookup"><span data-stu-id="48d12-311">Resource</span></span>|  
|----------|--------------|  
|<span data-ttu-id="48d12-312">Spravovaný kód</span><span class="sxs-lookup"><span data-stu-id="48d12-312">Managed code</span></span>|<span data-ttu-id="48d12-313">[Vzory a postupy bezpečnostní pokyny pro aplikace](https://docs.microsoft.com/previous-versions/msp-n-p/ff650760(v=pandp.10))</span><span class="sxs-lookup"><span data-stu-id="48d12-313">[Patterns and Practices Security Guidance for Applications](https://docs.microsoft.com/previous-versions/msp-n-p/ff650760(v=pandp.10))</span></span>|  
|<span data-ttu-id="48d12-314">CAS</span><span class="sxs-lookup"><span data-stu-id="48d12-314">CAS</span></span>|[<span data-ttu-id="48d12-315">Zabezpečení přístupu kódu</span><span class="sxs-lookup"><span data-stu-id="48d12-315">Code Access Security</span></span>](../misc/code-access-security.md)|  
|<span data-ttu-id="48d12-316">ClickOnce</span><span class="sxs-lookup"><span data-stu-id="48d12-316">ClickOnce</span></span>|[<span data-ttu-id="48d12-317">ClickOnce Zabezpečení a nasazení</span><span class="sxs-lookup"><span data-stu-id="48d12-317">ClickOnce Security and Deployment</span></span>](/visualstudio/deployment/clickonce-security-and-deployment)|  
|<span data-ttu-id="48d12-318">WPF</span><span class="sxs-lookup"><span data-stu-id="48d12-318">WPF</span></span>|[<span data-ttu-id="48d12-319">WPF částečné zabezpečení důvěryhodnosti</span><span class="sxs-lookup"><span data-stu-id="48d12-319">WPF Partial Trust Security</span></span>](wpf-partial-trust-security.md)|  
  
## <a name="see-also"></a><span data-ttu-id="48d12-320">Viz také</span><span class="sxs-lookup"><span data-stu-id="48d12-320">See also</span></span>

- [<span data-ttu-id="48d12-321">WPF částečné zabezpečení důvěryhodnosti</span><span class="sxs-lookup"><span data-stu-id="48d12-321">WPF Partial Trust Security</span></span>](wpf-partial-trust-security.md)
- [<span data-ttu-id="48d12-322">Strategie zabezpečení WPF – zabezpečení platformy</span><span class="sxs-lookup"><span data-stu-id="48d12-322">WPF Security Strategy - Platform Security</span></span>](wpf-security-strategy-platform-security.md)
- [<span data-ttu-id="48d12-323">Strategie zabezpečení WPF – engineering zabezpečení</span><span class="sxs-lookup"><span data-stu-id="48d12-323">WPF Security Strategy - Security Engineering</span></span>](wpf-security-strategy-security-engineering.md)
- <span data-ttu-id="48d12-324">[Vzory a postupy bezpečnostní pokyny pro aplikace](https://docs.microsoft.com/previous-versions/msp-n-p/ff650760(v=pandp.10))</span><span class="sxs-lookup"><span data-stu-id="48d12-324">[Patterns and Practices Security Guidance for Applications](https://docs.microsoft.com/previous-versions/msp-n-p/ff650760(v=pandp.10))</span></span>
- [<span data-ttu-id="48d12-325">Zabezpečení přístupu kódu</span><span class="sxs-lookup"><span data-stu-id="48d12-325">Code Access Security</span></span>](../misc/code-access-security.md)
- [<span data-ttu-id="48d12-326">ClickOnce Zabezpečení a nasazení</span><span class="sxs-lookup"><span data-stu-id="48d12-326">ClickOnce Security and Deployment</span></span>](/visualstudio/deployment/clickonce-security-and-deployment)
- [<span data-ttu-id="48d12-327">Přehled XAML (WPF)</span><span class="sxs-lookup"><span data-stu-id="48d12-327">XAML Overview (WPF)</span></span>](../../desktop-wpf/fundamentals/xaml.md)
