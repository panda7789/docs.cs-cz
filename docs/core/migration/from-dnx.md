---
title: Migrace z dnx na rozhraní CLI jádra .NET
description: Migrujte z použití nástrojů DNX na nástroje .NET Core CLI.
ms.date: 06/20/2016
ms.openlocfilehash: 31317f110ae1e8586b78becd757d0a8ff07f1459
ms.sourcegitcommit: 7588136e355e10cbc2582f389c90c127363c02a5
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 03/14/2020
ms.locfileid: "77503830"
---
# <a name="migrating-from-dnx-to-net-core-cli-projectjson"></a><span data-ttu-id="91bcf-103">Migrace z DNX na rozhraní CLI jádra .NET (project.json)</span><span class="sxs-lookup"><span data-stu-id="91bcf-103">Migrating from DNX to .NET Core CLI (project.json)</span></span>

## <a name="overview"></a><span data-ttu-id="91bcf-104">Přehled</span><span class="sxs-lookup"><span data-stu-id="91bcf-104">Overview</span></span>
<span data-ttu-id="91bcf-105">Verze RC1 .NET Core a ASP.NET Core 1.0 představila nástroje DNX.</span><span class="sxs-lookup"><span data-stu-id="91bcf-105">The RC1 release of .NET Core and ASP.NET Core 1.0 introduced DNX tooling.</span></span> <span data-ttu-id="91bcf-106">Verze RC2 .NET Core a ASP.NET Core 1.0 se přesunula z DNX do rozhraní .NET Core CLI.</span><span class="sxs-lookup"><span data-stu-id="91bcf-106">The RC2 release of .NET Core and ASP.NET Core 1.0 moved from DNX to the .NET Core CLI.</span></span>

<span data-ttu-id="91bcf-107">Jako mírný opakovací, pojďme shrnout, co DNX bylo asi.</span><span class="sxs-lookup"><span data-stu-id="91bcf-107">As a slight refresher, let's recap what DNX was about.</span></span> <span data-ttu-id="91bcf-108">DNX byl runtime a sada nástrojů používaných k vytváření .NET Core a konkrétněji ASP.NET aplikací Core 1.0.</span><span class="sxs-lookup"><span data-stu-id="91bcf-108">DNX was a runtime and a toolset used to build .NET Core and, more specifically, ASP.NET Core 1.0 applications.</span></span> <span data-ttu-id="91bcf-109">Skládá se ze 3 hlavních kusů:</span><span class="sxs-lookup"><span data-stu-id="91bcf-109">It consisted of 3 main pieces:</span></span>

1. <span data-ttu-id="91bcf-110">DNVM - instalační skript pro získání DNX</span><span class="sxs-lookup"><span data-stu-id="91bcf-110">DNVM - an install script for obtaining DNX</span></span>
2. <span data-ttu-id="91bcf-111">DNX (Dotnet Execution Runtime) - runtime, který spouští váš kód</span><span class="sxs-lookup"><span data-stu-id="91bcf-111">DNX (Dotnet Execution Runtime) - the runtime that executes your code</span></span>
3. <span data-ttu-id="91bcf-112">DNU (Dotnet Developer Utility) - nástroje pro správu závislostí, vytváření a publikování vašich aplikací</span><span class="sxs-lookup"><span data-stu-id="91bcf-112">DNU (Dotnet Developer Utility) - tooling for managing dependencies, building and publishing your applications</span></span>

<span data-ttu-id="91bcf-113">Se zavedením cli, všechny výše uvedené jsou nyní součástí jedné sady nástrojů.</span><span class="sxs-lookup"><span data-stu-id="91bcf-113">With the introduction of the CLI, all of the above are now part of a single toolset.</span></span> <span data-ttu-id="91bcf-114">Vzhledem k tomu, že dnx byl k dispozici v časovém rámci RC1, můžete mít projekty, které byly vytvořeny pomocí něj, které byste chtěli přejít na nové nástroje rozhraní příkazového příkazu.</span><span class="sxs-lookup"><span data-stu-id="91bcf-114">However, since DNX was available in RC1 timeframe, you might have projects that were built using it that you would want to move off to the new CLI tooling.</span></span>

<span data-ttu-id="91bcf-115">Tento průvodce migrací bude zahrnovat základní informace o tom, jak migrovat projekty mimo DNX a na rozhraní .NET Core CLI.</span><span class="sxs-lookup"><span data-stu-id="91bcf-115">This migration guide will cover the essentials on how to migrate projects off of DNX and onto .NET Core CLI.</span></span> <span data-ttu-id="91bcf-116">Pokud právě začínáte projekt na .NET Core od začátku, můžete tento dokument volně přeskočit.</span><span class="sxs-lookup"><span data-stu-id="91bcf-116">If you are just starting a project on .NET Core from scratch, you can freely skip this document.</span></span>

## <a name="main-changes-in-the-tooling"></a><span data-ttu-id="91bcf-117">Hlavní změny v nástrojích</span><span class="sxs-lookup"><span data-stu-id="91bcf-117">Main changes in the tooling</span></span>
<span data-ttu-id="91bcf-118">V nástrojích jsou uvedeny některé obecné změny, které by měly být popsány jako první.</span><span class="sxs-lookup"><span data-stu-id="91bcf-118">There are some general changes in the tooling that should be outlined first.</span></span>

### <a name="no-more-dnvm"></a><span data-ttu-id="91bcf-119">Už žádné DNVM</span><span class="sxs-lookup"><span data-stu-id="91bcf-119">No more DNVM</span></span>
<span data-ttu-id="91bcf-120">DNVM, zkratka pro *DotNet Version Manager* byl bash / PowerShell skript používaný k instalaci DNX na vašem počítači.</span><span class="sxs-lookup"><span data-stu-id="91bcf-120">DNVM, short for *DotNet Version Manager* was a bash/PowerShell script used to install a DNX on your machine.</span></span> <span data-ttu-id="91bcf-121">To pomohlo uživatelům získat DNX, které potřebují z krmiva, které zadali (nebo výchozí ty), stejně jako označit určité DNX "aktivní", který by dal na $PATH pro danou relaci.</span><span class="sxs-lookup"><span data-stu-id="91bcf-121">It helped users get the DNX they need from the feed they specified (or default ones) as well as mark a certain DNX "active", which would put it on the $PATH for the given session.</span></span> <span data-ttu-id="91bcf-122">To by vám umožnilo používat různé nástroje.</span><span class="sxs-lookup"><span data-stu-id="91bcf-122">This would allow you to use the various tools.</span></span>

<span data-ttu-id="91bcf-123">DNVM byla ukončena, protože jeho sada funkcí byla redundantní změny přicházející v rozhraní .NET Core CLI.</span><span class="sxs-lookup"><span data-stu-id="91bcf-123">DNVM was discontinued because its feature set was made redundant by changes coming in the .NET Core CLI.</span></span>

<span data-ttu-id="91bcf-124">ClI je dodáván a zabalen dvěma hlavními způsoby:</span><span class="sxs-lookup"><span data-stu-id="91bcf-124">The CLI comes packaged in two main ways:</span></span>

1. <span data-ttu-id="91bcf-125">Nativní instalační programy pro danou platformu</span><span class="sxs-lookup"><span data-stu-id="91bcf-125">Native installers for a given platform</span></span>
2. <span data-ttu-id="91bcf-126">Instalace skriptu pro jiné situace (například ci servery)</span><span class="sxs-lookup"><span data-stu-id="91bcf-126">Install script for other situations (like CI servers)</span></span>

<span data-ttu-id="91bcf-127">Vzhledem k tomu nejsou funkce instalace DNVM potřebné.</span><span class="sxs-lookup"><span data-stu-id="91bcf-127">Given this, the DNVM install features are not needed.</span></span> <span data-ttu-id="91bcf-128">Ale co funkce výběru za běhu?</span><span class="sxs-lookup"><span data-stu-id="91bcf-128">But what about the runtime selection features?</span></span>

<span data-ttu-id="91bcf-129">Odkazujete na runtime `project.json` ve vašem přidáním balíčku určité verze do vašich závislostí.</span><span class="sxs-lookup"><span data-stu-id="91bcf-129">You reference a runtime in your `project.json` by adding a package of a certain version to your dependencies.</span></span> <span data-ttu-id="91bcf-130">S touto změnou bude aplikace moci používat nové bity runtime.</span><span class="sxs-lookup"><span data-stu-id="91bcf-130">With this change, your application will be able to use the new runtime bits.</span></span> <span data-ttu-id="91bcf-131">Získání těchto bitů do počítače je stejné jako u cli: nainstalujete runtime prostřednictvím jednoho z nativních instalačních programů, které podporuje, nebo prostřednictvím instalačního skriptu.</span><span class="sxs-lookup"><span data-stu-id="91bcf-131">Getting these bits to your machine is the same as with the CLI: you install the runtime via one of the native installers it supports or via its install script.</span></span>

### <a name="different-commands"></a><span data-ttu-id="91bcf-132">Různé příkazy</span><span class="sxs-lookup"><span data-stu-id="91bcf-132">Different commands</span></span>
<span data-ttu-id="91bcf-133">Pokud jste používali DNX, použili jste některé příkazy z jedné z jeho tří částí (DNX, DNU nebo DNVM).</span><span class="sxs-lookup"><span data-stu-id="91bcf-133">If you were using DNX, you used some commands from one of its three parts (DNX, DNU or DNVM).</span></span> <span data-ttu-id="91bcf-134">S ROZHRANÍ MAT Některá z těchto příkazů se změní, některé nejsou k dispozici a některé jsou stejné, ale mají mírně odlišnou sémantiku.</span><span class="sxs-lookup"><span data-stu-id="91bcf-134">With the CLI, some of these commands change, some are not available and some are the same but have slightly different semantics.</span></span>

<span data-ttu-id="91bcf-135">V následující tabulce je zobrazeno mapování mezi příkazy DNX/DNU a jejich protějšky v příkazech cli.</span><span class="sxs-lookup"><span data-stu-id="91bcf-135">The table below shows the mapping between the DNX/DNU commands and their CLI counterparts.</span></span>

| <span data-ttu-id="91bcf-136">DNX, příkaz</span><span class="sxs-lookup"><span data-stu-id="91bcf-136">DNX command</span></span>                    | <span data-ttu-id="91bcf-137">Příkaz příkazového příkazu, příkaz</span><span class="sxs-lookup"><span data-stu-id="91bcf-137">CLI command</span></span>    | <span data-ttu-id="91bcf-138">Popis</span><span class="sxs-lookup"><span data-stu-id="91bcf-138">Description</span></span>                                                                                                     |
|--------------------------------|----------------|-----------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="91bcf-139">dnx běh</span><span class="sxs-lookup"><span data-stu-id="91bcf-139">dnx run</span></span>                        | `dotnet run`     | <span data-ttu-id="91bcf-140">Spusťte kód ze zdroje.</span><span class="sxs-lookup"><span data-stu-id="91bcf-140">Run code from source.</span></span>                                                                                           |
| <span data-ttu-id="91bcf-141">dnu sestavení</span><span class="sxs-lookup"><span data-stu-id="91bcf-141">dnu build</span></span>                      | `dotnet build`   | <span data-ttu-id="91bcf-142">Vytvořte il binární kód.</span><span class="sxs-lookup"><span data-stu-id="91bcf-142">Build an IL binary of your code.</span></span>                                                                                |
| <span data-ttu-id="91bcf-143">dnu balíček</span><span class="sxs-lookup"><span data-stu-id="91bcf-143">dnu pack</span></span>                       | `dotnet pack`    | <span data-ttu-id="91bcf-144">Balíček do NuGet balíček vašeho kódu.</span><span class="sxs-lookup"><span data-stu-id="91bcf-144">Package up a NuGet package of your code.</span></span>                                                                        |
| <span data-ttu-id="91bcf-145">dnx \[příkaz] (například "dnx web")</span><span class="sxs-lookup"><span data-stu-id="91bcf-145">dnx \[command] (for example, "dnx web")</span></span> | <span data-ttu-id="91bcf-146">N/a\*</span><span class="sxs-lookup"><span data-stu-id="91bcf-146">N/A\*</span></span>          | <span data-ttu-id="91bcf-147">Ve světě DNX spusťte příkaz definovaný v souboru project.json.</span><span class="sxs-lookup"><span data-stu-id="91bcf-147">In DNX world, run a command as defined in the project.json.</span></span>                                                     |
| <span data-ttu-id="91bcf-148">dnu instalace</span><span class="sxs-lookup"><span data-stu-id="91bcf-148">dnu install</span></span>                    | <span data-ttu-id="91bcf-149">N/a\*</span><span class="sxs-lookup"><span data-stu-id="91bcf-149">N/A\*</span></span>          | <span data-ttu-id="91bcf-150">Ve světě DNX nainstalujte balíček jako závislost.</span><span class="sxs-lookup"><span data-stu-id="91bcf-150">In the DNX world, install a package as a dependency.</span></span>                                                            |
| <span data-ttu-id="91bcf-151">dnu obnovení</span><span class="sxs-lookup"><span data-stu-id="91bcf-151">dnu restore</span></span>                    | `dotnet restore` | <span data-ttu-id="91bcf-152">Obnovení závislostí zadaných v souboru project.json.</span><span class="sxs-lookup"><span data-stu-id="91bcf-152">Restore dependencies specified in your project.json.</span></span> <span data-ttu-id="91bcf-153">([viz poznámka](#dotnet-restore-note))</span><span class="sxs-lookup"><span data-stu-id="91bcf-153">([see note](#dotnet-restore-note))</span></span>                                                            |
| <span data-ttu-id="91bcf-154">dnu publikovat</span><span class="sxs-lookup"><span data-stu-id="91bcf-154">dnu publish</span></span>                    | `dotnet publish` | <span data-ttu-id="91bcf-155">Publikujte aplikaci pro nasazení v jednom ze tří formulářů (přenosné, přenosné s nativní a samostatné).</span><span class="sxs-lookup"><span data-stu-id="91bcf-155">Publish your application for deployment in one of the three forms (portable, portable with native and standalone).</span></span> |
| <span data-ttu-id="91bcf-156">zábal dnu</span><span class="sxs-lookup"><span data-stu-id="91bcf-156">dnu wrap</span></span>                       | <span data-ttu-id="91bcf-157">N/a\*</span><span class="sxs-lookup"><span data-stu-id="91bcf-157">N/A\*</span></span>          | <span data-ttu-id="91bcf-158">Ve světě DNX zabalte project.json do csproj.</span><span class="sxs-lookup"><span data-stu-id="91bcf-158">In DNX world, wrap a project.json in csproj.</span></span>                                                                    |
| <span data-ttu-id="91bcf-159">dnu příkazy</span><span class="sxs-lookup"><span data-stu-id="91bcf-159">dnu commands</span></span>                   | <span data-ttu-id="91bcf-160">N/a\*</span><span class="sxs-lookup"><span data-stu-id="91bcf-160">N/A\*</span></span>          | <span data-ttu-id="91bcf-161">Ve světě DNX spravujte globálně nainstalované příkazy.</span><span class="sxs-lookup"><span data-stu-id="91bcf-161">In DNX world, manage the globally installed commands.</span></span>                                                           |

<span data-ttu-id="91bcf-162">(\*) - tyto funkce nejsou v rozhraní zanesení podle návrhu podporovány.</span><span class="sxs-lookup"><span data-stu-id="91bcf-162">(\*) - these features are not supported in the CLI by design.</span></span>

## <a name="dnx-features-that-are-not-supported"></a><span data-ttu-id="91bcf-163">Funkce DNX, které nejsou podporovány</span><span class="sxs-lookup"><span data-stu-id="91bcf-163">DNX features that are not supported</span></span>
<span data-ttu-id="91bcf-164">Jak ukazuje výše uvedená tabulka, existují funkce ze světa DNX, které jsme se rozhodli nepodporovat v CLI, alespoň prozatím.</span><span class="sxs-lookup"><span data-stu-id="91bcf-164">As the table above shows, there are features from the DNX world that we decided not to support in the CLI, at least for the time being.</span></span> <span data-ttu-id="91bcf-165">Tato část projde ty nejdůležitější a nastínit důvody, které nepodporují, stejně jako řešení, pokud je potřebujete.</span><span class="sxs-lookup"><span data-stu-id="91bcf-165">This section will go through the most important ones and outline the rationale behind not supporting them as well as workarounds if you do need them.</span></span>

### <a name="global-commands"></a><span data-ttu-id="91bcf-166">Globální příkazy</span><span class="sxs-lookup"><span data-stu-id="91bcf-166">Global commands</span></span>
<span data-ttu-id="91bcf-167">DNU přišel s konceptem nazvaným "globální příkazy".</span><span class="sxs-lookup"><span data-stu-id="91bcf-167">DNU came with a concept called "global commands".</span></span> <span data-ttu-id="91bcf-168">Jednalo se v podstatě o konzolové aplikace zabalené jako balíčky NuGet se skriptem prostředí, který by vyvolal dnx, který jste zadali ke spuštění aplikace.</span><span class="sxs-lookup"><span data-stu-id="91bcf-168">These were, essentially, console applications packaged up as NuGet packages with a shell script that would invoke the DNX you specified to run the application.</span></span>

<span data-ttu-id="91bcf-169">ClI nepodporuje tento koncept.</span><span class="sxs-lookup"><span data-stu-id="91bcf-169">The CLI does not support this concept.</span></span> <span data-ttu-id="91bcf-170">Podporuje však koncept přidání příkazů pro projekt, které lze vyvolat pomocí `dotnet <command>` známé syntaxe.</span><span class="sxs-lookup"><span data-stu-id="91bcf-170">It does, however, support the concept of adding per-project commands that can be invoked using the familiar `dotnet <command>` syntax.</span></span>

### <a name="installing-dependencies"></a><span data-ttu-id="91bcf-171">Instalace závislostí</span><span class="sxs-lookup"><span data-stu-id="91bcf-171">Installing dependencies</span></span>
<span data-ttu-id="91bcf-172">Od v1 rozhraní PŘÍKAZOVÉHO PŘÍKAZU jádra `install` .NET nemá příkaz pro instalaci závislostí.</span><span class="sxs-lookup"><span data-stu-id="91bcf-172">As of v1, the .NET Core CLI doesn't have an `install` command for installing dependencies.</span></span> <span data-ttu-id="91bcf-173">Chcete-li nainstalovat balíček z NuGet, budete muset přidat jako `project.json` závislost do `dotnet restore` souboru a pak spustit[(viz poznámka](#dotnet-restore-note)).</span><span class="sxs-lookup"><span data-stu-id="91bcf-173">In order to install a package from NuGet, you would need to add it as a dependency to your `project.json` file and then run `dotnet restore` ([see note](#dotnet-restore-note)).</span></span>

### <a name="running-your-code"></a><span data-ttu-id="91bcf-174">Spuštění kódu</span><span class="sxs-lookup"><span data-stu-id="91bcf-174">Running your code</span></span>
<span data-ttu-id="91bcf-175">Kód lze spustit dvěma hlavními způsoby.</span><span class="sxs-lookup"><span data-stu-id="91bcf-175">There are two main ways to run your code.</span></span> <span data-ttu-id="91bcf-176">Jeden je ze `dotnet run`zdroje, s .</span><span class="sxs-lookup"><span data-stu-id="91bcf-176">One is from source, with `dotnet run`.</span></span> <span data-ttu-id="91bcf-177">Na `dnx run`rozdíl od , to nebude dělat žádné kompilace v paměti.</span><span class="sxs-lookup"><span data-stu-id="91bcf-177">Unlike `dnx run`, this will not do any in-memory compilation.</span></span> <span data-ttu-id="91bcf-178">Bude skutečně `dotnet build` vyvolat k sestavení kódu a potom spustit vytvořený binární soubor.</span><span class="sxs-lookup"><span data-stu-id="91bcf-178">It will actually invoke `dotnet build` to build your code and then run the built binary.</span></span>

<span data-ttu-id="91bcf-179">Jiný způsob, `dotnet` jak je použití sám spustit kód.</span><span class="sxs-lookup"><span data-stu-id="91bcf-179">Another way is using the `dotnet` itself to run your code.</span></span> <span data-ttu-id="91bcf-180">To se provádí poskytnutím cesty `dotnet path/to/an/assembly.dll`k sestavení: .</span><span class="sxs-lookup"><span data-stu-id="91bcf-180">This is done by providing a path to your assembly: `dotnet path/to/an/assembly.dll`.</span></span>

## <a name="migrating-your-dnx-project-to-net-core-cli"></a><span data-ttu-id="91bcf-181">Migrace projektu DNX do rozhraní .NET Core CLI</span><span class="sxs-lookup"><span data-stu-id="91bcf-181">Migrating your DNX project to .NET Core CLI</span></span>
<span data-ttu-id="91bcf-182">Kromě použití nových příkazů při práci s kódem, existují tři hlavní věci vlevo v migraci z DNX:</span><span class="sxs-lookup"><span data-stu-id="91bcf-182">In addition to using new commands when working with your code, there are three major things left in migrating from DNX:</span></span>

1. <span data-ttu-id="91bcf-183">`global.json` Pokud jej máte, můžete soubor použít, pokud jej budete moci používat.</span><span class="sxs-lookup"><span data-stu-id="91bcf-183">Migrate the `global.json` file if you have it to be able to use CLI.</span></span>
2. <span data-ttu-id="91bcf-184">Migrace samotného souboru`project.json`projektu ( ) na nástroje vykreslování lisování lisů.</span><span class="sxs-lookup"><span data-stu-id="91bcf-184">Migrating the project file (`project.json`) itself to the CLI tooling.</span></span>
3. <span data-ttu-id="91bcf-185">Migrace z libovolného řešení API DNX na jejich protějšky BCL.</span><span class="sxs-lookup"><span data-stu-id="91bcf-185">Migrating off of any DNX APIs to their BCL counterparts.</span></span>

### <a name="changing-the-globaljson-file"></a><span data-ttu-id="91bcf-186">Změna souboru global.json</span><span class="sxs-lookup"><span data-stu-id="91bcf-186">Changing the global.json file</span></span>
<span data-ttu-id="91bcf-187">Soubor `global.json` se chová jako soubor řešení pro projekty RC1 a RC2 (nebo novější).</span><span class="sxs-lookup"><span data-stu-id="91bcf-187">The `global.json` file acts like a solution file for both the RC1 and RC2 (or later) projects.</span></span> <span data-ttu-id="91bcf-188">V pořadí pro .NET Core CLI (stejně jako Visual Studio) rozlišovat mezi `"sdk": { "version" }` RC1 a novější verze, používají vlastnost, aby se rozlišování, který projekt je RC1 nebo novější.</span><span class="sxs-lookup"><span data-stu-id="91bcf-188">In order for the .NET Core CLI (as well as Visual Studio) to differentiate between RC1 and later versions, they use the `"sdk": { "version" }` property to make the distinction which project is RC1 or later.</span></span> <span data-ttu-id="91bcf-189">Pokud `global.json` nemá tento uzel vůbec, předpokládá se, že nejnovější.</span><span class="sxs-lookup"><span data-stu-id="91bcf-189">If `global.json` doesn't have this node at all, it is assumed to be the latest.</span></span>

<span data-ttu-id="91bcf-190">Chcete-li `global.json` aktualizovat soubor, odeberte vlastnost nebo ji nastavte na přesnou verzi nástrojů, které chcete použít, v tomto případě **1.0.0-preview2-003121**:</span><span class="sxs-lookup"><span data-stu-id="91bcf-190">In order to update the `global.json` file, either remove the property or set it to the exact version of the tools that you wish to use, in this case **1.0.0-preview2-003121**:</span></span>

```json
{
    "sdk": {
        "version": "1.0.0-preview2-003121"
    }
}
```

### <a name="migrating-the-project-file"></a><span data-ttu-id="91bcf-191">Migrace souboru projektu</span><span class="sxs-lookup"><span data-stu-id="91bcf-191">Migrating the project file</span></span>

<span data-ttu-id="91bcf-192">CLI a DNX oba používají stejný základní `project.json` projektový systém založený na souboru.</span><span class="sxs-lookup"><span data-stu-id="91bcf-192">The CLI and DNX both use the same basic project system based on `project.json` file.</span></span> <span data-ttu-id="91bcf-193">Syntaxe a sémantiku souboru projektu jsou téměř stejné, s malými rozdíly na základě scénářů.</span><span class="sxs-lookup"><span data-stu-id="91bcf-193">The syntax and the semantics of the project file are pretty much the same, with small differences based on the scenarios.</span></span> <span data-ttu-id="91bcf-194">Existují také některé změny schématu, které můžete vidět v [souboru schématu](http://json.schemastore.org/project).</span><span class="sxs-lookup"><span data-stu-id="91bcf-194">There are also some changes to the schema which you can see in the [schema file](http://json.schemastore.org/project).</span></span>

<span data-ttu-id="91bcf-195">Pokud vytváříte konzolovou aplikaci, je třeba do souboru projektu přidat následující úryvek:</span><span class="sxs-lookup"><span data-stu-id="91bcf-195">If you are building a console application, you need to add the following snippet to your project file:</span></span>

```json
"buildOptions": {
    "emitEntryPoint": true
}
```

<span data-ttu-id="91bcf-196">To instruuje k vyzařování `dotnet build` vstupního bodu pro vaši aplikaci, efektivně, takže váš kód runnable.</span><span class="sxs-lookup"><span data-stu-id="91bcf-196">This instructs `dotnet build` to emit an entry point for your application, effectively making your code runnable.</span></span> <span data-ttu-id="91bcf-197">Pokud vytváříte knihovnu tříd, jednoduše vynechete výše uvedenou část.</span><span class="sxs-lookup"><span data-stu-id="91bcf-197">If you are building a class library, simply omit the above section.</span></span> <span data-ttu-id="91bcf-198">Samozřejmě, jakmile přidáte výše uvedený úryvek do `project.json` souboru, musíte přidat statický vstupní bod.</span><span class="sxs-lookup"><span data-stu-id="91bcf-198">Of course, once you add the above snippet to your `project.json` file, you need to add a static entry point.</span></span> <span data-ttu-id="91bcf-199">S přechodem z DNX, DI služby, které poskytuje již nejsou k dispozici, `static void Main()`a proto to musí být základní .NET vstupní bod: .</span><span class="sxs-lookup"><span data-stu-id="91bcf-199">With the move off DNX, the DI services it provided are no longer available and thus this needs to be a basic .NET entry point: `static void Main()`.</span></span>

<span data-ttu-id="91bcf-200">Pokud máte v oddílu "příkazy" v aplikaci `project.json`, můžete ji odebrat.</span><span class="sxs-lookup"><span data-stu-id="91bcf-200">If you have a "commands" section in your `project.json`, you can remove it.</span></span> <span data-ttu-id="91bcf-201">Některé příkazy, které dříve existovaly jako příkazy DNU, například příkazy rozhraní příkazu CLI rozhraní entity framework, jsou portovány jako rozšíření pro projekt na rozhraní příkazového příkazu.</span><span class="sxs-lookup"><span data-stu-id="91bcf-201">Some of the commands that used to exist as DNU commands, such as Entity Framework CLI commands, are being ported to be per-project extensions to the CLI.</span></span> <span data-ttu-id="91bcf-202">Pokud jste vytvořili vlastní příkazy, které používáte ve svých projektech, je třeba je nahradit rozšířením příkazového příkazu.</span><span class="sxs-lookup"><span data-stu-id="91bcf-202">If you built your own commands that you are using in your projects, you need to replace them with CLI extensions.</span></span> <span data-ttu-id="91bcf-203">V tomto případě `commands` uzel `project.json` v musí být nahrazen `tools` uzla a je třeba uvést seznam závislostí nástroje.</span><span class="sxs-lookup"><span data-stu-id="91bcf-203">In this case, the `commands` node in `project.json` needs to be replaced by the `tools` node and it needs to list the tools dependencies.</span></span>

<span data-ttu-id="91bcf-204">Po dokončení těchto věcí se musíte rozhodnout, jaký typ přenositelnosti si pro aplikaci přejete.</span><span class="sxs-lookup"><span data-stu-id="91bcf-204">After these things are done, you need to decide which type of portability you wish for you app.</span></span> <span data-ttu-id="91bcf-205">S rozhraním .NET Core jsme investovali do poskytování spektra možností přenositelnosti, ze kterých si můžete vybrat.</span><span class="sxs-lookup"><span data-stu-id="91bcf-205">With .NET Core, we have invested into providing a spectrum of portability options that you can choose from.</span></span> <span data-ttu-id="91bcf-206">Můžete například chtít mít plně *přenosnou* aplikaci nebo můžete mít *samostatnou aplikaci.*</span><span class="sxs-lookup"><span data-stu-id="91bcf-206">For instance, you may want to have a fully *portable* application or you may want to have a *self-contained* application.</span></span> <span data-ttu-id="91bcf-207">Možnost přenosné aplikace je spíše jako aplikace rozhraní .NET Framework: potřebuje sdílenou komponentu k jeho spuštění v cílovém počítači (.NET Core).</span><span class="sxs-lookup"><span data-stu-id="91bcf-207">The portable application option is more like .NET Framework applications work: it needs a shared component to execute it on the target machine (.NET Core).</span></span> <span data-ttu-id="91bcf-208">Samostatná aplikace nevyžaduje .NET Core, které mají být nainstalovány na cíl, ale je nutné vytvořit jednu aplikaci pro každý operační systém, který chcete podporovat.</span><span class="sxs-lookup"><span data-stu-id="91bcf-208">The self-contained application doesn't require .NET Core to be installed on the target, but you have to produce one application for each OS you wish to support.</span></span> <span data-ttu-id="91bcf-209">Tyto typy přenositelnosti a další jsou popsány v dokumentu [typu přenositelnosti aplikace.](../deploying/index.md)</span><span class="sxs-lookup"><span data-stu-id="91bcf-209">These portability types and more are discussed in the [application portability type](../deploying/index.md) document.</span></span>

<span data-ttu-id="91bcf-210">Jakmile provedete volání o jaký typ přenositelnosti, musíte změnit cílené rozhraní.</span><span class="sxs-lookup"><span data-stu-id="91bcf-210">Once you make a call on what type of portability you want, you need to change your targeted framework(s).</span></span> <span data-ttu-id="91bcf-211">Pokud jste psali aplikace pro .NET Core, jste s největší pravděpodobností používali `dnxcore50` jako cílené rozhraní.</span><span class="sxs-lookup"><span data-stu-id="91bcf-211">If you were writing applications for .NET Core, you were most likely using `dnxcore50` as  your targeted framework.</span></span> <span data-ttu-id="91bcf-212">S rozhraní maty a změny, které přinesl nový [standard .NET,](../../standard/net-standard.md) musí být rámec jedním z následujících:</span><span class="sxs-lookup"><span data-stu-id="91bcf-212">With the CLI and the changes that the new [.NET Standard](../../standard/net-standard.md) brought, the framework needs to be one of the following:</span></span>

1. <span data-ttu-id="91bcf-213">`netcoreapp1.0`- pokud píšete aplikace na .NET Core (včetně ASP.NET core aplikací)</span><span class="sxs-lookup"><span data-stu-id="91bcf-213">`netcoreapp1.0` - if you are writing applications on .NET Core (including ASP.NET Core applications)</span></span>
2. <span data-ttu-id="91bcf-214">`netstandard1.6`- pokud píšete knihovny tříd pro .NET Core</span><span class="sxs-lookup"><span data-stu-id="91bcf-214">`netstandard1.6` - if you are writing class libraries for .NET Core</span></span>

<span data-ttu-id="91bcf-215">Pokud používáte `dnx` jiné cíle, jako `dnx451` budete muset změnit ty stejně.</span><span class="sxs-lookup"><span data-stu-id="91bcf-215">If you are using other `dnx` targets, like `dnx451` you will need to change those as well.</span></span> <span data-ttu-id="91bcf-216">`dnx451`by měla `net451`být změněna na .</span><span class="sxs-lookup"><span data-stu-id="91bcf-216">`dnx451` should be changed to `net451`.</span></span>
<span data-ttu-id="91bcf-217">Další informace naleznete v tématu [standardu .NET.](../../standard/net-standard.md)</span><span class="sxs-lookup"><span data-stu-id="91bcf-217">Please refer to the [.NET Standard](../../standard/net-standard.md) topic for more information.</span></span>

<span data-ttu-id="91bcf-218">Vaše `project.json` je nyní většinou připraven.</span><span class="sxs-lookup"><span data-stu-id="91bcf-218">Your `project.json` is now mostly ready.</span></span> <span data-ttu-id="91bcf-219">Musíte projít seznam závislostí a aktualizovat závislosti na jejich novější verze, zejména pokud používáte ASP.NET základní závislosti.</span><span class="sxs-lookup"><span data-stu-id="91bcf-219">You need to go through your dependencies list and update the dependencies to their newer versions, especially if you are using ASP.NET Core dependencies.</span></span> <span data-ttu-id="91bcf-220">Pokud jste používali samostatné balíčky pro řešení API BCL, můžete použít balíček runtime, jak je vysvětleno v dokumentu [typu přenositelnosti aplikace.](../deploying/index.md)</span><span class="sxs-lookup"><span data-stu-id="91bcf-220">If you were using separate packages for BCL APIs, you can use the runtime package as explained in the [application portability type](../deploying/index.md) document.</span></span>

<span data-ttu-id="91bcf-221">Jakmile budete připraveni, můžete zkusit obnovení s `dotnet restore` ( viz[poznámka](#dotnet-restore-note)).</span><span class="sxs-lookup"><span data-stu-id="91bcf-221">Once you are ready, you can try restoring with `dotnet restore` ([see note](#dotnet-restore-note)).</span></span> <span data-ttu-id="91bcf-222">V závislosti na verzi vašich závislostí může dojít k chybám, pokud NuGet nelze vyřešit závislosti pro jeden z výše uvedených cílových rozhraní.</span><span class="sxs-lookup"><span data-stu-id="91bcf-222">Depending on the version of your dependencies, you may encounter errors if NuGet cannot resolve the dependencies for one of the targeted frameworks above.</span></span> <span data-ttu-id="91bcf-223">Jedná se o problém "point-in-time"; jak čas postupuje, bude stále více balíčků zahrnovat podporu těchto rámců.</span><span class="sxs-lookup"><span data-stu-id="91bcf-223">This is a "point-in-time" problem; as time progresses, more and more packages will include support for these frameworks.</span></span> <span data-ttu-id="91bcf-224">Pro tuto chvíli, pokud narazíte na `imports` to, `framework` můžete použít příkaz v rámci uzlu určit NuGet, že můžete obnovit balíčky cílení na rozhraní v rámci "imports" prohlášení.</span><span class="sxs-lookup"><span data-stu-id="91bcf-224">For now, if you run into this, you can use the `imports` statement within the `framework` node to specify to NuGet that it can restore the packages targeting the framework within the "imports" statement.</span></span>
<span data-ttu-id="91bcf-225">Chyby obnovení, které získáte v tomto případě by měl poskytnout dostatek informací, které vám řeknou, které architektury je třeba importovat.</span><span class="sxs-lookup"><span data-stu-id="91bcf-225">The restoring errors you get in this case should provide enough information to tell you which frameworks you need to import.</span></span> <span data-ttu-id="91bcf-226">Pokud jste mírně ztraceni nebo nové, obecně, `dnxcore50` `portable-net45+win8` zadání `imports` a v prohlášení by měl udělat trik.</span><span class="sxs-lookup"><span data-stu-id="91bcf-226">If you are slightly lost or new to this, in general, specifying `dnxcore50` and `portable-net45+win8` in the `imports` statement should do the trick.</span></span> <span data-ttu-id="91bcf-227">JSON úryvek níže ukazuje, jak to vypadá:</span><span class="sxs-lookup"><span data-stu-id="91bcf-227">The JSON snippet below shows how this looks like:</span></span>

```json
    "frameworks": {
        "netcoreapp1.0": {
            "imports": ["dnxcore50", "portable-net45+win8"]
        }
    }
```

<span data-ttu-id="91bcf-228">Spuštění `dotnet build` se zobrazí případné chyby sestavení, i když by nemělo být příliš mnoho z nich.</span><span class="sxs-lookup"><span data-stu-id="91bcf-228">Running `dotnet build` will show any eventual build errors, though there shouldn't be too many of them.</span></span> <span data-ttu-id="91bcf-229">Poté, co váš kód je sestavení a běží správně, můžete vyzkoušet s běžec.</span><span class="sxs-lookup"><span data-stu-id="91bcf-229">After your code is building and running properly, you can test it out with the runner.</span></span> <span data-ttu-id="91bcf-230">Spusťte `dotnet <path-to-your-assembly>` a uvidíte, že běží.</span><span class="sxs-lookup"><span data-stu-id="91bcf-230">Execute `dotnet <path-to-your-assembly>` and see it run.</span></span>

<a name="dotnet-restore-note"></a>

[!INCLUDE[DotNet Restore Note](~/includes/dotnet-restore-note.md)]
