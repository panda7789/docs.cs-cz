---
title: Port z rozhraní .NET Framework do jádra rozhraní .NET
description: Seznamte se s procesem přenosu a objevte nástroje, které mohou být užitečné při přenosu projektu rozhraní .NET Framework do jádra .NET Core.
author: cartermp
ms.date: 10/22/2019
ms.openlocfilehash: e483bb6e48dad6c3bf71bfa81e704a137fc02094
ms.sourcegitcommit: 7588136e355e10cbc2582f389c90c127363c02a5
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 03/15/2020
ms.locfileid: "75937324"
---
# <a name="overview-of-porting-from-net-framework-to-net-core"></a><span data-ttu-id="66537-103">Přehled přenosu z rozhraní .NET Framework do jádra rozhraní .NET</span><span class="sxs-lookup"><span data-stu-id="66537-103">Overview of porting from .NET Framework to .NET Core</span></span>

<span data-ttu-id="66537-104">Pravděpodobně máte kód, který je aktuálně spuštěn v rozhraní .NET Framework, který vás zajímá portování na .NET Core.</span><span class="sxs-lookup"><span data-stu-id="66537-104">You might have code that currently runs on the .NET Framework that you're interested in porting to .NET Core.</span></span> <span data-ttu-id="66537-105">Tento článek obsahuje:</span><span class="sxs-lookup"><span data-stu-id="66537-105">This article provides:</span></span>

* <span data-ttu-id="66537-106">Přehled procesu přenosu.</span><span class="sxs-lookup"><span data-stu-id="66537-106">An overview of the porting process.</span></span>
* <span data-ttu-id="66537-107">Seznam nástrojů, které mohou být užitečné při přenosu kódu do .NET Core.</span><span class="sxs-lookup"><span data-stu-id="66537-107">A list of tools that you may find helpful when you're porting your code to .NET Core.</span></span>

## <a name="overview-of-the-porting-process"></a><span data-ttu-id="66537-108">Přehled procesu přenosu</span><span class="sxs-lookup"><span data-stu-id="66537-108">Overview of the porting process</span></span>

<span data-ttu-id="66537-109">Při přenosu projektu do jádra .NET doporučujeme použít následující postup:</span><span class="sxs-lookup"><span data-stu-id="66537-109">We recommend you use the following process when porting your project to .NET Core:</span></span>

1. <span data-ttu-id="66537-110">Přesměrujte všechny projekty, které chcete portovat, a cílte na rozhraní .NET Framework 4.7.2 nebo vyšší.</span><span class="sxs-lookup"><span data-stu-id="66537-110">Retarget all projects you wish to port to target .NET Framework 4.7.2 or higher.</span></span>

   <span data-ttu-id="66537-111">Tento krok zajistí, že můžete použít alternativy rozhraní API pro cíle specifické pro rozhraní .NET Framework, když rozhraní .NET Core nepodporuje konkrétní rozhraní API.</span><span class="sxs-lookup"><span data-stu-id="66537-111">This step ensures that you can use API alternatives for .NET Framework-specific targets when .NET Core doesn't support a particular API.</span></span>

2. <span data-ttu-id="66537-112">Pomocí [nástroje .NET Reability Analyzer](../../standard/analyzers/portability-analyzer.md) analyzujte sestavení a zjistěte, zda jsou přenosná do jádra .NET Core.</span><span class="sxs-lookup"><span data-stu-id="66537-112">Use the [.NET Portability Analyzer](../../standard/analyzers/portability-analyzer.md) to analyze your assemblies and see if they're portable to .NET Core.</span></span>

   <span data-ttu-id="66537-113">Nástroj API Portability Analyzer analyzuje zkompilovaná sestavení a generuje sestavu.</span><span class="sxs-lookup"><span data-stu-id="66537-113">The API Portability Analyzer tool analyzes your compiled assemblies and generates a report.</span></span> <span data-ttu-id="66537-114">Tato sestava zobrazuje souhrn přenositelnosti na vysoké úrovni a rozpis každého rozhraní API, které používáte, které není k dispozici na NET Core.</span><span class="sxs-lookup"><span data-stu-id="66537-114">This report shows a high-level portability summary and a breakdown of each API you're using that isn't available on NET Core.</span></span>

3. <span data-ttu-id="66537-115">Nainstalujte [analyzátor rozhraní .NET API](../../standard/analyzers/api-analyzer.md) do svých <xref:System.PlatformNotSupportedException> projektů k identifikaci rozhraní API, která vyvolána na některých platformách a některé další potenciální problémy s kompatibilitou.</span><span class="sxs-lookup"><span data-stu-id="66537-115">Install the [.NET API analyzer](../../standard/analyzers/api-analyzer.md) into your projects to identify APIs that throw <xref:System.PlatformNotSupportedException> on some platforms and some other potential compatibility issues.</span></span>

   <span data-ttu-id="66537-116">Tento nástroj je podobný analyzátoru přenositelnosti, ale místo analýzy, pokud kód může stavět na .NET Core, analyzuje, zda používáte rozhraní API způsobem, který vyvolá <xref:System.PlatformNotSupportedException> za běhu.</span><span class="sxs-lookup"><span data-stu-id="66537-116">This tool is similar to the portability analyzer, but instead of analyzing if code can build on .NET Core, it analyzes whether you're using an API in a way that will throw a <xref:System.PlatformNotSupportedException> at run time.</span></span> <span data-ttu-id="66537-117">I když to není běžné, pokud přecházíte z rozhraní .NET Framework 4.7.2 nebo vyšší, je vhodné zkontrolovat.</span><span class="sxs-lookup"><span data-stu-id="66537-117">Although this isn't common if you're moving from .NET Framework 4.7.2 or higher, it's good to check.</span></span> <span data-ttu-id="66537-118">Další informace o rozhraní API, která vyvolání výjimek na .NET Core, naleznete v [tématu rozhraní API, která vždy vyvolat výjimky na .NET Core](../compatibility/unsupported-apis.md).</span><span class="sxs-lookup"><span data-stu-id="66537-118">For more information about APIs that throw exceptions on .NET Core, see [APIs that always throw exceptions on .NET Core](../compatibility/unsupported-apis.md).</span></span>

4. <span data-ttu-id="66537-119">Převeďte `packages.config` všechny své závislosti do formátu [PackageReference](/nuget/consume-packages/package-references-in-project-files) pomocí [nástroje pro převod v sadě Visual Studio](/nuget/consume-packages/migrate-packages-config-to-package-reference).</span><span class="sxs-lookup"><span data-stu-id="66537-119">Convert all of your `packages.config` dependencies to the [PackageReference](/nuget/consume-packages/package-references-in-project-files) format with the [conversion tool in Visual Studio](/nuget/consume-packages/migrate-packages-config-to-package-reference).</span></span>

   <span data-ttu-id="66537-120">Tento krok zahrnuje převod závislostí `packages.config` ze staršího formátu.</span><span class="sxs-lookup"><span data-stu-id="66537-120">This step involves converting your dependencies from the legacy `packages.config` format.</span></span> <span data-ttu-id="66537-121">`packages.config`nefunguje na .NET Core, takže tento převod je vyžadován, pokud máte závislosti balíčků.</span><span class="sxs-lookup"><span data-stu-id="66537-121">`packages.config` doesn't work on .NET Core, so this conversion is required if you have package dependencies.</span></span>

5. <span data-ttu-id="66537-122">Vytvořte nové projekty pro jádro .NET core a zkopírujte je přes zdrojové soubory nebo se pokuste převést existující soubor projektu pomocí nástroje.</span><span class="sxs-lookup"><span data-stu-id="66537-122">Create new projects for .NET Core and copy over source files, or attempt to convert your existing project file with a tool.</span></span>

   <span data-ttu-id="66537-123">Jádro .NET používá zjednodušený (a jiný) [formát souboru projektu](../tools/csproj.md) než rozhraní .NET Framework.</span><span class="sxs-lookup"><span data-stu-id="66537-123">.NET Core uses a simplified (and different) [project file format](../tools/csproj.md) than .NET Framework.</span></span> <span data-ttu-id="66537-124">Chcete-li pokračovat, budete muset převést soubory projektu do tohoto formátu.</span><span class="sxs-lookup"><span data-stu-id="66537-124">You'll need to convert your project files into this format to continue.</span></span>

6. <span data-ttu-id="66537-125">Port testovací kód.</span><span class="sxs-lookup"><span data-stu-id="66537-125">Port your test code.</span></span>

   <span data-ttu-id="66537-126">Vzhledem k tomu, že portování na .NET Core je tak významná změna vašeho základu kódu, důrazně doporučujeme přenést testovací projekty, abyste mohli spouštět testy při přenosu kódu.</span><span class="sxs-lookup"><span data-stu-id="66537-126">Because porting to .NET Core is such a significant change to your codebase, it's highly recommended to port your test projects so that you can run tests as you port your code over.</span></span> <span data-ttu-id="66537-127">MSTest, xUnit a NUnit všechny práce na .NET Core.</span><span class="sxs-lookup"><span data-stu-id="66537-127">MSTest, xUnit, and NUnit all work on .NET Core.</span></span>

<span data-ttu-id="66537-128">Kromě toho se můžete pokusit portovat menší řešení nebo jednotlivé projekty v jedné operaci do formátu souboru projektu .NET Core pomocí nástroje [try-convert dotnet.](https://github.com/dotnet/try-convert)</span><span class="sxs-lookup"><span data-stu-id="66537-128">Additionally, you can attempt to port smaller solutions or individual projects in one operation to the .NET Core project file format with the [dotnet try-convert](https://github.com/dotnet/try-convert) tool.</span></span> <span data-ttu-id="66537-129">`dotnet try-convert`není zaručeno, že pracovat pro všechny vaše projekty a může způsobit drobné změny v chování, které jste závislí na.</span><span class="sxs-lookup"><span data-stu-id="66537-129">`dotnet try-convert` is not guaranteed to work for all your projects, and it may cause subtle changes in behavior that you depended on.</span></span> <span data-ttu-id="66537-130">Použijte jej jako _výchozí bod,_ který automatizuje základní věci, které lze automatizovat.</span><span class="sxs-lookup"><span data-stu-id="66537-130">Use it as a _starting point_ that automates the basic things that can be automated.</span></span> <span data-ttu-id="66537-131">Není to zaručené řešení migrace projektu.</span><span class="sxs-lookup"><span data-stu-id="66537-131">It isn't a guaranteed solution to migrating a project.</span></span>

## <a name="next-steps"></a><span data-ttu-id="66537-132">Další kroky</span><span class="sxs-lookup"><span data-stu-id="66537-132">Next steps</span></span>

>[!div class="nextstepaction"]
>[<span data-ttu-id="66537-133">Analýza závislostí</span><span class="sxs-lookup"><span data-stu-id="66537-133">Analyze dependencies</span></span>](third-party-deps.md)
