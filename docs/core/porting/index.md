---
title: Přizpůsobení z .NET Framework na .NET Core
description: Pochopení procesu přenosu a zjišťování nástrojů, které můžete najít užitečné při přenosu .NET Framework projektu do .NET Core.
author: cartermp
ms.date: 10/22/2019
ms.openlocfilehash: 74fe4519e41a07bc78a4dc346f8d1b52b5c7d092
ms.sourcegitcommit: da21fc5a8cce1e028575acf31974681a1bc5aeed
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 06/08/2020
ms.locfileid: "84502766"
---
# <a name="overview-of-porting-from-net-framework-to-net-core"></a><span data-ttu-id="3263b-103">Přehled přenosů z .NET Framework do .NET Core</span><span class="sxs-lookup"><span data-stu-id="3263b-103">Overview of porting from .NET Framework to .NET Core</span></span>

<span data-ttu-id="3263b-104">Je možné, že máte kód, který se v současnosti spouští na .NET Framework, které vás zajímá o přenos do .NET Core.</span><span class="sxs-lookup"><span data-stu-id="3263b-104">You might have code that currently runs on the .NET Framework that you're interested in porting to .NET Core.</span></span> <span data-ttu-id="3263b-105">Tento článek obsahuje:</span><span class="sxs-lookup"><span data-stu-id="3263b-105">This article provides:</span></span>

* <span data-ttu-id="3263b-106">Přehled procesu přenosu.</span><span class="sxs-lookup"><span data-stu-id="3263b-106">An overview of the porting process.</span></span>
* <span data-ttu-id="3263b-107">Seznam nástrojů, které můžete najít užitečné při přenosu kódu do .NET Core.</span><span class="sxs-lookup"><span data-stu-id="3263b-107">A list of tools that you may find helpful when you're porting your code to .NET Core.</span></span>

## <a name="overview-of-the-porting-process"></a><span data-ttu-id="3263b-108">Přehled procesu přenosu</span><span class="sxs-lookup"><span data-stu-id="3263b-108">Overview of the porting process</span></span>

<span data-ttu-id="3263b-109">Přenos na rozhraní .NET Core (nebo .NET Standard) z .NET Framework pro mnoho projektů je relativně rovnou dopředně.</span><span class="sxs-lookup"><span data-stu-id="3263b-109">Porting to .NET Core (or .NET Standard) from .NET Framework for many projects is relatively straight forward.</span></span> <span data-ttu-id="3263b-110">Je potřeba provést několik změn, ale mnoho z nich se řídí vzorem popsaným níže.</span><span class="sxs-lookup"><span data-stu-id="3263b-110">There are a number of changes that are required, but many of them follow the patterns outlined below.</span></span> <span data-ttu-id="3263b-111">Projekty, ve kterých je model aplikace dostupný v .NET Core (například knihovny, konzolové aplikace a aplikace klasické pracovní plochy), obvykle vyžadují malé změny.</span><span class="sxs-lookup"><span data-stu-id="3263b-111">Projects where the app-model is available in .NET Core (such as libraries, console apps, and desktop applications) usually require little changes.</span></span> <span data-ttu-id="3263b-112">Projekty, které vyžadují nový aplikační model, jako je například přesun do ASP.NET Core z ASP.NET, vyžadují trochu větší práci, ale mnoho vzorů má analogické, které lze použít při převodu.</span><span class="sxs-lookup"><span data-stu-id="3263b-112">Projects that require a new app model, such as moving to ASP.NET Core from ASP.NET, require a bit more work, but many patterns have analogs that can be used during the conversion.</span></span> <span data-ttu-id="3263b-113">Tento dokument by měl pomáhat s určením hlavních strategií, které byly zaměstnány uživateli, aby úspěšně převedli své základy kódu na cílovou .NET Standard nebo .NET Core a převádějí na převod na dvou úrovních: specifické pro řešení a specifické pro projekt.</span><span class="sxs-lookup"><span data-stu-id="3263b-113">This document should help with identifying the main strategies that have been employed by users to successfully convert their code bases to target .NET Standard or .NET Core and will address the conversion at two levels: solution-wide and project specific.</span></span> <span data-ttu-id="3263b-114">Pokyny pro převody specifické pro model aplikace najdete v odkazech dole.</span><span class="sxs-lookup"><span data-stu-id="3263b-114">See the links at the bottom for directions on app-model specific conversions.</span></span>

<span data-ttu-id="3263b-115">Při přenosu projektu do .NET Core doporučujeme použít následující postup.</span><span class="sxs-lookup"><span data-stu-id="3263b-115">We recommend you use the following process when porting your project to .NET Core.</span></span> <span data-ttu-id="3263b-116">Každý z těchto kroků zavádí potenciální místa pro změny chování, takže před pokračováním v pozdějších krocích ověřte, zda je vaše knihovna nebo aplikace vhodně testována.</span><span class="sxs-lookup"><span data-stu-id="3263b-116">Each of these steps introduces potential places for behavior changes, so ensure that you adequately test your library or application before continuing on to later steps.</span></span> <span data-ttu-id="3263b-117">Prvním postupem je příprava projektu na přepnutí do .NET Standard nebo .NET Core.</span><span class="sxs-lookup"><span data-stu-id="3263b-117">The first steps are to get your project ready for a switch to .NET Standard or .NET Core.</span></span> <span data-ttu-id="3263b-118">Pokud máte testy jednotek, je nejlepší je nejdříve převést, abyste mohli pokračovat v testování změn v produktu, na kterém pracujete.</span><span class="sxs-lookup"><span data-stu-id="3263b-118">If you have unit tests, it's best to convert them first so that you can continue testing changes in the product you're working on.</span></span> <span data-ttu-id="3263b-119">Vzhledem k tomu, že přenos do .NET Core je taková významná změna vašeho základu kódu, důrazně doporučujeme přenést testovací projekty, abyste mohli spustit testy během přenosu kódu.</span><span class="sxs-lookup"><span data-stu-id="3263b-119">Because porting to .NET Core is such a significant change to your codebase, it's highly recommended to port your test projects so that you can run tests as you port your code over.</span></span> <span data-ttu-id="3263b-120">MSTest, xUnit a NUnit všechny fungují na .NET Core.</span><span class="sxs-lookup"><span data-stu-id="3263b-120">MSTest, xUnit, and NUnit all work on .NET Core.</span></span>

## <a name="getting-started"></a><span data-ttu-id="3263b-121">Začínáme</span><span class="sxs-lookup"><span data-stu-id="3263b-121">Getting started</span></span>

<span data-ttu-id="3263b-122">V celém procesu se budou používat tyto nástroje:</span><span class="sxs-lookup"><span data-stu-id="3263b-122">The following tools will be used throughout the process:</span></span>

- <span data-ttu-id="3263b-123">Visual Studio 2019</span><span class="sxs-lookup"><span data-stu-id="3263b-123">Visual Studio 2019</span></span>
- <span data-ttu-id="3263b-124">Stáhnout [analyzátor přenositelnosti .NET](../../standard/analyzers/portability-analyzer.md)</span><span class="sxs-lookup"><span data-stu-id="3263b-124">Download [.NET Portability Analyzer](../../standard/analyzers/portability-analyzer.md)</span></span>
- <span data-ttu-id="3263b-125">_Volitelné_ Instalace příkazu [dotnet try-Convert](https://github.com/dotnet/try-convert)</span><span class="sxs-lookup"><span data-stu-id="3263b-125">_Optional_ Install [dotnet try-convert](https://github.com/dotnet/try-convert)</span></span>

## <a name="porting-a-solution"></a><span data-ttu-id="3263b-126">Portování řešení</span><span class="sxs-lookup"><span data-stu-id="3263b-126">Porting a solution</span></span>

<span data-ttu-id="3263b-127">V případě, že existuje více projektů v řešení, může být přenos složitější, protože je nutné adresovat projekty v určitém pořadí.</span><span class="sxs-lookup"><span data-stu-id="3263b-127">When there are multiple projects in a solution, the porting can seem more complicated because you must address projects in a specific order.</span></span> <span data-ttu-id="3263b-128">Proces převodu by měl být v rámci nejnižšího přístupu, kde se nejprve převádějí projekty bez závislostí na jiných projektech v řešení a pokračuje v celém řešení.</span><span class="sxs-lookup"><span data-stu-id="3263b-128">The conversion process should be a bottom-up approach, where the projects with no dependencies on other projects in the solution are converted first, and continue up through the whole solution.</span></span>

<span data-ttu-id="3263b-129">Chcete-li identifikovat projekty objednávek, které by měly být migrovány, můžete použít následující nástroje:</span><span class="sxs-lookup"><span data-stu-id="3263b-129">In order to identify the order projects should be migrated, you can use the following tools:</span></span>

- <span data-ttu-id="3263b-130">[Diagramy závislostí v aplikaci Visual Studio](/visualstudio/modeling/create-layer-diagrams-from-your-code) mohou vytvořit orientovaný graf kódu v řešení.</span><span class="sxs-lookup"><span data-stu-id="3263b-130">[Dependency Diagrams in Visual Studio](/visualstudio/modeling/create-layer-diagrams-from-your-code) can create a directed graph of the code in a solution.</span></span>
- <span data-ttu-id="3263b-131">Spusťte `msbuild _SolutionPath_ /t:GenerateRestoreGraphFile /p:RestoreGraphOutputPath=graph.dg.json` pro vygenerování dokumentu JSON, který obsahuje seznam odkazů projektu.</span><span class="sxs-lookup"><span data-stu-id="3263b-131">Run `msbuild _SolutionPath_ /t:GenerateRestoreGraphFile /p:RestoreGraphOutputPath=graph.dg.json` to generate a json document that includes list of project references.</span></span>
- <span data-ttu-id="3263b-132">Spusťte nástroj [analyzátor přenositelnosti .NET](../../standard/analyzers/portability-analyzer.md) s `-r DGML` přepínačem pro načtení diagramu závislostí sestavení.</span><span class="sxs-lookup"><span data-stu-id="3263b-132">Run [.NET Portability Analyzer](../../standard/analyzers/portability-analyzer.md) with the `-r DGML` switch to retrieve a dependency diagram of the assemblies.</span></span> <span data-ttu-id="3263b-133">Další informace najdete [tady](../../standard/analyzers/portability-analyzer.md#solution-wide-view).</span><span class="sxs-lookup"><span data-stu-id="3263b-133">For more information, see [here](../../standard/analyzers/portability-analyzer.md#solution-wide-view).</span></span>

<span data-ttu-id="3263b-134">Po zobrazení informací o závislostech můžete tyto informace použít ke spuštění na listových uzlech a podle kroků v další části pracovat se stromem závislostí.</span><span class="sxs-lookup"><span data-stu-id="3263b-134">Once you have dependency information, you can use that information to start at the leaf nodes and work your way up the dependency tree applying the steps in the next section.</span></span>

## <a name="per-project-steps"></a><span data-ttu-id="3263b-135">Podle kroků projektu</span><span class="sxs-lookup"><span data-stu-id="3263b-135">Per project steps</span></span>

<span data-ttu-id="3263b-136">Při přenosu projektu do .NET Core doporučujeme použít následující postup:</span><span class="sxs-lookup"><span data-stu-id="3263b-136">We recommend you use the following process when porting your project to .NET Core:</span></span>

1. <span data-ttu-id="3263b-137">Převeďte všechny vaše `packages.config` závislosti na formát [PackageReference](/nuget/consume-packages/package-references-in-project-files) pomocí nástroje pro [převod v aplikaci Visual Studio](/nuget/consume-packages/migrate-packages-config-to-package-reference).</span><span class="sxs-lookup"><span data-stu-id="3263b-137">Convert all of your `packages.config` dependencies to the [PackageReference](/nuget/consume-packages/package-references-in-project-files) format with the [conversion tool in Visual Studio](/nuget/consume-packages/migrate-packages-config-to-package-reference).</span></span>

   <span data-ttu-id="3263b-138">Tento krok zahrnuje převod závislostí ze starší verze `packages.config` formátu.</span><span class="sxs-lookup"><span data-stu-id="3263b-138">This step involves converting your dependencies from the legacy `packages.config` format.</span></span> <span data-ttu-id="3263b-139">`packages.config`nefunguje na .NET Core, takže tento převod je nutný, pokud máte závislosti balíčku.</span><span class="sxs-lookup"><span data-stu-id="3263b-139">`packages.config` doesn't work on .NET Core, so this conversion is required if you have package dependencies.</span></span> <span data-ttu-id="3263b-140">Vyžaduje taky jenom závislosti, které přímo používáte v projektu, což usnadňuje pozdější kroky snížením počtu závislostí, které musíte spravovat.</span><span class="sxs-lookup"><span data-stu-id="3263b-140">It also only requires the dependencies you are directly using in a project, which makes later steps easier by reducing the number of dependencies you must manage.</span></span>

1. <span data-ttu-id="3263b-141">Převeďte soubor projektu na novou strukturu souborů ve stylu sady SDK.</span><span class="sxs-lookup"><span data-stu-id="3263b-141">Convert your project file to the new SDK-style files structure.</span></span> <span data-ttu-id="3263b-142">Můžete vytvořit nové projekty pro .NET Core a kopírovat přes zdrojové soubory nebo se pokusit převést existující soubor projektu pomocí nástroje.</span><span class="sxs-lookup"><span data-stu-id="3263b-142">You can create new projects for .NET Core and copy over source files, or attempt to convert your existing project file with a tool.</span></span>

   <span data-ttu-id="3263b-143">.NET Core používá zjednodušený (a odlišný) [Formát souboru projektu](../tools/csproj.md) než .NET Framework.</span><span class="sxs-lookup"><span data-stu-id="3263b-143">.NET Core uses a simplified (and different) [project file format](../tools/csproj.md) than .NET Framework.</span></span> <span data-ttu-id="3263b-144">Aby bylo možné pokračovat, budete muset soubory projektu převést do tohoto formátu.</span><span class="sxs-lookup"><span data-stu-id="3263b-144">You'll need to convert your project files into this format to continue.</span></span> <span data-ttu-id="3263b-145">Tento styl projektu umožňuje také cílit .NET Framework, které v tuto chvíli budete chtít i nadále cílit.</span><span class="sxs-lookup"><span data-stu-id="3263b-145">This project style allows you to also target .NET Framework, which at this point you'll still want to target.</span></span>

   <span data-ttu-id="3263b-146">Můžete se pokusit o port menší řešení nebo jednotlivé projekty v jedné operaci do formátu souboru projektu .NET Core pomocí nástroje [dotnet try-Convert](https://github.com/dotnet/try-convert) .</span><span class="sxs-lookup"><span data-stu-id="3263b-146">You can attempt to port smaller solutions or individual projects in one operation to the .NET Core project file format with the [dotnet try-convert](https://github.com/dotnet/try-convert) tool.</span></span> <span data-ttu-id="3263b-147">`dotnet try-convert`není zaručená práce pro všechny vaše projekty a může způsobit drobné změny v chování, které jste v závislosti na.</span><span class="sxs-lookup"><span data-stu-id="3263b-147">`dotnet try-convert` is not guaranteed to work for all your projects, and it may cause subtle changes in behavior that you depended on.</span></span> <span data-ttu-id="3263b-148">Použijte ho jako _výchozí bod_ , který automatizuje základní věci, které je možné automatizovat.</span><span class="sxs-lookup"><span data-stu-id="3263b-148">Use it as a _starting point_ that automates the basic things that can be automated.</span></span> <span data-ttu-id="3263b-149">Není zaručeným řešením pro migraci projektu, protože jsou v porovnání s původními soubory projektu sady SDK k dispozici mnoho rozdílů v cílech používaných projekty stylu sady SDK.</span><span class="sxs-lookup"><span data-stu-id="3263b-149">It isn't a guaranteed solution to migrating a project, as there are many differences in the targets used by the SDK style projects compared to the old-style project files.</span></span>

1. <span data-ttu-id="3263b-150">Přecílíte na všechny projekty, které chcete přenést na cílovou .NET Framework 4.7.2 nebo vyšší.</span><span class="sxs-lookup"><span data-stu-id="3263b-150">Retarget all projects you wish to port to target .NET Framework 4.7.2 or higher.</span></span>

   <span data-ttu-id="3263b-151">Tento krok zajistí, že můžete použít alternativy rozhraní API pro cíle specifické pro .NET Framework, když .NET Core nepodporuje konkrétní rozhraní API.</span><span class="sxs-lookup"><span data-stu-id="3263b-151">This step ensures that you can use API alternatives for .NET Framework-specific targets when .NET Core doesn't support a particular API.</span></span>

1. <span data-ttu-id="3263b-152">Aktualizujte všechny závislosti na nejnovější verzi.</span><span class="sxs-lookup"><span data-stu-id="3263b-152">Update all dependencies to the latest version.</span></span> <span data-ttu-id="3263b-153">Projekty mohou používat starší verze knihoven, které nemusí mít .NET Standard podporu.</span><span class="sxs-lookup"><span data-stu-id="3263b-153">Projects may be using older versions of libraries that may not have .NET Standard support.</span></span> <span data-ttu-id="3263b-154">Novější verze je však může podporovat pomocí jednoduchého přepínače.</span><span class="sxs-lookup"><span data-stu-id="3263b-154">However, later versions may support it with a simple switch.</span></span> <span data-ttu-id="3263b-155">To může vyžadovat změny kódu, pokud dojde k zásadním změnám v knihovnách.</span><span class="sxs-lookup"><span data-stu-id="3263b-155">This may require code changes if there are breaking changes in libraries.</span></span>

1. <span data-ttu-id="3263b-156">Pomocí [analyzátoru přenositelnosti .NET](../../standard/analyzers/portability-analyzer.md) můžete analyzovat vaše sestavení a zjistit, jestli jsou přenosné do .NET Core.</span><span class="sxs-lookup"><span data-stu-id="3263b-156">Use the [.NET Portability Analyzer](../../standard/analyzers/portability-analyzer.md) to analyze your assemblies and see if they're portable to .NET Core.</span></span>

   <span data-ttu-id="3263b-157">Nástroj Analyzátor přenositelnosti .NET analyzuje vaše kompilovaná sestavení a generuje sestavu.</span><span class="sxs-lookup"><span data-stu-id="3263b-157">The .NET Portability Analyzer tool analyzes your compiled assemblies and generates a report.</span></span> <span data-ttu-id="3263b-158">Tato sestava zobrazuje souhrn přenositelnosti na vysoké úrovni a rozdělení každého rozhraní API, které používáte, není k dispozici v rozhraní .NET Core.</span><span class="sxs-lookup"><span data-stu-id="3263b-158">This report shows a high-level portability summary and a breakdown of each API you're using that isn't available on NET Core.</span></span> <span data-ttu-id="3263b-159">Při používání tohoto nástroje odešlete pouze jednotlivé projekty, které převádíte, abyste se mohli zaměřit na změny rozhraní API, které jsou potenciálně nutné.</span><span class="sxs-lookup"><span data-stu-id="3263b-159">While using the tool, only submit the individual project you are converting to focus on the API changes that are potentially needed.</span></span> <span data-ttu-id="3263b-160">Mnoho rozhraní API má ekvivalentní dostupnost v rozhraní .NET Core, na kterou chcete přejít.</span><span class="sxs-lookup"><span data-stu-id="3263b-160">Many of the APIs have equivalent availability in .NET Core, which you'll want to switch to.</span></span>

   <span data-ttu-id="3263b-161">Při čtení sestav vygenerovaných analyzátorem jsou důležité informace skutečná rozhraní API, která se používají, a ne nutně procento podpory cílové platformy.</span><span class="sxs-lookup"><span data-stu-id="3263b-161">While reading the reports generated by the analyzer, the important information is the actual APIs that are being used and not necessarily the percentage of support for the target platform.</span></span> <span data-ttu-id="3263b-162">Mnoho rozhraní API má v .NET Standard/Core stejné možnosti, a proto je potřeba pochopit, jaké scénáře vaše knihovna nebo aplikace potřebuje rozhraní API, aby bylo možné určit, že se má přenositelnost vynásobit.</span><span class="sxs-lookup"><span data-stu-id="3263b-162">Many APIs have equivalent options in .NET Standard/Core, and so understanding the scenarios your library or application needs the API for will help determine the implication for portability.</span></span>

   <span data-ttu-id="3263b-163">Existují některé případy, kdy rozhraní API nejsou ekvivalentní a je třeba provést některé direktivy preprocesoru kompilátoru (tj `#if NET45` .) na speciální případ platforem.</span><span class="sxs-lookup"><span data-stu-id="3263b-163">There are some cases where APIs are not equivalent and you'll need to do some compiler preprocessor directives (that is, `#if NET45`) to special case the platforms.</span></span> <span data-ttu-id="3263b-164">V tomto okamžiku bude projekt stále cílen .NET Framework.</span><span class="sxs-lookup"><span data-stu-id="3263b-164">At this point, your project will still be targeting .NET Framework.</span></span> <span data-ttu-id="3263b-165">U každého z těchto cílových případů se doporučuje použít známé podmíněné výrazy, které lze chápat jako scénář.</span><span class="sxs-lookup"><span data-stu-id="3263b-165">For each of these targeted cases, it is recommended to use well-known conditionals that can be understood as a scenario.</span></span>  <span data-ttu-id="3263b-166">Například podpora AppDomain v .NET Core je omezená, ale pro scénář načítání a uvolňování sestavení existuje nové rozhraní API, které není k dispozici v rozhraní .NET Core.</span><span class="sxs-lookup"><span data-stu-id="3263b-166">For example, AppDomain support in .NET Core is limited, but for the scenario of loading and unloading assemblies, there is a new API that's not available in .NET Core.</span></span> <span data-ttu-id="3263b-167">Běžný způsob, jak to zpracovat v kódu, by byl podobný:</span><span class="sxs-lookup"><span data-stu-id="3263b-167">A common way to handle this in code would be something like this:</span></span>

   ```csharp
   #if FEATURE_APPDOMAIN_LOADING
   // Code that uses appdomains
   #elif FEATURE_ASSEMBLY_LOAD_CONTEXT
   // Code that uses assembly load context
   #else
   #error Unsupported platform
   #endif
   ```

1. <span data-ttu-id="3263b-168">Nainstalujte do svých projektů [analyzátor rozhraní .NET API](../../standard/analyzers/api-analyzer.md) a Identifikujte rozhraní API, která se vyvolávají <xref:System.PlatformNotSupportedException> na některých platformách a nějaké jiné potenciální problémy s kompatibilitou.</span><span class="sxs-lookup"><span data-stu-id="3263b-168">Install the [.NET API analyzer](../../standard/analyzers/api-analyzer.md) into your projects to identify APIs that throw <xref:System.PlatformNotSupportedException> on some platforms and some other potential compatibility issues.</span></span>

   <span data-ttu-id="3263b-169">Tento nástroj je podobný analyzátoru přenositelnosti, ale místo analýzy, jestli se kód může sestavovat v .NET Core, analyzuje, jestli používáte rozhraní API způsobem, který zavolá v <xref:System.PlatformNotSupportedException> době běhu.</span><span class="sxs-lookup"><span data-stu-id="3263b-169">This tool is similar to the portability analyzer, but instead of analyzing if code can build on .NET Core, it analyzes whether you're using an API in a way that will throw a <xref:System.PlatformNotSupportedException> at run time.</span></span> <span data-ttu-id="3263b-170">I když se nejedná o běžný postup, Pokud přesouváte z .NET Framework 4.7.2 nebo vyšší, je dobré ho kontrolovat.</span><span class="sxs-lookup"><span data-stu-id="3263b-170">Although this isn't common if you're moving from .NET Framework 4.7.2 or higher, it's good to check.</span></span> <span data-ttu-id="3263b-171">Další informace o rozhraních API, která vyvolávají výjimky v rozhraní .NET Core, najdete v tématu [rozhraní API, která vždy vyvolají výjimky v rozhraní .NET Core](../compatibility/unsupported-apis.md).</span><span class="sxs-lookup"><span data-stu-id="3263b-171">For more information about APIs that throw exceptions on .NET Core, see [APIs that always throw exceptions on .NET Core](../compatibility/unsupported-apis.md).</span></span>

1. <span data-ttu-id="3263b-172">V tomto okamžiku se můžete přepnout na cílení na .NET Core (obecně pro aplikace) nebo .NET Standard (pro knihovny).</span><span class="sxs-lookup"><span data-stu-id="3263b-172">At this point, you can switch to targeting .NET Core (generally for applications) or .NET Standard (for libraries).</span></span>

   <span data-ttu-id="3263b-173">Volba mezi .NET Core a .NET Standard je převážně závislá na tom, kde se projekt spustí.</span><span class="sxs-lookup"><span data-stu-id="3263b-173">The choice between .NET Core and .NET Standard is largely dependent on where the project will be run.</span></span> <span data-ttu-id="3263b-174">Pokud se jedná o knihovnu, kterou budou používat jiné aplikace nebo distribuované přes NuGet, je obvykle vhodné cílit na .NET Standard.</span><span class="sxs-lookup"><span data-stu-id="3263b-174">If it is a library that will be consumed by other applications or distributed via NuGet, the preference is usually to target .NET Standard.</span></span> <span data-ttu-id="3263b-175">Existují však rozhraní API, která jsou k dispozici pouze v rozhraní .NET Core pro výkon nebo jiné důvody. v takovém případě by mělo být rozhraní .NET Core cíleno na potenciálně .NET Standard sestavení i na nižší výkon a funkčnost.</span><span class="sxs-lookup"><span data-stu-id="3263b-175">However, there may be APIs that are only available on .NET Core for performance or other reasons; if that's the case, .NET Core should be targeted with potentially a .NET Standard build available as well with reduced performance or functionality.</span></span> <span data-ttu-id="3263b-176">Když cílíte .NET Standard, projekt bude připravený ke spuštění na nových platformách (například WebAssembly).</span><span class="sxs-lookup"><span data-stu-id="3263b-176">By targeting .NET Standard, the project will be ready to run on new platforms (such as WebAssembly).</span></span> <span data-ttu-id="3263b-177">Pokud projekt obsahuje závislosti na konkrétních aplikačních architekturách (například ASP.NET Core), bude cíl omezen tím, co podporují závislosti.</span><span class="sxs-lookup"><span data-stu-id="3263b-177">If the project has dependencies on specific app frameworks (such as ASP.NET Core), then the target will be limited by what the dependencies support.</span></span>

   <span data-ttu-id="3263b-178">Pokud neexistují žádné direktivy preprocesoru pro podmíněný kód kompilace pro .NET Framework nebo .NET Standard, bude to jednoduché, jak najít následující v souboru projektu:</span><span class="sxs-lookup"><span data-stu-id="3263b-178">If there are no preprocessor directives to conditional compile code for .NET Framework or .NET Standard, this will be as simple as finding the following in the project file:</span></span>

   ```xml
   <TargetFramework>net472</TargetFramework>
   ```

   <span data-ttu-id="3263b-179">a přepněte ho do požadovaného rozhraní.</span><span class="sxs-lookup"><span data-stu-id="3263b-179">and switch it to the desired framework.</span></span> <span data-ttu-id="3263b-180">Pro .NET Core 3,1 to bude:</span><span class="sxs-lookup"><span data-stu-id="3263b-180">For .NET Core 3.1, this would be:</span></span>

   ```xml
   <TargetFramework>netcoreapp3.1</TargetFramework>
   ```

   <span data-ttu-id="3263b-181">Pokud se však jedná o knihovnu, pro kterou chcete pokračovat v podpoře .NET Frameworkch specifických sestavení, můžete [více cílit](../../standard/library-guidance/cross-platform-targeting.md) tím, že je nahradíte následujícími:</span><span class="sxs-lookup"><span data-stu-id="3263b-181">However, if this is a library for which you want to continue supporting .NET Framework-specific builds, you can [multi-target](../../standard/library-guidance/cross-platform-targeting.md) by replacing it with the following:</span></span>

   ```xml
   <TargetFrameworks>net472;netstandard2.0</TargetFrameworks>
   ```

   <span data-ttu-id="3263b-182">Pokud používáte rozhraní API specifická pro systém Windows (například přístup do registru), nainstalujte [sadu Windows Compatibility Pack](./windows-compat-pack.md).</span><span class="sxs-lookup"><span data-stu-id="3263b-182">If you're using Windows-specific APIs (such as registry access), install the [Windows Compatibility Pack](./windows-compat-pack.md).</span></span>

## <a name="next-steps"></a><span data-ttu-id="3263b-183">Další kroky</span><span class="sxs-lookup"><span data-stu-id="3263b-183">Next steps</span></span>

> [!div class="nextstepaction"]
> <span data-ttu-id="3263b-184">[Analyzovat závislosti](third-party-deps.md) 
>  Balíček [NuGet balíčku](../deploying/creating-nuget-packages.md) 
>  [ASP.NET migrace na ASP.NET Core](/aspnet/core/migration/proper-to-2x)</span><span class="sxs-lookup"><span data-stu-id="3263b-184">[Analyze dependencies](third-party-deps.md)
[Package NuGet Package](../deploying/creating-nuget-packages.md)
[ASP.NET to ASP.NET Core Migration](/aspnet/core/migration/proper-to-2x)</span></span>
