---
title: 'Kurz: použití atributů-C#'
description: Přečtěte si, jak C#atributy fungují v.
author: mgroves
ms.technology: csharp-fundamentals
ms.date: 03/06/2017
ms.assetid: b152cf36-76e4-43a5-b805-1a1952e53b79
ms.openlocfilehash: 24cb7d35a89fda78511dc4ba725b69c5d601a008
ms.sourcegitcommit: 7e2128d4a4c45b4274bea3b8e5760d4694569ca1
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 01/14/2020
ms.locfileid: "75937474"
---
# <a name="use-attributes-in-c"></a><span data-ttu-id="c37b5-103">Použití atributů v jazyce C\#</span><span class="sxs-lookup"><span data-stu-id="c37b5-103">Use Attributes in C\#</span></span>

<span data-ttu-id="c37b5-104">Atributy poskytují způsob, jak přidružit informace s kódem deklarativním způsobem.</span><span class="sxs-lookup"><span data-stu-id="c37b5-104">Attributes provide a way of associating information with code in a declarative way.</span></span> <span data-ttu-id="c37b5-105">Mohou také poskytovat opakovaně použitelný prvek, který lze použít na celou řadu cílů.</span><span class="sxs-lookup"><span data-stu-id="c37b5-105">They can also provide a reusable element that can be applied to a variety of targets.</span></span>

<span data-ttu-id="c37b5-106">Vezměte v úvahu atribut `[Obsolete]`.</span><span class="sxs-lookup"><span data-stu-id="c37b5-106">Consider the `[Obsolete]` attribute.</span></span> <span data-ttu-id="c37b5-107">Dá se použít na třídy, struktury, metody, konstruktory a další.</span><span class="sxs-lookup"><span data-stu-id="c37b5-107">It can be applied to classes, structs, methods, constructors, and more.</span></span> <span data-ttu-id="c37b5-108">_Deklaruje_ , že prvek je zastaralý.</span><span class="sxs-lookup"><span data-stu-id="c37b5-108">It _declares_ that the element is obsolete.</span></span> <span data-ttu-id="c37b5-109">Následně až do C# kompilátoru vyhledáte tento atribut a v reakci Udělejte nějakou akci.</span><span class="sxs-lookup"><span data-stu-id="c37b5-109">It's then up to the C# compiler to look for this attribute, and do some action in response.</span></span>

<span data-ttu-id="c37b5-110">V tomto kurzu se seznámíte s postupem přidávání atributů do kódu, vytváření a používání vlastních atributů a používání některých atributů, které jsou součástí .NET Core.</span><span class="sxs-lookup"><span data-stu-id="c37b5-110">In this tutorial, you'll be introduced to how to add attributes to your code, how to create and use your own attributes, and how to use some attributes that are built into .NET Core.</span></span>

## <a name="prerequisites"></a><span data-ttu-id="c37b5-111">Požadavky</span><span class="sxs-lookup"><span data-stu-id="c37b5-111">Prerequisites</span></span>
<span data-ttu-id="c37b5-112">Budete muset nastavit počítač tak, aby běžel .NET Core.</span><span class="sxs-lookup"><span data-stu-id="c37b5-112">You’ll need to set up your machine to run .NET core.</span></span> <span data-ttu-id="c37b5-113">Pokyny k instalaci najdete na stránce [soubory ke stažení pro .NET Core](https://dotnet.microsoft.com/download) .</span><span class="sxs-lookup"><span data-stu-id="c37b5-113">You can find the installation instructions on the [.NET Core Downloads](https://dotnet.microsoft.com/download) page.</span></span>
<span data-ttu-id="c37b5-114">Tuto aplikaci můžete spustit ve Windows, Ubuntu Linux, macOS nebo v kontejneru Docker.</span><span class="sxs-lookup"><span data-stu-id="c37b5-114">You can run this application on Windows, Ubuntu Linux, macOS or in a Docker container.</span></span>
<span data-ttu-id="c37b5-115">Budete muset nainstalovat svůj oblíbený editor kódu.</span><span class="sxs-lookup"><span data-stu-id="c37b5-115">You’ll need to install your favorite code editor.</span></span> <span data-ttu-id="c37b5-116">Níže uvedené popisy používají [Visual Studio Code](https://code.visualstudio.com/) , což je Open Source Editor pro různé platformy.</span><span class="sxs-lookup"><span data-stu-id="c37b5-116">The descriptions below use [Visual Studio Code](https://code.visualstudio.com/) which is an open source, cross platform editor.</span></span> <span data-ttu-id="c37b5-117">Můžete ale použít jakékoli nástroje, se kterými máte v pohodlí.</span><span class="sxs-lookup"><span data-stu-id="c37b5-117">However, you can use whatever tools you are comfortable with.</span></span>

## <a name="create-the-application"></a><span data-ttu-id="c37b5-118">Vytvoření aplikace</span><span class="sxs-lookup"><span data-stu-id="c37b5-118">Create the Application</span></span>

<span data-ttu-id="c37b5-119">Teď, když jste nainstalovali všechny nástroje, vytvořte novou aplikaci .NET Core.</span><span class="sxs-lookup"><span data-stu-id="c37b5-119">Now that you've installed all the tools, create a new .NET Core application.</span></span> <span data-ttu-id="c37b5-120">Pokud chcete použít generátor příkazového řádku, spusťte ve svém oblíbeném prostředí následující příkaz:</span><span class="sxs-lookup"><span data-stu-id="c37b5-120">To use the command line generator, execute the following command in your favorite shell:</span></span>

`dotnet new console`

<span data-ttu-id="c37b5-121">Tento příkaz vytvoří holé soubory projektu .NET Core.</span><span class="sxs-lookup"><span data-stu-id="c37b5-121">This command will create bare-bones .NET core project files.</span></span> <span data-ttu-id="c37b5-122">Aby bylo možné obnovit závislosti potřebné k zkompilování tohoto projektu, bude nutné provést `dotnet restore`.</span><span class="sxs-lookup"><span data-stu-id="c37b5-122">You will need to execute `dotnet restore` to restore the dependencies needed to compile this project.</span></span>

[!INCLUDE[DotNet Restore Note](~/includes/dotnet-restore-note.md)]

<span data-ttu-id="c37b5-123">Chcete-li spustit program, použijte `dotnet run`.</span><span class="sxs-lookup"><span data-stu-id="c37b5-123">To execute the program, use `dotnet run`.</span></span> <span data-ttu-id="c37b5-124">Měl by se zobrazit výstup "Hello, World" do konzoly.</span><span class="sxs-lookup"><span data-stu-id="c37b5-124">You should see "Hello, World" output to the console.</span></span>

## <a name="how-to-add-attributes-to-code"></a><span data-ttu-id="c37b5-125">Postup přidání atributů do kódu</span><span class="sxs-lookup"><span data-stu-id="c37b5-125">How to add attributes to code</span></span>

<span data-ttu-id="c37b5-126">V C#rozhraní jsou atributy třídy, které dědí z `Attribute` základní třídy.</span><span class="sxs-lookup"><span data-stu-id="c37b5-126">In C#, attributes are classes that inherit from the `Attribute` base class.</span></span> <span data-ttu-id="c37b5-127">Libovolnou třídu, která dědí z `Attribute` lze použít jako řazení "značky" v jiných částech kódu.</span><span class="sxs-lookup"><span data-stu-id="c37b5-127">Any class that inherits from `Attribute` can be used as a sort of "tag" on other pieces of code.</span></span>
<span data-ttu-id="c37b5-128">Například existuje atribut nazvaný `ObsoleteAttribute`.</span><span class="sxs-lookup"><span data-stu-id="c37b5-128">For instance, there is an attribute called `ObsoleteAttribute`.</span></span> <span data-ttu-id="c37b5-129">Používá se k signalizaci, že kód je zastaralý a neměl by se už používat.</span><span class="sxs-lookup"><span data-stu-id="c37b5-129">This is used to signal that code is obsolete and shouldn't be used anymore.</span></span> <span data-ttu-id="c37b5-130">Tento atribut lze umístit na třídu například pomocí hranatých závorek.</span><span class="sxs-lookup"><span data-stu-id="c37b5-130">You can place this attribute on a class, for instance, by using square brackets.</span></span>

[!code-csharp[Obsolete attribute example](../../../samples/snippets/csharp/tutorials/attributes/Program.cs#ObsoleteExample1)]

<span data-ttu-id="c37b5-131">Všimněte si, že i když je třída volána `ObsoleteAttribute`, je nutné použít `[Obsolete]` v kódu.</span><span class="sxs-lookup"><span data-stu-id="c37b5-131">Note that while the class is called `ObsoleteAttribute`, it's only necessary to use `[Obsolete]` in the code.</span></span> <span data-ttu-id="c37b5-132">Toto je konvence, C# která následuje.</span><span class="sxs-lookup"><span data-stu-id="c37b5-132">This is a convention that C# follows.</span></span>
<span data-ttu-id="c37b5-133">Pokud zvolíte, můžete použít celé jméno `[ObsoleteAttribute]`.</span><span class="sxs-lookup"><span data-stu-id="c37b5-133">You can use the full name `[ObsoleteAttribute]` if you choose.</span></span>

<span data-ttu-id="c37b5-134">Když označíte třídu jako zastaralou, je vhodné poskytnout nějaké informace, *Proč* je zastaralá a/nebo *co* použít místo toho.</span><span class="sxs-lookup"><span data-stu-id="c37b5-134">When marking a class obsolete, it's a good idea to provide some information as to *why* it's obsolete, and/or *what* to use instead.</span></span> <span data-ttu-id="c37b5-135">Provedete to tak, že předáte řetězcový parametr do zastaralého atributu.</span><span class="sxs-lookup"><span data-stu-id="c37b5-135">Do this by passing a string parameter to the Obsolete attribute.</span></span>

[!code-csharp[Obsolete attribute example with parameters](../../../samples/snippets/csharp/tutorials/attributes/Program.cs#ObsoleteExample2)]

<span data-ttu-id="c37b5-136">Řetězec je předáván jako argument konstruktoru `ObsoleteAttribute`, stejně jako při psaní `var attr = new ObsoleteAttribute("some string")`.</span><span class="sxs-lookup"><span data-stu-id="c37b5-136">The string is being passed as an argument to an `ObsoleteAttribute` constructor, just as if you were writing `var attr = new ObsoleteAttribute("some string")`.</span></span>

<span data-ttu-id="c37b5-137">Parametry konstruktoru atributu jsou omezeny na jednoduché typy/literály: `bool, int, double, string, Type, enums, etc` a pole těchto typů.</span><span class="sxs-lookup"><span data-stu-id="c37b5-137">Parameters to an attribute constructor are limited to simple types/literals: `bool, int, double, string, Type, enums, etc` and arrays of those types.</span></span>
<span data-ttu-id="c37b5-138">Nelze použít výraz ani proměnnou.</span><span class="sxs-lookup"><span data-stu-id="c37b5-138">You can not use an expression or a variable.</span></span> <span data-ttu-id="c37b5-139">Pro použití pozičních nebo pojmenovaných parametrů je zdarma.</span><span class="sxs-lookup"><span data-stu-id="c37b5-139">You are free to use positional or named parameters.</span></span>

## <a name="how-to-create-your-own-attribute"></a><span data-ttu-id="c37b5-140">Vytvoření vlastního atributu</span><span class="sxs-lookup"><span data-stu-id="c37b5-140">How to create your own attribute</span></span>

<span data-ttu-id="c37b5-141">Vytvoření atributu je jednoduché jako dědění z `Attribute` základní třídy.</span><span class="sxs-lookup"><span data-stu-id="c37b5-141">Creating an attribute is as simple as inheriting from the `Attribute` base class.</span></span>

[!code-csharp[Create your own attribute](../../../samples/snippets/csharp/tutorials/attributes/Program.cs#CreateAttributeExample1)]

<span data-ttu-id="c37b5-142">Výše uvedeným způsobem teď můžu použít `[MySpecial]` (nebo `[MySpecialAttribute]`) jako atribut jinde v základu kódu.</span><span class="sxs-lookup"><span data-stu-id="c37b5-142">With the above, I can now use `[MySpecial]` (or `[MySpecialAttribute]`) as an attribute elsewhere in the code base.</span></span>

[!code-csharp[Using your own attribute](../../../samples/snippets/csharp/tutorials/attributes/Program.cs#CreateAttributeExample2)]

<span data-ttu-id="c37b5-143">Atributy v knihovně základních tříd .NET, jako `ObsoleteAttribute`, spouštějí určité chování v rámci kompilátoru.</span><span class="sxs-lookup"><span data-stu-id="c37b5-143">Attributes in the .NET base class library like `ObsoleteAttribute` trigger certain behaviors within the compiler.</span></span> <span data-ttu-id="c37b5-144">Jakýkoli atribut, který vytvoříte, ale funguje pouze jako metadata a nevede se o spuštění kódu v rámci třídy atributů.</span><span class="sxs-lookup"><span data-stu-id="c37b5-144">However, any attribute you create acts only as metadata, and doesn't result in any code within the attribute class being executed.</span></span> <span data-ttu-id="c37b5-145">Je to až na to, abyste mohli pracovat s metadaty jinde v kódu (Další informace najdete v tomto kurzu dále).</span><span class="sxs-lookup"><span data-stu-id="c37b5-145">It's up to you to act on that metadata elsewhere in your code (more on that later in the tutorial).</span></span>

<span data-ttu-id="c37b5-146">Tady je Gotcha, kde můžete sledovat.</span><span class="sxs-lookup"><span data-stu-id="c37b5-146">There is a 'gotcha' here to watch out for.</span></span> <span data-ttu-id="c37b5-147">Jak je uvedeno výše, při použití atributů můžou být jako argumenty předány jenom určité typy.</span><span class="sxs-lookup"><span data-stu-id="c37b5-147">As mentioned above, only certain types are allowed to be passed as arguments when using attributes.</span></span> <span data-ttu-id="c37b5-148">Při vytváření typu atributu ale C# kompilátor nebrání v vytváření těchto parametrů.</span><span class="sxs-lookup"><span data-stu-id="c37b5-148">However, when creating an attribute type, the C# compiler won't stop you from creating those parameters.</span></span> <span data-ttu-id="c37b5-149">V následujícím příkladu jsem vytvořil atribut s konstruktorem, který se zkompiluje přesně.</span><span class="sxs-lookup"><span data-stu-id="c37b5-149">In the below example, I've created an attribute with a constructor that compiles just fine.</span></span>

[!code-csharp[Valid constructor used in an attribute](../../../samples/snippets/csharp/tutorials/attributes/Program.cs#AttributeGothca1)]

<span data-ttu-id="c37b5-150">Tento konstruktor však nebude možné použít se syntaxí atributu.</span><span class="sxs-lookup"><span data-stu-id="c37b5-150">However, you will be unable to use this constructor with attribute syntax.</span></span>

[!code-csharp[Invalid attempt to use the attribute constructor](../../../samples/snippets/csharp/tutorials/attributes/Program.cs#AttributeGotcha2)]

<span data-ttu-id="c37b5-151">Výše uvedené způsobí chybu kompilátoru, například `Attribute constructor parameter 'myClass' has type 'Foo', which is not a valid attribute parameter type`</span><span class="sxs-lookup"><span data-stu-id="c37b5-151">The above will cause a compiler error like `Attribute constructor parameter 'myClass' has type 'Foo', which is not a valid attribute parameter type`</span></span>

## <a name="how-to-restrict-attribute-usage"></a><span data-ttu-id="c37b5-152">Jak omezit použití atributů</span><span class="sxs-lookup"><span data-stu-id="c37b5-152">How to restrict attribute usage</span></span>

<span data-ttu-id="c37b5-153">Atributy lze použít v řadě "cíle".</span><span class="sxs-lookup"><span data-stu-id="c37b5-153">Attributes can be used on a number of "targets".</span></span> <span data-ttu-id="c37b5-154">Výše uvedené příklady je ukazují na třídy, ale lze je použít také na:</span><span class="sxs-lookup"><span data-stu-id="c37b5-154">The above examples show them on classes, but they can also be used on:</span></span>

* <span data-ttu-id="c37b5-155">Assembly</span><span class="sxs-lookup"><span data-stu-id="c37b5-155">Assembly</span></span>
* <span data-ttu-id="c37b5-156">Třída</span><span class="sxs-lookup"><span data-stu-id="c37b5-156">Class</span></span>
* <span data-ttu-id="c37b5-157">Konstruktor</span><span class="sxs-lookup"><span data-stu-id="c37b5-157">Constructor</span></span>
* <span data-ttu-id="c37b5-158">Delegát</span><span class="sxs-lookup"><span data-stu-id="c37b5-158">Delegate</span></span>
* <span data-ttu-id="c37b5-159">Výčet</span><span class="sxs-lookup"><span data-stu-id="c37b5-159">Enum</span></span>
* <span data-ttu-id="c37b5-160">Událost</span><span class="sxs-lookup"><span data-stu-id="c37b5-160">Event</span></span>
* <span data-ttu-id="c37b5-161">Pole</span><span class="sxs-lookup"><span data-stu-id="c37b5-161">Field</span></span>
* <span data-ttu-id="c37b5-162">GenericParameter</span><span class="sxs-lookup"><span data-stu-id="c37b5-162">GenericParameter</span></span>
* <span data-ttu-id="c37b5-163">Rozhraní</span><span class="sxs-lookup"><span data-stu-id="c37b5-163">Interface</span></span>
* <span data-ttu-id="c37b5-164">Metoda</span><span class="sxs-lookup"><span data-stu-id="c37b5-164">Method</span></span>
* <span data-ttu-id="c37b5-165">– modul</span><span class="sxs-lookup"><span data-stu-id="c37b5-165">Module</span></span>
* <span data-ttu-id="c37b5-166">Parametr</span><span class="sxs-lookup"><span data-stu-id="c37b5-166">Parameter</span></span>
* <span data-ttu-id="c37b5-167">Vlastnost</span><span class="sxs-lookup"><span data-stu-id="c37b5-167">Property</span></span>
* <span data-ttu-id="c37b5-168">ReturnValue</span><span class="sxs-lookup"><span data-stu-id="c37b5-168">ReturnValue</span></span>
* <span data-ttu-id="c37b5-169">Struktura</span><span class="sxs-lookup"><span data-stu-id="c37b5-169">Struct</span></span>

<span data-ttu-id="c37b5-170">Když vytvoříte třídu atributu, ve výchozím nastavení C# vám umožní použít tento atribut u libovolné možné cíle atributu.</span><span class="sxs-lookup"><span data-stu-id="c37b5-170">When you create an attribute class, by default, C# will allow you to use that attribute on any of the possible attribute targets.</span></span> <span data-ttu-id="c37b5-171">Pokud chcete omezit atribut na určité cíle, můžete tak učinit pomocí `AttributeUsageAttribute` ve třídě atributů.</span><span class="sxs-lookup"><span data-stu-id="c37b5-171">If you want to restrict your attribute to certain targets, you can do so by using the `AttributeUsageAttribute` on your attribute class.</span></span> <span data-ttu-id="c37b5-172">To je správné, atribut u atributu!</span><span class="sxs-lookup"><span data-stu-id="c37b5-172">That's right, an attribute on an attribute!</span></span>

[!code-csharp[Using your own attribute](../../../samples/snippets/csharp/tutorials/attributes/Program.cs#AttributeUsageExample1)]

<span data-ttu-id="c37b5-173">Pokud se pokusíte umístit výše uvedený atribut na něco, co není třídou nebo strukturou, zobrazí se chyba kompilátoru, například `Attribute 'MyAttributeForClassAndStructOnly' is not valid on this declaration type. It is only valid on 'class, struct' declarations`</span><span class="sxs-lookup"><span data-stu-id="c37b5-173">If you attempt to put the above attribute on something that's not a class or a struct, you will get a compiler error like `Attribute 'MyAttributeForClassAndStructOnly' is not valid on this declaration type. It is only valid on 'class, struct' declarations`</span></span>

[!code-csharp[Using your own attribute](../../../samples/snippets/csharp/tutorials/attributes/Program.cs#AttributeUsageExample2)]

## <a name="how-to-use-attributes-attached-to-a-code-element"></a><span data-ttu-id="c37b5-174">Jak používat atributy připojené k elementu kódu</span><span class="sxs-lookup"><span data-stu-id="c37b5-174">How to use attributes attached to a code element</span></span>

<span data-ttu-id="c37b5-175">Atributy fungují jako metadata.</span><span class="sxs-lookup"><span data-stu-id="c37b5-175">Attributes act as metadata.</span></span> <span data-ttu-id="c37b5-176">Bez některých pasivních sil nebudou ve skutečnosti dělat cokoli.</span><span class="sxs-lookup"><span data-stu-id="c37b5-176">Without some outward force, they won't actually do anything.</span></span>

<span data-ttu-id="c37b5-177">Chcete-li najít atributy a pracovat s nimi, je obvykle potřeba [reflexe](../programming-guide/concepts/reflection.md) .</span><span class="sxs-lookup"><span data-stu-id="c37b5-177">To find and act on attributes, [Reflection](../programming-guide/concepts/reflection.md) is generally needed.</span></span> <span data-ttu-id="c37b5-178">V tomto kurzu nevidím podrobně zamyšlení, ale základní nápad je, že reflexe umožňuje psát kód v C# , který prověřuje jiný kód.</span><span class="sxs-lookup"><span data-stu-id="c37b5-178">I won't cover Reflection in-depth in this tutorial, but the basic idea is that Reflection allows you to write code in C# that examines other code.</span></span>

<span data-ttu-id="c37b5-179">Například můžete použít reflexi k získání informací o třídě (přidejte `using System.Reflection;` v hlavičce kódu):</span><span class="sxs-lookup"><span data-stu-id="c37b5-179">For instance, you can use Reflection to get information about a class(add `using System.Reflection;` at the head of your code):</span></span>

[!code-csharp[Getting type information with Reflection](../../../samples/snippets/csharp/tutorials/attributes/Program.cs#ReflectionExample1)]

<span data-ttu-id="c37b5-180">Tím se vytiskne něco jako: `The assembly qualified name of MyClass is ConsoleApplication.MyClass, attributes, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null`</span><span class="sxs-lookup"><span data-stu-id="c37b5-180">That will print out something like: `The assembly qualified name of MyClass is ConsoleApplication.MyClass, attributes, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null`</span></span>

<span data-ttu-id="c37b5-181">Jakmile budete mít objekt `TypeInfo` (nebo `MemberInfo`, `FieldInfo`atd.), můžete použít metodu `GetCustomAttributes`.</span><span class="sxs-lookup"><span data-stu-id="c37b5-181">Once you have a `TypeInfo` object (or a `MemberInfo`, `FieldInfo`, etc), you can use the `GetCustomAttributes` method.</span></span> <span data-ttu-id="c37b5-182">Tím se vrátí kolekce objektů `Attribute`.</span><span class="sxs-lookup"><span data-stu-id="c37b5-182">This will return a collection of `Attribute` objects.</span></span>
<span data-ttu-id="c37b5-183">Můžete také použít `GetCustomAttribute` a zadat typ atributu.</span><span class="sxs-lookup"><span data-stu-id="c37b5-183">You can also use `GetCustomAttribute` and specify an Attribute type.</span></span>

<span data-ttu-id="c37b5-184">Tady je příklad použití `GetCustomAttributes` u instance `MemberInfo` pro `MyClass` (u kterých se dřív ukázala, že má atribut `[Obsolete]`).</span><span class="sxs-lookup"><span data-stu-id="c37b5-184">Here's an example of using `GetCustomAttributes` on a `MemberInfo` instance for `MyClass` (which we saw earlier has an `[Obsolete]` attribute on it).</span></span>

[!code-csharp[Getting type information with Reflection](../../../samples/snippets/csharp/tutorials/attributes/Program.cs#ReflectionExample2)]

<span data-ttu-id="c37b5-185">Který bude tisknout do konzoly: `Attribute on MyClass: ObsoleteAttribute`.</span><span class="sxs-lookup"><span data-stu-id="c37b5-185">That will print to console: `Attribute on MyClass: ObsoleteAttribute`.</span></span> <span data-ttu-id="c37b5-186">Zkuste do `MyClass`přidat další atributy.</span><span class="sxs-lookup"><span data-stu-id="c37b5-186">Try adding other attributes to `MyClass`.</span></span>

<span data-ttu-id="c37b5-187">Je důležité si uvědomit, že tyto objekty `Attribute` jsou instancemi laxně vytvářená.</span><span class="sxs-lookup"><span data-stu-id="c37b5-187">It's important to note that these `Attribute` objects are instantiated lazily.</span></span> <span data-ttu-id="c37b5-188">To znamená, že nebudou vytvořeny instance, dokud nepoužijete `GetCustomAttribute` nebo `GetCustomAttributes`.</span><span class="sxs-lookup"><span data-stu-id="c37b5-188">That is, they won't be instantiated until you use `GetCustomAttribute` or `GetCustomAttributes`.</span></span>
<span data-ttu-id="c37b5-189">Jsou také vytvořeny instance.</span><span class="sxs-lookup"><span data-stu-id="c37b5-189">They are also instantiated each time.</span></span> <span data-ttu-id="c37b5-190">Volání `GetCustomAttributes` dvakrát v řádku vrátí dvě různé instance `ObsoleteAttribute`.</span><span class="sxs-lookup"><span data-stu-id="c37b5-190">Calling `GetCustomAttributes` twice in a row will return two different instances of `ObsoleteAttribute`.</span></span>

## <a name="common-attributes-in-the-base-class-library-bcl"></a><span data-ttu-id="c37b5-191">Běžné atributy v knihovně základních tříd (BCL)</span><span class="sxs-lookup"><span data-stu-id="c37b5-191">Common attributes in the base class library (BCL)</span></span>

<span data-ttu-id="c37b5-192">Atributy používá mnoho nástrojů a platforem.</span><span class="sxs-lookup"><span data-stu-id="c37b5-192">Attributes are used by many tools and frameworks.</span></span> <span data-ttu-id="c37b5-193">NUnit používá atributy jako `[Test]` a `[TestFixture]`, které jsou používány nástrojem NUnit Test Runner.</span><span class="sxs-lookup"><span data-stu-id="c37b5-193">NUnit uses attributes like `[Test]` and `[TestFixture]` that are used by the NUnit test runner.</span></span> <span data-ttu-id="c37b5-194">ASP.NET MVC používá atributy jako `[Authorize]` a poskytuje rozhraní filtru akcí, které umožňuje provádět průřezy na akcích MVC.</span><span class="sxs-lookup"><span data-stu-id="c37b5-194">ASP.NET MVC uses attributes like `[Authorize]` and provides an action filter framework to perform cross-cutting concerns on MVC actions.</span></span> <span data-ttu-id="c37b5-195">[PostSharp](https://www.postsharp.net) používá syntaxi atributu k umožnění programování orientovaného na jednotlivé C#aspekty v.</span><span class="sxs-lookup"><span data-stu-id="c37b5-195">[PostSharp](https://www.postsharp.net) uses the attribute syntax to allow aspect-oriented programming in C#.</span></span>

<span data-ttu-id="c37b5-196">Tady je několik významných atributů integrovaných do knihoven základních tříd .NET Core:</span><span class="sxs-lookup"><span data-stu-id="c37b5-196">Here are a few notable attributes built into the .NET Core base class libraries:</span></span>

* <span data-ttu-id="c37b5-197">`[Obsolete]`.</span><span class="sxs-lookup"><span data-stu-id="c37b5-197">`[Obsolete]`.</span></span> <span data-ttu-id="c37b5-198">Tato verze se použila ve výše uvedených příkladech a je v oboru názvů `System`.</span><span class="sxs-lookup"><span data-stu-id="c37b5-198">This one was used in the above examples, and it lives in the `System` namespace.</span></span> <span data-ttu-id="c37b5-199">Je užitečné poskytnout deklarativní dokumentaci ke změně základu kódu.</span><span class="sxs-lookup"><span data-stu-id="c37b5-199">It is useful to provide declarative documentation about a changing code base.</span></span> <span data-ttu-id="c37b5-200">Zpráva může být poskytnuta ve formě řetězce a další logický parametr lze použít k eskalaci z upozornění kompilátoru na chybu kompilátoru.</span><span class="sxs-lookup"><span data-stu-id="c37b5-200">A message can be provided in the form of a string, and another boolean parameter can be used to escalate from a compiler warning to a compiler error.</span></span>

* <span data-ttu-id="c37b5-201">`[Conditional]`.</span><span class="sxs-lookup"><span data-stu-id="c37b5-201">`[Conditional]`.</span></span> <span data-ttu-id="c37b5-202">Tento atribut je v oboru názvů `System.Diagnostics`.</span><span class="sxs-lookup"><span data-stu-id="c37b5-202">This attribute is in the `System.Diagnostics` namespace.</span></span> <span data-ttu-id="c37b5-203">Tento atribut lze použít na metody (nebo třídy atributů).</span><span class="sxs-lookup"><span data-stu-id="c37b5-203">This attribute can be applied to methods (or attribute classes).</span></span> <span data-ttu-id="c37b5-204">Do konstruktoru musíte předat řetězec.</span><span class="sxs-lookup"><span data-stu-id="c37b5-204">You must pass a string to the constructor.</span></span>
<span data-ttu-id="c37b5-205">Pokud se tento řetězec neshoduje s direktivou `#define`, pak C# kompilátor odebere všechna volání této metody (ale ne samotné metody).</span><span class="sxs-lookup"><span data-stu-id="c37b5-205">If that string doesn't match a `#define` directive, then any calls to that method (but not the method itself) will be removed by the C# compiler.</span></span> <span data-ttu-id="c37b5-206">Obvykle se používá pro účely ladění (diagnostiky).</span><span class="sxs-lookup"><span data-stu-id="c37b5-206">Typically this is used for debugging (diagnostics) purposes.</span></span>

* <span data-ttu-id="c37b5-207">`[CallerMemberName]`.</span><span class="sxs-lookup"><span data-stu-id="c37b5-207">`[CallerMemberName]`.</span></span> <span data-ttu-id="c37b5-208">Tento atribut lze použít pro parametry a v oboru názvů `System.Runtime.CompilerServices`.</span><span class="sxs-lookup"><span data-stu-id="c37b5-208">This attribute can be used on parameters, and lives in the `System.Runtime.CompilerServices` namespace.</span></span> <span data-ttu-id="c37b5-209">Toto je atribut, který se používá k vložení názvu metody, která volá jinou metodu.</span><span class="sxs-lookup"><span data-stu-id="c37b5-209">This is an attribute that is used to inject the name of the method that is calling another method.</span></span> <span data-ttu-id="c37b5-210">Obvykle se používá jako způsob, jak eliminovat řetězce Magic při implementaci INotifyPropertyChanged v různých architekturách uživatelského rozhraní.</span><span class="sxs-lookup"><span data-stu-id="c37b5-210">This is typically used as a way to eliminate 'magic strings' when implementing INotifyPropertyChanged in various UI frameworks.</span></span> <span data-ttu-id="c37b5-211">Jako příklad:</span><span class="sxs-lookup"><span data-stu-id="c37b5-211">As an example:</span></span>

[!code-csharp[Using CallerMemberName when implementing INotifyPropertyChanged](../../../samples/snippets/csharp/tutorials/attributes/Program.cs#CallerMemberName1)]

<span data-ttu-id="c37b5-212">Ve výše uvedeném kódu není nutné mít literál `"Name"` řetězec.</span><span class="sxs-lookup"><span data-stu-id="c37b5-212">In the above code, you don't have to have a literal `"Name"` string.</span></span> <span data-ttu-id="c37b5-213">To může přispět k tomu, aby se předešlo chybám souvisejícím s překlepem a také docházelo k plynulejšímu refaktoringu/přejmenování</span><span class="sxs-lookup"><span data-stu-id="c37b5-213">This can help prevent typo-related bugs and also makes for smoother refactoring/renaming.</span></span>

## <a name="summary"></a><span data-ttu-id="c37b5-214">Přehled</span><span class="sxs-lookup"><span data-stu-id="c37b5-214">Summary</span></span>

<span data-ttu-id="c37b5-215">Atributy přinášejí deklarativní sílu C#na, ale jsou meta datovým formulářem kódu a nejednají sami sebe.</span><span class="sxs-lookup"><span data-stu-id="c37b5-215">Attributes bring declarative power to C#, but they are a meta-data form of code and don't act by themselves.</span></span>
