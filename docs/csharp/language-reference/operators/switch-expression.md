---
title: přepínat výraz - odkaz Jazyka C#
description: Naučte se používat výraz přepínače C# pro porovnávání vzorů a další introspekce dat
ms.date: 03/19/2020
ms.openlocfilehash: 9e609bcea0f92f492b5f9b07840e47f75c1b71e4
ms.sourcegitcommit: 99b153b93bf94d0fecf7c7bcecb58ac424dfa47c
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 03/25/2020
ms.locfileid: "80249786"
---
# <a name="switch-expression-c-reference"></a><span data-ttu-id="e4f8a-103">přepínat výraz (odkaz C# )</span><span class="sxs-lookup"><span data-stu-id="e4f8a-103">switch expression (C# reference)</span></span>

<span data-ttu-id="e4f8a-104">Tento článek `switch` popisuje výraz, zavedené v C# 8.0.</span><span class="sxs-lookup"><span data-stu-id="e4f8a-104">This article covers the `switch` expression, introduced in C# 8.0.</span></span> <span data-ttu-id="e4f8a-105">Informace o `switch` prohlášení naleznete v článku o [ `switch` prohlášení](../keywords/switch.md) v části [příkazy.](../keywords/index.md)</span><span class="sxs-lookup"><span data-stu-id="e4f8a-105">For information on the `switch` statement, see the article on the [`switch` statement](../keywords/switch.md) in the [statements](../keywords/index.md) section.</span></span>

## <a name="basic-example"></a><span data-ttu-id="e4f8a-106">Základní příklad</span><span class="sxs-lookup"><span data-stu-id="e4f8a-106">Basic example</span></span>

<span data-ttu-id="e4f8a-107">Výraz `switch` poskytuje `switch`sémantiku -like v kontextu výrazu.</span><span class="sxs-lookup"><span data-stu-id="e4f8a-107">The `switch` expression provides for `switch`-like semantics in an expression context.</span></span> <span data-ttu-id="e4f8a-108">Poskytuje stručnou syntaxi, když ramena přepínače vytvoří hodnotu.</span><span class="sxs-lookup"><span data-stu-id="e4f8a-108">It provides a concise syntax when the switch arms produce a value.</span></span> <span data-ttu-id="e4f8a-109">Následující příklad ukazuje strukturu výrazu přepínače.</span><span class="sxs-lookup"><span data-stu-id="e4f8a-109">The following example shows the structure of a switch expression.</span></span> <span data-ttu-id="e4f8a-110">Překládá hodnoty z `enum` reprezentující vizuální směry v online mapě do odpovídajícího základního směru:</span><span class="sxs-lookup"><span data-stu-id="e4f8a-110">It translates values from an `enum` representing visual directions in an online map to the corresponding cardinal direction:</span></span>

:::code language="csharp" source="snippets/SwitchExpressions.cs" id="SnippetBasicStructure":::

<span data-ttu-id="e4f8a-111">Předchozí ukázka ukazuje základní prvky výrazu přepínače:</span><span class="sxs-lookup"><span data-stu-id="e4f8a-111">The preceding sample shows the basic elements of a switch expression:</span></span>

- <span data-ttu-id="e4f8a-112">*Výraz rozsahu*: Předchozí příklad používá `direction` proměnnou jako výraz rozsahu.</span><span class="sxs-lookup"><span data-stu-id="e4f8a-112">The *range expression*: The preceding example uses the variable `direction` as the range expression.</span></span>
- <span data-ttu-id="e4f8a-113">*Ramena výrazu switch*: Každé rameno výrazu přepínače `=>` obsahuje *vzorek*, volitelný kryt *případu*, token a *výraz*.</span><span class="sxs-lookup"><span data-stu-id="e4f8a-113">The *switch expression arms*: Each switch expression arm contains a *pattern*, an optional *case guard*, the `=>` token, and an *expression*.</span></span>

<span data-ttu-id="e4f8a-114">Výsledkem *výrazu switch* je hodnota výrazu prvního *ramene výrazu přepínače,* jehož *vzor* odpovídá `true` *výrazu rozsahu* a jehož ochrana *příčiny*, pokud je k dispozici, vyhodnotí na .</span><span class="sxs-lookup"><span data-stu-id="e4f8a-114">The result of the *switch expression* is the value of the expression of the first *switch expression arm* whose *pattern* matches the *range expression* and whose *cause guard*, if present, evaluates to `true`.</span></span> <span data-ttu-id="e4f8a-115">*Výraz* na pravé straně `=>` tokenu nemůže být výraz příkazu.</span><span class="sxs-lookup"><span data-stu-id="e4f8a-115">The *expression* on the right of the `=>` token can't be an expression statement.</span></span>

<span data-ttu-id="e4f8a-116">*Ramena výrazu přepínače* jsou vyhodnocována v textovém pořadí.</span><span class="sxs-lookup"><span data-stu-id="e4f8a-116">The *switch expression arms* are evaluated in text order.</span></span> <span data-ttu-id="e4f8a-117">Kompilátor vydá chybu, když nelze vybrat *rameno výrazu* dolní přepínač, protože vyšší *rameno výrazu přepínače* odpovídá všem jeho hodnotám.</span><span class="sxs-lookup"><span data-stu-id="e4f8a-117">The compiler issues an error when a lower *switch expression arm* can't be chosen because a higher *switch expression arm* matches all its values.</span></span>

## <a name="patterns-and-case-guards"></a><span data-ttu-id="e4f8a-118">Vzory a kryty skříně</span><span class="sxs-lookup"><span data-stu-id="e4f8a-118">Patterns and case guards</span></span>

<span data-ttu-id="e4f8a-119">Mnoho vzorů jsou podporovány v přepínači výraz zbraní.</span><span class="sxs-lookup"><span data-stu-id="e4f8a-119">Many patterns are supported in switch expression arms.</span></span> <span data-ttu-id="e4f8a-120">Předchozí příklad použil *vzor hodnoty*.</span><span class="sxs-lookup"><span data-stu-id="e4f8a-120">The preceding example used a *value pattern*.</span></span> <span data-ttu-id="e4f8a-121">*Vzorek hodnoty* porovná výraz rozsahu s hodnotou.</span><span class="sxs-lookup"><span data-stu-id="e4f8a-121">A *value pattern* compares the range expression to a value.</span></span> <span data-ttu-id="e4f8a-122">Tato hodnota musí být konstanta času kompilace.</span><span class="sxs-lookup"><span data-stu-id="e4f8a-122">That value must be a compile time constant.</span></span> <span data-ttu-id="e4f8a-123">*Vzorek typu* porovná výraz rozsahu se známým typem.</span><span class="sxs-lookup"><span data-stu-id="e4f8a-123">The *type pattern* compares the range expression to a known type.</span></span> <span data-ttu-id="e4f8a-124">Následující příklad načte třetí prvek z sekvence.</span><span class="sxs-lookup"><span data-stu-id="e4f8a-124">The following example retrieves the third element from a sequence.</span></span> <span data-ttu-id="e4f8a-125">Používá různé metody založené na typu sekvence:</span><span class="sxs-lookup"><span data-stu-id="e4f8a-125">It uses different methods based on the type of the sequence:</span></span>

:::code language="csharp" source="snippets/SwitchExpressions.cs" id="SnippetTypePattern":::

<span data-ttu-id="e4f8a-126">Vzorky mohou být rekurzivní, kde vzorek testuje typ a pokud tento typ odpovídá, vzorek odpovídá jedné nebo více hodnotám vlastností ve výrazu rozsahu.</span><span class="sxs-lookup"><span data-stu-id="e4f8a-126">Patterns can be recursive, where a pattern tests a type, and if that type matches, the pattern matches one or more property values on the range expression.</span></span> <span data-ttu-id="e4f8a-127">K rozšíření předchozího příkladu můžete použít rekurzivní vzorky.</span><span class="sxs-lookup"><span data-stu-id="e4f8a-127">You can use recursive patterns to extend the preceding example.</span></span> <span data-ttu-id="e4f8a-128">Můžete přidat příkazy výraz přepínače pro pole, která mají méně než 3 prvky.</span><span class="sxs-lookup"><span data-stu-id="e4f8a-128">You add switch expression arms for arrays that have fewer than 3 elements.</span></span> <span data-ttu-id="e4f8a-129">Rekurzivní vzory jsou uvedeny v následujícím příkladu:</span><span class="sxs-lookup"><span data-stu-id="e4f8a-129">Recursive patterns are shown in the following example:</span></span>

:::code language="csharp" source="snippets/SwitchExpressions.cs" id="SnippetRecursivePattern":::

<span data-ttu-id="e4f8a-130">Rekurzivní vzory můžete zkoumat vlastnosti výrazu rozsahu, ale nelze spustit libovolný kód.</span><span class="sxs-lookup"><span data-stu-id="e4f8a-130">Recursive patterns can examine properties of the range expression, but can't execute arbitrary code.</span></span> <span data-ttu-id="e4f8a-131">Ochrannou *dobu případu*určenou `when` v klauzuli můžete použít k poskytnutí podobných kontrol pro jiné typy sekvencí:</span><span class="sxs-lookup"><span data-stu-id="e4f8a-131">You can use a *case guard*, specified in a `when` clause, to provide similar checks for other sequence types:</span></span>

:::code language="csharp" source="snippets/SwitchExpressions.cs" id="SnippetGuardCase":::

<span data-ttu-id="e4f8a-132">Nakonec můžete přidat `_` vzorek a `null` vzorek zachytit argumenty, které nejsou zpracovány žádné jiné rameno výraz u přepínače.</span><span class="sxs-lookup"><span data-stu-id="e4f8a-132">Finally, you can add the `_` pattern and the `null` pattern to catch arguments that aren't processed by any other switch expression arm.</span></span> <span data-ttu-id="e4f8a-133">To dělá výraz *přepínače vyčerpávající*, což znamená, že je zpracována jakákoli možná hodnota výrazu rozsahu.</span><span class="sxs-lookup"><span data-stu-id="e4f8a-133">That makes the switch expression *exhaustive*, meaning any possible value of the range expression is handled.</span></span> <span data-ttu-id="e4f8a-134">Následující příklad přidá tyto výrazzbraně:</span><span class="sxs-lookup"><span data-stu-id="e4f8a-134">The following example adds those expression arms:</span></span>

:::code language="csharp" source="snippets/SwitchExpressions.cs" id="SnippetExhaustive":::

<span data-ttu-id="e4f8a-135">Předchozí příklad přidá `null` vzorek a změní `IEnumerable<T>` vzorek textu `_` na vzorek.</span><span class="sxs-lookup"><span data-stu-id="e4f8a-135">The preceding example adds a `null` pattern, and changes the `IEnumerable<T>` type pattern to a `_` pattern.</span></span> <span data-ttu-id="e4f8a-136">Vzor `null` poskytuje kontrolu null jako rameno výrazu přepínače.</span><span class="sxs-lookup"><span data-stu-id="e4f8a-136">The `null` pattern provides a null check as a switch expression arm.</span></span> <span data-ttu-id="e4f8a-137">Výraz pro tuto ruku <xref:System.ArgumentNullException>vyvolá .</span><span class="sxs-lookup"><span data-stu-id="e4f8a-137">The expression for that arm throws an <xref:System.ArgumentNullException>.</span></span> <span data-ttu-id="e4f8a-138">Vzor `_` odpovídá všem vstupům, které nebyly spárovány s předchozími rameny.</span><span class="sxs-lookup"><span data-stu-id="e4f8a-138">The `_` pattern matches all inputs that haven't been matched by previous arms.</span></span> <span data-ttu-id="e4f8a-139">Musí přijít po `null` kontrole, jinak `null` by odpovídala vstupům.</span><span class="sxs-lookup"><span data-stu-id="e4f8a-139">It must come after the `null` check, or it would match `null` inputs.</span></span>

<span data-ttu-id="e4f8a-140">Můžete si přečíst více v návrhu c# jazyk spec pro [rekurzivní vzory](~/_csharplang/proposals/csharp-8.0/patterns.md#switch-expression).</span><span class="sxs-lookup"><span data-stu-id="e4f8a-140">You can read more in the C# language spec proposal for [recursive patterns](~/_csharplang/proposals/csharp-8.0/patterns.md#switch-expression).</span></span>

## <a name="see-also"></a><span data-ttu-id="e4f8a-141">Viz také</span><span class="sxs-lookup"><span data-stu-id="e4f8a-141">See also</span></span>

- [<span data-ttu-id="e4f8a-142">Referenční dokumentace k jazyku C#</span><span class="sxs-lookup"><span data-stu-id="e4f8a-142">C# reference</span></span>](../index.md)
- [<span data-ttu-id="e4f8a-143">Operátory jazyka C#</span><span class="sxs-lookup"><span data-stu-id="e4f8a-143">C# operators</span></span>](index.md)
- [<span data-ttu-id="e4f8a-144">Porovnávání vzorů</span><span class="sxs-lookup"><span data-stu-id="e4f8a-144">Pattern matching</span></span>](../../pattern-matching.md)
