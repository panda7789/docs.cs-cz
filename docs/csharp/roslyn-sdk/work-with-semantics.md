---
title: Práce s sémantickým modelem platformy .NET Compiler Platform SDK
description: Tento přehled poskytuje pochopení typu, který používáte k pochopení a manipulaci s sémantickým modelem kódu.
ms.date: 10/15/2017
ms.custom: mvc
ms.openlocfilehash: 8575988cd98a4c0ba3f24107788f065f7472f55d
ms.sourcegitcommit: 7588136e355e10cbc2582f389c90c127363c02a5
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 03/14/2020
ms.locfileid: "79156932"
---
# <a name="work-with-semantics"></a><span data-ttu-id="5e495-103">Práce se sémantikou</span><span class="sxs-lookup"><span data-stu-id="5e495-103">Work with semantics</span></span>

<span data-ttu-id="5e495-104">[Stromy syntaxe](work-with-syntax.md) představují lexikální a syntaktickou strukturu zdrojového kódu.</span><span class="sxs-lookup"><span data-stu-id="5e495-104">[Syntax trees](work-with-syntax.md) represent the lexical and syntactic structure of source code.</span></span> <span data-ttu-id="5e495-105">I když tyto informace samy o sobě stačí k popisu všech deklarací a logiky ve zdroji, není dostatek informací k identifikaci, co je odkazováno.</span><span class="sxs-lookup"><span data-stu-id="5e495-105">Although this information alone is enough to describe all the declarations and logic in the source, it is not enough information to identify what is being referenced.</span></span> <span data-ttu-id="5e495-106">Název může představovat:</span><span class="sxs-lookup"><span data-stu-id="5e495-106">A name may represent:</span></span>

- <span data-ttu-id="5e495-107">typ</span><span class="sxs-lookup"><span data-stu-id="5e495-107">a type</span></span>
- <span data-ttu-id="5e495-108">pole</span><span class="sxs-lookup"><span data-stu-id="5e495-108">a field</span></span>
- <span data-ttu-id="5e495-109">Metoda </span><span class="sxs-lookup"><span data-stu-id="5e495-109">a method</span></span>
- <span data-ttu-id="5e495-110">lokální proměnná</span><span class="sxs-lookup"><span data-stu-id="5e495-110">a local variable</span></span>

<span data-ttu-id="5e495-111">I když každý z nich je jedinečně odlišné, určení, který z identifikátorve skutečnosti odkazuje často vyžaduje hluboké pochopení pravidel jazyka.</span><span class="sxs-lookup"><span data-stu-id="5e495-111">Although each of these is uniquely different, determining which one an identifier actually refers to often requires a deep understanding of the language rules.</span></span>

<span data-ttu-id="5e495-112">Ve zdrojovém kódu jsou reprezentovány prvky programu a programy mohou také odkazovat na dříve zkompilované knihovny zabalené v souborech sestavení.</span><span class="sxs-lookup"><span data-stu-id="5e495-112">There are program elements represented in source code, and programs can also refer to previously compiled libraries, packaged in assembly files.</span></span> <span data-ttu-id="5e495-113">Přestože žádný zdrojový kód, a proto žádné syntaktické uzly nebo stromy, jsou k dispozici pro sestavení, programy mohou stále odkazovat na prvky uvnitř nich.</span><span class="sxs-lookup"><span data-stu-id="5e495-113">Although no source code, and therefore no syntax nodes or trees, are available for assemblies, programs can still refer to elements inside them.</span></span>

<span data-ttu-id="5e495-114">Pro tyto úkoly potřebujete **sémantický model**.</span><span class="sxs-lookup"><span data-stu-id="5e495-114">For those tasks, you need the **Semantic model**.</span></span>

<span data-ttu-id="5e495-115">Kromě syntaktického modelu zdrojového kódu sémantický model zapouzdřuje jazyková pravidla, což umožňuje snadný způsob, jak správně spárovat identifikátory se správným programovým prvkem, na který se odkazuje.</span><span class="sxs-lookup"><span data-stu-id="5e495-115">In addition to a syntactic model of the source code, a semantic model encapsulates the language rules, giving you an easy way to correctly match identifiers with the correct program element being referenced.</span></span>

## <a name="compilation"></a><span data-ttu-id="5e495-116">Kompilace</span><span class="sxs-lookup"><span data-stu-id="5e495-116">Compilation</span></span>

<span data-ttu-id="5e495-117">Kompilace je reprezentace vše potřebné ke kompilaci c# nebo visual basic program, který obsahuje všechny odkazy sestavení, možnosti kompilátoru a zdrojové soubory.</span><span class="sxs-lookup"><span data-stu-id="5e495-117">A compilation is a representation of everything needed to compile a C# or Visual Basic program, which includes all the assembly references, compiler options, and source files.</span></span>

<span data-ttu-id="5e495-118">Vzhledem k tomu, že všechny tyto informace jsou na jednom místě, prvky obsažené ve zdrojovém kódu lze popsat podrobněji.</span><span class="sxs-lookup"><span data-stu-id="5e495-118">Because all this information is in one place, the elements contained in the source code can be described in more detail.</span></span> <span data-ttu-id="5e495-119">Kompilace představuje každý deklarovaný typ, člen nebo proměnnou jako symbol.</span><span class="sxs-lookup"><span data-stu-id="5e495-119">The compilation represents each declared type, member, or variable as a symbol.</span></span> <span data-ttu-id="5e495-120">Kompilace obsahuje různé metody, které vám pomohou najít a propojit symboly, které byly deklarovány ve zdrojovém kódu nebo importovány jako metadata z sestavení.</span><span class="sxs-lookup"><span data-stu-id="5e495-120">The compilation contains a variety of methods that help you find and relate the symbols that have either been declared in the source code or imported as metadata from an assembly.</span></span>

<span data-ttu-id="5e495-121">Podobně jako syntaxe stromy, kompilace jsou neměnné.</span><span class="sxs-lookup"><span data-stu-id="5e495-121">Similar to syntax trees, compilations are immutable.</span></span> <span data-ttu-id="5e495-122">Po vytvoření kompilace ji nemůžete změnit vy ani nikdo jiný, s kým ji sdílíte.</span><span class="sxs-lookup"><span data-stu-id="5e495-122">After you create a compilation, it cannot be changed by you or anyone else you might be sharing it with.</span></span> <span data-ttu-id="5e495-123">Můžete však vytvořit novou kompilaci z existující kompilace a určit změnu.</span><span class="sxs-lookup"><span data-stu-id="5e495-123">However, you can create a new compilation from an existing compilation, specifying a change as you do so.</span></span> <span data-ttu-id="5e495-124">Můžete například vytvořit kompilaci, která je ve všech směrech stejná jako existující kompilace, s tím rozdílem, že může obsahovat další zdrojový soubor nebo odkaz na sestavení.</span><span class="sxs-lookup"><span data-stu-id="5e495-124">For example, you might create a compilation that is the same in every way as an existing compilation, except it may include an additional source file or assembly reference.</span></span>

## <a name="symbols"></a><span data-ttu-id="5e495-125">Symboly</span><span class="sxs-lookup"><span data-stu-id="5e495-125">Symbols</span></span>

<span data-ttu-id="5e495-126">Symbol představuje odlišný prvek deklarovaný zdrojovým kódem nebo importovaný ze sestavení jako metadata.</span><span class="sxs-lookup"><span data-stu-id="5e495-126">A symbol represents a distinct element declared by the source code or imported from an assembly as metadata.</span></span> <span data-ttu-id="5e495-127">Každý obor názvů, typ, metoda, vlastnost, pole, událost, parametr nebo místní proměnná je reprezentován symbolem.</span><span class="sxs-lookup"><span data-stu-id="5e495-127">Every namespace, type, method, property, field, event, parameter, or local variable is represented by a symbol.</span></span>

<span data-ttu-id="5e495-128">Různé metody a vlastnosti <xref:Microsoft.CodeAnalysis.Compilation> na typu vám pomohou najít symboly.</span><span class="sxs-lookup"><span data-stu-id="5e495-128">A variety of methods and properties on the <xref:Microsoft.CodeAnalysis.Compilation> type help you find symbols.</span></span> <span data-ttu-id="5e495-129">Můžete například najít symbol deklarovaného typu podle jeho společného názvu metadat.</span><span class="sxs-lookup"><span data-stu-id="5e495-129">For example, you can find a symbol for a declared type by its common metadata name.</span></span> <span data-ttu-id="5e495-130">Můžete také přistupovat k celé tabulce symbolů jako strom symbolů zakořeněných globálním oborem názvů.</span><span class="sxs-lookup"><span data-stu-id="5e495-130">You can also access the entire symbol table as a tree of symbols rooted by the global namespace.</span></span>

<span data-ttu-id="5e495-131">Symboly také obsahují další informace, které kompilátor určuje ze zdroje nebo metadat, jako jsou například jiné odkazované symboly.</span><span class="sxs-lookup"><span data-stu-id="5e495-131">Symbols also contain additional information that the compiler determines from the source or metadata, such as other referenced symbols.</span></span> <span data-ttu-id="5e495-132">Každý druh symbolu je reprezentován samostatným rozhraním odvozeným z <xref:Microsoft.CodeAnalysis.ISymbol>, každý s vlastními metodami a vlastnostmi, které podrobně popisují informace, které kompilátor shromáždil.</span><span class="sxs-lookup"><span data-stu-id="5e495-132">Each kind of symbol is represented by a separate interface derived from <xref:Microsoft.CodeAnalysis.ISymbol>, each with its own methods and properties detailing the information the compiler has gathered.</span></span> <span data-ttu-id="5e495-133">Mnohé z těchto vlastností přímo odkazují na jiné symboly.</span><span class="sxs-lookup"><span data-stu-id="5e495-133">Many of these properties directly reference other symbols.</span></span> <span data-ttu-id="5e495-134"><xref:Microsoft.CodeAnalysis.IMethodSymbol.ReturnType?displayProperty=nameWithType> Vlastnost například sděluje symbol skutečného typu, na který deklarace metody odkazuje.</span><span class="sxs-lookup"><span data-stu-id="5e495-134">For example, the <xref:Microsoft.CodeAnalysis.IMethodSymbol.ReturnType?displayProperty=nameWithType> property tells you the actual type symbol that the method declaration references.</span></span>

<span data-ttu-id="5e495-135">Symboly představují společnou reprezentaci jmenných prostorů, typů a členů mezi zdrojovým kódem a metadaty.</span><span class="sxs-lookup"><span data-stu-id="5e495-135">Symbols present a common representation of namespaces, types, and members, between source code and metadata.</span></span> <span data-ttu-id="5e495-136">Například metoda, která byla deklarována ve zdrojovém kódu a <xref:Microsoft.CodeAnalysis.IMethodSymbol> metoda, která byla importována z metadat, jsou reprezentovány a se stejnými vlastnostmi.</span><span class="sxs-lookup"><span data-stu-id="5e495-136">For example, a method that was declared in source code and a method that was imported from metadata are both represented by an <xref:Microsoft.CodeAnalysis.IMethodSymbol> with the same properties.</span></span>

<span data-ttu-id="5e495-137">Symboly jsou podobné v koncepci systému <xref:System.Reflection> typu CLR, jak je reprezentovánrozhraním API, ale jsou bohatší v tom, že modelují více než jen typy.</span><span class="sxs-lookup"><span data-stu-id="5e495-137">Symbols are similar in concept to the CLR type system as represented by the <xref:System.Reflection> API, yet they are richer in that they model more than just types.</span></span> <span data-ttu-id="5e495-138">Obory názvů, místní proměnné a popisky jsou všechny symboly.</span><span class="sxs-lookup"><span data-stu-id="5e495-138">Namespaces, local variables, and labels are all symbols.</span></span> <span data-ttu-id="5e495-139">Kromě toho symboly jsou reprezentace konceptů jazyka, nikoli koncepty CLR.</span><span class="sxs-lookup"><span data-stu-id="5e495-139">In addition, symbols are a representation of language concepts, not CLR concepts.</span></span> <span data-ttu-id="5e495-140">Tam je hodně překrývají, ale existuje mnoho smysluplné rozdíly stejně.</span><span class="sxs-lookup"><span data-stu-id="5e495-140">There is a lot of overlap, but there are many meaningful distinctions as well.</span></span> <span data-ttu-id="5e495-141">Například iterátor metoda v jazyce C# nebo Visual Basic je jeden symbol.</span><span class="sxs-lookup"><span data-stu-id="5e495-141">For instance, an iterator method in C# or Visual Basic is a single symbol.</span></span> <span data-ttu-id="5e495-142">Však při iterátormetoda je přeložen a CLR metadata, je typ a více metod.</span><span class="sxs-lookup"><span data-stu-id="5e495-142">However, when the iterator method is translated to CLR metadata, it is a type and multiple methods.</span></span>

## <a name="semantic-model"></a><span data-ttu-id="5e495-143">Sémantický model</span><span class="sxs-lookup"><span data-stu-id="5e495-143">Semantic model</span></span>

<span data-ttu-id="5e495-144">Sémantický model představuje všechny sémantické informace pro jeden zdrojový soubor.</span><span class="sxs-lookup"><span data-stu-id="5e495-144">A semantic model represents all the semantic information for a single source file.</span></span> <span data-ttu-id="5e495-145">Můžete ji použít k zjištění následujících:</span><span class="sxs-lookup"><span data-stu-id="5e495-145">You can use it to discover the following:</span></span>

- <span data-ttu-id="5e495-146">Symboly odkazované na určitém místě ve zdroji.</span><span class="sxs-lookup"><span data-stu-id="5e495-146">The symbols referenced at a specific location in source.</span></span>
- <span data-ttu-id="5e495-147">Výsledný typ libovolného výrazu.</span><span class="sxs-lookup"><span data-stu-id="5e495-147">The resultant type of any expression.</span></span>
- <span data-ttu-id="5e495-148">Všechny diagnostiky, což jsou chyby a varování.</span><span class="sxs-lookup"><span data-stu-id="5e495-148">All diagnostics, which are errors and warnings.</span></span>
- <span data-ttu-id="5e495-149">Jak proměnné proudí do a z oblastí zdroje.</span><span class="sxs-lookup"><span data-stu-id="5e495-149">How variables flow in and out of regions of source.</span></span>
- <span data-ttu-id="5e495-150">Odpovědi na spekulativnější otázky.</span><span class="sxs-lookup"><span data-stu-id="5e495-150">The answers to more speculative questions.</span></span>
