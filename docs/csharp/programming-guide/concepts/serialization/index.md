---
title: Serializace (C#)
ms.date: 04/26/2018
ms.openlocfilehash: 03a7cd2d48b79d94674e64e96130e20a86051fb2
ms.sourcegitcommit: 88f251b08bf0718ce119f3d7302f514b74895038
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 05/10/2018
ms.locfileid: "33957850"
---
# <a name="serialization-c"></a><span data-ttu-id="72dc9-102">Serializace (C#)</span><span class="sxs-lookup"><span data-stu-id="72dc9-102">Serialization (C#)</span></span>

<span data-ttu-id="72dc9-103">Serializace je proces převodu objektu do datového proudu bajtů pro ukládání objektu nebo na přenos do paměti, databáze nebo souboru.</span><span class="sxs-lookup"><span data-stu-id="72dc9-103">Serialization is the process of converting an object into a stream of bytes to store the object or transmit it to memory, a database, or a file.</span></span> <span data-ttu-id="72dc9-104">Jeho hlavním účelem je pro uložení stavu objektu, aby bylo možné ho v případě potřeby znovu vytvořit.</span><span class="sxs-lookup"><span data-stu-id="72dc9-104">Its main purpose is to save the state of an object in order to be able to recreate it when needed.</span></span> <span data-ttu-id="72dc9-105">Zpětné proces se nazývá deserializace.</span><span class="sxs-lookup"><span data-stu-id="72dc9-105">The reverse process is called deserialization.</span></span>

## <a name="how-serialization-works"></a><span data-ttu-id="72dc9-106">Jak funguje serializace</span><span class="sxs-lookup"><span data-stu-id="72dc9-106">How serialization works</span></span>

<span data-ttu-id="72dc9-107">Tento obrázek ukazuje celý proces serializace.</span><span class="sxs-lookup"><span data-stu-id="72dc9-107">This illustration shows the overall process of serialization.</span></span>

<span data-ttu-id="72dc9-108">![Obrázek serializace](./media/serialization.gif "serializace")</span><span class="sxs-lookup"><span data-stu-id="72dc9-108">![Serialization Graphic](./media/serialization.gif "serialization")</span></span>

<span data-ttu-id="72dc9-109">Je objekt serializován do datového proudu, který nese nejen data, ale informace o typu objektu, například jeho název verze, jazykovou verzi a sestavení.</span><span class="sxs-lookup"><span data-stu-id="72dc9-109">The object is serialized to a stream, which carries not just the data, but information about the object's type, such as its version, culture, and assembly name.</span></span> <span data-ttu-id="72dc9-110">Z tohoto datového proudu mohou být uloženy do databáze, soubor nebo paměti.</span><span class="sxs-lookup"><span data-stu-id="72dc9-110">From that stream, it can be stored in a database, a file, or memory.</span></span>

### <a name="uses-for-serialization"></a><span data-ttu-id="72dc9-111">Používá pro serializaci</span><span class="sxs-lookup"><span data-stu-id="72dc9-111">Uses for serialization</span></span>

<span data-ttu-id="72dc9-112">Serializace umožňuje vývojáři ho znovu vytvořit podle potřeby, poskytuje úložiště objektů, jakož i výměny dat a uložit stav objektu.</span><span class="sxs-lookup"><span data-stu-id="72dc9-112">Serialization allows the developer to save the state of an object and recreate it as needed, providing storage of objects as well as data exchange.</span></span> <span data-ttu-id="72dc9-113">Prostřednictvím serializace, vývojáři mohou provádět akce jako odesílání objektu do vzdálené aplikace prostřednictvím webové služby, předávání objektů z jedné domény na jiný, předávání objektů přes bránu firewall jako řetězec v kódu XML nebo zachování zabezpečení nebo informace o uživateli ve všech aplikacích.</span><span class="sxs-lookup"><span data-stu-id="72dc9-113">Through serialization, a developer can perform actions like sending the object to a remote application by means of a Web Service, passing an object from one domain to another, passing an object through a firewall as an XML string, or maintaining security or user-specific information across applications.</span></span>

### <a name="making-an-object-serializable"></a><span data-ttu-id="72dc9-114">Změna objektu serializovatelný</span><span class="sxs-lookup"><span data-stu-id="72dc9-114">Making an object serializable</span></span>

<span data-ttu-id="72dc9-115">O serializaci objektu, je nutné objekt, který má být serializován datového proudu tak, aby obsahovala serializovaný objekt a <xref:System.Runtime.Serialization.Formatter>.</span><span class="sxs-lookup"><span data-stu-id="72dc9-115">To serialize an object, you need the object to be serialized, a stream to contain the serialized object, and a <xref:System.Runtime.Serialization.Formatter>.</span></span> <span data-ttu-id="72dc9-116"><xref:System.Runtime.Serialization> obsahuje třídy, které jsou nezbytné pro serializaci a deserializaci objektů.</span><span class="sxs-lookup"><span data-stu-id="72dc9-116"><xref:System.Runtime.Serialization> contains the classes necessary for serializing and deserializing objects.</span></span>

<span data-ttu-id="72dc9-117">Použít <xref:System.SerializableAttribute> atribut typ indikující, že instance tohoto typu lze serializovat.</span><span class="sxs-lookup"><span data-stu-id="72dc9-117">Apply the <xref:System.SerializableAttribute> attribute to a type to indicate that instances of this type can be serialized.</span></span> <span data-ttu-id="72dc9-118">Pokud se pokusíte k serializaci, ale nemá typ je vyvolána výjimka <xref:System.SerializableAttribute> atribut.</span><span class="sxs-lookup"><span data-stu-id="72dc9-118">An  exception is thrown if you attempt to serialize but the type doesn't have the <xref:System.SerializableAttribute> attribute.</span></span>

<span data-ttu-id="72dc9-119">Pokud nechcete, aby pole v rámci vaší třídy být serializovatelný, budou použity <xref:System.NonSerializedAttribute> atribut.</span><span class="sxs-lookup"><span data-stu-id="72dc9-119">If you don't want a field within your class to be serializable, apply the <xref:System.NonSerializedAttribute> attribute.</span></span> <span data-ttu-id="72dc9-120">Pokud pole typu serializable obsahuje ukazatel, popisovač nebo některé další datová struktura, která je specifická pro konkrétní prostředí a pole nemůže být obnoveny srozumitelně v jiném prostředí, můžete chtít provést neserializovatelné.</span><span class="sxs-lookup"><span data-stu-id="72dc9-120">If a field of a serializable type contains a pointer, a handle, or some other data structure that is specific to a particular environment, and the field cannot be meaningfully reconstituted in a different environment, then you may want to make it nonserializable.</span></span>

<span data-ttu-id="72dc9-121">Pokud serializovaných třída obsahuje odkazy na objekty jiné třídy, které jsou označené <xref:System.SerializableAttribute>, ty objekty, budou také serializována.</span><span class="sxs-lookup"><span data-stu-id="72dc9-121">If a serialized class contains references to objects of other classes that are marked <xref:System.SerializableAttribute>, those objects will also be serialized.</span></span>

## <a name="binary-and-xml-serialization"></a><span data-ttu-id="72dc9-122">Binární a serializace XML</span><span class="sxs-lookup"><span data-stu-id="72dc9-122">Binary and XML serialization</span></span>

<span data-ttu-id="72dc9-123">Můžete použít nebo binární serializace XML.</span><span class="sxs-lookup"><span data-stu-id="72dc9-123">You can use binary or XML serialization.</span></span> <span data-ttu-id="72dc9-124">V binární serializace, všichni členové se serializují i členů, které jsou jen pro čtení, a je lepší výkon.</span><span class="sxs-lookup"><span data-stu-id="72dc9-124">In binary serialization, all members, even members that are read-only, are serialized, and performance is enhanced.</span></span> <span data-ttu-id="72dc9-125">Serializace XML poskytuje srozumitelnější kód a větší flexibilitu objekt sdílení a využití pro zajištění spolupráce.</span><span class="sxs-lookup"><span data-stu-id="72dc9-125">XML serialization provides more readable code, and greater flexibility of object sharing and usage for interoperability purposes.</span></span>

### <a name="binary-serialization"></a><span data-ttu-id="72dc9-126">Binární serializace</span><span class="sxs-lookup"><span data-stu-id="72dc9-126">Binary serialization</span></span>

<span data-ttu-id="72dc9-127">Binární serializace používá k vytvoření compact serializace pro účely třeba úložiště nebo sítě založené na soket datové proudy binárního kódování.</span><span class="sxs-lookup"><span data-stu-id="72dc9-127">Binary serialization uses binary encoding to produce compact serialization for uses such as storage or socket-based network streams.</span></span>

### <a name="xml-serialization"></a><span data-ttu-id="72dc9-128">serializace XML</span><span class="sxs-lookup"><span data-stu-id="72dc9-128">XML serialization</span></span>

<span data-ttu-id="72dc9-129">Serializace XML serializuje veřejná pole a vlastnosti objektu, nebo parametry a návratové hodnoty metod, do datový proud XML, který odpovídá konkrétní jazyk (XSD) dokumentu definice schématu XML.</span><span class="sxs-lookup"><span data-stu-id="72dc9-129">XML serialization serializes the public fields and properties of an object, or the parameters and return values of methods, into an XML stream that conforms to a specific XML Schema definition language (XSD) document.</span></span> <span data-ttu-id="72dc9-130">Výsledky serializace XML v silného typu třídy s veřejné vlastnosti a pole, které jsou převedeny na XML.</span><span class="sxs-lookup"><span data-stu-id="72dc9-130">XML serialization results in strongly typed classes with public properties and fields that are converted to XML.</span></span> <span data-ttu-id="72dc9-131"><xref:System.Xml.Serialization> obsahuje třídy, které jsou nezbytné pro serializaci a deserializaci XML.</span><span class="sxs-lookup"><span data-stu-id="72dc9-131"><xref:System.Xml.Serialization> contains the classes necessary for serializing and deserializing XML.</span></span>

<span data-ttu-id="72dc9-132">Použití atributů pro třídy a jejich členové k řízení způsobu <xref:System.Xml.Serialization.XmlSerializer> serializuje a deserializuje instance třídy.</span><span class="sxs-lookup"><span data-stu-id="72dc9-132">You apply attributes to classes and class members to control the way the <xref:System.Xml.Serialization.XmlSerializer> serializes or deserializes an instance of the class.</span></span>

## <a name="basic-and-custom-serialization"></a><span data-ttu-id="72dc9-133">Základní a vlastní serializace</span><span class="sxs-lookup"><span data-stu-id="72dc9-133">Basic and custom serialization</span></span>

<span data-ttu-id="72dc9-134">Serializace lze provést dvěma způsoby, základní a vlastní.</span><span class="sxs-lookup"><span data-stu-id="72dc9-134">Serialization can be performed in two ways, basic and custom.</span></span> <span data-ttu-id="72dc9-135">Základní serializace používá k serializaci objektu automaticky rozhraní .NET Framework.</span><span class="sxs-lookup"><span data-stu-id="72dc9-135">Basic serialization uses the .NET Framework to automatically serialize the object.</span></span>

### <a name="basic-serialization"></a><span data-ttu-id="72dc9-136">Základní serializace</span><span class="sxs-lookup"><span data-stu-id="72dc9-136">Basic serialization</span></span>

<span data-ttu-id="72dc9-137">Jediným požadavkem v základní serializace je, že objekt obsahuje <xref:System.SerializableAttribute> atribut použitý.</span><span class="sxs-lookup"><span data-stu-id="72dc9-137">The only requirement in basic serialization is that the object has the <xref:System.SerializableAttribute> attribute applied.</span></span> <span data-ttu-id="72dc9-138"><xref:System.NonSerializedAttribute> Lze použít k udržování konkrétních polí z serializována.</span><span class="sxs-lookup"><span data-stu-id="72dc9-138">The <xref:System.NonSerializedAttribute> can be used to keep specific fields from being serialized.</span></span>

<span data-ttu-id="72dc9-139">Pokud používáte základní serializace, Správa verzí objektů může způsobit problémy.</span><span class="sxs-lookup"><span data-stu-id="72dc9-139">When you use basic serialization, the versioning of objects may create problems.</span></span> <span data-ttu-id="72dc9-140">Vlastní serializace byste použili v případě problémů jsou důležité.</span><span class="sxs-lookup"><span data-stu-id="72dc9-140">You would use custom serialization when versioning issues are important.</span></span> <span data-ttu-id="72dc9-141">Základní serializace je nejjednodušší způsob, jak provést serializaci, ale neposkytuje mnohem kontrolu nad tímto procesem.</span><span class="sxs-lookup"><span data-stu-id="72dc9-141">Basic serialization is the easiest way to perform serialization, but it does not provide much control over the process.</span></span>

### <a name="custom-serialization"></a><span data-ttu-id="72dc9-142">Vlastní serializace</span><span class="sxs-lookup"><span data-stu-id="72dc9-142">Custom serialization</span></span>

<span data-ttu-id="72dc9-143">V vlastní serializace můžete zadat přesně objektů, které budou serializovány a jak bude provedeno.</span><span class="sxs-lookup"><span data-stu-id="72dc9-143">In custom serialization, you can specify exactly which objects will be serialized and how it will be done.</span></span> <span data-ttu-id="72dc9-144">Třída musí být označen <xref:System.SerializableAttribute> a implementovat <xref:System.Runtime.Serialization.ISerializable> rozhraní.</span><span class="sxs-lookup"><span data-stu-id="72dc9-144">The class must be marked <xref:System.SerializableAttribute> and implement the <xref:System.Runtime.Serialization.ISerializable> interface.</span></span>

<span data-ttu-id="72dc9-145">Pokud chcete objektu k deserializaci vlastní způsobem, musíte použít vlastní konstruktor.</span><span class="sxs-lookup"><span data-stu-id="72dc9-145">If you want your object to be deserialized in a custom manner as well, you must use a custom constructor.</span></span>

## <a name="designer-serialization"></a><span data-ttu-id="72dc9-146">Návrhář serializace</span><span class="sxs-lookup"><span data-stu-id="72dc9-146">Designer serialization</span></span>

<span data-ttu-id="72dc9-147">Návrhář serializace je speciální forma serializace, který zahrnuje druh objektu trvalost přidružené nástroje pro vývoj.</span><span class="sxs-lookup"><span data-stu-id="72dc9-147">Designer serialization is a special form of serialization that involves the kind of object persistence associated with development tools.</span></span> <span data-ttu-id="72dc9-148">Návrhář serializace je proces převodu grafu objektu zdrojového souboru, který můžete později použít k obnovení grafu objektu.</span><span class="sxs-lookup"><span data-stu-id="72dc9-148">Designer serialization is the process of converting an object graph into a source file that can later be used to recover the object graph.</span></span> <span data-ttu-id="72dc9-149">Zdrojový soubor může obsahovat kód, značka nebo i informace o tabulce SQL.</span><span class="sxs-lookup"><span data-stu-id="72dc9-149">A source file can contain code, markup, or even SQL table information.</span></span>

##  <a name="BKMK_RelatedTopics"></a> <span data-ttu-id="72dc9-150">Příklady a související témata</span><span class="sxs-lookup"><span data-stu-id="72dc9-150">Related Topics and Examples</span></span>  
[<span data-ttu-id="72dc9-151">Návod: Uchování objektu v sadě Visual Studio (C#)</span><span class="sxs-lookup"><span data-stu-id="72dc9-151">Walkthrough: Persisting an Object in Visual Studio (C#)</span></span>](walkthrough-persisting-an-object-in-visual-studio.md)  
<span data-ttu-id="72dc9-152">Ukazuje, jak serializace může být použita k uchování dat objektu mezi instancemi, který vám umožní ukládat hodnoty a je načtou při příštím vytvoření instance objektu.</span><span class="sxs-lookup"><span data-stu-id="72dc9-152">Demonstrates how serialization can be used to persist an object's data between instances, allowing you to store values and retrieve them the next time the object is instantiated.</span></span>

[<span data-ttu-id="72dc9-153">Postupy: čtení dat objektů ze souboru XML (C#)</span><span class="sxs-lookup"><span data-stu-id="72dc9-153">How to: Read Object Data from an XML File (C#)</span></span>](how-to-read-object-data-from-an-xml-file.md)  
 <span data-ttu-id="72dc9-154">Ukazuje, jak číst data objektu, která byla dříve zapsána do souboru XML pomocí <xref:System.Xml.Serialization.XmlSerializer> třídy.</span><span class="sxs-lookup"><span data-stu-id="72dc9-154">Shows how to read object data that was previously written to an XML file using the <xref:System.Xml.Serialization.XmlSerializer> class.</span></span>

[<span data-ttu-id="72dc9-155">Postupy: zápis dat objektů do souboru XML (C#)</span><span class="sxs-lookup"><span data-stu-id="72dc9-155">How to: Write Object Data to an XML File (C#)</span></span>](how-to-write-object-data-to-an-xml-file.md)  
<span data-ttu-id="72dc9-156">Ukazuje, jak k zápisu objektu od třídy, do souboru XML pomocí <xref:System.Xml.Serialization.XmlSerializer> třídy.</span><span class="sxs-lookup"><span data-stu-id="72dc9-156">Shows how to write the object from a class to an XML file using the <xref:System.Xml.Serialization.XmlSerializer> class.</span></span>
