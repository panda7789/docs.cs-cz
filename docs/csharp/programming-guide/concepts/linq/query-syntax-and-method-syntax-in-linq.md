---
title: Syntaxe využívající dotazy a syntaxe využívající metody v jazyce LINQ (C#)
description: Seznamte se s syntaxí dotazů a syntaxí metod v LINQ. Patří sem standardní metody rozšíření operátoru dotazu a výrazy lambda.
ms.date: 07/20/2015
helpviewer_keywords:
- LINQ [C#], query syntax vs. method syntax
- queries [LINQ in C#], syntax comparisons
ms.assetid: eedd6dd9-fec2-428c-9581-5b8783810ded
ms.openlocfilehash: 1765a15347aeedb9cc5fa6784abdfad6fafe4016
ms.sourcegitcommit: 6f58a5f75ceeb936f8ee5b786e9adb81a9a3bee9
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 07/28/2020
ms.locfileid: "87300758"
---
# <a name="query-syntax-and-method-syntax-in-linq-c"></a><span data-ttu-id="feeed-104">Syntaxe využívající dotazy a syntaxe využívající metody v jazyce LINQ (C#)</span><span class="sxs-lookup"><span data-stu-id="feeed-104">Query Syntax and Method Syntax in LINQ (C#)</span></span>
<span data-ttu-id="feeed-105">Většina dotazů v dokumentaci k úvodnímu jazyku (LINQ) je zapsána pomocí syntaxe deklarativního dotazu LINQ.</span><span class="sxs-lookup"><span data-stu-id="feeed-105">Most queries in the introductory Language Integrated Query (LINQ) documentation are written by using the LINQ declarative query syntax.</span></span> <span data-ttu-id="feeed-106">Nicméně syntaxe dotazu musí být přeložena do volání metody pro modul CLR (Common Language Runtime) .NET, když je kód zkompilován.</span><span class="sxs-lookup"><span data-stu-id="feeed-106">However, the query syntax must be translated into method calls for the .NET common language runtime (CLR) when the code is compiled.</span></span> <span data-ttu-id="feeed-107">Tyto volání metod vyvolávají standardní operátory dotazu, které mají názvy jako `Where` , `Select` , `GroupBy` , `Join` , `Max` a `Average` .</span><span class="sxs-lookup"><span data-stu-id="feeed-107">These method calls invoke the standard query operators, which have names such as `Where`, `Select`, `GroupBy`, `Join`, `Max`, and `Average`.</span></span> <span data-ttu-id="feeed-108">Můžete je volat přímo pomocí syntaxe metody namísto syntaxe dotazu.</span><span class="sxs-lookup"><span data-stu-id="feeed-108">You can call them directly by using method syntax instead of query syntax.</span></span>  
  
 <span data-ttu-id="feeed-109">Syntaxe dotazu a syntaxe metody jsou sémanticky identické, ale mnoho lidí nalezne syntax dotazů jednodušší a snazší pro čtení.</span><span class="sxs-lookup"><span data-stu-id="feeed-109">Query syntax and method syntax are semantically identical, but many people find query syntax simpler and easier to read.</span></span> <span data-ttu-id="feeed-110">Některé dotazy musí být vyjádřeny jako volání metody.</span><span class="sxs-lookup"><span data-stu-id="feeed-110">Some queries must be expressed as method calls.</span></span> <span data-ttu-id="feeed-111">Například je nutné použít volání metody k vyjádření dotazu, který načte počet prvků, které odpovídají zadané podmínce.</span><span class="sxs-lookup"><span data-stu-id="feeed-111">For example, you must use a method call to express a query that retrieves the number of elements that match a specified condition.</span></span> <span data-ttu-id="feeed-112">Také je nutné použít volání metody pro dotaz, který načte prvek, který má maximální hodnotu ve zdrojové sekvenci.</span><span class="sxs-lookup"><span data-stu-id="feeed-112">You also must use a method call for a query that retrieves the element that has the maximum value in a source sequence.</span></span> <span data-ttu-id="feeed-113">Referenční dokumentace pro standardní operátory dotazů v <xref:System.Linq> oboru názvů obecně používá syntaxi metody.</span><span class="sxs-lookup"><span data-stu-id="feeed-113">The reference documentation for the standard query operators in the <xref:System.Linq> namespace generally uses method syntax.</span></span> <span data-ttu-id="feeed-114">Proto, i když Začínáme s psaním dotazů LINQ, je vhodné se seznámit s tím, jak používat syntaxi metody v dotazech a ve výrazech dotazů samotných.</span><span class="sxs-lookup"><span data-stu-id="feeed-114">Therefore, even when getting started writing LINQ queries, it is useful to be familiar with how to use method syntax in queries and in query expressions themselves.</span></span>  
  
## <a name="standard-query-operator-extension-methods"></a><span data-ttu-id="feeed-115">Metody rozšíření standardních operátorů dotazů</span><span class="sxs-lookup"><span data-stu-id="feeed-115">Standard Query Operator Extension Methods</span></span>  
 <span data-ttu-id="feeed-116">Následující příklad ukazuje jednoduchý *výraz dotazu* a sémanticky ekvivalentní dotaz zapsaný jako *dotaz založený na metodě*.</span><span class="sxs-lookup"><span data-stu-id="feeed-116">The following example shows a simple *query expression* and the semantically equivalent query written as a *method-based query*.</span></span>  
  
 [!code-csharp[csLINQGettingStarted#22](~/samples/snippets/csharp/VS_Snippets_VBCSharp/CsLINQGettingStarted/CS/Class1.cs#22)]  
  
 <span data-ttu-id="feeed-117">Výstup ze dvou příkladů je stejný.</span><span class="sxs-lookup"><span data-stu-id="feeed-117">The output from the two examples is identical.</span></span> <span data-ttu-id="feeed-118">Můžete vidět, že typ proměnné dotazu je stejný v obou formulářích: <xref:System.Collections.Generic.IEnumerable%601> .</span><span class="sxs-lookup"><span data-stu-id="feeed-118">You can see that the type of the query variable is the same in both forms: <xref:System.Collections.Generic.IEnumerable%601>.</span></span>  
  
 <span data-ttu-id="feeed-119">Abychom porozuměli dotazům založeným na metodách, Podívejme se na to podrobněji.</span><span class="sxs-lookup"><span data-stu-id="feeed-119">To understand the method-based query, let's examine it more closely.</span></span> <span data-ttu-id="feeed-120">Na pravé straně výrazu si všimněte, že `where` klauzule je nyní vyjádřena jako metoda instance `numbers` objektu, což znamená, že navrácení má typ `IEnumerable<int>` .</span><span class="sxs-lookup"><span data-stu-id="feeed-120">On the right side of the expression, notice that the `where` clause is now expressed as an instance method on the `numbers` object, which as you will recall has a type of `IEnumerable<int>`.</span></span> <span data-ttu-id="feeed-121">Pokud jste obeznámeni s obecným <xref:System.Collections.Generic.IEnumerable%601> rozhraním, víte, že nemá `Where` metodu.</span><span class="sxs-lookup"><span data-stu-id="feeed-121">If you are familiar with the generic <xref:System.Collections.Generic.IEnumerable%601> interface, you know that it does not have a `Where` method.</span></span> <span data-ttu-id="feeed-122">Nicméně pokud vyvoláte seznam dokončení IntelliSense v integrovaném vývojovém prostředí sady Visual Studio, zobrazí se nejenom `Where` metoda, ale spousta dalších metod, jako `Select` je,, `SelectMany` `Join` a `Orderby` .</span><span class="sxs-lookup"><span data-stu-id="feeed-122">However, if you invoke the IntelliSense completion list in the Visual Studio IDE, you will see not only a `Where` method, but many other methods such as `Select`, `SelectMany`, `Join`, and `Orderby`.</span></span> <span data-ttu-id="feeed-123">Jedná se o všechny standardní operátory dotazu.</span><span class="sxs-lookup"><span data-stu-id="feeed-123">These are all the standard query operators.</span></span>  
  
 ![Snímek obrazovky znázorňující všechny standardní operátory dotazu v IntelliSense](./media/query-syntax-and-method-syntax-in-linq/standard-query-operators.png)  
  
 <span data-ttu-id="feeed-125">I když se zdá, že <xref:System.Collections.Generic.IEnumerable%601> se předefinoval, aby zahrnoval tyto další metody, ve skutečnosti to není případ.</span><span class="sxs-lookup"><span data-stu-id="feeed-125">Although it looks as if <xref:System.Collections.Generic.IEnumerable%601> has been redefined to include these additional methods, in fact this is not the case.</span></span> <span data-ttu-id="feeed-126">Standardní operátory dotazu jsou implementovány jako nový typ metody s názvem *rozšiřující metody*.</span><span class="sxs-lookup"><span data-stu-id="feeed-126">The standard query operators are implemented as a new kind of method called *extension methods*.</span></span> <span data-ttu-id="feeed-127">Rozšiřující metody "extend" existující typ; mohou být volány, jako by šlo o metody instance pro daný typ.</span><span class="sxs-lookup"><span data-stu-id="feeed-127">Extensions methods "extend" an existing type; they can be called as if they were instance methods on the type.</span></span> <span data-ttu-id="feeed-128">Standardní operátory dotazu přesahují <xref:System.Collections.Generic.IEnumerable%601> a, což je důvod, proč můžete zapisovat `numbers.Where(...)` .</span><span class="sxs-lookup"><span data-stu-id="feeed-128">The standard query operators extend <xref:System.Collections.Generic.IEnumerable%601> and that is why you can write `numbers.Where(...)`.</span></span>  
  
 <span data-ttu-id="feeed-129">Chcete-li začít používat LINQ, vše, co opravdu potřebujete znát o metodách rozšíření, je způsob, jak je přenést do rozsahu aplikace pomocí správných `using` direktiv.</span><span class="sxs-lookup"><span data-stu-id="feeed-129">To get started using LINQ, all that you really have to know about extension methods is how to bring them into scope in your application by using the correct `using` directives.</span></span> <span data-ttu-id="feeed-130">Z pohledu vaší aplikace je metoda rozšíření a pravidelná metoda instance stejná.</span><span class="sxs-lookup"><span data-stu-id="feeed-130">From your application's point of view, an extension method and a regular instance method are the same.</span></span>  
  
 <span data-ttu-id="feeed-131">Další informace o metodách rozšíření naleznete v tématu [metody rozšíření](../../classes-and-structs/extension-methods.md).</span><span class="sxs-lookup"><span data-stu-id="feeed-131">For more information about extension methods, see [Extension Methods](../../classes-and-structs/extension-methods.md).</span></span> <span data-ttu-id="feeed-132">Další informace o standardních operátorech dotazů naleznete v tématu [Přehled standardních operátorů dotazu (C#)](./standard-query-operators-overview.md).</span><span class="sxs-lookup"><span data-stu-id="feeed-132">For more information about standard query operators, see [Standard Query Operators Overview (C#)](./standard-query-operators-overview.md).</span></span> <span data-ttu-id="feeed-133">Někteří poskytovatelé LINQ, například [!INCLUDE[vbtecdlinq](~/includes/vbtecdlinq-md.md)] a [!INCLUDE[sqltecxlinq](~/includes/sqltecxlinq-md.md)] , implementují své vlastní standardní operátory dotazování a další metody rozšíření pro jiné typy kromě <xref:System.Collections.Generic.IEnumerable%601> .</span><span class="sxs-lookup"><span data-stu-id="feeed-133">Some LINQ providers, such as [!INCLUDE[vbtecdlinq](~/includes/vbtecdlinq-md.md)] and [!INCLUDE[sqltecxlinq](~/includes/sqltecxlinq-md.md)], implement their own standard query operators and additional extension methods for other types besides <xref:System.Collections.Generic.IEnumerable%601>.</span></span>  
  
## <a name="lambda-expressions"></a><span data-ttu-id="feeed-134">Lambda – výrazy</span><span class="sxs-lookup"><span data-stu-id="feeed-134">Lambda Expressions</span></span>  
 <span data-ttu-id="feeed-135">V předchozím příkladu si všimněte, že podmíněný výraz ( `num % 2 == 0` ) je předán jako do vloženého argumentu `Where` metody: `Where(num => num % 2 == 0).` Tento vložený výraz se nazývá výraz lambda.</span><span class="sxs-lookup"><span data-stu-id="feeed-135">In the previous example, notice that the conditional expression (`num % 2 == 0`) is passed as an in-line argument to the `Where` method: `Where(num => num % 2 == 0).` This inline expression is called a lambda expression.</span></span> <span data-ttu-id="feeed-136">Je pohodlný způsob, jak napsat kód, který by jinak musel být napsán ve složitější formě jako anonymní metoda nebo jako obecný delegát nebo strom výrazu.</span><span class="sxs-lookup"><span data-stu-id="feeed-136">It is a convenient way to write code that would otherwise have to be written in more cumbersome form as an anonymous method or a generic delegate or an expression tree.</span></span> <span data-ttu-id="feeed-137">V jazyce C# `=>` je operátor lambda, který je čten jako "Přejít na".</span><span class="sxs-lookup"><span data-stu-id="feeed-137">In C# `=>` is the lambda operator, which is read as "goes to".</span></span> <span data-ttu-id="feeed-138">Na `num` levé straně operátoru je vstupní proměnná, která odpovídá `num` výrazu dotazu.</span><span class="sxs-lookup"><span data-stu-id="feeed-138">The `num` on the left of the operator is the input variable which corresponds to `num` in the query expression.</span></span> <span data-ttu-id="feeed-139">Kompilátor může odvodit typ `num` , protože ví, že `numbers` se jedná o obecný <xref:System.Collections.Generic.IEnumerable%601> typ.</span><span class="sxs-lookup"><span data-stu-id="feeed-139">The compiler can infer the type of `num` because it knows that `numbers` is a generic <xref:System.Collections.Generic.IEnumerable%601> type.</span></span> <span data-ttu-id="feeed-140">Tělo lambda je pouze stejné jako výraz v syntaxi dotazu nebo v jakémkoli jiném výrazu jazyka C# nebo příkazu; může zahrnovat volání metod a další komplexní logiku.</span><span class="sxs-lookup"><span data-stu-id="feeed-140">The body of the lambda is just the same as the expression in query syntax or in any other C# expression or statement; it can include method calls and other complex logic.</span></span> <span data-ttu-id="feeed-141">"Návratovou hodnotou" je pouze výsledek výrazu.</span><span class="sxs-lookup"><span data-stu-id="feeed-141">The "return value" is just the expression result.</span></span>  
  
 <span data-ttu-id="feeed-142">Chcete-li začít používat LINQ, nemusíte často používat výrazy lambda.</span><span class="sxs-lookup"><span data-stu-id="feeed-142">To get started using LINQ, you do not have to use lambdas extensively.</span></span> <span data-ttu-id="feeed-143">Nicméně některé dotazy lze vyjádřit pouze v syntaxi metody a některé z nich vyžadují výrazy lambda.</span><span class="sxs-lookup"><span data-stu-id="feeed-143">However, certain queries can only be expressed in method syntax and some of those require lambda expressions.</span></span> <span data-ttu-id="feeed-144">Po podrobnějším seznámení s výrazy lambda zjistíte, že jsou výkonným a flexibilním nástrojem v sadě LINQ Toolbox.</span><span class="sxs-lookup"><span data-stu-id="feeed-144">After you become more familiar with lambdas, you will find that they are a powerful and flexible tool in your LINQ toolbox.</span></span> <span data-ttu-id="feeed-145">Další informace naleznete v tématu [lambda výrazy](../../statements-expressions-operators/lambda-expressions.md).</span><span class="sxs-lookup"><span data-stu-id="feeed-145">For more information, see [Lambda Expressions](../../statements-expressions-operators/lambda-expressions.md).</span></span>  
  
## <a name="composability-of-queries"></a><span data-ttu-id="feeed-146">Skládání dotazů</span><span class="sxs-lookup"><span data-stu-id="feeed-146">Composability of Queries</span></span>  
 <span data-ttu-id="feeed-147">V předchozím příkladu kódu si všimněte, že `OrderBy` Metoda je vyvolána pomocí operátoru tečka v volání `Where` .</span><span class="sxs-lookup"><span data-stu-id="feeed-147">In the previous code example, note that the `OrderBy` method is invoked by using the dot operator on the call to `Where`.</span></span> <span data-ttu-id="feeed-148">`Where`Vytvoří filtrovanou sekvenci a potom `Orderby` v této sekvenci funguje tak, že ji seřadí.</span><span class="sxs-lookup"><span data-stu-id="feeed-148">`Where` produces a filtered sequence, and then `Orderby` operates on that sequence by sorting it.</span></span> <span data-ttu-id="feeed-149">Vzhledem k tomu, že dotazy vrátí `IEnumerable` , je vytvoříte v syntaxi metody zřetězením volání metody dohromady.</span><span class="sxs-lookup"><span data-stu-id="feeed-149">Because queries return an `IEnumerable`, you compose them in method syntax by chaining the method calls together.</span></span> <span data-ttu-id="feeed-150">To je to, co kompilátor provede na pozadí při psaní dotazů pomocí syntaxe dotazů.</span><span class="sxs-lookup"><span data-stu-id="feeed-150">This is what the compiler does behind the scenes when you write queries by using query syntax.</span></span> <span data-ttu-id="feeed-151">A protože proměnná dotazu neukládá výsledky dotazu, můžete ji upravit nebo použít jako základ pro nový dotaz kdykoli, a to i po provedení.</span><span class="sxs-lookup"><span data-stu-id="feeed-151">And because a query variable does not store the results of the query, you can modify it or use it as the basis for a new query at any time, even after it has been executed.</span></span>  
