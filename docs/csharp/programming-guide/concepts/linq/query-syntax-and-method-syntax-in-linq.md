---
title: Syntaxe využívající dotazy a syntaxe využívající metody v jazyce LINQ (C#)
ms.date: 07/20/2015
helpviewer_keywords:
- LINQ [C#], query syntax vs. method syntax
- queries [LINQ in C#], syntax comparisons
ms.assetid: eedd6dd9-fec2-428c-9581-5b8783810ded
ms.openlocfilehash: 17280daaf98010245bbd019652a2a46d7f66ab59
ms.sourcegitcommit: 7588136e355e10cbc2582f389c90c127363c02a5
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 03/14/2020
ms.locfileid: "75635493"
---
# <a name="query-syntax-and-method-syntax-in-linq-c"></a><span data-ttu-id="95acd-102">Syntaxe využívající dotazy a syntaxe využívající metody v jazyce LINQ (C#)</span><span class="sxs-lookup"><span data-stu-id="95acd-102">Query Syntax and Method Syntax in LINQ (C#)</span></span>
<span data-ttu-id="95acd-103">Většina dotazů v dokumentaci integrovaného dotazu zaváděcího jazyka (LINQ) je napsána pomocí syntaxe deklarativního dotazu LINQ.</span><span class="sxs-lookup"><span data-stu-id="95acd-103">Most queries in the introductory Language Integrated Query (LINQ) documentation are written by using the LINQ declarative query syntax.</span></span> <span data-ttu-id="95acd-104">Syntaxe dotazu však musí být přeložena do volání metody pro běh .NET common language runtime (CLR) při kompilaci kódu.</span><span class="sxs-lookup"><span data-stu-id="95acd-104">However, the query syntax must be translated into method calls for the .NET common language runtime (CLR) when the code is compiled.</span></span> <span data-ttu-id="95acd-105">Tato volání metod vyvolávají standardní operátory dotazů, `Join`které `Max`mají `Average`názvy , například `Where`, `Select` `GroupBy`, , a .</span><span class="sxs-lookup"><span data-stu-id="95acd-105">These method calls invoke the standard query operators, which have names such as `Where`, `Select`, `GroupBy`, `Join`, `Max`, and `Average`.</span></span> <span data-ttu-id="95acd-106">Můžete volat přímo pomocí syntaxe metody namísto syntaxe dotazu.</span><span class="sxs-lookup"><span data-stu-id="95acd-106">You can call them directly by using method syntax instead of query syntax.</span></span>  
  
 <span data-ttu-id="95acd-107">Syntaxe a syntaxe metody dotazu jsou sémanticky identické, ale mnoho lidí považuje syntaxi dotazu za jednodušší a čitelnější.</span><span class="sxs-lookup"><span data-stu-id="95acd-107">Query syntax and method syntax are semantically identical, but many people find query syntax simpler and easier to read.</span></span> <span data-ttu-id="95acd-108">Některé dotazy musí být vyjádřeny jako volání metody.</span><span class="sxs-lookup"><span data-stu-id="95acd-108">Some queries must be expressed as method calls.</span></span> <span data-ttu-id="95acd-109">Například je nutné použít volání metody vyjádřit dotaz, který načte počet prvků, které odpovídají zadané podmínce.</span><span class="sxs-lookup"><span data-stu-id="95acd-109">For example, you must use a method call to express a query that retrieves the number of elements that match a specified condition.</span></span> <span data-ttu-id="95acd-110">Musíte také použít volání metody pro dotaz, který načte prvek, který má maximální hodnotu ve zdrojové sekvenci.</span><span class="sxs-lookup"><span data-stu-id="95acd-110">You also must use a method call for a query that retrieves the element that has the maximum value in a source sequence.</span></span> <span data-ttu-id="95acd-111">Referenční dokumentace pro standardní operátory <xref:System.Linq> dotazů v oboru názvů obvykle používá syntaxi metody.</span><span class="sxs-lookup"><span data-stu-id="95acd-111">The reference documentation for the standard query operators in the <xref:System.Linq> namespace generally uses method syntax.</span></span> <span data-ttu-id="95acd-112">Proto i při začínání psaní linq dotazů, je užitečné být obeznámeni s tím, jak používat syntaxi metody v dotazech a ve výrazech dotazu sami.</span><span class="sxs-lookup"><span data-stu-id="95acd-112">Therefore, even when getting started writing LINQ queries, it is useful to be familiar with how to use method syntax in queries and in query expressions themselves.</span></span>  
  
## <a name="standard-query-operator-extension-methods"></a><span data-ttu-id="95acd-113">Metody rozšíření standardních operátorů dotazů</span><span class="sxs-lookup"><span data-stu-id="95acd-113">Standard Query Operator Extension Methods</span></span>  
 <span data-ttu-id="95acd-114">Následující příklad ukazuje jednoduchý *výraz dotazu* a sémanticky ekvivalentní dotaz napsaný jako *dotaz založený na metodě*.</span><span class="sxs-lookup"><span data-stu-id="95acd-114">The following example shows a simple *query expression* and the semantically equivalent query written as a *method-based query*.</span></span>  
  
 [!code-csharp[csLINQGettingStarted#22](~/samples/snippets/csharp/VS_Snippets_VBCSharp/CsLINQGettingStarted/CS/Class1.cs#22)]  
  
 <span data-ttu-id="95acd-115">Výstup z obou příkladů je identický.</span><span class="sxs-lookup"><span data-stu-id="95acd-115">The output from the two examples is identical.</span></span> <span data-ttu-id="95acd-116">Můžete vidět, že typ proměnné dotazu je stejný <xref:System.Collections.Generic.IEnumerable%601>v obou formách: .</span><span class="sxs-lookup"><span data-stu-id="95acd-116">You can see that the type of the query variable is the same in both forms: <xref:System.Collections.Generic.IEnumerable%601>.</span></span>  
  
 <span data-ttu-id="95acd-117">Chcete-li porozumět dotazu založenému na metodě, podívejme se na něj podrobněji.</span><span class="sxs-lookup"><span data-stu-id="95acd-117">To understand the method-based query, let's examine it more closely.</span></span> <span data-ttu-id="95acd-118">Na pravé straně výrazu všimněte `where` si, že klauzule je `numbers` nyní vyjádřena jako metoda instance `IEnumerable<int>`na objektu, který, jak si budete vzpomenout, má typ .</span><span class="sxs-lookup"><span data-stu-id="95acd-118">On the right side of the expression, notice that the `where` clause is now expressed as an instance method on the `numbers` object, which as you will recall has a type of `IEnumerable<int>`.</span></span> <span data-ttu-id="95acd-119">Pokud jste obeznámeni <xref:System.Collections.Generic.IEnumerable%601> s obecným rozhraním, víte, že nemá metodu. `Where`</span><span class="sxs-lookup"><span data-stu-id="95acd-119">If you are familiar with the generic <xref:System.Collections.Generic.IEnumerable%601> interface, you know that it does not have a `Where` method.</span></span> <span data-ttu-id="95acd-120">Pokud však vyvoláte seznam dokončení technologie IntelliSense v ide sady `Where` Visual Studio, zobrazí `Select`se `SelectMany` `Join`nejen `Orderby`metoda, ale také mnoho dalších metod, například , , a .</span><span class="sxs-lookup"><span data-stu-id="95acd-120">However, if you invoke the IntelliSense completion list in the Visual Studio IDE, you will see not only a `Where` method, but many other methods such as `Select`, `SelectMany`, `Join`, and `Orderby`.</span></span> <span data-ttu-id="95acd-121">Jedná se o všechny standardní operátory dotazu.</span><span class="sxs-lookup"><span data-stu-id="95acd-121">These are all the standard query operators.</span></span>  
  
 ![Snímek obrazovky zobrazující všechny standardní operátory dotazů v aplikaci Intellisense](./media/query-syntax-and-method-syntax-in-linq/standard-query-operators.png)  
  
 <span data-ttu-id="95acd-123">I když to <xref:System.Collections.Generic.IEnumerable%601> vypadá, jako by byl předefinován tak, aby zahrnovala tyto další metody, ve skutečnosti tomu tak není.</span><span class="sxs-lookup"><span data-stu-id="95acd-123">Although it looks as if <xref:System.Collections.Generic.IEnumerable%601> has been redefined to include these additional methods, in fact this is not the case.</span></span> <span data-ttu-id="95acd-124">Standardní operátory dotazů jsou implementovány jako nový druh metody nazývané *metody rozšíření*.</span><span class="sxs-lookup"><span data-stu-id="95acd-124">The standard query operators are implemented as a new kind of method called *extension methods*.</span></span> <span data-ttu-id="95acd-125">Rozšíření metody "rozšířit" existující typ; mohou být volány, jako by byly instance metody na typu.</span><span class="sxs-lookup"><span data-stu-id="95acd-125">Extensions methods "extend" an existing type; they can be called as if they were instance methods on the type.</span></span> <span data-ttu-id="95acd-126">Standardní operátory <xref:System.Collections.Generic.IEnumerable%601> dotazů rozšířit a `numbers.Where(...)`to je důvod, proč můžete psát .</span><span class="sxs-lookup"><span data-stu-id="95acd-126">The standard query operators extend <xref:System.Collections.Generic.IEnumerable%601> and that is why you can write `numbers.Where(...)`.</span></span>  
  
 <span data-ttu-id="95acd-127">Chcete-li začít používat LINQ, vše, co opravdu potřebujete vědět o metodách rozšíření je, jak je přenést do oboru ve vaší aplikaci pomocí správné `using` direktivy.</span><span class="sxs-lookup"><span data-stu-id="95acd-127">To get started using LINQ, all that you really have to know about extension methods is how to bring them into scope in your application by using the correct `using` directives.</span></span> <span data-ttu-id="95acd-128">Z hlediska aplikace rozšíření metody a metody pravidelné instance jsou stejné.</span><span class="sxs-lookup"><span data-stu-id="95acd-128">From your application's point of view, an extension method and a regular instance method are the same.</span></span>  
  
 <span data-ttu-id="95acd-129">Další informace o metodách rozšíření naleznete v [tématu Extension Methods](../../classes-and-structs/extension-methods.md).</span><span class="sxs-lookup"><span data-stu-id="95acd-129">For more information about extension methods, see [Extension Methods](../../classes-and-structs/extension-methods.md).</span></span> <span data-ttu-id="95acd-130">Další informace o standardních operátorech dotazů naleznete v [tématu Přehled standardních operátorů dotazů (C#).](./standard-query-operators-overview.md)</span><span class="sxs-lookup"><span data-stu-id="95acd-130">For more information about standard query operators, see [Standard Query Operators Overview (C#)](./standard-query-operators-overview.md).</span></span> <span data-ttu-id="95acd-131">Někteří zprostředkovatelé LINQ, například [!INCLUDE[vbtecdlinq](~/includes/vbtecdlinq-md.md)] a [!INCLUDE[sqltecxlinq](~/includes/sqltecxlinq-md.md)], implementovat své vlastní <xref:System.Collections.Generic.IEnumerable%601>operátory standardní dotaz a další metody rozšíření pro jiné typy kromě .</span><span class="sxs-lookup"><span data-stu-id="95acd-131">Some LINQ providers, such as [!INCLUDE[vbtecdlinq](~/includes/vbtecdlinq-md.md)] and [!INCLUDE[sqltecxlinq](~/includes/sqltecxlinq-md.md)], implement their own standard query operators and additional extension methods for other types besides <xref:System.Collections.Generic.IEnumerable%601>.</span></span>  
  
## <a name="lambda-expressions"></a><span data-ttu-id="95acd-132">Lambda – výrazy</span><span class="sxs-lookup"><span data-stu-id="95acd-132">Lambda Expressions</span></span>  
 <span data-ttu-id="95acd-133">V předchozím příkladu všimněte si, že podmíněný výraz (`num % 2 == 0`) `Where` je `Where(num => num % 2 == 0).` předán jako in-line argument metody: Tento vložký výraz se nazývá výraz lambda.</span><span class="sxs-lookup"><span data-stu-id="95acd-133">In the previous example, notice that the conditional expression (`num % 2 == 0`) is passed as an in-line argument to the `Where` method: `Where(num => num % 2 == 0).` This inline expression is called a lambda expression.</span></span> <span data-ttu-id="95acd-134">Je to pohodlný způsob, jak napsat kód, který by jinak musel být napsán v těžkopádnější formě jako anonymní metoda nebo obecný delegát nebo strom výrazů.</span><span class="sxs-lookup"><span data-stu-id="95acd-134">It is a convenient way to write code that would otherwise have to be written in more cumbersome form as an anonymous method or a generic delegate or an expression tree.</span></span> <span data-ttu-id="95acd-135">V C# `=>` je lambda operátor, který se čte jako "přejde do".</span><span class="sxs-lookup"><span data-stu-id="95acd-135">In C# `=>` is the lambda operator, which is read as "goes to".</span></span> <span data-ttu-id="95acd-136">Vlevo `num` od operátoru je vstupní proměnná, `num` která odpovídá ve výrazu dotazu.</span><span class="sxs-lookup"><span data-stu-id="95acd-136">The `num` on the left of the operator is the input variable which corresponds to `num` in the query expression.</span></span> <span data-ttu-id="95acd-137">Kompilátor může odvodit `num` typ, `numbers` protože <xref:System.Collections.Generic.IEnumerable%601> ví, že je obecný typ.</span><span class="sxs-lookup"><span data-stu-id="95acd-137">The compiler can infer the type of `num` because it knows that `numbers` is a generic <xref:System.Collections.Generic.IEnumerable%601> type.</span></span> <span data-ttu-id="95acd-138">Tělo lambda je stejný jako výraz v syntaxi dotazu nebo v jiném c# výraz nebo příkaz; může zahrnovat volání metod a další komplexní logiku.</span><span class="sxs-lookup"><span data-stu-id="95acd-138">The body of the lambda is just the same as the expression in query syntax or in any other C# expression or statement; it can include method calls and other complex logic.</span></span> <span data-ttu-id="95acd-139">"Vrácená hodnota" je pouze výsledek výrazu.</span><span class="sxs-lookup"><span data-stu-id="95acd-139">The "return value" is just the expression result.</span></span>  
  
 <span data-ttu-id="95acd-140">Chcete-li začít používat LINQ, není nutné používat lambdas značně.</span><span class="sxs-lookup"><span data-stu-id="95acd-140">To get started using LINQ, you do not have to use lambdas extensively.</span></span> <span data-ttu-id="95acd-141">Některé dotazy však mohou být vyjádřeny pouze v syntaxi metody a některé z nich vyžadují výrazy lambda.</span><span class="sxs-lookup"><span data-stu-id="95acd-141">However, certain queries can only be expressed in method syntax and some of those require lambda expressions.</span></span> <span data-ttu-id="95acd-142">Poté, co se více seznámíte s lambdy, zjistíte, že jsou výkonným a flexibilním nástrojem v krabici nástrojů LINQ.</span><span class="sxs-lookup"><span data-stu-id="95acd-142">After you become more familiar with lambdas, you will find that they are a powerful and flexible tool in your LINQ toolbox.</span></span> <span data-ttu-id="95acd-143">Další informace naleznete v tématu [Lambda Expressions](../../statements-expressions-operators/lambda-expressions.md).</span><span class="sxs-lookup"><span data-stu-id="95acd-143">For more information, see [Lambda Expressions](../../statements-expressions-operators/lambda-expressions.md).</span></span>  
  
## <a name="composability-of-queries"></a><span data-ttu-id="95acd-144">Skládání dotazů</span><span class="sxs-lookup"><span data-stu-id="95acd-144">Composability of Queries</span></span>  
 <span data-ttu-id="95acd-145">V předchozím příkladu kódu `OrderBy` si všimněte, že metoda je vyvolána `Where`pomocí operátoru tečky při volání .</span><span class="sxs-lookup"><span data-stu-id="95acd-145">In the previous code example, note that the `OrderBy` method is invoked by using the dot operator on the call to `Where`.</span></span> <span data-ttu-id="95acd-146">`Where`vytvoří filtrovanou sekvenci a pak `Orderby` pracuje na této sekvenci řazením.</span><span class="sxs-lookup"><span data-stu-id="95acd-146">`Where` produces a filtered sequence, and then `Orderby` operates on that sequence by sorting it.</span></span> <span data-ttu-id="95acd-147">Vzhledem k `IEnumerable`tomu, že dotazy vrátí , můžete je sestavit v syntaxi metody zřetězením volání metody dohromady.</span><span class="sxs-lookup"><span data-stu-id="95acd-147">Because queries return an `IEnumerable`, you compose them in method syntax by chaining the method calls together.</span></span> <span data-ttu-id="95acd-148">To je to, co kompilátor dělá na pozadí při psaní dotazů pomocí syntaxe dotazu.</span><span class="sxs-lookup"><span data-stu-id="95acd-148">This is what the compiler does behind the scenes when you write queries by using query syntax.</span></span> <span data-ttu-id="95acd-149">A protože proměnná dotazu neukládá výsledky dotazu, můžete ji upravit nebo použít jako základ pro nový dotaz kdykoli, i po jeho spuštění.</span><span class="sxs-lookup"><span data-stu-id="95acd-149">And because a query variable does not store the results of the query, you can modify it or use it as the basis for a new query at any time, even after it has been executed.</span></span>  
