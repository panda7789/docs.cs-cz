---
title: 'Postupy: Změna obsahu řetězce – průvodce v C#'
ms.date: 02/26/2018
helpviewer_keywords:
- strings [C#], modifying
ms.openlocfilehash: 23d52a52291b3d5c36fc2ed0f299ab82aa5ffabd
ms.sourcegitcommit: 64f4baed249341e5bf64d1385bf48e3f2e1a0211
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 09/07/2018
ms.locfileid: "44076859"
---
# <a name="how-to-modify-string-contents-in-c"></a><span data-ttu-id="49230-102">Postupy: Změna obsahu řetězce v jazyce C\#</span><span class="sxs-lookup"><span data-stu-id="49230-102">How to: Modify string contents in C\#</span></span>

<span data-ttu-id="49230-103">Tento článek ukazuje řadu technik k vytvoření `string` změnou existující `string`.</span><span class="sxs-lookup"><span data-stu-id="49230-103">This article demonstrates several techniques to produce a `string` by modifying an existing `string`.</span></span> <span data-ttu-id="49230-104">Všechny metody vrátí výsledek změny jako nový jsme vám ukázali `string` objektu.</span><span class="sxs-lookup"><span data-stu-id="49230-104">All the techniques demonstrated return the result of the modifications as a new `string` object.</span></span> <span data-ttu-id="49230-105">Všechny příklady jasně ukazuje to, uloží výsledek v nové proměnné.</span><span class="sxs-lookup"><span data-stu-id="49230-105">To clearly demonstrate this, the examples all store the result in a new variable.</span></span> <span data-ttu-id="49230-106">Poté můžete prozkoumat původní `string` a `string` vyplývající z změny, když spustíte každý příklad.</span><span class="sxs-lookup"><span data-stu-id="49230-106">You can then examine both the original `string` and the `string` resulting from the modification when you run each example.</span></span>

[!INCLUDE[interactive-note](~/includes/csharp-interactive-note.md)]

<span data-ttu-id="49230-107">Existuje několik technik naznačených v tomto článku.</span><span class="sxs-lookup"><span data-stu-id="49230-107">There are several techniques demonstrated in this article.</span></span> <span data-ttu-id="49230-108">Můžete nahradit existující text.</span><span class="sxs-lookup"><span data-stu-id="49230-108">You can replace existing text.</span></span> <span data-ttu-id="49230-109">Můžete vyhledat a nahradit odpovídající text jiným textem.</span><span class="sxs-lookup"><span data-stu-id="49230-109">You can search for patterns and replace matching text with other text.</span></span> <span data-ttu-id="49230-110">Řetězec lze považovat jako posloupnost znaků.</span><span class="sxs-lookup"><span data-stu-id="49230-110">You can treat a string as a sequence of characters.</span></span> <span data-ttu-id="49230-111">Můžete také použít vhodné metody, které odebrat prázdné znaky.</span><span class="sxs-lookup"><span data-stu-id="49230-111">You can also use convenience methods that remove white space.</span></span> <span data-ttu-id="49230-112">Měli byste zvolit techniky, které nejvíce odpovídají vašemu scénáři.</span><span class="sxs-lookup"><span data-stu-id="49230-112">You should choose the techniques that most closely match your scenario.</span></span>

## <a name="replace-text"></a><span data-ttu-id="49230-113">Nahradit text</span><span class="sxs-lookup"><span data-stu-id="49230-113">Replace text</span></span>

<span data-ttu-id="49230-114">Následující kód vytvoří nový řetězec tak, že nahradíte existující text s náhradou.</span><span class="sxs-lookup"><span data-stu-id="49230-114">The following code creates a new string by replacing existing text with a substitute.</span></span>

[!code-csharp-interactive[replace creates a new string](../../../samples/snippets/csharp/how-to/strings/ModifyStrings.cs#1)]

<span data-ttu-id="49230-115">Předchozí kód ukazuje to *neměnné* vlastnosti řetězců.</span><span class="sxs-lookup"><span data-stu-id="49230-115">The preceding code demonstrates this *immutable* property of strings.</span></span> <span data-ttu-id="49230-116">Zobrazí se v předchozím příkladu, který původní řetězec `source`, se nezmění.</span><span class="sxs-lookup"><span data-stu-id="49230-116">You can see in the preceding example that the original string, `source`, is not modified.</span></span> <span data-ttu-id="49230-117"><xref:System.String.Replace%2A?displayProperty=nameWithType> Metoda vytvoří nový `string` obsahující změny.</span><span class="sxs-lookup"><span data-stu-id="49230-117">The <xref:System.String.Replace%2A?displayProperty=nameWithType> method creates a new `string` containing the modifications.</span></span>

<span data-ttu-id="49230-118"><xref:System.String.Replace%2A> Metody lze nahradit řetězce nebo jednotlivé znaky.</span><span class="sxs-lookup"><span data-stu-id="49230-118">The <xref:System.String.Replace%2A> method can replace either strings or single characters.</span></span> <span data-ttu-id="49230-119">V obou případech se nahradí všechny výskyty hledané kombinaci textu.</span><span class="sxs-lookup"><span data-stu-id="49230-119">In both cases, every occurrence of the sought text is replaced.</span></span>  <span data-ttu-id="49230-120">Následující příklad nahradí všechny ' "znaků a obsahující"\_":</span><span class="sxs-lookup"><span data-stu-id="49230-120">The following example replaces all ' ' characters with '\_':</span></span>

[!code-csharp-interactive[replace characters](../../../samples/snippets/csharp/how-to/strings/ModifyStrings.cs#2)]

<span data-ttu-id="49230-121">Zdrojový řetězec se nezmění a vrátí nový řetězec se nahrazení.</span><span class="sxs-lookup"><span data-stu-id="49230-121">The source string is unchanged, and a new string is returned with the replacement.</span></span>

## <a name="trim-white-space"></a><span data-ttu-id="49230-122">Trim prázdný znak</span><span class="sxs-lookup"><span data-stu-id="49230-122">Trim white space</span></span>

<span data-ttu-id="49230-123">Můžete použít <xref:System.String.Trim%2A?displayProperty=nameWithType>, <xref:System.String.TrimStart%2A?displayProperty=nameWithType>, a <xref:System.String.TrimEnd%2A?displayProperty=nameWithType> metody odebere všechny úvodní a koncové prázdné znaky.</span><span class="sxs-lookup"><span data-stu-id="49230-123">You can use the <xref:System.String.Trim%2A?displayProperty=nameWithType>, <xref:System.String.TrimStart%2A?displayProperty=nameWithType>, and <xref:System.String.TrimEnd%2A?displayProperty=nameWithType> methods to remove any leading or trailing white space.</span></span>  <span data-ttu-id="49230-124">Následující kód ukazuje příklad každého.</span><span class="sxs-lookup"><span data-stu-id="49230-124">The following code shows an example of each.</span></span> <span data-ttu-id="49230-125">Zdrojový řetězec nemění; Tyto metody vrátí nový řetězec s upravený obsah.</span><span class="sxs-lookup"><span data-stu-id="49230-125">The source string does not change; these methods return a new string with the modified contents.</span></span>

[!code-csharp-interactive[trim white space](../../../samples/snippets/csharp/how-to/strings/ModifyStrings.cs#3)]

## <a name="remove-text"></a><span data-ttu-id="49230-126">Odeberte text</span><span class="sxs-lookup"><span data-stu-id="49230-126">Remove text</span></span>

<span data-ttu-id="49230-127">Text lze odebrat z řetězce pomocí <xref:System.String.Remove%2A?displayProperty=nameWithType> metody.</span><span class="sxs-lookup"><span data-stu-id="49230-127">You can remove text from a string using the <xref:System.String.Remove%2A?displayProperty=nameWithType> method.</span></span> <span data-ttu-id="49230-128">Tato metoda odebere počet znaků počínaje konkrétním indexem.</span><span class="sxs-lookup"><span data-stu-id="49230-128">This method removes a number of characters starting at a specific index.</span></span> <span data-ttu-id="49230-129">Následující příklad ukazuje, jak používat <xref:System.String.IndexOf%2A?displayProperty=nameWithType> následovaný <xref:System.String.Remove%2A> text odebrat z řetězce:</span><span class="sxs-lookup"><span data-stu-id="49230-129">The following example shows how to use <xref:System.String.IndexOf%2A?displayProperty=nameWithType> followed by <xref:System.String.Remove%2A> to remove text from a string:</span></span>

[!code-csharp-interactive[remove text](../../../samples/snippets/csharp/how-to/strings/ModifyStrings.cs#4)]

## <a name="replace-matching-patterns"></a><span data-ttu-id="49230-130">Nahraďte vzory pro porovnávání</span><span class="sxs-lookup"><span data-stu-id="49230-130">Replace matching patterns</span></span>

<span data-ttu-id="49230-131">Můžete použít [regulární výrazy](../../standard/base-types/regular-expressions.md) nahradit text porovnávání vzorů novým textem, může být definované vzorem.</span><span class="sxs-lookup"><span data-stu-id="49230-131">You can use [regular expressions](../../standard/base-types/regular-expressions.md) to replace text matching patterns with new text, possibly defined by a pattern.</span></span> <span data-ttu-id="49230-132">V následujícím příkladu <xref:System.Text.RegularExpressions.Regex?displayProperty=nameWithType> třídy pro vzor hledání zdrojový řetězec a nahraďte ji metodou správné malá a velká písmena.</span><span class="sxs-lookup"><span data-stu-id="49230-132">The following example uses the <xref:System.Text.RegularExpressions.Regex?displayProperty=nameWithType> class to find a pattern in a source string and replace it with proper capitalization.</span></span> <span data-ttu-id="49230-133"><xref:System.Text.RegularExpressions.Regex.Replace(System.String,System.String,System.Text.RegularExpressions.MatchEvaluator,System.Text.RegularExpressions.RegexOptions)?displayProperty=nameWithType> Metoda má funkci, která poskytuje logiku nahrazení jako jeden z jejích argumentů.</span><span class="sxs-lookup"><span data-stu-id="49230-133">The <xref:System.Text.RegularExpressions.Regex.Replace(System.String,System.String,System.Text.RegularExpressions.MatchEvaluator,System.Text.RegularExpressions.RegexOptions)?displayProperty=nameWithType> method takes a function that provides the logic of the replacement as one of its arguments.</span></span> <span data-ttu-id="49230-134">V tomto příkladu, tuto funkci `LocalReplaceMatchCase` je **lokální funkce** deklarované uvnitř ukázka metody.</span><span class="sxs-lookup"><span data-stu-id="49230-134">In this example, that function, `LocalReplaceMatchCase` is a **local function** declared inside the sample method.</span></span> <span data-ttu-id="49230-135">`LocalReplaceMatchCase` používá <xref:System.Text.StringBuilder?displayProperty=nameWithType> třída pro sestavení řetězci pro nahrazení se správné malá a velká písmena.</span><span class="sxs-lookup"><span data-stu-id="49230-135">`LocalReplaceMatchCase` uses the <xref:System.Text.StringBuilder?displayProperty=nameWithType> class to build the replacement string with proper capitalization.</span></span>

<span data-ttu-id="49230-136">Regulární výrazy jsou nejužitečnější při hledání a nahrazování textu, který následuje vzor, nikoli textové.</span><span class="sxs-lookup"><span data-stu-id="49230-136">Regular expressions are most useful for searching and replacing text that follows a pattern, rather than known text.</span></span> <span data-ttu-id="49230-137">Zobrazit [postupy: vyhledávání řetězců](search-strings.md) další podrobnosti.</span><span class="sxs-lookup"><span data-stu-id="49230-137">See [How to: search strings](search-strings.md) for more details.</span></span> <span data-ttu-id="49230-138">Vzor hledání "the\s" hledá slovo "the" následované prázdným znakem.</span><span class="sxs-lookup"><span data-stu-id="49230-138">The search pattern, "the\s" searches for the word "the" followed by a white-space character.</span></span> <span data-ttu-id="49230-139">Tuto část vzorce zajistíte, že se pravděpodobně neshoduje s "není" ve zdrojovém řetězci.</span><span class="sxs-lookup"><span data-stu-id="49230-139">That part of the pattern ensures that it doesn't match "there" in the source string.</span></span> <span data-ttu-id="49230-140">Další informace o prvky jazyka regulárních výrazů, naleznete v tématu [jazyk regulárních výrazů – Stručná referenční příručka](../../standard/base-types/regular-expression-language-quick-reference.md).</span><span class="sxs-lookup"><span data-stu-id="49230-140">For more information on regular expression language elements, see [Regular Expression Language - Quick Reference](../../standard/base-types/regular-expression-language-quick-reference.md).</span></span>

[!code-csharp-interactive[replace creates a new string](../../../samples/snippets/csharp/how-to/strings/ModifyStrings.cs#5)]

<span data-ttu-id="49230-141"><xref:System.Text.StringBuilder.ToString%2A?displayProperty=nameWithType> Vrátí metoda neměnné řetězec s obsahem v <xref:System.Text.StringBuilder> objektu.</span><span class="sxs-lookup"><span data-stu-id="49230-141">The <xref:System.Text.StringBuilder.ToString%2A?displayProperty=nameWithType> method returns an immutable string with the contents in the <xref:System.Text.StringBuilder> object.</span></span>

## <a name="modifying-individual-characters"></a><span data-ttu-id="49230-142">Úprava jednotlivých znaků</span><span class="sxs-lookup"><span data-stu-id="49230-142">Modifying individual characters</span></span>

<span data-ttu-id="49230-143">Můžete vytvořit pole znaků z řetězce, upravovat obsah pole a poté vytvořit nový řetězec z změněný obsah pole.</span><span class="sxs-lookup"><span data-stu-id="49230-143">You can produce a character array from a string, modify the contents of the array, and then create a new string from the modified contents of the array.</span></span>

<span data-ttu-id="49230-144">Následující příklad ukazuje, jak nahradit sady znaků v řetězci.</span><span class="sxs-lookup"><span data-stu-id="49230-144">The following example shows how to replace a set of characters in a string.</span></span> <span data-ttu-id="49230-145">Nejprve, použije <xref:System.String.ToCharArray?displayProperty=nameWithName> metodu pro vytvoření pole znaků.</span><span class="sxs-lookup"><span data-stu-id="49230-145">First, it uses the <xref:System.String.ToCharArray?displayProperty=nameWithName> method to create an array of characters.</span></span> <span data-ttu-id="49230-146">Používá <xref:System.String.IndexOf%2A> metody k vyhledání počáteční index slovo "fox."</span><span class="sxs-lookup"><span data-stu-id="49230-146">It uses the <xref:System.String.IndexOf%2A> method to find the starting index of the word "fox."</span></span> <span data-ttu-id="49230-147">Následující tři znaky jsou nahrazena různá slova.</span><span class="sxs-lookup"><span data-stu-id="49230-147">The next three characters are replaced with a different word.</span></span> <span data-ttu-id="49230-148">Nakonec je vytvořen nový řetězec z pole aktualizované znaků.</span><span class="sxs-lookup"><span data-stu-id="49230-148">Finally, a new string is constructed from the updated character array.</span></span>

[!code-csharp-interactive[replace creates a new string](../../../samples/snippets/csharp/how-to/strings/ModifyStrings.cs#6)]

## <a name="unsafe-modifications-to-string"></a><span data-ttu-id="49230-149">Nezabezpečený změny na řetězec</span><span class="sxs-lookup"><span data-stu-id="49230-149">Unsafe modifications to string</span></span>

<span data-ttu-id="49230-150">Pomocí **nebezpečné** kódu, můžete upravit řetězec "místo" po jejím vytvoření.</span><span class="sxs-lookup"><span data-stu-id="49230-150">Using **unsafe** code, you can modify a string "in place" after it has been created.</span></span> <span data-ttu-id="49230-151">Nezabezpečený kód vynechá řadu funkcí .NET určená k minimalizaci určité typy chyb v kódu.</span><span class="sxs-lookup"><span data-stu-id="49230-151">Unsafe code bypasses many of the features of .NET designed to minimize certain types of bugs in code.</span></span> <span data-ttu-id="49230-152">Je třeba použít nezabezpečený kód upravit řetězec na místě, protože třída string je navržena jako **neměnné** typu.</span><span class="sxs-lookup"><span data-stu-id="49230-152">You need to use unsafe code to modify a string in place because the string class is designed as an **immutable** type.</span></span> <span data-ttu-id="49230-153">Po jeho vytvoření, jeho hodnota se nezmění.</span><span class="sxs-lookup"><span data-stu-id="49230-153">Once it has been created, its value does not change.</span></span> <span data-ttu-id="49230-154">Nezabezpečený kód neodpovídá této vlastnosti přístupu a úpravou paměť používanou `string` bez použití normální `string` metody.</span><span class="sxs-lookup"><span data-stu-id="49230-154">Unsafe code circumvents this property by accessing and modifying the memory used by a `string` without using normal `string` methods.</span></span>
<span data-ttu-id="49230-155">Následující příklad je k dispozici pro těchto výjimečných případech, ve které chcete upravit řetězce v místě použití nezabezpečeného kódu.</span><span class="sxs-lookup"><span data-stu-id="49230-155">The following example is provided for those rare situations where you want to modify a string in-place using unsafe code.</span></span> <span data-ttu-id="49230-156">Tento příklad ukazuje způsob použití `fixed` – klíčové slovo.</span><span class="sxs-lookup"><span data-stu-id="49230-156">The example shows how to use the `fixed` keyword.</span></span> <span data-ttu-id="49230-157">`fixed` – Klíčové slovo zabraňuje systému uvolňování paměti (GC) získat přechodem na objekt řetězce v paměti, zatímco kód přistupuje k paměťově pomocí nebezpečné ukazatele.</span><span class="sxs-lookup"><span data-stu-id="49230-157">The `fixed` keyword prevents the garbage collector (GC) from moving the string object in memory while code accesses the memory using the unsafe pointer.</span></span> <span data-ttu-id="49230-158">Ukazuje také jeden možný vedlejším účinkem nebezpečné operace s řetězci, který je výsledkem způsobu, jakým kompilátor jazyka C# interně uchovává řetězce (učně).</span><span class="sxs-lookup"><span data-stu-id="49230-158">It also demonstrates one possible side effect of unsafe operations on strings that results from the way that the C# compiler stores (interns) strings internally.</span></span> <span data-ttu-id="49230-159">Obecně byste neměli používat tuto techniku, pokud to není nezbytně nutné.</span><span class="sxs-lookup"><span data-stu-id="49230-159">In general, you shouldn't use this technique unless it is absolutely necessary.</span></span> <span data-ttu-id="49230-160">Další informace najdete v článcích na [nebezpečné](../language-reference/keywords/unsafe.md) a [oprava](../language-reference/keywords/fixed-statement.md).</span><span class="sxs-lookup"><span data-stu-id="49230-160">You can learn more in the articles on [unsafe](../language-reference/keywords/unsafe.md) and [fixed](../language-reference/keywords/fixed-statement.md).</span></span> <span data-ttu-id="49230-161">Referenční dokumentace rozhraní API pro <xref:System.String.Intern%2A> obsahuje informace o interning řetězce.</span><span class="sxs-lookup"><span data-stu-id="49230-161">The API reference for <xref:System.String.Intern%2A> includes inforamtion on string interning.</span></span>

[!code-csharp-interactive[unsafe ways to create a new string](../../../samples/snippets/csharp/how-to/strings/ModifyStrings.cs#7)]

<span data-ttu-id="49230-162">Tyto ukázky můžete zkusit pohledem na kód v našich [úložiště GitHub](https://github.com/dotnet/samples/tree/master/snippets/csharp/how-to/strings).</span><span class="sxs-lookup"><span data-stu-id="49230-162">You can try these samples by looking at the code in our [GitHub repository](https://github.com/dotnet/samples/tree/master/snippets/csharp/how-to/strings).</span></span> <span data-ttu-id="49230-163">Nebo si můžete stáhnout ukázky [jako soubor zip](https://github.com/dotnet/samples/raw/master/snippets/csharp/how-to/strings.zip).</span><span class="sxs-lookup"><span data-stu-id="49230-163">Or you can download the samples [as a zip file](https://github.com/dotnet/samples/raw/master/snippets/csharp/how-to/strings.zip).</span></span>

## <a name="see-also"></a><span data-ttu-id="49230-164">Viz také:</span><span class="sxs-lookup"><span data-stu-id="49230-164">See also</span></span>

- [<span data-ttu-id="49230-165">Regulárních výrazech .NET Frameworku</span><span class="sxs-lookup"><span data-stu-id="49230-165">.NET Framework Regular Expressions</span></span>](../../standard/base-types/regular-expressions.md)  
- [<span data-ttu-id="49230-166">Jazyk regulárních výrazů – stručná referenční dokumentace</span><span class="sxs-lookup"><span data-stu-id="49230-166">Regular Expression Language - Quick Reference</span></span>](../../standard/base-types/regular-expression-language-quick-reference.md)  
