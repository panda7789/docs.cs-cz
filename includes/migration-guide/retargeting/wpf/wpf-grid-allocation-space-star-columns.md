---
ms.openlocfilehash: 79a251f3d08a253db2e1a805113f46f83c6a9410
ms.sourcegitcommit: 7588136e355e10cbc2582f389c90c127363c02a5
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 03/15/2020
ms.locfileid: "68235564"
---
### <a name="wpf-grid-allocation-of-space-to-star-columns"></a>WPF Přidělení místa do sloupců hvězdičkami

|   |   |
|---|---|
|Podrobnosti|Počínaje rozhraním .NET Framework 4.7 wpf <xref:System.Windows.Controls.Grid> nahrazuje algoritmus, který používá k přidělení místa *-columns. Tím se změní skutečná šířka přiřazená *-sloupce v řadě případů:<ul><li>Pokud jeden nebo více sloupců *mají také minimální nebo maximální šířku, která přepíše proporcionální přidělení pro toto sloupce. (Minimální šířka může být odvozena z explicitní deklarace MinWidth nebo z implicitního minima získaného z obsahu sloupce. Maximální šířku lze definovat pouze explicitně z deklarace MaxWidth.)</li><li>Pokud jeden nebo více *-sloupce deklarovat extrémně velký *-hmotnost, větší než 10 ^ 298.</li><li>Když *-váhy jsou dostatečně odlišné, aby se setkaly s nestabilitou s plovoucí desetinnou tázkou (přetečení, podtečení, ztráta přesnosti).</li><li>Pokud je povoleno zaokrouhlení rozvržení a efektivní zobrazení DPI je dostatečně vysoké.</li></ul>V prvních dvou případech šířky vytvořené nový algoritmus může být výrazně lišit od těch, které jsou vyrobeny starý algoritmus; v posledním případě bude rozdíl maximálně jeden nebo dva pixely.<p/>Nový algoritmus opravuje několik chyb přítomných ve starém algoritmu:<ol><li>Celkové přidělení sloupcům může překročit šířku mřížky. K tomu může dojít při přidělování místa do sloupce, jehož proporcionální podíl je menší než jeho minimální velikost. Algoritmus přiděluje minimální velikost, která zmenšuje místo, které je k dispozici pro jiné sloupce. Pokud nejsou k dispozici žádné *-sloupce, které by bylo možné přidělit, bude celkové přidělení příliš velké.</li><li>Celkové přidělení může nedosahovat šířky mřížky. Jedná se o dvojí problém #1, vznikající při přidělování do sloupce, jehož proporcionální podíl je větší než jeho maximální velikost, bez *-sloupce vlevo, aby se rezerva.</li><li>Dva *-sloupce mohou přijímat přidělení není úměrná jejich *-váhy. Jedná se o mírnější verzi #1/#2, která vzniká při přidělování *-sloupce A, B a C (v tomto pořadí), kde poměrný podíl B porušuje jeho min (nebo max) omezení. Jak je uvedeno výše, změní se místo, které je k dispozici pro sloupec C, který získá méně (nebo více) poměrné alokace než A,</li><li>Sloupce s extrémně velkými&gt; váhami ( 10 ^ 298) jsou všechny považovány za váhu 10 ^ 298. Proporcionální rozdíly mezi nimi (a mezi sloupci s mírně menšími závažími) nejsou dodrženy.</li><li>Sloupce s inifinte hmotnosti nejsou zpracovány správně. [Ve skutečnosti nemůžete nastavit váhu na nekonečno, ale to je umělé omezení. Kód přidělení se snažil zpracovat, ale dělá špatnou práci.]</li><li>Několik drobných problémů, aniž by přetečení, podtečení, ztráta přesnosti a podobné problémy s plovoucí desetinnou desetinnou desetinnou desetinnou desetinnou desetinnou desetinnou desetinnou.</li><li>Úpravy pro zaokrouhlení rozvržení jsou nesprávné při dostatečně vysokém DPI.</li></ol>Nový algoritmus vytváří výsledky, které splňují následující kritéria:<p/>A. Skutečná šířka přiřazená sloupci *-je nikdy menší než jeho minimální šířka ani větší než jeho maximální šířka.<br/>B. Každému <em>sloupci -column, kterému není přiřazena minimální nebo maximální šířka, je přiřazena šířka úměrná <em>jeho -weight. Abych byl přesný, pokud jsou dva sloupce deklarovány s šířkou x</em> a y</em> a pokud ani jeden sloupec neobdrží minimální nebo maximální šířku, skutečné šířky v a w přiřazené sloupcům jsou ve stejném poměru: v / w == x / y.<br/>C. Celková šířka &quot;přidělená proporcionálním&quot; *sloupcům se rovná prostoru, který je k dispozici po přidělení omezeným sloupcům (pevné, automatické a *-sloupce, které jsou přiděleny jejich min nebo max šířka). To může být nula, například v případě, že součet minimální šířky přesahuje gridu k dispozici šířku.<br/>D. Všechny tyto výroky je třeba interpretovat s ohledem na &quot;ideální&quot; uspořádání. Při zaokrouhlení rozvržení je v platnosti, skutečné šířky se mohou lišit od ideální šířky až o jeden pixel.<br/>Starý algoritmus ctí (A), ale nepodařilo se dostát ostatním kritériím ve výše uvedených případech.<p/>Vše, co bylo řečeno o sloupcích a šířkách v tomto článku, se vztahuje také na řádky a výšky.|
|Návrh|Ve výchozím nastavení se aplikacím, které cílí na verze rozhraní .NET Framework počínaje rozhraním .NET Framework 4.7, zobrazí nový algoritmus, zatímco aplikace, které cílí na rozhraní .NET Framework 4.6.2 nebo starší verze, uvidí starý algoritmus.<p/>Chcete-li přepsat výchozí hodnotu, použijte následující nastavení konfigurace:<pre><code class="lang-xml">&lt;runtime&gt;&#13;&#10;&lt;AppContextSwitchOverrides value=&quot;Switch.System.Windows.Controls.Grid.StarDefinitionsCanExceedAvailableSpace=true&quot; /&gt;&#13;&#10;&lt;/runtime&gt;&#13;&#10;</code></pre>Hodnota <code>true</code> vybere starý algoritmus, <code>false</code> vybere nový algoritmus.|
|Rozsah|Vedlejší|
|Version|4.7|
|Typ|Změna cílení|
