---
ms.openlocfilehash: f1f37e61917e8331b06d91e6abebfe4ce3288e7c
ms.sourcegitcommit: 7588136e355e10cbc2582f389c90c127363c02a5
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 03/15/2020
ms.locfileid: "69564348"
---
### <a name="managed-cryptography-classes-do-not-throw-a-cryptographyexception-in-fips-mode"></a>Spravované třídy kryptografie nevyvolání cryptografieVýjimka v režimu FIPS

|   |   |
|---|---|
|Podrobnosti|V rozhraní .NET Framework 4.7.2 a starších verzích spravované třídy kryptografických zprostředkovatelů, jako <xref:System.Security.Cryptography.SHA256Managed> je například throw a <xref:System.Security.Cryptography.CryptographicException> při konfiguraci systémových kryptografických knihoven v režimu FIPS. Tyto výjimky jsou vyvolány, protože spravované verze neprošly certifikací FIPS (Federal Information Processing Standards) 140-2 a také k blokování kryptografických algoritmů, které nebyly považovány za schválené na základě pravidel FIPS.  Vzhledem k tomu, že několik vývojářů má své vývojové počítače v režimu FIPS, tyto výjimky jsou často vyvolány pouze v produkčních systémech. Aplikace, které cílí na rozhraní .NET Framework 4.8 a novější verze, <xref:System.Security.Cryptography.CryptographicException> se automaticky přepnou na novější, uvolněnou zásadu, takže a již není ve výchozím nastavení v takových případech vyvolána. Místo toho spravované kryptografické třídy přesměrují kryptografické operace do systémové kryptografické knihovny. Tato změna zásad účinně odstraňuje potenciálně matoucí rozdíl mezi vývojářskými prostředími a produkčními prostředími a umožňuje nativní mařivé součásti a spravované součásti pracovat v rámci stejné kryptografické zásady.|
|Návrh|Pokud je toto chování nežádoucí, můžete se od něj odhlásit a obnovit předchozí chování tak, aby <xref:System.Security.Cryptography.CryptographicException> je vyvolána v režimu FIPS přidáním následujícího nastavení konfigurace [AppContextSwitchOverrides](~/docs/framework/configure-apps/file-schema/runtime/appcontextswitchoverrides-element.md) do sekce [ \<runtime>](~/docs/framework/configure-apps/file-schema/runtime/runtime-element.md) konfiguračního souboru aplikace:<pre><code class="lang-xml">&lt;runtime&gt;&#13;&#10;&lt;AppContextSwitchOverrides value=&quot;Switch.System.Security.Cryptography.UseLegacyFipsThrow=true&quot; /&gt;&#13;&#10;&lt;/runtime&gt;&#13;&#10;</code></pre>Pokud vaše aplikace cílí na rozhraní .NET Framework 4.7.2 nebo starší, můžete se k této změně přihlásit také přidáním následujícího nastavení konfigurace [AppContextSwitchOverrides](~/docs/framework/configure-apps/file-schema/runtime/appcontextswitchoverrides-element.md) do části [ \<runtime>](~/docs/framework/configure-apps/file-schema/runtime/runtime-element.md) konfiguračního souboru aplikace:<pre><code class="lang-xml">&lt;runtime&gt;&#13;&#10;&lt;AppContextSwitchOverrides value=&quot;Switch.System.Security.Cryptography.UseLegacyFipsThrow=false&quot; /&gt;&#13;&#10;&lt;/runtime&gt;&#13;&#10;</code></pre>|
|Rozsah|Edge|
|Version|4.8|
|Typ|Změna cílení|
|Ovlivněná rozhraní API|<ul><li><xref:System.Security.Cryptography.AesManaged?displayProperty=nameWithType></li><li><xref:System.Security.Cryptography.MD5Cng?displayProperty=nameWithType></li><li><xref:System.Security.Cryptography.MD5CryptoServiceProvider?displayProperty=nameWithType></li><li><xref:System.Security.Cryptography.RC2CryptoServiceProvider?displayProperty=nameWithType></li><li><xref:System.Security.Cryptography.RijndaelManaged?displayProperty=nameWithType></li><li><xref:System.Security.Cryptography.RIPEMD160Managed?displayProperty=nameWithType></li><li><xref:System.Security.Cryptography.SHA1Managed?displayProperty=nameWithType></li><li><xref:System.Security.Cryptography.SHA256Managed?displayProperty=nameWithType></li></ul>|
