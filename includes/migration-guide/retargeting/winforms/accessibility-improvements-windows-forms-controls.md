### <a name="accessibility-improvements-in-windows-forms-controls"></a>Vylepšení přístupnosti v ovládacích prvcích Windows Forms

|   |   |
|---|---|
|Podrobnosti|Zlepšuje se Windows Forms, jak to funguje s technologiemi pro usnadnění přístupu pro lepší podporu zákazníků formulářů Windows. Patří mezi ně následující změny od verze rozhraní .NET Framework 4.7.1:<ul><li>Změny s cílem zobrazit během režim s vysokým kontrastem.</li><li>Změny ke zlepšení prostředí prohlížeči vlastností. Vlastnost prohlížeče vylepšení patří:</li><li>Lepší navigaci pomocí klávesnice prostřednictvím různých windows rozevíracího seznamu výběru.</li><li>Snižuje nepotřebné tabulátoru.</li><li>Lepší vytváření sestav, typů ovládacích prvků.</li><li>Vylepšené Předčítání chování.</li><li>Změny pro implementaci chybějící vzory usnadnění přístupu uživatelského rozhraní v ovládacích prvcích.</li></ul>|
|Návrh|<strong>Jak aktivování nebo zrušení těchto změn</strong></br>Aby aplikace využívat tyto změny, musíte spustit na rozhraní .NET Framework 4.7.1 nebo novější. Aplikace mohou těžit z těchto změn v některém z následujících způsobů:<ul><li>Ji znovu zkompilovat cílit na rozhraní .NET Framework 4.7.1. Tyto změny usnadnění přístupu se ve výchozím nastavení v aplikacích Windows Forms rozhraní .NET Framework 4.7.1 povolená nebo novější.</li><li>To výslovný chování starších verzí usnadnění přidáním následujícího kódu [přepínač AppContext](~/docs/framework/configure-apps/file-schema/runtime/appcontextswitchoverrides-element.md) k <code>&lt;runtime&gt;</code> část souboru app.config a nastavíte ho na <code>false</code>, jak ukazuje následující příklad.</li></ul><pre><code class="lang-xml">&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;&#13;&#10;&lt;configuration&gt;&#13;&#10;&lt;startup&gt;&#13;&#10;&lt;supportedRuntime version=&quot;v4.0&quot; sku=&quot;.NETFramework,Version=v4.7&quot;/&gt;&#13;&#10;&lt;/startup&gt;&#13;&#10;&lt;runtime&gt;&#13;&#10;&lt;!-- AppContextSwitchOverrides value attribute is in the form of &#39;key1=true/false;key2=true/false  --&gt;&#13;&#10;&lt;AppContextSwitchOverrides value=&quot;Switch.UseLegacyAccessibilityFeatures=false&quot; /&gt;&#13;&#10;&lt;/runtime&gt;&#13;&#10;&lt;/configuration&gt;&#13;&#10;</code></pre></br>Aplikací určených pro rozhraní .NET Framework 4.7.1 nebo novější a chcete zachovat starší chování usnadnění můžete přejít k používání funkce starší verze usnadnění explicitním nastavením na tento přepínač AppContext <code>true</code>.<p/>Přehled automatizace uživatelského rozhraní, naleznete v tématu [Přehled automatizace uživatelského rozhraní](~/docs/framework/ui-automation/ui-automation-overview.md).&lt; /p/&gt;<p/><strong>Přidání podpory pro modely automatizace uživatelského rozhraní a vlastnosti</strong><br/>Klienty usnadnění využít nové funkce pro usnadnění WinForms s využitím vzory běžných, které jsou veřejně popsány vyvolání. Tyto modely nejsou specifické pro WinForms. Klienty usnadnění pro instanci, můžete volat metodu QueryInterface na rozhraní IAccessible (MAAS) k získání rozhraní IServiceProvider. Pokud toto rozhraní je k dispozici, klienty pomocí jeho metody služby QueryService požádat o IAccessibleEx rozhraní. Další informace najdete v tématu [pomocí IAccessibleEx z klienta](https://msdn.microsoft.com/library/windows/desktop/dd561924.aspx). Od verze rozhraní .NET Framework 4.7.1 IServiceProvider a [IAccessibleEx](https://msdn.microsoft.com/library/windows/desktop/dd561898.aspx) (kde je to možné) jsou k dispozici pro usnadnění objekty WinForms.<p/>Rozhraní .NET Framework 4.7.1 přidává podporu pro následující vzory pro automatizaci uživatelského rozhraní a vlastnosti:<ul><li><xref:System.Windows.Forms.ToolStripSplitButton> a <xref:System.Windows.Forms.ComboBox> řídí podporu [Rozbalit/sbalit vzor](~/docs/framework/ui-automation/implementing-the-ui-automation-expandcollapse-control-pattern.md).</li><li><xref:System.Windows.Forms.ToolStripMenuItem> Má ovládací prvek [ControlType](~/docs/framework/ui-automation/ui-automation-support-for-the-menubar-control-type.md) hodnota vlastnosti <xref:System.Windows.Automation.ControlType.MenuItem?displayProperty=nameWithType>.</li><li><xref:System.Windows.Forms.ToolStripItem> Podporuje ovládací prvek <xref:System.Windows.Automation.AutomationElement.NameProperty> vlastnost a [Rozbalit/sbalit vzor](~/docs/framework/ui-automation/implementing-the-ui-automation-expandcollapse-control-pattern.md).</li><li><xref:System.Windows.Forms.ToolStripDropDownItem> Podporuje ovládací prvek <xref:System.Windows.Forms.AccessibleEvents> označující StateChange a NameChange – když je rozbalená nebo sbalená rozevíracího seznamu.</li><li><xref:System.Windows.Forms.ToolStripDropDownButton> Má ovládací prvek [ControlType](~/docs/framework/ui-automation/ui-automation-support-for-the-menubar-control-type.md) hodnotou vlastnosti <xref:System.Windows.Automation.ControlType.MenuItem?displayProperty=nameWithType>.</li><li><xref:System.Windows.Forms.DataGridViewCheckBoxCell> Podporuje ovládací prvek <xref:System.Windows.Automation.TogglePattern>.</li><li><xref:System.Windows.Forms.NumericUpDown> a <xref:System.Windows.Forms.DomainUpDown> řídí podporu <xref:System.Windows.Automation.AutomationElement.NameProperty> vlastnost a mít [ControlType](~/docs/framework/ui-automation/ui-automation-support-for-the-spinner-control-type.md) z <xref:System.Windows.Automation.ControlType.Spinner?displayProperty=nameWithType>.</p></li></ul><strong>Vylepšení ovládacího prvku PropertyGrid</strong></br>Rozhraní .NET Framework 4.7.1 přidá do ovládacího prvku PropertyBrowser následující vylepšení:<ul><li><strong>Podrobnosti</strong> tlačítko v dialogovém okně chyby, který se zobrazí, když uživatel zadá nesprávnou hodnotu v <xref:System.Windows.Forms.PropertyGrid> podporuje ovládací prvek [Rozbalit/sbalit vzor](~/docs/framework/ui-automation/implementing-the-ui-automation-expandcollapse-control-pattern.md), stav a změna názvu oznámení a [ControlType]~/docs/framework/ui-automation/ui-automation-support-for-the-menubar-control-type.md) vlastnost s hodnotou <xref:System.Windows.Automation.ControlType.MenuItem?displayProperty=nameWithType>.</li><li>Zobrazí podokno zprávy, když <strong>podrobnosti</strong> rozbalení tlačítka dialogového okna chyby. je teď klávesnice přístupné a umožňuje Předčítání oznamujeme obsahu chybové zprávy.</li><li><xref:System.Windows.Forms.AccessibleRole> Řádků v <xref:System.Windows.Forms.PropertyGrid> ovládací prvek byly změněny z &quot;řádek&quot; k &quot;buňky&quot;. Buňka se mapuje na UIA ControlType &quot;datové položky&quot;, což umožňuje podporu příslušné klávesové zkratky a Předčítání oznámení.</li><li><xref:System.Windows.Forms.PropertyGrid> Ovládací prvek řádky, že představují záhlaví položek, když <xref:System.Windows.Forms.PropertyGrid> ovládací prvek má <xref:System.Windows.Forms.PropertyGrid.PropertySort> vlastnost nastavena na <xref:System.Windows.Forms.PropertySort.Categorized?displayProperty=nameWithType> mít [ControlType](~/docs/framework/ui-automation/ui-automation-support-for-the-menubar-control-type.md) hodnotu vlastnosti <xref:System.Windows.Automation.ControlType.Button?displayProperty=nameWithType>.</li><li><xref:System.Windows.Forms.PropertyGrid> Ovládací prvek řádky, že představují záhlaví položek, když <xref:System.Windows.Forms.PropertyGrid> ovládací prvek má <xref:System.Windows.Forms.PropertyGrid.PropertySort> vlastnost nastavena na <xref:System.Windows.Forms.PropertySort.Categorized?displayProperty=nameWithType> podporu [Rozbalit/sbalit vzor](~/docs/framework/ui-automation/implementing-the-ui-automation-expandcollapse-control-pattern.md).</li><li>Vylepšené klávesnice navigace mezi mřížky a panelu nástrojů nad ním. Stisknutím klávesy &quot;Shift-Tab&quot; nyní vybere první tlačítko panelu nástrojů, namísto celého nástrojů.</li><li><xref:System.Windows.Forms.PropertyGrid> ovládací prvky zobrazené v režimu vysokého kontrastu nyní Nakreslí obdélník kolem panelu nástrojů, která odpovídá aktuální <xref:System.Windows.Forms.PropertyGrid.PropertySort> hodnotu vlastnosti.</li><li><xref:System.Windows.Forms.PropertyGrid> zobrazovaná ve výsledcích režim s vysokým kontrastem a pomocí ovládacích prvků <xref:System.Windows.Forms.PropertyGrid.PropertySort> vlastnost nastavena na hodnotu <xref:System.Windows.Forms.PropertySort.Categorized?displayProperty=nameWithType> bude nyní zobrazit pozadí záhlaví kategorií ve vysoce kontrastní barvu.</li><li><xref:System.Windows.Forms.PropertyGrid> ovládací prvky lépe rozlišuje mezi položky panelu nástrojů se zaměřením a položky panelu nástrojů, které označují aktuální hodnota <xref:System.Windows.Forms.PropertyGrid.PropertySort> vlastnost. Tato oprava se skládá z změnu vysoký kontrast a změn pro scénáře bez – vysoký kontrast.</li><li><xref:System.Windows.Forms.PropertyGrid> ovládací prvek položky panelu nástrojů, které určuje aktuální hodnotu <xref:System.Windows.Forms.PropertyGrid.PropertySort> vlastnost podpory <xref:System.Windows.Automation.TogglePattern>.</li><li>Vylepšená podpora Předčítání rozlišování vybraného zarovnání ve výběru zarovnání.</li><li>Když prázdná <xref:System.Windows.Forms.PropertyGrid> ovládacího prvku se zobrazí ve formuláři, obdrží nyní fokus, kde dříve by tomu není.</p></li></ul><strong>Použití operačního systému definovaný barev motivů vysoký kontrast</strong></br><ul><li><xref:System.Windows.Forms.Button> a <xref:System.Windows.Forms.CheckBox> ovládací prvky s jejich <xref:System.Windows.Forms.ButtonBase.FlatStyle> nastavenou na <xref:System.Windows.Forms.FlatStyle.System?displayProperty=nameWithType>, což je výchozí styl, nyní použít motiv s vysokým kontrastem při výběru operačního systému definovaný barvy. Barvy textu a pozadí dříve nebyly kontrastní a bylo obtížné číst.</li><li><xref:System.Windows.Forms.Button>, <xref:System.Windows.Forms.CheckBox>, <xref:System.Windows.Forms.RadioButton>, <xref:System.Windows.Forms.Label>, <xref:System.Windows.Forms.LinkLabel> a <xref:System.Windows.Forms.GroupBox> ovládací prvky s jejich <xref:System.Windows.Forms.Control.Enabled> vlastnost nastavena na hodnotu <strong>false</strong> šedá barva použitá k vykreslení text ve vysokém kontrastu motivy, výsledkem je nízký kontrast proti na pozadí. Nyní pomocí těchto ovládacích prvků &quot;neaktivního textu&quot; barva určené operačního systému. Tato oprava se vztahuje k ovládacím prvkům s jejich <code>FlatStyle</code> nastavenou na hodnotu jiné než <xref:System.Windows.Forms.FlatStyle.System?displayProperty=nameWithType>. Druhá možnost ovládací prvky jsou generovány s operačním systémem.</li><li><xref:System.Windows.Forms.DataGridView> vykreslí nyní viditelné obdélník kolem obsahu buňky, která má aktuální fokus. Dřív to není viditelné v některých Vysokokontrastních motivech.</li><li><xref:System.Windows.Forms.ToolStripMenuItem> ovládací prvky s jejich <xref:System.Windows.Forms.ToolStripMenuItem.Enabled> vlastnost nastavena na hodnotu <strong>false</strong> teď použít &quot;neaktivního textu&quot; barva určené operačního systému.</li><li><xref:System.Windows.Forms.ToolStripMenuItem> ovládací prvky s jejich <xref:System.Windows.Forms.ToolStripMenuItem.Checked> vlastnost nastavena na hodnotu <strong>true</strong> nyní vykreslit přidružené zaškrtávací políčko v kontrastní systémovou barvou.  Barva značky zaškrtnutí dříve nebyla kontrastní dostatek a že nejsou viditelné v Vysokokontrastních motivech.</li></ul>Poznámka: Windows 10 změnila hodnoty pro některé systémové barvy vysoký kontrast. Windows Forms Framework je založené na rozhraní Win32. Pro dosažení co nejlepších výsledků spusťte na nejnovější verzi Windows a vyjádřit výslovný souhlas s nejnovějšími změnami operačního systému tak, že přidáte soubor app.manifest v aplikaci test a uncommenting následující kód:<pre><code class="lang-xml">&lt;!-- Windows 10 --&gt;&#13;&#10;&lt;supportedOS Id=&quot;{8e0f7a12-bfb3-4fe8-b9a5-48fd50a15a9a}&quot; /&gt;&#13;&#10;</code></pre></br><strong>Navigace pomocí kláves vylepšené</strong><ul><li>Když <xref:System.Windows.Forms.ComboBox> ovládací prvek má jeho <xref:System.Windows.Forms.ComboBox.DropDownStyle> nastavenou na <xref:System.Windows.Forms.ComboBoxStyle.DropDownList?displayProperty=nameWithType> a je první ovládací prvek na kartě pořadí ve formuláři, se teď zobrazí fokus, když nadřazený formulář se otevře pomocí klávesnice. Před touto změnou fokus klávesnice se na tento ovládací prvek, ale nebyl vykreslení ukazatele fokusu.</li></ul><strong>Vylepšená podpora Předčítání</strong><ul><li><xref:System.Windows.Forms.MonthCalendar> Ovládací prvek má přidanou podporu pro technologie pro usnadnění pro ovládací prvek, včetně možnosti programu Předčítání číst hodnotu ovládacího prvku, když se dříve nepodařilo se získat přístup.</li><li><xref:System.Windows.Forms.CheckedListBox> Ovládací prvek nyní oznámí program Předčítání při <xref:System.Windows.Forms.CheckBox.CheckState?displayProperty=nameWithType> změně vlastnosti. Dříve, program Předčítání nepřijala oznámení a díky tomu by být uživatelé informováni, který <xref:System.Windows.Forms.CheckBox.CheckState> vlastnost bylo aktualizováno.</li><li><xref:System.Windows.Forms.LinkLabel> Se změní tak, jak se zobrazí oznámení, program předčítání textu v ovládacím prvku. Dříve, program Předčítání dvakrát oznámili tento text a čtení &quot; &amp; &quot; symboly jako skutečný text, i když nejsou viditelné pro uživatele. Duplicitní text byla odebrána z programu Předčítání oznámení, jakož i zbytečné &quot; &amp; &quot; symboly.</li><li><xref:System.Windows.Forms.DataGridViewCell> Typ ovládacího prvku nyní správně nahlásit stav jen pro čtení k Předčítání a dalšími technologiemi přístupnosti.</li><li>Program Předčítání je teď možné číst podřízených oken v nabídce systému [Interface]~/docs/framework/winforms/advanced/multiple-document-interface-mdi-applications.md Multiple-Document) aplikace.</li><li>Program Předčítání je teď možné číst <xref:System.Windows.Forms.ToolStripMenuItem> ovládací prvky s <xref:System.Windows.Forms.ToolStripItem.Enabled?displayProperty=nameWithType> vlastnost nastavena na hodnotu <strong>false</strong>. Dříve program Předčítání nebylo možné zaměřit se na položky zakázané nabídky ke čtení obsahu.</li></ul>|
|Rozsah|Hlavní|
|Version|4.7.1|
|Typ|Mění se cílení|
|Ovlivněné rozhraní API|<ul><li><xref:System.Windows.Forms.ToolStripDropDownButton.CreateAccessibilityInstance?displayProperty=nameWithType></li><li><xref:System.Windows.Forms.DomainUpDown.DomainUpDownAccessibleObject.Name?displayProperty=nameWithType></li><li>[MonthCalendar.AccessibilityObject](xref:System.Windows.Forms.Control.AccessibilityObject)</li></ul>|

