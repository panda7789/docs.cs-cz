---
ms.openlocfilehash: 8c031198a1faad58ac5c5f5d5f042a1d9a35e8d5
ms.sourcegitcommit: 7588136e355e10cbc2582f389c90c127363c02a5
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 03/15/2020
ms.locfileid: "72887750"
---
### <a name="accessibility-improvements-in-windows-forms-controls"></a><span data-ttu-id="cb640-101">Vylepšení usnadnění v ovládacích prvcích Windows Forms</span><span class="sxs-lookup"><span data-stu-id="cb640-101">Accessibility improvements in Windows Forms controls</span></span>

|   |   |
|---|---|
|<span data-ttu-id="cb640-102">Podrobnosti</span><span class="sxs-lookup"><span data-stu-id="cb640-102">Details</span></span>|<span data-ttu-id="cb640-103">Windows Forms vylepšuje jeho fungování pomocí technologií usnadnění, aby lépe podporovaly zákazníky Windows Forms.</span><span class="sxs-lookup"><span data-stu-id="cb640-103">Windows Forms is improving how it works with accessibility technologies to better support Windows Forms customers.</span></span> <span data-ttu-id="cb640-104">Patří mezi ně následující změny počínaje rozhraním .NET Framework 4.7.1:</span><span class="sxs-lookup"><span data-stu-id="cb640-104">These include the following changes starting with the .NET Framework 4.7.1:</span></span><ul><li><span data-ttu-id="cb640-105">Změny pro zlepšení zobrazení v režimu vysokého kontrastu.</span><span class="sxs-lookup"><span data-stu-id="cb640-105">Changes to improve display during High Contrast mode.</span></span></li><li><span data-ttu-id="cb640-106">Změny ke zlepšení prostředí prohlížeče vlastností.</span><span class="sxs-lookup"><span data-stu-id="cb640-106">Changes to improve the property browser experience.</span></span> <span data-ttu-id="cb640-107">Vylepšení prohlížeče vlastností zahrnují:</span><span class="sxs-lookup"><span data-stu-id="cb640-107">Property browser improvements include:</span></span></li><li><span data-ttu-id="cb640-108">Lepší navigace pomocí klávesnice v různých rozbalovacích oknech výběru.</span><span class="sxs-lookup"><span data-stu-id="cb640-108">Better keyboard navigation through the various drop-down selection windows.</span></span></li><li><span data-ttu-id="cb640-109">Snížené zbytečné zarážky tabulátoru.</span><span class="sxs-lookup"><span data-stu-id="cb640-109">Reduced unnecessary tab stops.</span></span></li><li><span data-ttu-id="cb640-110">Lepší vykazování typů ovládacích prvku.</span><span class="sxs-lookup"><span data-stu-id="cb640-110">Better reporting of control types.</span></span></li><li><span data-ttu-id="cb640-111">Vylepšené chování předčítání.</span><span class="sxs-lookup"><span data-stu-id="cb640-111">Improved narrator behavior.</span></span></li><li><span data-ttu-id="cb640-112">Změny implementovat chybějící vzory usnadnění u rozhraní v ovládacích prvcích.</span><span class="sxs-lookup"><span data-stu-id="cb640-112">Changes to implement missing UI accessibility patterns in controls.</span></span></li></ul>|
|<span data-ttu-id="cb640-113">Návrh</span><span class="sxs-lookup"><span data-stu-id="cb640-113">Suggestion</span></span>|<span data-ttu-id="cb640-114">**Jak se přihlásit nebo odhlásit z těchto změn**</span><span class="sxs-lookup"><span data-stu-id="cb640-114">**How to opt in or out of these changes**</span></span><br><span data-ttu-id="cb640-115">Aby aplikace mohla využívat tyto změny, musí být spuštěna v rozhraní .NET Framework 4.7.1 nebo novějším.</span><span class="sxs-lookup"><span data-stu-id="cb640-115">In order for the application to benefit from these changes, it must run on the .NET Framework 4.7.1 or later.</span></span> <span data-ttu-id="cb640-116">Aplikace může těžit z těchto změn v některém z následujících způsobů:</span><span class="sxs-lookup"><span data-stu-id="cb640-116">The application can benefit from these changes in either of the following ways:</span></span><ul><li><span data-ttu-id="cb640-117">Je znovu zkompilován tak, aby se zaměřil na rozhraní .NET Framework 4.7.1.</span><span class="sxs-lookup"><span data-stu-id="cb640-117">It is recompiled to target the .NET Framework 4.7.1.</span></span> <span data-ttu-id="cb640-118">Tyto změny usnadnění jsou ve výchozím nastavení povoleny v aplikacích windows forms, které se zaměřují na rozhraní .NET Framework 4.7.1 nebo novější.</span><span class="sxs-lookup"><span data-stu-id="cb640-118">These accessibility changes are enabled by default on Windows Forms applications that target the .NET Framework 4.7.1 or later.</span></span></li><li><span data-ttu-id="cb640-119">Odhlásí se z chování starší usnadnění přidáním následující [appcontext přepnout](~/docs/framework/configure-apps/file-schema/runtime/appcontextswitchoverrides-element.md) do <code>&lt;runtime&gt;</code> části app.config souboru a nastavení na <code>false</code>, jak ukazuje následující příklad.</span><span class="sxs-lookup"><span data-stu-id="cb640-119">It opts out of the legacy accessibility behaviors by adding the following [AppContext switch](~/docs/framework/configure-apps/file-schema/runtime/appcontextswitchoverrides-element.md) to the <code>&lt;runtime&gt;</code> section of the app.config file and setting it to <code>false</code>, as the following example shows.</span></span></li></ul><pre><code class="lang-xml">&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;&#13;&#10;&lt;configuration&gt;&#13;&#10;&lt;startup&gt;&#13;&#10;&lt;supportedRuntime version=&quot;v4.0&quot; sku=&quot;.NETFramework,Version=v4.7&quot;/&gt;&#13;&#10;&lt;/startup&gt;&#13;&#10;&lt;runtime&gt;&#13;&#10;&lt;!-- AppContextSwitchOverrides value attribute is in the form of &#39;key1=true/false;key2=true/false  --&gt;&#13;&#10;&lt;AppContextSwitchOverrides value=&quot;Switch.UseLegacyAccessibilityFeatures=false&quot; /&gt;&#13;&#10;&lt;/runtime&gt;&#13;&#10;&lt;/configuration&gt;&#13;&#10;</code></pre><br><span data-ttu-id="cb640-120">Aplikace, které cílí na rozhraní .NET Framework 4.7.1 nebo novější a chtějí zachovat starší chování usnadnění <code>true</code>přístupu, se mohou přihlásit k použití starších funkcí usnadnění explicitním nastavením tohoto přepínače AppContext na .</span><span class="sxs-lookup"><span data-stu-id="cb640-120">Applications that target the .NET Framework 4.7.1 or later and want to preserve the legacy accessibility behavior can opt in to the use of legacy accessibility features by explicitly setting this AppContext switch to <code>true</code>.</span></span><p/><span data-ttu-id="cb640-121">Přehled automatizace uživatelského rozhraní najdete v tématu [Přehled automatizace uživatelského rozhraní](~/docs/framework/ui-automation/ui-automation-overview.md).</span><span class="sxs-lookup"><span data-stu-id="cb640-121">For an overview of UI automation, see the [UI Automation Overview](~/docs/framework/ui-automation/ui-automation-overview.md).</span></span><p/><span data-ttu-id="cb640-122">**Přidána podpora pro vzory a vlastnosti automatizace uživatelského rozhraní**</span><span class="sxs-lookup"><span data-stu-id="cb640-122">**Added support for UI Automation patterns and properties**</span></span><br/><span data-ttu-id="cb640-123">Klienti usnadnění mohou využít nové funkce usnadnění winforms pomocí běžných, veřejně popsaných vzorů vyvolání.</span><span class="sxs-lookup"><span data-stu-id="cb640-123">Accessibility clients can take advantage of new WinForms accessibility functionality by using common, publicly described invocation patterns.</span></span> <span data-ttu-id="cb640-124">Tyto vzory nejsou specifické pro WinForms.</span><span class="sxs-lookup"><span data-stu-id="cb640-124">These patterns are not WinForms-specific.</span></span> <span data-ttu-id="cb640-125">Například klienti usnadnění přístupu můžete volat QueryInterface metoda na iAccessible rozhraní (MAAS) získat rozhraní IServiceProvider.</span><span class="sxs-lookup"><span data-stu-id="cb640-125">For instance, accessibility clients can call the QueryInterface method on the IAccessible interface (MAAS) to obtain an IServiceProvider interface.</span></span> <span data-ttu-id="cb640-126">Pokud je toto rozhraní k dispozici, klienti mohou použít jeho QueryService metodu požádat o rozhraní IAccessibleEx.</span><span class="sxs-lookup"><span data-stu-id="cb640-126">If this interface is available, clients can use its QueryService method to request an IAccessibleEx interface.</span></span> <span data-ttu-id="cb640-127">Další informace naleznete [v tématu Using IAccessibleEx from a Client](https://docs.microsoft.com/windows/desktop/WinAuto/using-iaccessibleex-from-a-client).</span><span class="sxs-lookup"><span data-stu-id="cb640-127">For more information, see [Using IAccessibleEx from a Client](https://docs.microsoft.com/windows/desktop/WinAuto/using-iaccessibleex-from-a-client).</span></span> <span data-ttu-id="cb640-128">Počínaje rozhraním .NET Framework 4.7.1 jsou pro objekty usnadnění winforms k dispozici iServiceProvider a [IAccessibleEx](https://docs.microsoft.com/windows/desktop/WinAuto/iaccessibleex) (pokud je to možné).</span><span class="sxs-lookup"><span data-stu-id="cb640-128">Starting with the .NET Framework 4.7.1, IServiceProvider and [IAccessibleEx](https://docs.microsoft.com/windows/desktop/WinAuto/iaccessibleex) (where applicable) are available for WinForms accessibility objects.</span></span><p/><span data-ttu-id="cb640-129">Rozhraní .NET Framework 4.7.1 přidává podporu pro následující vzory automatizace uživatelského rozhraní a vlastnosti:</span><span class="sxs-lookup"><span data-stu-id="cb640-129">The .NET Framework 4.7.1 adds support for the following UI automation patterns and properties:</span></span><ul><li><span data-ttu-id="cb640-130">Ovládací <xref:System.Windows.Forms.ToolStripSplitButton> <xref:System.Windows.Forms.ComboBox> prvky a podporují [vzorek Rozbalení/sbalení](~/docs/framework/ui-automation/implementing-the-ui-automation-expandcollapse-control-pattern.md).</span><span class="sxs-lookup"><span data-stu-id="cb640-130">The <xref:System.Windows.Forms.ToolStripSplitButton> and <xref:System.Windows.Forms.ComboBox> controls support the [Expand/Collapse pattern](~/docs/framework/ui-automation/implementing-the-ui-automation-expandcollapse-control-pattern.md).</span></span></li><li><span data-ttu-id="cb640-131">Ovládací <xref:System.Windows.Forms.ToolStripMenuItem> prvek má hodnotu <xref:System.Windows.Automation.ControlType.MenuItem?displayProperty=nameWithType>vlastnosti [ControlType](~/docs/framework/ui-automation/ui-automation-support-for-the-menubar-control-type.md) .</span><span class="sxs-lookup"><span data-stu-id="cb640-131">The <xref:System.Windows.Forms.ToolStripMenuItem> control has a [ControlType](~/docs/framework/ui-automation/ui-automation-support-for-the-menubar-control-type.md) property value <xref:System.Windows.Automation.ControlType.MenuItem?displayProperty=nameWithType>.</span></span></li><li><span data-ttu-id="cb640-132">Ovládací <xref:System.Windows.Forms.ToolStripItem> prvek <xref:System.Windows.Automation.AutomationElement.NameProperty> podporuje vlastnost a[rozbalení/sbalit vzorek](~/docs/framework/ui-automation/implementing-the-ui-automation-expandcollapse-control-pattern.md).</span><span class="sxs-lookup"><span data-stu-id="cb640-132">The <xref:System.Windows.Forms.ToolStripItem> control supports the <xref:System.Windows.Automation.AutomationElement.NameProperty> property and the[Expand/Collapse pattern](~/docs/framework/ui-automation/implementing-the-ui-automation-expandcollapse-control-pattern.md).</span></span></li><li><span data-ttu-id="cb640-133">Ovládací <xref:System.Windows.Forms.ToolStripDropDownItem> prvek <xref:System.Windows.Forms.AccessibleEvents> podporuje označení StateChange a NameChange při rozevírací rozbalené rozbalené nebo sbalené.</span><span class="sxs-lookup"><span data-stu-id="cb640-133">The <xref:System.Windows.Forms.ToolStripDropDownItem> control supports <xref:System.Windows.Forms.AccessibleEvents> indicating StateChange and NameChange when drop down is expanded or collapsed.</span></span></li><li><span data-ttu-id="cb640-134">Ovládací <xref:System.Windows.Forms.ToolStripDropDownButton> prvek má [hodnotu](~/docs/framework/ui-automation/ui-automation-support-for-the-menubar-control-type.md) <xref:System.Windows.Automation.ControlType.MenuItem?displayProperty=nameWithType>vlastnosti ControlType .</span><span class="sxs-lookup"><span data-stu-id="cb640-134">The <xref:System.Windows.Forms.ToolStripDropDownButton> control has a [ControlType](~/docs/framework/ui-automation/ui-automation-support-for-the-menubar-control-type.md) property value of <xref:System.Windows.Automation.ControlType.MenuItem?displayProperty=nameWithType>.</span></span></li><li><span data-ttu-id="cb640-135">Ovládací <xref:System.Windows.Forms.DataGridViewCheckBoxCell> prvek <xref:System.Windows.Automation.TogglePattern>podporuje .</span><span class="sxs-lookup"><span data-stu-id="cb640-135">The <xref:System.Windows.Forms.DataGridViewCheckBoxCell> control supports the <xref:System.Windows.Automation.TogglePattern>.</span></span></li><li><span data-ttu-id="cb640-136">A <xref:System.Windows.Forms.NumericUpDown> <xref:System.Windows.Forms.DomainUpDown> ovládací prvky <xref:System.Windows.Automation.AutomationElement.NameProperty> podporují vlastnost a <xref:System.Windows.Automation.ControlType.Spinner?displayProperty=nameWithType>mají [ControlType](~/docs/framework/ui-automation/ui-automation-support-for-the-spinner-control-type.md) .</span><span class="sxs-lookup"><span data-stu-id="cb640-136">The <xref:System.Windows.Forms.NumericUpDown> and <xref:System.Windows.Forms.DomainUpDown> controls support the <xref:System.Windows.Automation.AutomationElement.NameProperty> property and have a [ControlType](~/docs/framework/ui-automation/ui-automation-support-for-the-spinner-control-type.md) of <xref:System.Windows.Automation.ControlType.Spinner?displayProperty=nameWithType>.</span></span></p></li></ul><span data-ttu-id="cb640-137">**Vylepšení ovládacího prvku PropertyGrid**</span><span class="sxs-lookup"><span data-stu-id="cb640-137">**Improvements to the PropertyGrid control**</span></span><br><span data-ttu-id="cb640-138">Rozhraní .NET Framework 4.7.1 přidává do ovládacího prvku PropertyBrowser následující vylepšení:</span><span class="sxs-lookup"><span data-stu-id="cb640-138">The .NET Framework 4.7.1 adds the following improvements to the PropertyBrowser control:</span></span><ul><li><span data-ttu-id="cb640-139">Tlačítko **Podrobnosti** v chybovém dialogovém okně, které se <xref:System.Windows.Forms.PropertyGrid> zobrazí, když uživatel zadá do ovládacího <xref:System.Windows.Automation.ControlType.MenuItem?displayProperty=nameWithType>prvku nesprávnou hodnotu, podporuje [pole Rozbalit/sbalit](~/docs/framework/ui-automation/implementing-the-ui-automation-expandcollapse-control-pattern.md), oznámení o změně stavu a názvu a vlastnost [ControlType](~/docs/framework/ui-automation/ui-automation-support-for-the-menubar-control-type.md) s hodnotou .</span><span class="sxs-lookup"><span data-stu-id="cb640-139">The **Details** button in the error dialog that is displayed when the user enters an incorrect value in the <xref:System.Windows.Forms.PropertyGrid> control supports the [Expand/Collapse pattern](~/docs/framework/ui-automation/implementing-the-ui-automation-expandcollapse-control-pattern.md), state and name change notifications, and a [ControlType](~/docs/framework/ui-automation/ui-automation-support-for-the-menubar-control-type.md) property with a value of <xref:System.Windows.Automation.ControlType.MenuItem?displayProperty=nameWithType>.</span></span></li><li><span data-ttu-id="cb640-140">Podokno zpráv zobrazené při rozbalení tlačítka **Podrobnosti** v chybovém dialogovém okně je nyní přístupné z klávesnice a umožňuje Předčítání oznámit obsah chybové zprávy.</span><span class="sxs-lookup"><span data-stu-id="cb640-140">The message pane displayed when the **Details** button of the error dialog is expanded is now keyboard accessible and allows Narrator to announce the content of the error message.</span></span></li><li><span data-ttu-id="cb640-141">Řádky <xref:System.Windows.Forms.AccessibleRole> v <xref:System.Windows.Forms.PropertyGrid> ovládacím prvku &quot;byly&quot; &quot;změněny z řádku na buňku&quot;.</span><span class="sxs-lookup"><span data-stu-id="cb640-141">The <xref:System.Windows.Forms.AccessibleRole> of rows in the <xref:System.Windows.Forms.PropertyGrid> control have changed from &quot;Row&quot; to &quot;Cell&quot;.</span></span> <span data-ttu-id="cb640-142">Buňka se mapuje na &quot;UIA ControlType DataItem&quot;, který umožňuje podporovat příslušné klávesové zkratky a oznámení předčítání.</span><span class="sxs-lookup"><span data-stu-id="cb640-142">The cell maps to UIA ControlType &quot;DataItem&quot;, which allows it to support appropriate keyboard shortcuts and Narrator announcements.</span></span></li><li><span data-ttu-id="cb640-143">Řádky <xref:System.Windows.Forms.PropertyGrid> ovládacího prvku, které <xref:System.Windows.Forms.PropertyGrid> představují <xref:System.Windows.Forms.PropertyGrid.PropertySort> položky <xref:System.Windows.Forms.PropertySort.Categorized?displayProperty=nameWithType> záhlaví, pokud má <xref:System.Windows.Automation.ControlType.Button?displayProperty=nameWithType>ovládací prvek vlastnost nastavenou na hodnotu vlastnosti [ControlType](~/docs/framework/ui-automation/ui-automation-support-for-the-menubar-control-type.md) .</span><span class="sxs-lookup"><span data-stu-id="cb640-143">The <xref:System.Windows.Forms.PropertyGrid> control rows that represent header items when the <xref:System.Windows.Forms.PropertyGrid> control has a <xref:System.Windows.Forms.PropertyGrid.PropertySort> property set to <xref:System.Windows.Forms.PropertySort.Categorized?displayProperty=nameWithType> have a [ControlType](~/docs/framework/ui-automation/ui-automation-support-for-the-menubar-control-type.md) property value of <xref:System.Windows.Automation.ControlType.Button?displayProperty=nameWithType>.</span></span></li><li><span data-ttu-id="cb640-144">Řádky <xref:System.Windows.Forms.PropertyGrid> ovládacího prvku, které <xref:System.Windows.Forms.PropertyGrid> představují <xref:System.Windows.Forms.PropertyGrid.PropertySort> položky <xref:System.Windows.Forms.PropertySort.Categorized?displayProperty=nameWithType> záhlaví, pokud má ovládací prvek vlastnost nastavenou na podporu [vzoru Rozbalení nebo sbalení](~/docs/framework/ui-automation/implementing-the-ui-automation-expandcollapse-control-pattern.md).</span><span class="sxs-lookup"><span data-stu-id="cb640-144">The <xref:System.Windows.Forms.PropertyGrid> control rows that represent header items when the <xref:System.Windows.Forms.PropertyGrid> control has a <xref:System.Windows.Forms.PropertyGrid.PropertySort>  property set to <xref:System.Windows.Forms.PropertySort.Categorized?displayProperty=nameWithType> support the [Expand/Collapse pattern](~/docs/framework/ui-automation/implementing-the-ui-automation-expandcollapse-control-pattern.md).</span></span></li><li><span data-ttu-id="cb640-145">Vylepšená navigace pomocí klávesnice mezi mřížkou a panelem nástrojů nad ní.</span><span class="sxs-lookup"><span data-stu-id="cb640-145">Improved keyboard navigation between the grid and the ToolBar above it.</span></span> <span data-ttu-id="cb640-146">Stisknutím &quot;klávesy&quot; Shift-Tab se nyní vybere první tlačítko Panel nástrojů namísto celého panelu nástrojů.</span><span class="sxs-lookup"><span data-stu-id="cb640-146">Pressing &quot;Shift-Tab&quot; now selects the first ToolBar button, instead of the whole ToolBar.</span></span></li><li><span data-ttu-id="cb640-147"><xref:System.Windows.Forms.PropertyGrid>ovládací prvky zobrazené v režimu vysoký kontrast nyní nakreslí obdélník <xref:System.Windows.Forms.PropertyGrid.PropertySort> fokusu kolem tlačítka Panel u nástrojů, který odpovídá aktuální hodnotě vlastnosti.</span><span class="sxs-lookup"><span data-stu-id="cb640-147"><xref:System.Windows.Forms.PropertyGrid> controls displayed in High Contrast mode will now draw a focus rectangle around the ToolBar button which corresponds to the current <xref:System.Windows.Forms.PropertyGrid.PropertySort> property value.</span></span></li><li><span data-ttu-id="cb640-148"><xref:System.Windows.Forms.PropertyGrid>ovládací prvky zobrazené v <xref:System.Windows.Forms.PropertyGrid.PropertySort> režimu <xref:System.Windows.Forms.PropertySort.Categorized?displayProperty=nameWithType> vysokého kontrastu a s vlastností nastavenou tak, aby se nyní zobrazovalo pozadí záhlaví kategorií ve vysoce kontrastní barvě.</span><span class="sxs-lookup"><span data-stu-id="cb640-148"><xref:System.Windows.Forms.PropertyGrid> controls displayed in High Contrast mode and with a <xref:System.Windows.Forms.PropertyGrid.PropertySort> property set to <xref:System.Windows.Forms.PropertySort.Categorized?displayProperty=nameWithType> will now display the background of category headers in a highly contrasting color.</span></span></li><li><span data-ttu-id="cb640-149"><xref:System.Windows.Forms.PropertyGrid>ovládací prvky lépe rozlišuje mezi položkami panelu nástrojů <xref:System.Windows.Forms.PropertyGrid.PropertySort> s fokusem a položkami panelu nástrojů, které označují aktuální hodnotu vlastnosti.</span><span class="sxs-lookup"><span data-stu-id="cb640-149"><xref:System.Windows.Forms.PropertyGrid> controls better differentiates between ToolBar items with focus and the ToolBar items which indicate the current value of the <xref:System.Windows.Forms.PropertyGrid.PropertySort> property.</span></span> <span data-ttu-id="cb640-150">Tato oprava se skládá ze změny vysokého kontrastu a změny pro scénáře bez vysokého kontrastu.</span><span class="sxs-lookup"><span data-stu-id="cb640-150">This fix consists of a High Contrast change and a change for non-High Contrast scenarios.</span></span></li><li><span data-ttu-id="cb640-151"><xref:System.Windows.Forms.PropertyGrid>ovládací prvek ToolBar položky, <xref:System.Windows.Forms.PropertyGrid.PropertySort> které označuje <xref:System.Windows.Automation.TogglePattern>aktuální hodnotu vlastnosti podporu .</span><span class="sxs-lookup"><span data-stu-id="cb640-151"><xref:System.Windows.Forms.PropertyGrid> control ToolBar items which indicates the current value of the <xref:System.Windows.Forms.PropertyGrid.PropertySort> property support the <xref:System.Windows.Automation.TogglePattern>.</span></span></li><li><span data-ttu-id="cb640-152">Vylepšená podpora předčítání pro rozlišení vybrané trasy v výběru trasy</span><span class="sxs-lookup"><span data-stu-id="cb640-152">Improved Narrator support for distinguishing the selected alignment in the Alignment Picker.</span></span></li><li><span data-ttu-id="cb640-153">Pokud je <xref:System.Windows.Forms.PropertyGrid> prázdný ovládací prvek zobrazen ve formuláři, nyní obdrží fokus tam, kde dříve nebyl.</span><span class="sxs-lookup"><span data-stu-id="cb640-153">When an empty <xref:System.Windows.Forms.PropertyGrid> control is displayed on a form, it will now receive focus where previously it would not.</span></span></p></li></ul><span data-ttu-id="cb640-154">**Použití barev definovaných osem v motivech s vysokým kontrastem**</span><span class="sxs-lookup"><span data-stu-id="cb640-154">**Use of OS-defined colors in High Contrast themes**</span></span><br><ul><li><span data-ttu-id="cb640-155">Ovládací <xref:System.Windows.Forms.Button> <xref:System.Windows.Forms.CheckBox> prvky <xref:System.Windows.Forms.ButtonBase.FlatStyle> a ovládací <xref:System.Windows.Forms.FlatStyle.System?displayProperty=nameWithType>prvky se svou vlastností nastavenou na , což je výchozí styl, nyní při výběru používají barvy definované v osu v motivu Vysoký kontrast.</span><span class="sxs-lookup"><span data-stu-id="cb640-155">The <xref:System.Windows.Forms.Button> and <xref:System.Windows.Forms.CheckBox> controls with their <xref:System.Windows.Forms.ButtonBase.FlatStyle> property set to <xref:System.Windows.Forms.FlatStyle.System?displayProperty=nameWithType>, which is the default style, now use OS-defined colors in High Contrast theme when selected.</span></span> <span data-ttu-id="cb640-156">Dříve barvy textu a pozadí nebyly kontrastní a byly těžko čitelné.</span><span class="sxs-lookup"><span data-stu-id="cb640-156">Previously, text and background colors were not contrasting and were hard to read.</span></span></li><li><span data-ttu-id="cb640-157">Ovládací <xref:System.Windows.Forms.Button> <xref:System.Windows.Forms.CheckBox>prvky <xref:System.Windows.Forms.Label> <xref:System.Windows.Forms.LinkLabel>, <xref:System.Windows.Forms.RadioButton> <xref:System.Windows.Forms.GroupBox> , , <xref:System.Windows.Forms.Control.Enabled> , a s jejich vlastností **nastavenou** na false používaly stínovou barvu k vykreslení textu v motivech s vysokým kontrastem, což mělo za následek nízký kontrast na pozadí.</span><span class="sxs-lookup"><span data-stu-id="cb640-157">The <xref:System.Windows.Forms.Button>, <xref:System.Windows.Forms.CheckBox>, <xref:System.Windows.Forms.RadioButton>, <xref:System.Windows.Forms.Label>, <xref:System.Windows.Forms.LinkLabel>, and <xref:System.Windows.Forms.GroupBox> controls with their <xref:System.Windows.Forms.Control.Enabled> property set to **false** used a shaded color to render text in High Contrast themes, resulting in low contrast against the background.</span></span> <span data-ttu-id="cb640-158">Nyní tyto ovládací &quot;prvky používají barvu Zakázaného textu&quot; definovanou osem.</span><span class="sxs-lookup"><span data-stu-id="cb640-158">Now these controls use the &quot;Disabled Text&quot; color defined by the OS.</span></span> <span data-ttu-id="cb640-159">Tato oprava platí pro <code>FlatStyle</code> ovládací prvky s <xref:System.Windows.Forms.FlatStyle.System?displayProperty=nameWithType>vlastností nastavenou na jinou hodnotu než .</span><span class="sxs-lookup"><span data-stu-id="cb640-159">This fix applies to controls with the <code>FlatStyle</code> property set to a value other than <xref:System.Windows.Forms.FlatStyle.System?displayProperty=nameWithType>.</span></span> <span data-ttu-id="cb640-160">Tyto ovládací prvky jsou vykresleny os.</span><span class="sxs-lookup"><span data-stu-id="cb640-160">The latter controls are rendered by the OS.</span></span></li><li><span data-ttu-id="cb640-161"><xref:System.Windows.Forms.DataGridView>nyní vykreslí viditelný obdélník kolem obsahu buňky, která má aktuální fokus.</span><span class="sxs-lookup"><span data-stu-id="cb640-161"><xref:System.Windows.Forms.DataGridView> now renders a visible rectangle around the content of the cell which has the current focus.</span></span> <span data-ttu-id="cb640-162">Dříve to nebylo viditelné v některých motivech s vysokým kontrastem.</span><span class="sxs-lookup"><span data-stu-id="cb640-162">Previously, this was not visible in certain High Contrast themes.</span></span></li><li><span data-ttu-id="cb640-163"><xref:System.Windows.Forms.ToolStripMenuItem>ovládací prvky s <xref:System.Windows.Forms.ToolStripMenuItem.Enabled> jejich vlastností nastavenou na **hodnotu** &quot;false nyní používají barvu Zakázaného textu&quot; definovanou osem.</span><span class="sxs-lookup"><span data-stu-id="cb640-163"><xref:System.Windows.Forms.ToolStripMenuItem> controls with their <xref:System.Windows.Forms.ToolStripMenuItem.Enabled> property set to **false** now use the &quot;Disabled Text&quot; color defined by the OS.</span></span></li><li><span data-ttu-id="cb640-164"><xref:System.Windows.Forms.ToolStripMenuItem>ovládací prvky s jejich <xref:System.Windows.Forms.ToolStripMenuItem.Checked> vlastností nastavenou na **hodnotu true** nyní vykreslují přidružené zaškrtnutí v kontrastní barvě systému.</span><span class="sxs-lookup"><span data-stu-id="cb640-164"><xref:System.Windows.Forms.ToolStripMenuItem> controls with their <xref:System.Windows.Forms.ToolStripMenuItem.Checked> property set to **true** now render the associated check mark in a contrasting system color.</span></span>  <span data-ttu-id="cb640-165">Dříve barva zaškrtnutí nebyla dostatečně kontrastní a nebyla viditelná v motivech s vysokým kontrastem.</span><span class="sxs-lookup"><span data-stu-id="cb640-165">Previously the check mark color was not contrasting enough and not visible in High Contrast themes.</span></span></li></ul><span data-ttu-id="cb640-166">Poznámka: Systém Windows 10 změnil hodnoty pro některé barvy systému s vysokým kontrastem.</span><span class="sxs-lookup"><span data-stu-id="cb640-166">NOTE: Windows 10 has changed values for some high contrast system colors.</span></span> <span data-ttu-id="cb640-167">Rozhraní Windows Forms Framework je založeno na rozhraní Win32.</span><span class="sxs-lookup"><span data-stu-id="cb640-167">Windows Forms Framework is based on the Win32 framework.</span></span> <span data-ttu-id="cb640-168">Chcete-li získat nejlepší možnosti, spusťte nejnovější verzi systému Windows a přihlaste se k nejnovějším změnám operačního systému přidáním souboru app.manifest v testovací aplikaci a odkomentováním následujícího kódu:</span><span class="sxs-lookup"><span data-stu-id="cb640-168">For the best experience, run on the latest version of Windows and opt in to the latest OS changes by adding an app.manifest file in a test application and uncommenting the following code:</span></span><pre><code class="lang-xml">&lt;!-- Windows 10 --&gt;&#13;&#10;&lt;supportedOS Id=&quot;{8e0f7a12-bfb3-4fe8-b9a5-48fd50a15a9a}&quot; /&gt;&#13;&#10;</code></pre><br><span data-ttu-id="cb640-169">**Vylepšená navigace pomocí klávesnice**</span><span class="sxs-lookup"><span data-stu-id="cb640-169">**Improved keyboard navigation**</span></span><ul><li><span data-ttu-id="cb640-170">Pokud <xref:System.Windows.Forms.ComboBox> má ovládací <xref:System.Windows.Forms.ComboBox.DropDownStyle> prvek <xref:System.Windows.Forms.ComboBoxStyle.DropDownList?displayProperty=nameWithType> nastavenou vlastnost a je prvním ovládacím prvkem v pořadí polí ve formuláři, zobrazí se při otevření nadřazeného formuláře pomocí klávesnice obdélník fokusu.</span><span class="sxs-lookup"><span data-stu-id="cb640-170">When a <xref:System.Windows.Forms.ComboBox> control has its <xref:System.Windows.Forms.ComboBox.DropDownStyle> property set to <xref:System.Windows.Forms.ComboBoxStyle.DropDownList?displayProperty=nameWithType> and is the first control in the tab order on the form, it now displays a focus rectangle when the parent form is opened using the keyboard.</span></span> <span data-ttu-id="cb640-171">Před touto změnou bylo fokus klávesnice na tomto ovládacím prvku, ale indikátor fokusu nebyl vykreslen.</span><span class="sxs-lookup"><span data-stu-id="cb640-171">Before this change, keyboard focus was on this control, but a focus indicator was not rendered.</span></span></li></ul><span data-ttu-id="cb640-172">**Vylepšená podpora pro Předčítání**</span><span class="sxs-lookup"><span data-stu-id="cb640-172">**Improved Narrator support**</span></span><ul><li><span data-ttu-id="cb640-173">Ovládací <xref:System.Windows.Forms.MonthCalendar> prvek přidal podporu pro pomocné technologie pro přístup k ovládacímu prvku, včetně možnosti předčítání číst hodnotu ovládacího prvku, když dříve nemohl.</span><span class="sxs-lookup"><span data-stu-id="cb640-173">The <xref:System.Windows.Forms.MonthCalendar> control has added support for assistive technologies to access the control, including the ability for Narrator to read the value of the control when previously it could not.</span></span></li><li><span data-ttu-id="cb640-174">Ovládací <xref:System.Windows.Forms.CheckedListBox> prvek nyní upozorní Předčítání <xref:System.Windows.Forms.CheckBox.CheckState?displayProperty=nameWithType> při změně vlastnosti.</span><span class="sxs-lookup"><span data-stu-id="cb640-174">The <xref:System.Windows.Forms.CheckedListBox> control now notifies Narrator when a <xref:System.Windows.Forms.CheckBox.CheckState?displayProperty=nameWithType> property has been changed.</span></span> <span data-ttu-id="cb640-175">Dříve Program Předčítání neobdržel oznámení a v důsledku toho <xref:System.Windows.Forms.CheckBox.CheckState> uživatelé nebyli informováni o tom, že byla vlastnost aktualizována.</span><span class="sxs-lookup"><span data-stu-id="cb640-175">Previously, Narrator did not receive notification and as a result users would not be informed that the <xref:System.Windows.Forms.CheckBox.CheckState> property had been updated.</span></span></li><li><span data-ttu-id="cb640-176">Ovládací <xref:System.Windows.Forms.LinkLabel> prvek změnil způsob, jakým upozorní Předčítání na text v ovládacím prvku.</span><span class="sxs-lookup"><span data-stu-id="cb640-176">The <xref:System.Windows.Forms.LinkLabel> control has changed the way it notifies Narrator of the text of in the control.</span></span> <span data-ttu-id="cb640-177">Dříve Předčítání tento text dvakrát &quot; &amp; &quot; oznámil a četl symboly jako skutečný text, i když nejsou pro uživatele viditelné.</span><span class="sxs-lookup"><span data-stu-id="cb640-177">Previously, Narrator announced this text twice and read &quot;&amp;&quot; symbols as real text even though they are not visible to a user.</span></span> <span data-ttu-id="cb640-178">Duplikovaný text byl odebrán z oznámení předčítání &quot; &amp; &quot; a také z nepotřebných symbolů.</span><span class="sxs-lookup"><span data-stu-id="cb640-178">The duplicated text was removed from the Narrator announcements, as well as unnecessary &quot;&amp;&quot; symbols.</span></span></li><li><span data-ttu-id="cb640-179">Typy <xref:System.Windows.Forms.DataGridViewCell> ovládacích prvku nyní správně hlásí stav jen pro čtení předčítání a dalším pomocným technologiím.</span><span class="sxs-lookup"><span data-stu-id="cb640-179">The <xref:System.Windows.Forms.DataGridViewCell> control types now correctly report the read-only status to Narrator and other assistive technologies.</span></span></li><li><span data-ttu-id="cb640-180">Program Předčítání je nyní schopen číst systémovou nabídku podřízených oken v aplikacích [Multiple-Document Interface]~/docs/framework/winforms/advanced/multiple-document-interface-mdi-applications.md.</span><span class="sxs-lookup"><span data-stu-id="cb640-180">Narrator is now able to read the System Menu of child windows in [Multiple-Document Interface]~/docs/framework/winforms/advanced/multiple-document-interface-mdi-applications.md) applications.</span></span></li><li><span data-ttu-id="cb640-181">Předčítání je nyní možné <xref:System.Windows.Forms.ToolStripMenuItem> číst <xref:System.Windows.Forms.ToolStripItem.Enabled?displayProperty=nameWithType> ovládací prvky s vlastností nastavenou na **false**.</span><span class="sxs-lookup"><span data-stu-id="cb640-181">Narrator is now able to read <xref:System.Windows.Forms.ToolStripMenuItem> controls with a <xref:System.Windows.Forms.ToolStripItem.Enabled?displayProperty=nameWithType> property set to **false**.</span></span> <span data-ttu-id="cb640-182">Dříve se Program Předčítání nemohl soustředit na zakázané položky nabídky pro čtení obsahu.</span><span class="sxs-lookup"><span data-stu-id="cb640-182">Previously, Narrator was unable to focus on disabled menu items to read the content.</span></span></li></ul>|
|<span data-ttu-id="cb640-183">Rozsah</span><span class="sxs-lookup"><span data-stu-id="cb640-183">Scope</span></span>|<span data-ttu-id="cb640-184">Hlavní</span><span class="sxs-lookup"><span data-stu-id="cb640-184">Major</span></span>|
|<span data-ttu-id="cb640-185">Version</span><span class="sxs-lookup"><span data-stu-id="cb640-185">Version</span></span>|<span data-ttu-id="cb640-186">4.7.1</span><span class="sxs-lookup"><span data-stu-id="cb640-186">4.7.1</span></span>|
|<span data-ttu-id="cb640-187">Typ</span><span class="sxs-lookup"><span data-stu-id="cb640-187">Type</span></span>|<span data-ttu-id="cb640-188">Změna cílení</span><span class="sxs-lookup"><span data-stu-id="cb640-188">Retargeting</span></span>|
|<span data-ttu-id="cb640-189">Ovlivněná rozhraní API</span><span class="sxs-lookup"><span data-stu-id="cb640-189">Affected APIs</span></span>|<ul><li><xref:System.Windows.Forms.ToolStripDropDownButton.CreateAccessibilityInstance?displayProperty=nameWithType></li><li><xref:System.Windows.Forms.DomainUpDown.DomainUpDownAccessibleObject.Name?displayProperty=nameWithType></li><li>[<span data-ttu-id="cb640-190">MonthCalendar.AccessibilityObject</span><span class="sxs-lookup"><span data-stu-id="cb640-190">MonthCalendar.AccessibilityObject</span></span>](xref:System.Windows.Forms.Control.AccessibilityObject)</li></ul>|
