---
ms.openlocfilehash: cc3c2c2be179842f87be8892d057a6c4138086cb
ms.sourcegitcommit: e02d17b2cf9c1258dadda4810a5e6072a0089aee
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 07/01/2020
ms.locfileid: "85614567"
---
### <a name="accessibility-improvements-in-windows-forms-controls-for-net-472"></a><span data-ttu-id="c8b18-101">Vylepšení usnadnění v model Windows Forms ovládacích prvcích pro .NET 4.7.2</span><span class="sxs-lookup"><span data-stu-id="c8b18-101">Accessibility improvements in Windows Forms controls for .NET 4.7.2</span></span>

#### <a name="details"></a><span data-ttu-id="c8b18-102">Podrobnosti</span><span class="sxs-lookup"><span data-stu-id="c8b18-102">Details</span></span>

<span data-ttu-id="c8b18-103">Model Windows Forms Framework vylepšuje, jak funguje s technologiemi usnadnění, aby lépe podporovaly model Windows Forms zákazníky.</span><span class="sxs-lookup"><span data-stu-id="c8b18-103">Windows Forms Framework is improving how it works with accessibility technologies to better support Windows Forms customers.</span></span> <span data-ttu-id="c8b18-104">Mezi ně patří tyto změny:</span><span class="sxs-lookup"><span data-stu-id="c8b18-104">These include the following changes:</span></span>

- <span data-ttu-id="c8b18-105">Změny pro zlepšení zobrazení v režimu Vysoký kontrast.</span><span class="sxs-lookup"><span data-stu-id="c8b18-105">Changes to improve display during High Contrast mode.</span></span>
- <span data-ttu-id="c8b18-106">Změny pro zlepšení navigace klávesnice v ovládacích prvcích DataGridView a MenuStrip.</span><span class="sxs-lookup"><span data-stu-id="c8b18-106">Changes to improve the keyboard navigation in the DataGridView and MenuStrip controls.</span></span>
- <span data-ttu-id="c8b18-107">Změny interakce s programem Narrator.</span><span class="sxs-lookup"><span data-stu-id="c8b18-107">Changes to interaction with Narrator.</span></span>

#### <a name="suggestion"></a><span data-ttu-id="c8b18-108">Návrh</span><span class="sxs-lookup"><span data-stu-id="c8b18-108">Suggestion</span></span>

<span data-ttu-id="c8b18-109">**Jak vyjádřit nebo odhlásit tyto změny** Aby aplikace mohla tyto změny využívat, musí běžet na .NET Framework 4.7.2 nebo novějším.</span><span class="sxs-lookup"><span data-stu-id="c8b18-109">**How to opt in or out of these changes** In order for the application to benefit from these changes, it must run on the .NET Framework 4.7.2 or later.</span></span> <span data-ttu-id="c8b18-110">Aplikace může tyto změny využít v jednom z následujících způsobů:</span><span class="sxs-lookup"><span data-stu-id="c8b18-110">The application can benefit from these changes in either of the following ways:</span></span>

- <span data-ttu-id="c8b18-111">Zkompiluje se znovu a zacílí na .NET Framework 4.7.2.</span><span class="sxs-lookup"><span data-stu-id="c8b18-111">It is recompiled to target the .NET Framework 4.7.2.</span></span> <span data-ttu-id="c8b18-112">Tyto změny přístupnosti jsou ve výchozím nastavení povolené v aplikacích model Windows Forms, které cílí na .NET Framework 4.7.2 nebo novějším.</span><span class="sxs-lookup"><span data-stu-id="c8b18-112">These accessibility changes are enabled by default on Windows Forms applications that target the .NET Framework 4.7.2 or later.</span></span>
- <span data-ttu-id="c8b18-113">Cílí na .NET Framework 4.7.1 nebo starší verze a výslovný ze staršího chování přístupnosti přidáním následujícího [přepínače AppContext](https://docs.microsoft.com/dotnet/framework/configure-apps/file-schema/runtime/appcontextswitchoverrides-element) do `<runtime>` oddílu konfiguračního souboru aplikace a jeho nastavením na `false` , jak ukazuje následující příklad.</span><span class="sxs-lookup"><span data-stu-id="c8b18-113">It targets the .NET Framework 4.7.1 or earlier version and opts out of the legacy accessibility behaviors by adding the following [AppContext Switch](https://docs.microsoft.com/dotnet/framework/configure-apps/file-schema/runtime/appcontextswitchoverrides-element) to the `<runtime>` section of the app config file and setting it to `false`, as the following example shows.</span></span>

```xml
<?xml version="1.0" encoding="utf-8"?>
<configuration>
  <startup>
    <supportedRuntime version="v4.0" sku=".NETFramework,Version=v4.7"/>
  </startup>
  <runtime>
    <!-- AppContextSwitchOverrides value attribute is in the form of 'key1=true/false;key2=true/false  -->
    <AppContextSwitchOverrides value="Switch.UseLegacyAccessibilityFeatures=false;Switch.UseLegacyAccessibilityFeatures.2=false" />
  </runtime>
</configuration>
```

<span data-ttu-id="c8b18-114">Mějte na paměti, že pokud se chcete přihlásit k funkcím pro usnadnění přidaným v .NET Framework 4.7.2, musíte také vyjádřit výslovný souhlas s funkcemi přístupnosti .NET Framework 4.7.1.</span><span class="sxs-lookup"><span data-stu-id="c8b18-114">Note that to opt in to the accessibility features added in .NET Framework 4.7.2, you must also opt in to accessibility features of .NET Framework 4.7.1 as well.</span></span> <span data-ttu-id="c8b18-115">Aplikace, které cílí na .NET Framework 4.7.2 nebo novější a chtějí zachovat starší funkce usnadnění, se můžou přihlásit k používání starších funkcí pro usnadnění přístupu tím, že explicitně nastaví tento přepínač AppContext na `true` .</span><span class="sxs-lookup"><span data-stu-id="c8b18-115">Applications that target the .NET Framework 4.7.2 or later and want to preserve the legacy accessibility behavior can opt in to the use of legacy accessibility features by explicitly setting this AppContext switch to `true`.</span></span>

<span data-ttu-id="c8b18-116">**Použití barev definovaných operačním systémem v motivech Vysoký kontrast**</span><span class="sxs-lookup"><span data-stu-id="c8b18-116">**Use of OS-defined colors in High Contrast themes**</span></span>

- <span data-ttu-id="c8b18-117">Šipka rozevíracího seznamu <xref:System.Windows.Forms.ToolStripDropDownButton> nyní používá barvy definované operačním systémem v vysoký kontrastm motivu.</span><span class="sxs-lookup"><span data-stu-id="c8b18-117">The drop down arrow of the <xref:System.Windows.Forms.ToolStripDropDownButton> now uses OS-defined colors in High Contrast theme.</span></span>
- <span data-ttu-id="c8b18-118"><xref:System.Windows.Forms.Button><xref:System.Windows.Forms.RadioButton>a <xref:System.Windows.Forms.CheckBox> ovládací prvky s <xref:System.Windows.Forms.ButtonBase.FlatStyle> nastavenou <xref:System.Windows.Forms.FlatStyle.Flat?displayProperty=nameWithType> nebo <xref:System.Windows.Forms.FlatStyle.Popup?displayProperty=nameWithType> nyní používají barvy definované operačním systémem v vysoký kontrast motiv, pokud je vybrán.</span><span class="sxs-lookup"><span data-stu-id="c8b18-118"><xref:System.Windows.Forms.Button>, <xref:System.Windows.Forms.RadioButton> and <xref:System.Windows.Forms.CheckBox> controls with <xref:System.Windows.Forms.ButtonBase.FlatStyle> set to <xref:System.Windows.Forms.FlatStyle.Flat?displayProperty=nameWithType> or <xref:System.Windows.Forms.FlatStyle.Popup?displayProperty=nameWithType> now use OS-defined colors in High Contrast theme when selected.</span></span> <span data-ttu-id="c8b18-119">Dříve byly barvy textu a pozadí Nekontrastní a bylo těžké je přečíst.</span><span class="sxs-lookup"><span data-stu-id="c8b18-119">Previously, text and background colors were not contrasting and were hard to read.</span></span>
- <span data-ttu-id="c8b18-120">Ovládací prvky obsažené v rámci <xref:System.Windows.Forms.GroupBox> , které mají svou <xref:System.Windows.Forms.Control.Enabled> vlastnost nastavenou na, `false` budou nyní používat barvy definované operačním systémem v vysoký kontrastm motivu.</span><span class="sxs-lookup"><span data-stu-id="c8b18-120">Controls contained within a <xref:System.Windows.Forms.GroupBox> that has its <xref:System.Windows.Forms.Control.Enabled> property set to `false` will now use OS-defined colors in High Contrast theme.</span></span>
- <span data-ttu-id="c8b18-121"><xref:System.Windows.Forms.ToolStripButton> <xref:System.Windows.Forms.ToolStripComboBox> Ovládací prvky, a <xref:System.Windows.Forms.ToolStripDropDownButton> mají v režimu Vysoký kontrast vyšší poměr jasu a kontrast.</span><span class="sxs-lookup"><span data-stu-id="c8b18-121">The <xref:System.Windows.Forms.ToolStripButton>, <xref:System.Windows.Forms.ToolStripComboBox>, and <xref:System.Windows.Forms.ToolStripDropDownButton> controls have an increased luminosity contrast ratio in High Contrast Mode.</span></span>
- <span data-ttu-id="c8b18-122"><xref:System.Windows.Forms.DataGridViewLinkCell>ve výchozím nastavení použije barvy definované operačním systémem v režimu Vysoký kontrast pro danou <xref:System.Windows.Forms.DataGridViewLinkCell.LinkColor?displayProperty=nameWithType> vlastnost.</span><span class="sxs-lookup"><span data-stu-id="c8b18-122"><xref:System.Windows.Forms.DataGridViewLinkCell> will by default use OS-defined colors in High Contrast mode for the <xref:System.Windows.Forms.DataGridViewLinkCell.LinkColor?displayProperty=nameWithType> property.</span></span>
<span data-ttu-id="c8b18-123">Poznámka: Windows 10 změnil hodnoty pro některé systémové barvy s vysokým kontrastem.</span><span class="sxs-lookup"><span data-stu-id="c8b18-123">NOTE: Windows 10 has changed values for some high contrast system colors.</span></span> <span data-ttu-id="c8b18-124">Rozhraní model Windows Forms Framework vychází z rozhraní Win32.</span><span class="sxs-lookup"><span data-stu-id="c8b18-124">Windows Forms Framework is based on the Win32 framework.</span></span> <span data-ttu-id="c8b18-125">Pro dosažení co nejlepších výsledků spusťte na nejnovější verzi Windows a přihlaste se k nejnovějším změnám operačního systému přidáním souboru App. manifest do testovací aplikace a zrušením komentáře k následujícímu kódu:</span><span class="sxs-lookup"><span data-stu-id="c8b18-125">For the best experience, run on the latest version of Windows and opt in to the latest OS changes by adding an app.manifest file in a test application and un-commenting the following code:</span></span>

```xml
<!-- Windows 10 -->
<supportedOS Id="{8e0f7a12-bfb3-4fe8-b9a5-48fd50a15a9a}" />
```

<span data-ttu-id="c8b18-126">**Vylepšená podpora Narrator**</span><span class="sxs-lookup"><span data-stu-id="c8b18-126">**Improved Narrator support**</span></span>

- <span data-ttu-id="c8b18-127">Program Narrator nyní oznamuje hodnotu <xref:System.Windows.Forms.ToolStripMenuItem.ShortcutKeys?displayProperty=nameWithType> vlastnosti při oznamování textu <xref:System.Windows.Forms.ToolStripMenuItem> .</span><span class="sxs-lookup"><span data-stu-id="c8b18-127">Narrator now announces the value of the <xref:System.Windows.Forms.ToolStripMenuItem.ShortcutKeys?displayProperty=nameWithType> property when announcing the text of a <xref:System.Windows.Forms.ToolStripMenuItem>.</span></span>
- <span data-ttu-id="c8b18-128">Narrator teď indikuje, kdy <xref:System.Windows.Forms.ToolStripMenuItem> má <xref:System.Windows.Forms.Control.Enabled> vlastnost nastavenou na `false` .</span><span class="sxs-lookup"><span data-stu-id="c8b18-128">Narrator now indicates when a <xref:System.Windows.Forms.ToolStripMenuItem> has its <xref:System.Windows.Forms.Control.Enabled> property set to `false`.</span></span>
- <span data-ttu-id="c8b18-129">Program Narrator nyní poskytuje zpětnou vazbu ke stavu zaškrtávacího políčka, pokud <xref:System.Windows.Forms.ListView.CheckBoxes?displayProperty=nameWithType> je vlastnost nastavena na hodnotu `true` .</span><span class="sxs-lookup"><span data-stu-id="c8b18-129">Narrator now gives feedback on the state of a check box when the <xref:System.Windows.Forms.ListView.CheckBoxes?displayProperty=nameWithType> property is set to `true`.</span></span>
- <span data-ttu-id="c8b18-130">Pořadí fokusu v režimu kontroly mluveného komentáře je teď konzistentní s vizuálním pořadím ovládacích prvků v dialogovém okně pro stažení ClickOnce.</span><span class="sxs-lookup"><span data-stu-id="c8b18-130">Narrator Scan Mode focus order is now consistent with the visual order of the controls on the ClickOnce download dialog window.</span></span>

<span data-ttu-id="c8b18-131">**Vylepšená podpora usnadnění přístupu DataGridView**</span><span class="sxs-lookup"><span data-stu-id="c8b18-131">**Improved DataGridView Accessibility support**</span></span>

- <span data-ttu-id="c8b18-132">Řádky v a se <xref:System.Windows.Forms.DataGridView> teď dají seřadit pomocí klávesnice.</span><span class="sxs-lookup"><span data-stu-id="c8b18-132">Rows in a <xref:System.Windows.Forms.DataGridView> can now be sorted using the keyboard.</span></span> <span data-ttu-id="c8b18-133">Nyní může uživatel použít klávesu F3, aby bylo možné řadit podle aktuálního sloupce.</span><span class="sxs-lookup"><span data-stu-id="c8b18-133">Now a user can use the F3 key in order to sort by the current column.</span></span>
- <span data-ttu-id="c8b18-134">Když <xref:System.Windows.Forms.DataGridView.SelectionMode?displayProperty=nameWithType> je nastavená na <xref:System.Windows.Forms.DataGridViewSelectionMode.FullRowSelect?displayProperty=nameWithType> , změní se barva záhlaví sloupce tak, aby označovalo aktuální sloupec jako karty uživatelů na aktuálním řádku.</span><span class="sxs-lookup"><span data-stu-id="c8b18-134">When the <xref:System.Windows.Forms.DataGridView.SelectionMode?displayProperty=nameWithType> is set to <xref:System.Windows.Forms.DataGridViewSelectionMode.FullRowSelect?displayProperty=nameWithType>, the column header will change color to indicate the current column as the user tabs through the cells in the current row.</span></span>
- <span data-ttu-id="c8b18-135"><xref:System.Windows.Forms.DataGridViewCell.DataGridViewCellAccessibleObject.Parent?displayProperty=nameWithType>Vlastnost teď vrací správný nadřazený ovládací prvek.</span><span class="sxs-lookup"><span data-stu-id="c8b18-135">The <xref:System.Windows.Forms.DataGridViewCell.DataGridViewCellAccessibleObject.Parent?displayProperty=nameWithType> property now returns the correct parent control.</span></span>

<span data-ttu-id="c8b18-136">**Vylepšené vizuální pomůcky**</span><span class="sxs-lookup"><span data-stu-id="c8b18-136">**Improved Visual cues**</span></span>

- <span data-ttu-id="c8b18-137"><xref:System.Windows.Forms.RadioButton> <xref:System.Windows.Forms.CheckBox> Ovládací prvky a s prázdnou <xref:System.Windows.Forms.ButtonBase.Text> vlastností budou nyní po obdržení fokusu zobrazovat indikátor fokusu.</span><span class="sxs-lookup"><span data-stu-id="c8b18-137">The <xref:System.Windows.Forms.RadioButton> and <xref:System.Windows.Forms.CheckBox> controls with an empty <xref:System.Windows.Forms.ButtonBase.Text> property will now display a focus indicator when they receive focus.</span></span>

<span data-ttu-id="c8b18-138">**Vylepšená podpora mřížky vlastností**</span><span class="sxs-lookup"><span data-stu-id="c8b18-138">**Improved Property Grid Support**</span></span>

- <span data-ttu-id="c8b18-139"><xref:System.Windows.Forms.PropertyGrid>Podřízené prvky ovládacího prvku nyní vrátí `true` <xref:System.Windows.Automation.ValuePattern.IsReadOnlyProperty> vlastnost pro vlastnost pouze v případě, že je povolen prvek PropertyGrid.</span><span class="sxs-lookup"><span data-stu-id="c8b18-139">The <xref:System.Windows.Forms.PropertyGrid> control child elements now return a `true` for the  <xref:System.Windows.Automation.ValuePattern.IsReadOnlyProperty> property only when a PropertyGrid element is enabled.</span></span>
- <span data-ttu-id="c8b18-140"><xref:System.Windows.Forms.PropertyGrid>Podřízené prvky ovládacího prvku nyní vrátí `false` <xref:System.Windows.Automation.AutomationElement.IsEnabledProperty> vlastnost pro vlastnost pouze v případě, že uživatel může změnit element PropertyGrid.</span><span class="sxs-lookup"><span data-stu-id="c8b18-140">The <xref:System.Windows.Forms.PropertyGrid> control child elements now return a `false` for the <xref:System.Windows.Automation.AutomationElement.IsEnabledProperty> property only when a PropertyGrid element can be changed by the user.</span></span>
<span data-ttu-id="c8b18-141">Přehled automatizace uživatelského rozhraní najdete v tématu [Přehled automatizace uživatelského rozhraní](https://docs.microsoft.com/dotnet/framework/ui-automation/ui-automation-overview).</span><span class="sxs-lookup"><span data-stu-id="c8b18-141">For an overview of UI automation, see the [UI Automation Overview](https://docs.microsoft.com/dotnet/framework/ui-automation/ui-automation-overview).</span></span></p><span data-ttu-id="c8b18-142">**Vylepšená navigace klávesnicí**</span><span class="sxs-lookup"><span data-stu-id="c8b18-142">**Improved keyboard navigation**</span></span>

- <span data-ttu-id="c8b18-143"><xref:System.Windows.Forms.ToolStripButton>teď umožňuje fokus, pokud je obsažený v <xref:System.Windows.Forms.ToolStripPanel> , který má <xref:System.Windows.Forms.ToolStripPanel.TabStop> vlastnost nastavenou na `true` .</span><span class="sxs-lookup"><span data-stu-id="c8b18-143"><xref:System.Windows.Forms.ToolStripButton> now allows focus when contained within a <xref:System.Windows.Forms.ToolStripPanel> that has the <xref:System.Windows.Forms.ToolStripPanel.TabStop> property set to `true`.</span></span>

| <span data-ttu-id="c8b18-144">Name</span><span class="sxs-lookup"><span data-stu-id="c8b18-144">Name</span></span>    | <span data-ttu-id="c8b18-145">Hodnota</span><span class="sxs-lookup"><span data-stu-id="c8b18-145">Value</span></span>       |
|:--------|:------------|
| <span data-ttu-id="c8b18-146">Rozsah</span><span class="sxs-lookup"><span data-stu-id="c8b18-146">Scope</span></span>   | <span data-ttu-id="c8b18-147">Hlavní</span><span class="sxs-lookup"><span data-stu-id="c8b18-147">Major</span></span>       |
| <span data-ttu-id="c8b18-148">Verze</span><span class="sxs-lookup"><span data-stu-id="c8b18-148">Version</span></span> | <span data-ttu-id="c8b18-149">4.7.2</span><span class="sxs-lookup"><span data-stu-id="c8b18-149">4.7.2</span></span>       |
| <span data-ttu-id="c8b18-150">Typ</span><span class="sxs-lookup"><span data-stu-id="c8b18-150">Type</span></span>    | <span data-ttu-id="c8b18-151">Změna cílení</span><span class="sxs-lookup"><span data-stu-id="c8b18-151">Retargeting</span></span> |
