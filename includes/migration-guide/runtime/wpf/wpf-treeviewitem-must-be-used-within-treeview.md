---
ms.openlocfilehash: af8cb9435be078351e3430dc8ded3f7cac377948
ms.sourcegitcommit: e02d17b2cf9c1258dadda4810a5e6072a0089aee
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 07/01/2020
ms.locfileid: "85620109"
---
### <a name="wpf-treeviewitem-must-be-used-within-a-treeview"></a><span data-ttu-id="76e02-101">TreeViewItem WPF se musí použít v prvku TreeView.</span><span class="sxs-lookup"><span data-stu-id="76e02-101">WPF TreeViewItem must be used within a TreeView</span></span>

#### <a name="details"></a><span data-ttu-id="76e02-102">Podrobnosti</span><span class="sxs-lookup"><span data-stu-id="76e02-102">Details</span></span>

<span data-ttu-id="76e02-103">Byla představena změna v 4,5, která omezuje použití <xref:System.Windows.Controls.TreeViewItem?displayProperty=fullName> elementů mimo <xref:System.Windows.Controls.TreeView?displayProperty=fullName> .</span><span class="sxs-lookup"><span data-stu-id="76e02-103">A change was introduced in 4.5 that restricts usage of <xref:System.Windows.Controls.TreeViewItem?displayProperty=fullName> elements outside of a <xref:System.Windows.Controls.TreeView?displayProperty=fullName>.</span></span> <span data-ttu-id="76e02-104">Tyto manifesty se nacházejí v následujících podmínkách:</span><span class="sxs-lookup"><span data-stu-id="76e02-104">This manifests under the following conditions:</span></span><ul><li><span data-ttu-id="76e02-105"><xref:System.Windows.Controls.TreeViewItem?displayProperty=fullName>vizuální nadřazený prvek není panel.</span><span class="sxs-lookup"><span data-stu-id="76e02-105"><xref:System.Windows.Controls.TreeViewItem?displayProperty=fullName>'s visual parent is not a panel.</span></span> <span data-ttu-id="76e02-106">( <xref:System.Windows.Controls.TreeViewItem?displayProperty=fullName> Vygenerovaný pro A <xref:System.Windows.Controls.TreeView?displayProperty=fullName> bude mít panel jako svůj nadřazený prvek)</span><span class="sxs-lookup"><span data-stu-id="76e02-106">(A <xref:System.Windows.Controls.TreeViewItem?displayProperty=fullName> generated for a <xref:System.Windows.Controls.TreeView?displayProperty=fullName> will have a panel as its parent)</span></span></li><li><span data-ttu-id="76e02-107"><xref:System.Windows.Controls.TreeViewItem?displayProperty=fullName>Je potomkem <xref:System.Windows.Controls.VirtualizingStackPanel?displayProperty=fullName> působícího jako &quot; hostitel položek &quot; ovládacího prvku seznam (ListBox, DataGrid, ListView atd.).</span><span class="sxs-lookup"><span data-stu-id="76e02-107">The <xref:System.Windows.Controls.TreeViewItem?displayProperty=fullName> is a descendant of a <xref:System.Windows.Controls.VirtualizingStackPanel?displayProperty=fullName> acting as the &quot;items host&quot; for a list control (ListBox, DataGrid, ListView, etc.).</span></span> <span data-ttu-id="76e02-108">Virtualizace není nutné povolit.</span><span class="sxs-lookup"><span data-stu-id="76e02-108">Virtualization doesn't need to be enabled.</span></span></li><li><span data-ttu-id="76e02-109"><xref:System.Windows.Controls.VirtualizingStackPanel?displayProperty=fullName>Je posun položky ( <code>ScrollUnit=&quot;Item&quot;</code> ).</span><span class="sxs-lookup"><span data-stu-id="76e02-109">The <xref:System.Windows.Controls.VirtualizingStackPanel?displayProperty=fullName> is item-scrolling (<code>ScrollUnit=&quot;Item&quot;</code>).</span></span></li><li><span data-ttu-id="76e02-110">Někdo volá <code>VirtualizingStackPanel.MakeVisible(v)</code> , aby se element přesunul na <code>v</code> zobrazení.</span><span class="sxs-lookup"><span data-stu-id="76e02-110">Someone calls <code>VirtualizingStackPanel.MakeVisible(v)</code> to scroll an element <code>v</code> into view.</span></span> <span data-ttu-id="76e02-111">To lze provést explicitně nebo implicitně řadou způsobů; Nejběžnějším způsobem je jednoduše kliknout na tlačítko <code>v</code> a dát mu fokus klávesnice.</span><span class="sxs-lookup"><span data-stu-id="76e02-111">This can be done explicitly, or implicitly in a number of ways; perhaps the most common way is simply clicking on <code>v</code> to give it the keyboard focus.</span></span></li><li><span data-ttu-id="76e02-112">Vizuální – nadřazený řetězec od <code>v</code> do <xref:System.Windows.Controls.VirtualizingStackPanel?displayProperty=fullName> průchodu přes <xref:System.Windows.Controls.TreeViewItem?displayProperty=fullName> .</span><span class="sxs-lookup"><span data-stu-id="76e02-112">The visual-parent chain from <code>v</code> to the <xref:System.Windows.Controls.VirtualizingStackPanel?displayProperty=fullName> passes through the <xref:System.Windows.Controls.TreeViewItem?displayProperty=fullName>.</span></span></li></ul><span data-ttu-id="76e02-113">Jinými slovy se zobrazuje, když <xref:System.Windows.Controls.TreeViewItem?displayProperty=fullName> se používá mimo a <xref:System.Windows.Controls.TreeView?displayProperty=fullName> a uživatel klikne na následníka <xref:System.Windows.Controls.TreeViewItem?displayProperty=fullName> pro, aby se zobrazila.</span><span class="sxs-lookup"><span data-stu-id="76e02-113">In other words, this is seen when a <xref:System.Windows.Controls.TreeViewItem?displayProperty=fullName> is used outside of a <xref:System.Windows.Controls.TreeView?displayProperty=fullName>, and the user clicks on a descendant of the <xref:System.Windows.Controls.TreeViewItem?displayProperty=fullName> to bring it into view.</span></span> <span data-ttu-id="76e02-114">Pokud <xref:System.Windows.Controls.TreeViewItem?displayProperty=fullName> nemá žádného člena s fokusem, tento problém se vám nikdy nezobrazuje.</span><span class="sxs-lookup"><span data-stu-id="76e02-114">If the <xref:System.Windows.Controls.TreeViewItem?displayProperty=fullName> has no focusable descendants, you'll never see this issue.</span></span> <span data-ttu-id="76e02-115">Příkladem situace, kdy je dosaženo, je, že je <xref:System.Windows.Controls.TreeViewItem?displayProperty=fullName> kořenovým adresářem objektu DataTemplate.</span><span class="sxs-lookup"><span data-stu-id="76e02-115">An example of a situation where this is hit is when a <xref:System.Windows.Controls.TreeViewItem?displayProperty=fullName> is the root of a DataTemplate.</span></span> <span data-ttu-id="76e02-116">V případě, že k tomuto problému dojde, existuje InvalidCastException, ke kterému dochází v rámci platformy WPF.</span><span class="sxs-lookup"><span data-stu-id="76e02-116">When this issue is hit, there is an InvalidCastException that occurs within the WPF framework.</span></span>

#### <a name="suggestion"></a><span data-ttu-id="76e02-117">Návrh</span><span class="sxs-lookup"><span data-stu-id="76e02-117">Suggestion</span></span>

<span data-ttu-id="76e02-118">Pro tuto instalaci bude k dispozici oprava hotfix.</span><span class="sxs-lookup"><span data-stu-id="76e02-118">A hotfix will be made available for this.</span></span>

| <span data-ttu-id="76e02-119">Name</span><span class="sxs-lookup"><span data-stu-id="76e02-119">Name</span></span>    | <span data-ttu-id="76e02-120">Hodnota</span><span class="sxs-lookup"><span data-stu-id="76e02-120">Value</span></span>       |
|:--------|:------------|
| <span data-ttu-id="76e02-121">Rozsah</span><span class="sxs-lookup"><span data-stu-id="76e02-121">Scope</span></span>   |<span data-ttu-id="76e02-122">Vedlejší</span><span class="sxs-lookup"><span data-stu-id="76e02-122">Minor</span></span>|
|<span data-ttu-id="76e02-123">Verze</span><span class="sxs-lookup"><span data-stu-id="76e02-123">Version</span></span>|<span data-ttu-id="76e02-124">4.5</span><span class="sxs-lookup"><span data-stu-id="76e02-124">4.5</span></span>|
|<span data-ttu-id="76e02-125">Typ</span><span class="sxs-lookup"><span data-stu-id="76e02-125">Type</span></span>|<span data-ttu-id="76e02-126">Modul runtime</span><span class="sxs-lookup"><span data-stu-id="76e02-126">Runtime</span></span>|
