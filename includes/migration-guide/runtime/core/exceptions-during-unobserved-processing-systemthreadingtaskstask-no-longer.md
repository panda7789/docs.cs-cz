---
ms.openlocfilehash: 5ba2ddb76ab946339449246840667ba4a48e9c66
ms.sourcegitcommit: e02d17b2cf9c1258dadda4810a5e6072a0089aee
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 07/01/2020
ms.locfileid: "85619978"
---
### <a name="exceptions-during-unobserved-processing-in-systemthreadingtaskstask-no-longer-propagate-on-finalizer-thread"></a><span data-ttu-id="abf70-101">Výjimky během nepozorovaného zpracování v System. Threading. Tasks. Task již nešíří v finalizačním vlákně</span><span class="sxs-lookup"><span data-stu-id="abf70-101">Exceptions during unobserved processing in System.Threading.Tasks.Task no longer propagate on finalizer thread</span></span>

#### <a name="details"></a><span data-ttu-id="abf70-102">Podrobnosti</span><span class="sxs-lookup"><span data-stu-id="abf70-102">Details</span></span>

<span data-ttu-id="abf70-103">Vzhledem k tomu <xref:System.Threading.Tasks.Task?displayProperty=fullName> , že třída představuje asynchronní operaci, zachycuje všechny nezávažné výjimky, ke kterým dojde během asynchronního zpracování.</span><span class="sxs-lookup"><span data-stu-id="abf70-103">Because the <xref:System.Threading.Tasks.Task?displayProperty=fullName> class represents an asynchronous operation, it catches all non-severe exceptions that occur during asynchronous processing.</span></span> <span data-ttu-id="abf70-104">Pokud je v .NET Framework 4,5 výjimka nedodržena a váš kód nikdy nečeká na úlohu, výjimka již nebude rozšířena na finalizační vlákno a při uvolňování paměti během procesu uvolňování paměti dojde k chybě.</span><span class="sxs-lookup"><span data-stu-id="abf70-104">In the .NET Framework 4.5, if an exception is not observed and your code never waits on the task, the exception will no longer propagate on the finalizer thread and crash the process during garbage collection.</span></span> <span data-ttu-id="abf70-105">Tato změna zvyšuje spolehlivost aplikací, které používají třídu Task k provádění nepozorovaného asynchronního zpracování.</span><span class="sxs-lookup"><span data-stu-id="abf70-105">This change enhances the reliability of applications that use the Task class to perform unobserved asynchronous processing.</span></span>

#### <a name="suggestion"></a><span data-ttu-id="abf70-106">Návrh</span><span class="sxs-lookup"><span data-stu-id="abf70-106">Suggestion</span></span>

<span data-ttu-id="abf70-107">Pokud aplikace závisí na nepozorovaných asynchronních výjimkách, které se šíří do finalizační metody, předchozí chování lze obnovit poskytnutím vhodné obslužné rutiny pro <xref:System.Threading.Tasks.TaskScheduler.UnobservedTaskException> událost nebo nastavením [elementu konfigurace modulu runtime](~/docs/framework/configure-apps/file-schema/runtime/throwunobservedtaskexceptions-element.md).</span><span class="sxs-lookup"><span data-stu-id="abf70-107">If an app depends on unobserved asynchronous exceptions propagating to the finalizer thread, the previous behavior can be restored by providing an appropriate handler for the <xref:System.Threading.Tasks.TaskScheduler.UnobservedTaskException> event, or by setting a [runtime configuration element](~/docs/framework/configure-apps/file-schema/runtime/throwunobservedtaskexceptions-element.md).</span></span>

| <span data-ttu-id="abf70-108">Name</span><span class="sxs-lookup"><span data-stu-id="abf70-108">Name</span></span>    | <span data-ttu-id="abf70-109">Hodnota</span><span class="sxs-lookup"><span data-stu-id="abf70-109">Value</span></span>       |
|:--------|:------------|
| <span data-ttu-id="abf70-110">Rozsah</span><span class="sxs-lookup"><span data-stu-id="abf70-110">Scope</span></span>   |<span data-ttu-id="abf70-111">Edge</span><span class="sxs-lookup"><span data-stu-id="abf70-111">Edge</span></span>|
|<span data-ttu-id="abf70-112">Verze</span><span class="sxs-lookup"><span data-stu-id="abf70-112">Version</span></span>|<span data-ttu-id="abf70-113">4.5</span><span class="sxs-lookup"><span data-stu-id="abf70-113">4.5</span></span>|
|<span data-ttu-id="abf70-114">Typ</span><span class="sxs-lookup"><span data-stu-id="abf70-114">Type</span></span>|<span data-ttu-id="abf70-115">Modul runtime</span><span class="sxs-lookup"><span data-stu-id="abf70-115">Runtime</span></span>

#### <a name="affected-apis"></a><span data-ttu-id="abf70-116">Ovlivněná rozhraní API</span><span class="sxs-lookup"><span data-stu-id="abf70-116">Affected APIs</span></span>

-<xref:System.Threading.Tasks.Task.Run(System.Action)?displayProperty=nameWithType></li><li><xref:System.Threading.Tasks.Task.Run(System.Action,System.Threading.CancellationToken)?displayProperty=nameWithType></li><li><xref:System.Threading.Tasks.Task.Run(System.Func{System.Threading.Tasks.Task})?displayProperty=nameWithType></li><li><xref:System.Threading.Tasks.Task.Run(System.Func{System.Threading.Tasks.Task},System.Threading.CancellationToken)?displayProperty=nameWithType></li><li><xref:System.Threading.Tasks.Task.Run%60%601(System.Func{%60%600})?displayProperty=nameWithType></li><li><xref:System.Threading.Tasks.Task.Run%60%601(System.Func{%60%600},System.Threading.CancellationToken)?displayProperty=nameWithType></li><li><xref:System.Threading.Tasks.Task.Run%60%601(System.Func{System.Threading.Tasks.Task{%60%600}})?displayProperty=nameWithType></li><li><xref:System.Threading.Tasks.Task.Run%60%601(System.Func{System.Threading.Tasks.Task{%60%600}},System.Threading.CancellationToken)?displayProperty=nameWithType></li><li><xref:System.Threading.Tasks.Task.Start?displayProperty=nameWithType></li><li><xref:System.Threading.Tasks.Task.Start(System.Threading.Tasks.TaskScheduler)?displayProperty=nameWithType></li></ul>|
